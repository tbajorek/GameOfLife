(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _application = require('./application');

var _application2 = _interopRequireDefault(_application);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_reactDom2.default.render(_react2.default.createElement(_application2.default, null), document.getElementById('app'));

},{"./application":2,"react":"react","react-dom":"react-dom"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('./store');

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _board = require('./board/board');

var _board2 = _interopRequireDefault(_board);

var _model = require('./board/model');

var _model2 = _interopRequireDefault(_model);

var _panel = require('./panel/panel');

var _panel2 = _interopRequireDefault(_panel);

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Application = function (_Reflux$Component) {
    _inherits(Application, _Reflux$Component);

    function Application() {
        _classCallCheck(this, Application);

        var _this = _possibleConstructorReturn(this, (Application.__proto__ || Object.getPrototypeOf(Application)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Application, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'application' },
                _react2.default.createElement(_header2.default, null),
                _react2.default.createElement(
                    'div',
                    { className: 'row' },
                    _react2.default.createElement(_panel2.default, null),
                    _react2.default.createElement(_board2.default, null)
                ),
                _react2.default.createElement(_footer2.default, null)
            );
        }
    }]);

    return Application;
}(_reflux2.default.Component);

exports.default = Application;

},{"./board/board":3,"./board/model":4,"./footer":6,"./header":7,"./panel/panel":18,"./store":19,"react":"react","reflux":40}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Board = function (_Reflux$Component) {
    _inherits(Board, _Reflux$Component);

    function Board() {
        _classCallCheck(this, Board);

        var _this = _possibleConstructorReturn(this, (Board.__proto__ || Object.getPrototypeOf(Board)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        _this.dead = '#f4f1f1';
        _this.alive = '#075e00';
        _this.clearColor = 'white';
        return _this;
    }

    _createClass(Board, [{
        key: 'init',
        value: function init() {
            if (this.canvas == undefined) {
                this.canvas = this.refs.board.getContext('2d');
            }
            if (this.width == undefined) {
                this.width = parseInt(window.getComputedStyle(this.refs.board).width);
            }
            if (this.height == undefined) {
                this.height = parseInt(window.getComputedStyle(this.refs.board).height);
            }
        }
    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            this.clear();
            this.redraw(nextState.model.board);
            return false;
        }
    }, {
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.clear();
            this.redraw(this.state.model.board);
        }
    }, {
        key: 'clear',
        value: function clear() {
            this.init();
            this.canvas.fillStyle = this.clearColor;
            this.canvas.fillRect(0, 0, this.width, this.height);
        }
    }, {
        key: 'drawRect',
        value: function drawRect(r, c, data, xsize, ysize) {
            var xs = c * (xsize + 1);
            var ys = r * (ysize + 1);
            this.canvas.fillStyle = data[r][c] ? this.alive : this.dead;
            this.canvas.fillRect(xs, ys, xsize, ysize);
        }
    }, {
        key: 'redraw',
        value: function redraw(data) {
            var xsize = Math.round((this.width - data[0].length + 1) / data[0].length);
            var ysize = Math.round((this.height - data.length + 1) / data.length);
            for (var r in data) {
                r = parseInt(r);
                for (var c in data[r]) {
                    c = parseInt(c);
                    this.drawRect(r, c, data, xsize, ysize);
                }
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement('canvas', { id: 'canvas', className: 'board', ref: 'board', width: '700px', height: '700px' });
        }
    }]);

    return Board;
}(_reflux2.default.Component);

exports.default = Board;

},{"../store":19,"react":"react","reflux":40}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _history = require("../history");

var _history2 = _interopRequireDefault(_history);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Model = function () {
    function Model(width, height, density) {
        _classCallCheck(this, Model);

        if (width == undefined && height == undefined && density == undefined) return;
        this.generateBoard(width, height, density);
        this.shifts = [];
        this.calcNext = function (r, c, board) {
            return 0;
        };this.count = 0;
    }

    _createClass(Model, [{
        key: "generateBoard",
        value: function generateBoard(width, height, density) {
            this.width = width;
            this.height = height;
            this.size = this.height * this.width;
            this.history = new _history2.default(100, this.size);
            this.density = density;
            this.population = 0;
            var board = new Array(height);
            for (var r = 0; r < height; ++r) {
                board[r] = new Array(width);
                for (var c = 0; c < width; ++c) {
                    board[r][c] = 0;
                }
            }
            var border = parseInt(this.density * this.size);
            var counter = 0;
            while (counter < border) {
                var point = this.randomPoint();
                if (board[point.y][point.x] == 0) {
                    board[point.y][point.x] = 1;
                    ++counter;
                }
            }
            this.population = border;
            this.board = board;
            this.history.addNormalized(this.population);
        }
    }, {
        key: "initializeByArray",
        value: function initializeByArray(initValue) {
            this.board = initValue;
            this.width = this.board[0].length;
            this.height = this.board.length;
            this.size = this.width * this.height;
            for (var r in this.board) {
                r = parseInt(r);
                for (var c in this.board[r]) {
                    c = parseInt(c);
                    if (this.board[r][c]) {
                        ++this.population;
                    }
                }
            }
        }
    }, {
        key: "randomPoint",
        value: function randomPoint() {
            var x = Math.floor(Math.random() * this.width);
            var y = Math.floor(Math.random() * this.height);this.count++;
            return { x: x, y: y };
        }
    }, {
        key: "setCalcNext",
        value: function setCalcNext(calcNext) {
            this.calcNext = calcNext;
        }
    }, {
        key: "setShifts",
        value: function setShifts(shifts) {
            this.shifts = shifts;
        }
    }, {
        key: "getNormalizedValue",
        value: function getNormalizedValue(v, reference) {
            return parseInt((v + reference) % reference);
        }
    }, {
        key: "getNormalizedPoint",
        value: function getNormalizedPoint(r, c) {
            var x = this.getNormalizedValue(c, this.width);
            var y = this.getNormalizedValue(r, this.height);
            return { "c": x, "r": y };
        }
    }, {
        key: "getValue",
        value: function getValue(r, c) {
            var point = this.getNormalizedPoint(r, c);
            return this.board[point.r][point.c];
        }
    }, {
        key: "getAliveNumber",
        value: function getAliveNumber(r, c) {
            var counter = 0;
            for (var i in this.shifts) {
                if (this.getValue(r + this.shifts[i][0], c + this.shifts[i][1])) {
                    ++counter;
                }
            }
            return counter;
        }
    }, {
        key: "nextStep",
        value: function nextStep() {
            this.population = 0;
            for (var r in this.board) {
                r = parseInt(r);
                for (var c in this.board[r]) {
                    c = parseInt(c);
                    this.board[r][c] = this.calcNext(this.getValue(r, c), this.getAliveNumber(r, c));
                    if (this.board[r][c]) {
                        ++this.population;
                    }
                }
            }
            this.history.addNormalized(this.population);
        }
    }]);

    return Model;
}();

exports.default = Model;

},{"../history":8}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ReactHighcharts = require('react-highcharts');

var Chart = function (_React$Component) {
    _inherits(Chart, _React$Component);

    function Chart() {
        _classCallCheck(this, Chart);

        return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).apply(this, arguments));
    }

    _createClass(Chart, [{
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            var chart = this.refs.chart.getChart();
            var history = nextProps.model.history;
            if (history.time == 0) {
                chart.series[0].setData([]);
                chart.redraw();
            }
            if (history.isFull()) {
                chart.series[0].data[0].remove();
            }
            chart.series[0].addPoint({ x: history.time, y: history.getInPercent() });
            return history.time == 0;
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'chart' },
                _react2.default.createElement(ReactHighcharts, { config: this.props.config, ref: 'chart' })
            );
        }
    }]);

    return Chart;
}(_react2.default.Component);

exports.default = Chart;

},{"react":"react","react-highcharts":20}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('./store');

var _chart = require('./chart');

var _chart2 = _interopRequireDefault(_chart);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Footer = function (_Reflux$Component) {
    _inherits(Footer, _Reflux$Component);

    function Footer() {
        _classCallCheck(this, Footer);

        var _this = _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Footer, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'row footer' },
                _react2.default.createElement(_chart2.default, { model: this.state.model, config: this.state.chartConfig })
            );
        }
    }]);

    return Footer;
}(_reflux2.default.Component);

exports.default = Footer;

},{"./chart":5,"./store":19,"react":"react","reflux":40}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$Component) {
    _inherits(Header, _React$Component);

    function Header() {
        _classCallCheck(this, Header);

        return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));
    }

    _createClass(Header, [{
        key: "render",
        value: function render() {
            return _react2.default.createElement(
                "div",
                { className: "row header" },
                "Game of Life - asynchroniczny"
            );
        }
    }]);

    return Header;
}(_react2.default.Component);

exports.default = Header;

},{"react":"react"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var History = function () {
    function History(limit, maxValue, precision) {
        _classCallCheck(this, History);

        if (limit == undefined) {
            limit = 100;
        }
        if (maxValue == undefined) {
            maxValue = 1;
        }
        if (precision == undefined) {
            precision = 4;
        }
        this.limit = limit;
        this.time = -1;
        this.maxValue = maxValue;
        this.lastValue = null;
        this.precision = precision;
    }

    _createClass(History, [{
        key: 'add',
        value: function add(value) {
            this.lastValue = this.getWithPrecision(value, this.precision);
            ++this.time;
        }
    }, {
        key: 'addNormalized',
        value: function addNormalized(value) {
            this.lastValue = this.getWithPrecision(value / this.maxValue, this.precision);
            ++this.time;
        }
    }, {
        key: 'getWithPrecision',
        value: function getWithPrecision(value, precision) {
            return Number(value).toFixed(precision);
        }
    }, {
        key: 'getInPercent',
        value: function getInPercent(symbol) {
            var value = this.getWithPrecision(this.lastValue * 100.0, this.precision - 2);
            if (symbol === true) {
                value += '%';
                return value;
            } else {
                return parseFloat(value);
            }
        }
    }, {
        key: 'isFull',
        value: function isFull() {
            return this.time >= this.limit;
        }
    }]);

    return History;
}();

exports.default = History;

},{}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _size = require('./input/size');

var _size2 = _interopRequireDefault(_size);

var _density = require('./input/density');

var _density2 = _interopRequireDefault(_density);

var _information = require('./input/information');

var _information2 = _interopRequireDefault(_information);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var About = function (_React$Component) {
    _inherits(About, _React$Component);

    function About() {
        _classCallCheck(this, About);

        return _possibleConstructorReturn(this, (About.__proto__ || Object.getPrototypeOf(About)).apply(this, arguments));
    }

    _createClass(About, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-about-area' },
                _react2.default.createElement(
                    'a',
                    { className: 'element', target: '_blank', href: './dokumentacja.pdf' },
                    _react2.default.createElement('i', { className: 'fa fa-file-pdf-o', 'aria-hidden': 'true' }),
                    '\xA0Dokumentacja'
                ),
                _react2.default.createElement(
                    'a',
                    { className: 'element', target: '_blank', href: 'GameOfLife.zip' },
                    _react2.default.createElement('i', { className: 'fa fa-download', 'aria-hidden': 'true' }),
                    '\xA0Pobierz kod'
                ),
                _react2.default.createElement(
                    'span',
                    { className: 'element' },
                    'Autor: Tomasz Bajorek'
                )
            );
        }
    }]);

    return About;
}(_react2.default.Component);

exports.default = About;

},{"./input/density":14,"./input/information":15,"./input/size":16,"react":"react"}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OneStep = function (_Reflux$Component) {
    _inherits(OneStep, _Reflux$Component);

    function OneStep() {
        _classCallCheck(this, OneStep);

        var _this = _possibleConstructorReturn(this, (OneStep.__proto__ || Object.getPrototypeOf(OneStep)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(OneStep, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button one-step', title: 'Jeden krok', disabled: this.state.started ? "true" : "", onClick: _store.Actions.next },
                _react2.default.createElement('i', { className: 'fa fa-forward', 'aria-hidden': 'true' })
            );
        }
    }]);

    return OneStep;
}(_reflux2.default.Component);

exports.default = OneStep;

},{"../../store":19,"react":"react","reflux":40}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Reset = function (_Reflux$Component) {
    _inherits(Reset, _Reflux$Component);

    function Reset() {
        _classCallCheck(this, Reset);

        var _this = _possibleConstructorReturn(this, (Reset.__proto__ || Object.getPrototypeOf(Reset)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Reset, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button reset', title: 'Reset', disabled: this.state.started ? "true" : "", onClick: _store.Actions.reset },
                _react2.default.createElement('i', { className: 'fa fa-refresh', 'aria-hidden': 'true' })
            );
        }
    }]);

    return Reset;
}(_reflux2.default.Component);

exports.default = Reset;

},{"../../store":19,"react":"react","reflux":40}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var StartStop = function (_Reflux$Component) {
    _inherits(StartStop, _Reflux$Component);

    function StartStop() {
        _classCallCheck(this, StartStop);

        var _this = _possibleConstructorReturn(this, (StartStop.__proto__ || Object.getPrototypeOf(StartStop)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(StartStop, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button start-stop', title: this.state.started ? "Pauza" : "Start", onClick: _store.Actions.startStop },
                _react2.default.createElement('i', { className: this.state.started ? "fa fa-pause" : "fa fa-play", 'aria-hidden': 'true' })
            );
        }
    }]);

    return StartStop;
}(_reflux2.default.Component);

exports.default = StartStop;

},{"../../store":19,"react":"react","reflux":40}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _startstop = require('./button/startstop');

var _startstop2 = _interopRequireDefault(_startstop);

var _onestep = require('./button/onestep');

var _onestep2 = _interopRequireDefault(_onestep);

var _reset = require('./button/reset');

var _reset2 = _interopRequireDefault(_reset);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ButtonArea = function (_React$Component) {
    _inherits(ButtonArea, _React$Component);

    function ButtonArea() {
        _classCallCheck(this, ButtonArea);

        return _possibleConstructorReturn(this, (ButtonArea.__proto__ || Object.getPrototypeOf(ButtonArea)).apply(this, arguments));
    }

    _createClass(ButtonArea, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-button-area' },
                _react2.default.createElement(_startstop2.default, null),
                _react2.default.createElement(_onestep2.default, null),
                _react2.default.createElement(_reset2.default, null)
            );
        }
    }]);

    return ButtonArea;
}(_react2.default.Component);

exports.default = ButtonArea;

},{"./button/onestep":10,"./button/reset":11,"./button/startstop":12,"react":"react"}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Density = function (_Reflux$Component) {
    _inherits(Density, _Reflux$Component);

    function Density() {
        _classCallCheck(this, Density);

        var _this = _possibleConstructorReturn(this, (Density.__proto__ || Object.getPrototypeOf(Density)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Density, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'param-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'G\u0119sto\u015B\u0107:\xA0'
                ),
                _react2.default.createElement('input', { type: 'number', step: '0.01', max: '1.0', min: '0.01', className: 'param param-density', disabled: this.state.started ? "true" : "", value: this.state.density, onChange: _store.Actions.changeDensity }),
                '\xA0[0;1]'
            );
        }
    }]);

    return Density;
}(_reflux2.default.Component);

exports.default = Density;

},{"../../store":19,"react":"react","reflux":40}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Information = function (_Reflux$Component) {
    _inherits(Information, _Reflux$Component);

    function Information() {
        _classCallCheck(this, Information);

        var _this = _possibleConstructorReturn(this, (Information.__proto__ || Object.getPrototypeOf(Information)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Information, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'info-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Populacja:\xA0',
                    this.state.model.history.getInPercent(true)
                ),
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Czas:\xA0',
                    this.state.model.history.time
                )
            );
        }
    }]);

    return Information;
}(_reflux2.default.Component);

exports.default = Information;

},{"../../store":19,"react":"react","reflux":40}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Size = function (_Reflux$Component) {
    _inherits(Size, _Reflux$Component);

    function Size() {
        _classCallCheck(this, Size);

        var _this = _possibleConstructorReturn(this, (Size.__proto__ || Object.getPrototypeOf(Size)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Size, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'param-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Wymiary:\xA0'
                ),
                _react2.default.createElement('input', { type: 'number', step: '1', max: '280', min: '2', className: 'param param-width', value: this.state.width, onChange: _store.Actions.changeWidth, disabled: this.state.started ? "true" : "" }),
                '\xA0x\xA0',
                _react2.default.createElement('input', { type: 'number', step: '1', max: '280', min: '2', className: 'param param-height', value: this.state.height, onChange: _store.Actions.changeHeight, disabled: this.state.started ? "true" : "" })
            );
        }
    }]);

    return Size;
}(_reflux2.default.Component);

exports.default = Size;

},{"../../store":19,"react":"react","reflux":40}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _size = require('./input/size');

var _size2 = _interopRequireDefault(_size);

var _density = require('./input/density');

var _density2 = _interopRequireDefault(_density);

var _information = require('./input/information');

var _information2 = _interopRequireDefault(_information);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var InputArea = function (_React$Component) {
    _inherits(InputArea, _React$Component);

    function InputArea() {
        _classCallCheck(this, InputArea);

        return _possibleConstructorReturn(this, (InputArea.__proto__ || Object.getPrototypeOf(InputArea)).apply(this, arguments));
    }

    _createClass(InputArea, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-input-area' },
                _react2.default.createElement(_size2.default, null),
                _react2.default.createElement(_density2.default, null),
                _react2.default.createElement('hr', null),
                _react2.default.createElement(_information2.default, null)
            );
        }
    }]);

    return InputArea;
}(_react2.default.Component);

exports.default = InputArea;

},{"./input/density":14,"./input/information":15,"./input/size":16,"react":"react"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _inputarea = require('./inputarea');

var _inputarea2 = _interopRequireDefault(_inputarea);

var _buttonarea = require('./buttonarea');

var _buttonarea2 = _interopRequireDefault(_buttonarea);

var _about = require('./about');

var _about2 = _interopRequireDefault(_about);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = function (_React$Component) {
    _inherits(Panel, _React$Component);

    function Panel() {
        _classCallCheck(this, Panel);

        return _possibleConstructorReturn(this, (Panel.__proto__ || Object.getPrototypeOf(Panel)).apply(this, arguments));
    }

    _createClass(Panel, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'panel' },
                _react2.default.createElement(_inputarea2.default, null),
                _react2.default.createElement(_buttonarea2.default, null),
                _react2.default.createElement(_about2.default, null)
            );
        }
    }]);

    return Panel;
}(_react2.default.Component);

exports.default = Panel;

},{"./about":9,"./buttonarea":13,"./inputarea":17,"react":"react"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Actions = exports.Store = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _model = require('./board/model');

var _model2 = _interopRequireDefault(_model);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Actions = _reflux2.default.createActions(['startStop', 'next', 'reset', 'changeWidth', 'changeHeight', 'changeDensity']);

var Store = function (_Reflux$Store) {
    _inherits(Store, _Reflux$Store);

    function Store() {
        _classCallCheck(this, Store);

        var _this = _possibleConstructorReturn(this, (Store.__proto__ || Object.getPrototypeOf(Store)).call(this));

        _this.state = {
            time: 0,
            started: 0,
            interval: null,
            width: 100,
            height: 100,
            density: 0.1
        };
        _this.state.model = new _model2.default(_this.state.width, _this.state.height, _this.state.density);
        _this.state.model.setShifts(_this.getMooreArea());
        _this.state.model.setCalcNext(function (val, alive) {
            if (val == 1 && (alive == 2 || alive == 3)) {
                return 1;
            } else if (val == 0 && alive == 3) {
                return 1;
            }
            return 0;
        });

        _this.state.chartConfig = {
            xAxis: {
                categories: []
            },
            series: [{
                data: [],
                showInLegend: false,
                name: 'Populacja (%)',
                marker: {
                    enabled: false
                }
            }],
            yAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'Populacja (%)',
                    rotation: -90
                }
            },
            chart: {
                width: '1000',
                height: '170',
                animation: false
            },
            title: {
                text: '',
                style: {
                    display: 'none'
                }
            },
            subtitle: {
                text: '',
                style: {
                    display: 'none'
                }
            }
        };

        _this.listenables = Actions;
        return _this;
    }

    _createClass(Store, [{
        key: 'getMooreArea',
        value: function getMooreArea() {
            return [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];
        }
    }, {
        key: 'onStartStop',
        value: function onStartStop() {
            if (this.state.started == 0) {
                var store = this;
                var newInterval = setInterval(function () {
                    store.onNext();
                }, 100);
                this.setState({ started: 1, interval: newInterval });
            } else {
                clearInterval(this.state.interval);
                this.setState({ started: 0, interval: null });
            }
        }
    }, {
        key: 'onNext',
        value: function onNext() {
            this.state.model.nextStep();
            var newModel = this.state.model;
            var newChartConfig = this.state.chartConfig;
            var newTime = ++this.state.time;
            this.setState({ model: newModel, time: newTime, chartConfig: newChartConfig });
        }
    }, {
        key: 'onReset',
        value: function onReset() {
            this.state.model.generateBoard(this.state.width, this.state.height, this.state.density);
            var newModel = this.state.model;
            var newChartConfig = this.state.chartConfig;
            this.setState({ model: newModel, time: 0, chartConfig: newChartConfig });
        }
    }, {
        key: 'onChangeWidth',
        value: function onChangeWidth(event) {
            this.setState({ "width": parseInt(event.target.value) });
        }
    }, {
        key: 'onChangeHeight',
        value: function onChangeHeight(event) {
            this.setState({ "height": parseInt(event.target.value) });
        }
    }, {
        key: 'onChangeDensity',
        value: function onChangeDensity(event) {
            this.setState({ "density": parseFloat(event.target.value) });
        }
    }]);

    return Store;
}(_reflux2.default.Store);

exports.Store = Store;
exports.Actions = Actions;

},{"./board/model":4,"react":"react","reflux":40}],20:[function(require,module,exports){
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react"),require("highcharts")):"function"==typeof define&&define.amd?define(["react","highcharts"],r):"object"==typeof exports?exports.ReactHighcharts=r(require("react"),require("highcharts")):t.ReactHighcharts=r(t.React,t.Highcharts)}(this,function(t,r){return function(t){function r(o){if(e[o])return e[o].exports;var n=e[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){t.exports=e(3)},function(r,e){r.exports=t},function(t,r,e){(function(r){"use strict";var o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},n=e(1),i="undefined"==typeof r?window:r;t.exports=function(r,e){var c="Highcharts"+r,s=n.createClass({displayName:c,propTypes:{config:n.PropTypes.object.isRequired,isPureConfig:n.PropTypes.bool,neverReflow:n.PropTypes.bool,callback:n.PropTypes.func,domProps:n.PropTypes.object},defaultProps:{callback:function(){},domProps:{}},renderChart:function(t){var n=this;if(!t)throw new Error("Config must be specified for the "+c+" component");var s=t.chart;this.chart=new e[r](o({},t,{chart:o({},s,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||i&&i.requestAnimationFrame&&requestAnimationFrame(function(){n.chart&&n.chart.options&&n.chart.reflow()})},shouldComponentUpdate:function(t){return!!(t.neverReflow||t.isPureConfig&&this.props.config===t.config)||(this.renderChart(t.config),!1)},getChart:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){return n.createElement("div",o({ref:"chart"},this.props.domProps))}});return s.Highcharts=e,s.withHighcharts=function(e){return t.exports(r,e)},s}}).call(r,function(){return this}())},function(t,r,e){"use strict";t.exports=e(2)("Chart",e(4))},function(t,e){t.exports=r}])});
},{"highcharts":21,"react":"react"}],21:[function(require,module,exports){
/*
 Highcharts JS v5.0.10 (2017-03-31)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(L,a){"object"===typeof module&&module.exports?module.exports=L.document?a(L):a:L.Highcharts=a(L)})("undefined"!==typeof window?window:this,function(L){L=function(){var a=window,B=a.document,A=a.navigator&&a.navigator.userAgent||"",H=B&&B.createElementNS&&!!B.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,G=/(edge|msie|trident)/i.test(A)&&!window.opera,r=!H,f=/Firefox/.test(A),l=f&&4>parseInt(A.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",
version:"5.0.10",deg2rad:2*Math.PI/360,doc:B,hasBidiBug:l,hasTouch:B&&void 0!==B.documentElement.ontouchstart,isMS:G,isWebKit:/AppleWebKit/.test(A),isFirefox:f,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(A),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:H,vml:r,win:a,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}();(function(a){var B=[],A=a.charts,H=a.doc,G=a.win;a.error=function(r,f){r=a.isNumber(r)?"Highcharts error #"+
r+": www.highcharts.com/errors/"+r:r;if(f)throw Error(r);G.console&&console.log(r)};a.Fx=function(a,f,l){this.options=f;this.elem=a;this.prop=l};a.Fx.prototype={dSetter:function(){var a=this.paths[0],f=this.paths[1],l=[],q=this.now,k=a.length,u;if(1===q)l=this.toD;else if(k===f.length&&1>q)for(;k--;)u=parseFloat(a[k]),l[k]=isNaN(u)?a[k]:q*parseFloat(f[k]-u)+u;else l=f;this.elem.attr("d",l,null,!0)},update:function(){var a=this.elem,f=this.prop,l=this.now,q=this.options.step;if(this[f+"Setter"])this[f+
"Setter"]();else a.attr?a.element&&a.attr(f,l,null,!0):a.style[f]=l+this.unit;q&&q.call(a,l,this)},run:function(a,f,l){var r=this,k=function(a){return k.stopped?!1:r.step(a)},u;this.startTime=+new Date;this.start=a;this.end=f;this.unit=l;this.now=this.start;this.pos=0;k.elem=this.elem;k.prop=this.prop;k()&&1===B.push(k)&&(k.timerId=setInterval(function(){for(u=0;u<B.length;u++)B[u]()||B.splice(u--,1);B.length||clearInterval(k.timerId)},13))},step:function(a){var f=+new Date,r,q=this.options;r=this.elem;
var k=q.complete,u=q.duration,d=q.curAnim,c;if(r.attr&&!r.element)r=!1;else if(a||f>=u+this.startTime){this.now=this.end;this.pos=1;this.update();a=d[this.prop]=!0;for(c in d)!0!==d[c]&&(a=!1);a&&k&&k.call(r);r=!1}else this.pos=q.easing((f-this.startTime)/u),this.now=this.start+(this.end-this.start)*this.pos,this.update(),r=!0;return r},initPath:function(r,f,l){function q(a){var b,e;for(t=a.length;t--;)b="M"===a[t]||"L"===a[t],e=/[a-zA-Z]/.test(a[t+3]),b&&e&&a.splice(t+1,0,a[t+1],a[t+2],a[t+1],a[t+
2])}function k(a,e){for(;a.length<p;){a[0]=e[p-a.length];var h=a.slice(0,b);[].splice.apply(a,[0,0].concat(h));D&&(h=a.slice(a.length-b),[].splice.apply(a,[a.length,0].concat(h)),t--)}a[0]="M"}function u(a,e){for(var c=(p-a.length)/b;0<c&&c--;)h=a.slice().splice(a.length/w-b,b*w),h[0]=e[p-b-c*b],z&&(h[b-6]=h[b-2],h[b-5]=h[b-1]),[].splice.apply(a,[a.length/w,0].concat(h)),D&&c--}f=f||"";var d,c=r.startX,n=r.endX,z=-1<f.indexOf("C"),b=z?7:3,p,h,t;f=f.split(" ");l=l.slice();var D=r.isArea,w=D?2:1,e;
z&&(q(f),q(l));if(c&&n){for(t=0;t<c.length;t++)if(c[t]===n[0]){d=t;break}else if(c[0]===n[n.length-c.length+t]){d=t;e=!0;break}void 0===d&&(f=[])}f.length&&a.isNumber(d)&&(p=l.length+d*w*b,e?(k(f,l),u(l,f)):(k(l,f),u(f,l)));return[f,l]}};a.extend=function(a,f){var r;a||(a={});for(r in f)a[r]=f[r];return a};a.merge=function(){var r,f=arguments,l,q={},k=function(u,d){var c,n;"object"!==typeof u&&(u={});for(n in d)d.hasOwnProperty(n)&&(c=d[n],a.isObject(c,!0)&&"renderTo"!==n&&"number"!==typeof c.nodeType?
u[n]=k(u[n]||{},c):u[n]=d[n]);return u};!0===f[0]&&(q=f[1],f=Array.prototype.slice.call(f,2));l=f.length;for(r=0;r<l;r++)q=k(q,f[r]);return q};a.pInt=function(a,f){return parseInt(a,f||10)};a.isString=function(a){return"string"===typeof a};a.isArray=function(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a};a.isObject=function(r,f){return r&&"object"===typeof r&&(!f||!a.isArray(r))};a.isNumber=function(a){return"number"===typeof a&&!isNaN(a)};a.erase=
function(a,f){for(var r=a.length;r--;)if(a[r]===f){a.splice(r,1);break}};a.defined=function(a){return void 0!==a&&null!==a};a.attr=function(r,f,l){var q,k;if(a.isString(f))a.defined(l)?r.setAttribute(f,l):r&&r.getAttribute&&(k=r.getAttribute(f));else if(a.defined(f)&&a.isObject(f))for(q in f)r.setAttribute(q,f[q]);return k};a.splat=function(r){return a.isArray(r)?r:[r]};a.syncTimeout=function(a,f,l){if(f)return setTimeout(a,f,l);a.call(0,l)};a.pick=function(){var a=arguments,f,l,q=a.length;for(f=
0;f<q;f++)if(l=a[f],void 0!==l&&null!==l)return l};a.css=function(r,f){a.isMS&&!a.svg&&f&&void 0!==f.opacity&&(f.filter="alpha(opacity\x3d"+100*f.opacity+")");a.extend(r.style,f)};a.createElement=function(r,f,l,q,k){r=H.createElement(r);var u=a.css;f&&a.extend(r,f);k&&u(r,{padding:0,border:"none",margin:0});l&&u(r,l);q&&q.appendChild(r);return r};a.extendClass=function(r,f){var l=function(){};l.prototype=new r;a.extend(l.prototype,f);return l};a.pad=function(a,f,l){return Array((f||2)+1-String(a).length).join(l||
0)+a};a.relativeLength=function(a,f){return/%$/.test(a)?f*parseFloat(a)/100:parseFloat(a)};a.wrap=function(a,f,l){var q=a[f];a[f]=function(){var a=Array.prototype.slice.call(arguments),u=arguments,d=this;d.proceed=function(){q.apply(d,arguments.length?arguments:u)};a.unshift(q);a=l.apply(this,a);d.proceed=null;return a}};a.getTZOffset=function(r){var f=a.Date;return 6E4*(f.hcGetTimezoneOffset&&f.hcGetTimezoneOffset(r)||f.hcTimezoneOffset||0)};a.dateFormat=function(r,f,l){if(!a.defined(f)||isNaN(f))return a.defaultOptions.lang.invalidDate||
"";r=a.pick(r,"%Y-%m-%d %H:%M:%S");var q=a.Date,k=new q(f-a.getTZOffset(f)),u,d=k[q.hcGetHours](),c=k[q.hcGetDay](),n=k[q.hcGetDate](),z=k[q.hcGetMonth](),b=k[q.hcGetFullYear](),p=a.defaultOptions.lang,h=p.weekdays,t=p.shortWeekdays,D=a.pad,q=a.extend({a:t?t[c]:h[c].substr(0,3),A:h[c],d:D(n),e:D(n,2," "),w:c,b:p.shortMonths[z],B:p.months[z],m:D(z+1),y:b.toString().substr(2,2),Y:b,H:D(d),k:d,I:D(d%12||12),l:d%12||12,M:D(k[q.hcGetMinutes]()),p:12>d?"AM":"PM",P:12>d?"am":"pm",S:D(k.getSeconds()),L:D(Math.round(f%
1E3),3)},a.dateFormats);for(u in q)for(;-1!==r.indexOf("%"+u);)r=r.replace("%"+u,"function"===typeof q[u]?q[u](f):q[u]);return l?r.substr(0,1).toUpperCase()+r.substr(1):r};a.formatSingle=function(r,f){var l=/\.([0-9])/,q=a.defaultOptions.lang;/f$/.test(r)?(l=(l=r.match(l))?l[1]:-1,null!==f&&(f=a.numberFormat(f,l,q.decimalPoint,-1<r.indexOf(",")?q.thousandsSep:""))):f=a.dateFormat(r,f);return f};a.format=function(r,f){for(var l="{",q=!1,k,u,d,c,n=[],z;r;){l=r.indexOf(l);if(-1===l)break;k=r.slice(0,
l);if(q){k=k.split(":");u=k.shift().split(".");c=u.length;z=f;for(d=0;d<c;d++)z=z[u[d]];k.length&&(z=a.formatSingle(k.join(":"),z));n.push(z)}else n.push(k);r=r.slice(l+1);l=(q=!q)?"}":"{"}n.push(r);return n.join("")};a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))};a.normalizeTickInterval=function(r,f,l,q,k){var u,d=r;l=a.pick(l,1);u=r/l;f||(f=k?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===q&&(1===l?f=a.grep(f,function(a){return 0===a%1}):.1>=l&&(f=[1/l])));
for(q=0;q<f.length&&!(d=f[q],k&&d*l>=r||!k&&u<=(f[q]+(f[q+1]||f[q]))/2);q++);return d=a.correctFloat(d*l,-Math.round(Math.log(.001)/Math.LN10))};a.stableSort=function(a,f){var l=a.length,q,k;for(k=0;k<l;k++)a[k].safeI=k;a.sort(function(a,d){q=f(a,d);return 0===q?a.safeI-d.safeI:q});for(k=0;k<l;k++)delete a[k].safeI};a.arrayMin=function(a){for(var f=a.length,l=a[0];f--;)a[f]<l&&(l=a[f]);return l};a.arrayMax=function(a){for(var f=a.length,l=a[0];f--;)a[f]>l&&(l=a[f]);return l};a.destroyObjectProperties=
function(a,f){for(var l in a)a[l]&&a[l]!==f&&a[l].destroy&&a[l].destroy(),delete a[l]};a.discardElement=function(r){var f=a.garbageBin;f||(f=a.createElement("div"));r&&f.appendChild(r);f.innerHTML=""};a.correctFloat=function(a,f){return parseFloat(a.toPrecision(f||14))};a.setAnimation=function(r,f){f.renderer.globalAnimation=a.pick(r,f.options.chart.animation,!0)};a.animObject=function(r){return a.isObject(r)?a.merge(r):{duration:r?500:0}};a.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,
day:864E5,week:6048E5,month:24192E5,year:314496E5};a.numberFormat=function(r,f,l,q){r=+r||0;f=+f;var k=a.defaultOptions.lang,u=(r.toString().split(".")[1]||"").length,d,c;-1===f?f=Math.min(u,20):a.isNumber(f)||(f=2);c=(Math.abs(r)+Math.pow(10,-Math.max(f,u)-1)).toFixed(f);u=String(a.pInt(c));d=3<u.length?u.length%3:0;l=a.pick(l,k.decimalPoint);q=a.pick(q,k.thousandsSep);r=(0>r?"-":"")+(d?u.substr(0,d)+q:"");r+=u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+q);f&&(r+=l+c.slice(-f));return r};Math.easeInOutSine=
function(a){return-.5*(Math.cos(Math.PI*a)-1)};a.getStyle=function(r,f){return"width"===f?Math.min(r.offsetWidth,r.scrollWidth)-a.getStyle(r,"padding-left")-a.getStyle(r,"padding-right"):"height"===f?Math.min(r.offsetHeight,r.scrollHeight)-a.getStyle(r,"padding-top")-a.getStyle(r,"padding-bottom"):(r=G.getComputedStyle(r,void 0))&&a.pInt(r.getPropertyValue(f))};a.inArray=function(a,f){return f.indexOf?f.indexOf(a):[].indexOf.call(f,a)};a.grep=function(a,f){return[].filter.call(a,f)};a.find=function(a,
f){return[].find.call(a,f)};a.map=function(a,f){for(var l=[],q=0,k=a.length;q<k;q++)l[q]=f.call(a[q],a[q],q,a);return l};a.offset=function(a){var f=H.documentElement;a=a.getBoundingClientRect();return{top:a.top+(G.pageYOffset||f.scrollTop)-(f.clientTop||0),left:a.left+(G.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}};a.stop=function(a,f){for(var l=B.length;l--;)B[l].elem!==a||f&&f!==B[l].prop||(B[l].stopped=!0)};a.each=function(a,f,l){return Array.prototype.forEach.call(a,f,l)};a.addEvent=function(r,
f,l){function q(a){a.target=a.srcElement||G;l.call(r,a)}var k=r.hcEvents=r.hcEvents||{};r.addEventListener?r.addEventListener(f,l,!1):r.attachEvent&&(r.hcEventsIE||(r.hcEventsIE={}),r.hcEventsIE[l.toString()]=q,r.attachEvent("on"+f,q));k[f]||(k[f]=[]);k[f].push(l);return function(){a.removeEvent(r,f,l)}};a.removeEvent=function(r,f,l){function q(a,c){r.removeEventListener?r.removeEventListener(a,c,!1):r.attachEvent&&(c=r.hcEventsIE[c.toString()],r.detachEvent("on"+a,c))}function k(){var a,c;if(r.nodeName)for(c in f?
(a={},a[f]=!0):a=d,a)if(d[c])for(a=d[c].length;a--;)q(c,d[c][a])}var u,d=r.hcEvents,c;d&&(f?(u=d[f]||[],l?(c=a.inArray(l,u),-1<c&&(u.splice(c,1),d[f]=u),q(f,l)):(k(),d[f]=[])):(k(),r.hcEvents={}))};a.fireEvent=function(r,f,l,q){var k;k=r.hcEvents;var u,d;l=l||{};if(H.createEvent&&(r.dispatchEvent||r.fireEvent))k=H.createEvent("Events"),k.initEvent(f,!0,!0),a.extend(k,l),r.dispatchEvent?r.dispatchEvent(k):r.fireEvent(f,k);else if(k)for(k=k[f]||[],u=k.length,l.target||a.extend(l,{preventDefault:function(){l.defaultPrevented=
!0},target:r,type:f}),f=0;f<u;f++)(d=k[f])&&!1===d.call(r,l)&&l.preventDefault();q&&!l.defaultPrevented&&q(l)};a.animate=function(r,f,l){var q,k="",u,d,c;a.isObject(l)||(q=arguments,l={duration:q[2],easing:q[3],complete:q[4]});a.isNumber(l.duration)||(l.duration=400);l.easing="function"===typeof l.easing?l.easing:Math[l.easing]||Math.easeInOutSine;l.curAnim=a.merge(f);for(c in f)a.stop(r,c),d=new a.Fx(r,l,c),u=null,"d"===c?(d.paths=d.initPath(r,r.d,f.d),d.toD=f.d,q=0,u=1):r.attr?q=r.attr(c):(q=parseFloat(a.getStyle(r,
c))||0,"opacity"!==c&&(k="px")),u||(u=f[c]),u&&u.match&&u.match("px")&&(u=u.replace(/px/g,"")),d.run(q,u,k)};a.seriesType=function(r,f,l,q,k){var u=a.getOptions(),d=a.seriesTypes;u.plotOptions[r]=a.merge(u.plotOptions[f],l);d[r]=a.extendClass(d[f]||function(){},q);d[r].prototype.type=r;k&&(d[r].prototype.pointClass=a.extendClass(a.Point,k));return d[r]};a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),f=0;return function(){return"highcharts-"+a+"-"+f++}}();G.jQuery&&(G.jQuery.fn.highcharts=
function(){var r=[].slice.call(arguments);if(this[0])return r[0]?(new (a[a.isString(r[0])?r.shift():"Chart"])(this[0],r[0],r[1]),this):A[a.attr(this[0],"data-highcharts-chart")]});H&&!H.defaultView&&(a.getStyle=function(r,f){var l={width:"clientWidth",height:"clientHeight"}[f];if(r.style[f])return a.pInt(r.style[f]);"opacity"===f&&(f="filter");if(l)return r.style.zoom=1,Math.max(r[l]-2*a.getStyle(r,"padding"),0);r=r.currentStyle[f.replace(/\-(\w)/g,function(a,k){return k.toUpperCase()})];"filter"===
f&&(r=r.replace(/alpha\(opacity=([0-9]+)\)/,function(a,k){return k/100}));return""===r?1:a.pInt(r)});Array.prototype.forEach||(a.each=function(a,f,l){for(var q=0,k=a.length;q<k;q++)if(!1===f.call(l,a[q],q,a))return q});Array.prototype.indexOf||(a.inArray=function(a,f){var l,q=0;if(f)for(l=f.length;q<l;q++)if(f[q]===a)return q;return-1});Array.prototype.filter||(a.grep=function(a,f){for(var l=[],q=0,k=a.length;q<k;q++)f(a[q],q)&&l.push(a[q]);return l});Array.prototype.find||(a.find=function(a,f){var l,
q=a.length;for(l=0;l<q;l++)if(f(a[l],l))return a[l]})})(L);(function(a){var B=a.each,A=a.isNumber,H=a.map,G=a.merge,r=a.pInt;a.Color=function(f){if(!(this instanceof a.Color))return new a.Color(f);this.init(f)};a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[r(a[1]),r(a[2]),r(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[r(a[1]),
r(a[2]),r(a[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(f){var l,q,k,u;if((this.input=f=this.names[f&&f.toLowerCase?f.toLowerCase():""]||f)&&f.stops)this.stops=H(f.stops,function(d){return new a.Color(d[1])});else if(f&&"#"===f[0]&&(l=f.length,f=parseInt(f.substr(1),16),7===l?q=[(f&16711680)>>16,(f&65280)>>8,f&255,1]:4===l&&(q=[(f&3840)>>4|(f&3840)>>8,(f&240)>>4|f&240,(f&15)<<4|f&15,1])),!q)for(k=this.parsers.length;k--&&!q;)u=this.parsers[k],(l=u.regex.exec(f))&&(q=u.parse(l));
this.rgba=q||[]},get:function(a){var f=this.input,q=this.rgba,k;this.stops?(k=G(f),k.stops=[].concat(k.stops),B(this.stops,function(u,d){k.stops[d]=[k.stops[d][0],u.get(a)]})):k=q&&A(q[0])?"rgb"===a||!a&&1===q[3]?"rgb("+q[0]+","+q[1]+","+q[2]+")":"a"===a?q[3]:"rgba("+q.join(",")+")":f;return k},brighten:function(a){var f,q=this.rgba;if(this.stops)B(this.stops,function(k){k.brighten(a)});else if(A(a)&&0!==a)for(f=0;3>f;f++)q[f]+=r(255*a),0>q[f]&&(q[f]=0),255<q[f]&&(q[f]=255);return this},setOpacity:function(a){this.rgba[3]=
a;return this}};a.color=function(f){return new a.Color(f)}})(L);(function(a){var B,A,H=a.addEvent,G=a.animate,r=a.attr,f=a.charts,l=a.color,q=a.css,k=a.createElement,u=a.defined,d=a.deg2rad,c=a.destroyObjectProperties,n=a.doc,z=a.each,b=a.extend,p=a.erase,h=a.grep,t=a.hasTouch,D=a.inArray,w=a.isArray,e=a.isFirefox,x=a.isMS,C=a.isObject,E=a.isString,m=a.isWebKit,y=a.merge,I=a.noop,K=a.pick,J=a.pInt,g=a.removeEvent,F=a.stop,Q=a.svg,N=a.SVG_NS,P=a.symbolSizes,O=a.win;B=a.SVGElement=function(){return this};
B.prototype={opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(a,g){this.element="span"===g?k(g):n.createElementNS(this.SVG_NS,g);this.renderer=a},animate:function(v,g,b){g=a.animObject(K(g,this.renderer.globalAnimation,!0));0!==g.duration?(b&&(g.complete=b),G(this,v,g)):(this.attr(v,null,b),g.step&&g.step.call(this));return this},colorGradient:function(v,g,b){var e=this.renderer,
h,c,m,M,F,x,d,C,t,p,n,k=[],R;v.radialGradient?c="radialGradient":v.linearGradient&&(c="linearGradient");if(c){m=v[c];F=e.gradients;d=v.stops;p=b.radialReference;w(m)&&(v[c]=m={x1:m[0],y1:m[1],x2:m[2],y2:m[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===c&&p&&!u(m.gradientUnits)&&(M=m,m=y(m,e.getRadialAttr(p,M),{gradientUnits:"userSpaceOnUse"}));for(n in m)"id"!==n&&k.push(n,m[n]);for(n in d)k.push(d[n]);k=k.join(",");F[k]?p=F[k].attr("id"):(m.id=p=a.uniqueKey(),F[k]=x=e.createElement(c).attr(m).add(e.defs),
x.radAttr=M,x.stops=[],z(d,function(v){0===v[1].indexOf("rgba")?(h=a.color(v[1]),C=h.get("rgb"),t=h.get("a")):(C=v[1],t=1);v=e.createElement("stop").attr({offset:v[0],"stop-color":C,"stop-opacity":t}).add(x);x.stops.push(v)}));R="url("+e.url+"#"+p+")";b.setAttribute(g,R);b.gradient=k;v.toString=function(){return R}}},applyTextOutline:function(v){var g=this.element,b,e,c,h,m;-1!==v.indexOf("contrast")&&(v=v.replace(/contrast/g,this.renderer.getContrast(g.style.fill)));v=v.split(" ");e=v[v.length-1];
if((c=v[0])&&"none"!==c&&a.svg){this.fakeTS=!0;v=[].slice.call(g.getElementsByTagName("tspan"));this.ySetter=this.xSetter;c=c.replace(/(^[\d\.]+)(.*?)$/g,function(a,v,g){return 2*v+g});for(m=v.length;m--;)b=v[m],"highcharts-text-outline"===b.getAttribute("class")&&p(v,g.removeChild(b));h=g.firstChild;z(v,function(a,v){0===v&&(a.setAttribute("x",g.getAttribute("x")),v=g.getAttribute("y"),a.setAttribute("y",v||0),null===v&&g.setAttribute("y",0));a=a.cloneNode(1);r(a,{"class":"highcharts-text-outline",
fill:e,stroke:e,"stroke-width":c,"stroke-linejoin":"round"});g.insertBefore(a,h)})}},attr:function(a,g,b,e){var v,c=this.element,h,m=this,M;"string"===typeof a&&void 0!==g&&(v=a,a={},a[v]=g);if("string"===typeof a)m=(this[a+"Getter"]||this._defaultGetter).call(this,a,c);else{for(v in a)g=a[v],M=!1,e||F(this,v),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(v)&&(h||(this.symbolAttr(a),h=!0),M=!0),!this.rotation||"x"!==v&&"y"!==v||(this.doTransform=!0),M||(M=this[v+
"Setter"]||this._defaultSetter,M.call(this,g,v,c),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(v)&&this.updateShadows(v,g,M));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}b&&b();return m},updateShadows:function(a,g,b){for(var v=this.shadows,e=v.length;e--;)b.call(v[e],"height"===a?Math.max(g-(v[e].cutHeight||0),0):"d"===a?this.d:g,a,v[e])},addClass:function(a,g){var v=this.attr("class")||"";-1===v.indexOf(a)&&(g||(a=(v+(v?" ":"")+a).replace("  "," ")),
this.attr("class",a));return this},hasClass:function(a){return-1!==r(this.element,"class").indexOf(a)},removeClass:function(a){r(this.element,"class",(r(this.element,"class")||"").replace(a,""));return this},symbolAttr:function(a){var v=this;z("x y r start end width height innerR anchorX anchorY".split(" "),function(g){v[g]=K(a[g],v[g])});v.attr({d:v.renderer.symbols[v.symbolName](v.x,v.y,v.width,v.height,v)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":
"none")},crisp:function(a,g){var v,b={},e;g=g||a.strokeWidth||0;e=Math.round(g)%2/2;a.x=Math.floor(a.x||this.x||0)+e;a.y=Math.floor(a.y||this.y||0)+e;a.width=Math.floor((a.width||this.width||0)-2*e);a.height=Math.floor((a.height||this.height||0)-2*e);u(a.strokeWidth)&&(a.strokeWidth=g);for(v in a)this[v]!==a[v]&&(this[v]=b[v]=a[v]);return b},css:function(a){var v=this.styles,g={},e=this.element,c,h="",m=!v,F=["textOutline","textOverflow","width"];a&&a.color&&(a.fill=a.color);if(v)for(c in a)a[c]!==
v[c]&&(g[c]=a[c],m=!0);if(m){v&&(a=b(v,g));v=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===e.nodeName.toLowerCase()&&J(a.width);this.styles=a;v&&!Q&&this.renderer.forExport&&delete a.width;if(x&&!Q)q(this.element,a);else{v=function(a,v){return"-"+v.toLowerCase()};for(c in a)-1===D(c,F)&&(h+=c.replace(/([A-Z])/g,v)+":"+a[c]+";");h&&r(e,"style",h)}this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||
0},on:function(a,g){var v=this,e=v.element;t&&"click"===a?(e.ontouchstart=function(a){v.touchEventFired=Date.now();a.preventDefault();g.call(e,a)},e.onclick=function(a){(-1===O.navigator.userAgent.indexOf("Android")||1100<Date.now()-(v.touchEventFired||0))&&g.call(e,a)}):e["on"+a]=g;return this},setRadialReference:function(a){var v=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;v&&v.radAttr&&v.animate(this.renderer.getRadialAttr(a,v.radAttr));return this},translate:function(a,
g){return this.attr({translateX:a,translateY:g})},invert:function(a){this.inverted=a;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,g=this.translateY||0,e=this.scaleX,b=this.scaleY,c=this.inverted,h=this.rotation,m=this.element;c&&(a+=this.width,g+=this.height);a=["translate("+a+","+g+")"];c?a.push("rotate(90) scale(-1,1)"):h&&a.push("rotate("+h+" "+(m.getAttribute("x")||0)+" "+(m.getAttribute("y")||0)+")");(u(e)||u(b))&&a.push("scale("+K(e,1)+" "+K(b,1)+")");
a.length&&m.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,g,e){var v,b,c,h,m={};b=this.renderer;c=b.alignedObjects;var F,x;if(a){if(this.alignOptions=a,this.alignByTranslate=g,!e||E(e))this.alignTo=v=e||"renderer",p(c,this),c.push(this),e=null}else a=this.alignOptions,g=this.alignByTranslate,v=this.alignTo;e=K(e,b[v],b);v=a.align;b=a.verticalAlign;c=(e.x||0)+(a.x||0);h=(e.y||0)+(a.y||0);"right"===v?F=1:"center"===
v&&(F=2);F&&(c+=(e.width-(a.width||0))/F);m[g?"translateX":"x"]=Math.round(c);"bottom"===b?x=1:"middle"===b&&(x=2);x&&(h+=(e.height-(a.height||0))/x);m[g?"translateY":"y"]=Math.round(h);this[this.placed?"animate":"attr"](m);this.placed=!0;this.alignAttr=m;return this},getBBox:function(a,g){var v,e=this.renderer,c,h=this.element,m=this.styles,F,x=this.textStr,y,M=e.cache,C=e.cacheKeys,t;g=K(g,this.rotation);c=g*d;F=m&&m.fontSize;void 0!==x&&(t=x.toString(),-1===t.indexOf("\x3c")&&(t=t.replace(/[0-9]/g,
"0")),t+=["",g||0,F,m&&m.width,m&&m.textOverflow].join());t&&!a&&(v=M[t]);if(!v){if(h.namespaceURI===this.SVG_NS||e.forExport){try{(y=this.fakeTS&&function(a){z(h.querySelectorAll(".highcharts-text-outline"),function(v){v.style.display=a})})&&y("none"),v=h.getBBox?b({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},y&&y("")}catch(X){}if(!v||0>v.width)v={width:0,height:0}}else v=this.htmlGetBBox();e.isSVG&&(a=v.width,e=v.height,m&&"11px"===m.fontSize&&17===Math.round(e)&&(v.height=e=14),
g&&(v.width=Math.abs(e*Math.sin(c))+Math.abs(a*Math.cos(c)),v.height=Math.abs(e*Math.cos(c))+Math.abs(a*Math.sin(c))));if(t&&0<v.height){for(;250<C.length;)delete M[C.shift()];M[t]||C.push(t);M[t]=v}}return v},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var v=this;v.animate({opacity:0},{duration:a||150,complete:function(){v.attr({y:-9999})}})},add:function(a){var v=this.renderer,g=this.element,
e;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&v.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)e=this.zIndexSetter();e||(a?a.element:v.box).appendChild(g);if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var v=a.parentNode;v&&v.removeChild(a)},destroy:function(){var a=this,g=a.element||{},e=a.renderer.isSVG&&"SPAN"===g.nodeName&&a.parentGroup,b,c;g.onclick=g.onmouseout=g.onmouseover=g.onmousemove=g.point=null;F(a);a.clipPath&&(z(a.element.ownerSVGElement.querySelectorAll("[clip-path]"),
function(v){-1<v.getAttribute("clip-path").indexOf(a.clipPath.element.id)&&v.removeAttribute("clip-path")}),a.clipPath=a.clipPath.destroy());if(a.stops){for(c=0;c<a.stops.length;c++)a.stops[c]=a.stops[c].destroy();a.stops=null}a.safeRemoveChild(g);for(a.destroyShadows();e&&e.div&&0===e.div.childNodes.length;)g=e.parentGroup,a.safeRemoveChild(e.div),delete e.div,e=g;a.alignTo&&p(a.renderer.alignedObjects,a);for(b in a)delete a[b];return null},shadow:function(a,g,e){var v=[],b,c,h=this.element,m,F,
x,y;if(!a)this.destroyShadows();else if(!this.shadows){F=K(a.width,3);x=(a.opacity||.15)/F;y=this.parentInverted?"(-1,-1)":"("+K(a.offsetX,1)+", "+K(a.offsetY,1)+")";for(b=1;b<=F;b++)c=h.cloneNode(0),m=2*F+1-2*b,r(c,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":x*b,"stroke-width":m,transform:"translate"+y,fill:"none"}),e&&(r(c,"height",Math.max(r(c,"height")-m,0)),c.cutHeight=m),g?g.element.appendChild(c):h.parentNode.insertBefore(c,h),v.push(c);this.shadows=v}return this},destroyShadows:function(){z(this.shadows||
[],function(a){this.safeRemoveChild(a)},this);this.shadows=void 0},xGetter:function(a){"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy"));return this._defaultGetter(a)},_defaultGetter:function(a){a=K(this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function(a,g,e){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");e.setAttribute(g,a);this[g]=a},dashstyleSetter:function(a){var v,g=this["stroke-width"];
"inherit"===g&&(g=1);if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(v=a.length;v--;)a[v]=J(a[v])*g;a=a.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},
opacitySetter:function(a,g,e){this[g]=a;e.setAttribute(g,a)},titleSetter:function(a){var v=this.element.getElementsByTagName("title")[0];v||(v=n.createElementNS(this.SVG_NS,"title"),this.element.appendChild(v));v.firstChild&&v.removeChild(v.firstChild);v.appendChild(n.createTextNode(String(K(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,g,e){"string"===typeof a?e.setAttribute(g,
a):a&&this.colorGradient(a,g,e)},visibilitySetter:function(a,g,e){"inherit"===a?e.removeAttribute(g):e.setAttribute(g,a)},zIndexSetter:function(a,g){var v=this.renderer,e=this.parentGroup,b=(e||v).element||v.box,c,h=this.element,m;c=this.added;var F;u(a)&&(h.zIndex=a,a=+a,this[g]===a&&(c=!1),this[g]=a);if(c){(a=this.zIndex)&&e&&(e.handleZ=!0);g=b.childNodes;for(F=0;F<g.length&&!m;F++)e=g[F],c=e.zIndex,e!==h&&(J(c)>a||!u(a)&&u(c)||0>a&&!u(c)&&b!==v.box)&&(b.insertBefore(h,e),m=!0);m||b.appendChild(h)}return m},
_defaultSetter:function(a,g,e){e.setAttribute(g,a)}};B.prototype.yGetter=B.prototype.xGetter;B.prototype.translateXSetter=B.prototype.translateYSetter=B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=function(a,g){this[g]=a;this.doTransform=!0};B.prototype["stroke-widthSetter"]=B.prototype.strokeSetter=function(a,g,e){this[g]=a;this.stroke&&this["stroke-width"]?(B.prototype.fillSetter.call(this,this.stroke,"stroke",e),e.setAttribute("stroke-width",
this["stroke-width"]),this.hasStroke=!0):"stroke-width"===g&&0===a&&this.hasStroke&&(e.removeAttribute("stroke"),this.hasStroke=!1)};A=a.SVGRenderer=function(){this.init.apply(this,arguments)};A.prototype={Element:B,SVG_NS:N,init:function(a,g,b,c,h,F){var v;c=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(c));v=c.element;a.appendChild(v);-1===a.innerHTML.indexOf("xmlns")&&r(v,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=v;this.boxWrapper=c;this.alignedObjects=
[];this.url=(e||m)&&n.getElementsByTagName("base").length?O.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(n.createTextNode("Created with Highcharts 5.0.10"));this.defs=this.createElement("defs").add();this.allowHTML=F;this.forExport=h;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(g,b,!1);var x;e&&a.getBoundingClientRect&&(g=function(){q(a,{left:0,top:0});
x=a.getBoundingClientRect();q(a,{left:Math.ceil(x.left)-x.left+"px",top:Math.ceil(x.top)-x.top+"px"})},g(),this.unSubPixelFix=H(O,"resize",g))},getStyle:function(a){return this.style=b({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();c(this.gradients||
{});this.gradients=null;a&&(this.defs=a.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null},createElement:function(a){var g=new this.Element;g.init(this,a);return g},draw:I,getRadialAttr:function(a,g){return{cx:a[0]-a[2]/2+g.cx*a[2],cy:a[1]-a[2]/2+g.cy*a[2],r:g.r*a[2]}},getSpanWidth:function(a,g){var v=a.getBBox(!0).width;!Q&&this.forExport&&(v=this.measureSpanWidth(g.firstChild.data,a.styles));return v},applyEllipsis:function(a,g,e,b){var v=this.getSpanWidth(a,g),
c=v>b,v=e,h,m=0,F=e.length,x=function(a){g.removeChild(g.firstChild);a&&g.appendChild(n.createTextNode(a))};if(c){for(;m<=F;)h=Math.ceil((m+F)/2),v=e.substring(0,h)+"\u2026",x(v),v=this.getSpanWidth(a,g),m===F?m=F+1:v>b?F=h-1:m=h;0===F&&x("")}return c},buildText:function(a){var g=a.element,e=this,v=e.forExport,b=K(a.textStr,"").toString(),c=-1!==b.indexOf("\x3c"),m=g.childNodes,F,x,y,t,d=r(g,"x"),C=a.styles,p=a.textWidth,k=C&&C.lineHeight,w=C&&C.textOutline,u=C&&"ellipsis"===C.textOverflow,f=C&&"nowrap"===
C.whiteSpace,E=C&&C.fontSize,D,I,l=m.length,C=p&&!a.added&&this.box,P=function(a){var v;v=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:E||e.style.fontSize||12;return k?J(k):e.fontMetrics(v,a.getAttribute("style")?a:g).h};D=[b,u,f,k,w,E,p].join();if(D!==a.textCache){for(a.textCache=D;l--;)g.removeChild(m[l]);c||w||u||p||-1!==b.indexOf(" ")?(F=/<.*class="([^"]+)".*>/,x=/<.*style="([^"]+)".*>/,y=/<.*href="(http[^"]+)".*>/,C&&C.appendChild(g),b=c?b.replace(/<(b|strong)>/g,'\x3cspan style\x3d"font-weight:bold"\x3e').replace(/<(i|em)>/g,
'\x3cspan style\x3d"font-style:italic"\x3e').replace(/<a/g,"\x3cspan").replace(/<\/(b|strong|i|em|a)>/g,"\x3c/span\x3e").split(/<br.*?>/g):[b],b=h(b,function(a){return""!==a}),z(b,function(b,c){var m,h=0;b=b.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||\x3cspan").replace(/<\/span>/g,"\x3c/span\x3e|||");m=b.split("|||");z(m,function(b){if(""!==b||1===m.length){var C={},k=n.createElementNS(e.SVG_NS,"tspan"),w,E;F.test(b)&&(w=b.match(F)[1],r(k,"class",w));x.test(b)&&(E=b.match(x)[1].replace(/(;| |^)color([ :])/,
"$1fill$2"),r(k,"style",E));y.test(b)&&!v&&(r(k,"onclick",'location.href\x3d"'+b.match(y)[1]+'"'),q(k,{cursor:"pointer"}));b=(b.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e");if(" "!==b){k.appendChild(n.createTextNode(b));h?C.dx=0:c&&null!==d&&(C.x=d);r(k,C);g.appendChild(k);!h&&I&&(!Q&&v&&q(k,{display:"block"}),r(k,"dy",P(k)));if(p){C=b.replace(/([^\^])-/g,"$1- ").split(" ");w=1<m.length||c||1<C.length&&!f;var D=[],M,z=P(k),l=a.rotation;for(u&&(t=e.applyEllipsis(a,
k,b,p));!u&&w&&(C.length||D.length);)a.rotation=0,M=e.getSpanWidth(a,k),b=M>p,void 0===t&&(t=b),b&&1!==C.length?(k.removeChild(k.firstChild),D.unshift(C.pop())):(C=D,D=[],C.length&&!f&&(k=n.createElementNS(N,"tspan"),r(k,{dy:z,x:d}),E&&r(k,"style",E),g.appendChild(k)),M>p&&(p=M)),C.length&&k.appendChild(n.createTextNode(C.join(" ").replace(/- /g,"-")));a.rotation=l}h++}}});I=I||g.childNodes.length}),t&&a.attr("title",a.textStr),C&&C.removeChild(g),w&&a.applyTextOutline&&a.applyTextOutline(w)):g.appendChild(n.createTextNode(b.replace(/&lt;/g,
"\x3c").replace(/&gt;/g,"\x3e")))}},getContrast:function(a){a=l(a).rgba;return 510<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,g,e,c,m,h,F,C,t){var v=this.label(a,g,e,t,null,null,null,null,"button"),d=0;v.attr(y({padding:8,r:2},m));var p,n,k,w;m=y({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},m);p=m.style;delete m.style;h=y(m,{fill:"#e6e6e6"},h);n=h.style;delete h.style;F=y(m,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},
F);k=F.style;delete F.style;C=y(m,{style:{color:"#cccccc"}},C);w=C.style;delete C.style;H(v.element,x?"mouseover":"mouseenter",function(){3!==d&&v.setState(1)});H(v.element,x?"mouseout":"mouseleave",function(){3!==d&&v.setState(d)});v.setState=function(a){1!==a&&(v.state=d=a);v.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]);v.attr([m,h,F,C][a||0]).css([p,n,k,w][a||0])};v.attr(m).css(b({cursor:"default"},
p));return v.on("click",function(a){3!==d&&c.call(v,a)})},crispLine:function(a,g){a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-g%2/2);a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+g%2/2);return a},path:function(a){var g={fill:"none"};w(a)?g.d=a:C(a)&&b(g,a);return this.createElement("path").attr(g)},circle:function(a,g,e){a=C(a)?a:{x:a,y:g,r:e};g=this.createElement("circle");g.xSetter=g.ySetter=function(a,g,e){e.setAttribute("c"+g,a)};return g.attr(a)},arc:function(a,g,e,b,c,m){C(a)?(b=a,g=b.y,e=b.r,a=b.x):
b={innerR:b,start:c,end:m};a=this.symbol("arc",a,g,e,e,b);a.r=e;return a},rect:function(a,g,e,b,c,m){c=C(a)?a.r:c;var v=this.createElement("rect");a=C(a)?a:void 0===a?{}:{x:a,y:g,width:Math.max(e,0),height:Math.max(b,0)};void 0!==m&&(a.strokeWidth=m,a=v.crisp(a));a.fill="none";c&&(a.r=c);v.rSetter=function(a,g,e){r(e,{rx:a,ry:a})};return v.attr(a)},setSize:function(a,g,e){var b=this.alignedObjects,v=b.length;this.width=a;this.height=g;for(this.boxWrapper.animate({width:a,height:g},{step:function(){this.attr({viewBox:"0 0 "+
this.attr("width")+" "+this.attr("height")})},duration:K(e,!0)?void 0:0});v--;)b[v].align()},g:function(a){var g=this.createElement("g");return a?g.attr({"class":"highcharts-"+a}):g},image:function(a,g,e,c,m){var v={preserveAspectRatio:"none"};1<arguments.length&&b(v,{x:g,y:e,width:c,height:m});v=this.createElement("image").attr(v);v.element.setAttributeNS?v.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):v.element.setAttribute("hc-svg-href",a);return v},symbol:function(a,g,e,c,m,
h){var v=this,F,x=this.symbols[a],y=u(g)&&x&&this.symbols[a](Math.round(g),Math.round(e),c,m,h),C=/^url\((.*?)\)$/,d,t;x?(F=this.path(y),F.attr("fill","none"),b(F,{symbolName:a,x:g,y:e,width:c,height:m}),h&&b(F,h)):C.test(a)&&(d=a.match(C)[1],F=this.image(d),F.imgwidth=K(P[d]&&P[d].width,h&&h.width),F.imgheight=K(P[d]&&P[d].height,h&&h.height),t=function(){F.attr({width:F.width,height:F.height})},z(["width","height"],function(a){F[a+"Setter"]=function(a,g){var e={},b=this["img"+g],v="width"===g?"translateX":
"translateY";this[g]=a;u(b)&&(this.element&&this.element.setAttribute(g,b),this.alignByTranslate||(e[v]=((this[g]||0)-b)/2,this.attr(e)))}}),u(g)&&F.attr({x:g,y:e}),F.isImg=!0,u(F.imgwidth)&&u(F.imgheight)?t():(F.attr({width:0,height:0}),k("img",{onload:function(){var a=f[v.chartIndex];0===this.width&&(q(this,{position:"absolute",top:"-999em"}),n.body.appendChild(this));P[d]={width:this.width,height:this.height};F.imgwidth=this.width;F.imgheight=this.height;F.element&&t();this.parentNode&&this.parentNode.removeChild(this);
v.imgCount--;if(!v.imgCount&&a&&a.onload)a.onload()},src:d}),this.imgCount++));return F},symbols:{circle:function(a,g,e,b){return this.arc(a+e/2,g+b/2,e/2,b/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,g,e,b){return["M",a,g,"L",a+e,g,a+e,g+b,a,g+b,"Z"]},triangle:function(a,g,e,b){return["M",a+e/2,g,"L",a+e,g+b,a,g+b,"Z"]},"triangle-down":function(a,g,e,b){return["M",a,g,"L",a+e,g,a+e/2,g+b,"Z"]},diamond:function(a,g,e,b){return["M",a+e/2,g,"L",a+e,g+b/2,a+e/2,g+b,a,g+b/2,"Z"]},arc:function(a,
g,e,b,c){var v=c.start,m=c.r||e,h=c.r||b||e,F=c.end-.001;e=c.innerR;b=c.open;var x=Math.cos(v),y=Math.sin(v),C=Math.cos(F),F=Math.sin(F);c=c.end-v<Math.PI?0:1;m=["M",a+m*x,g+h*y,"A",m,h,0,c,1,a+m*C,g+h*F];u(e)&&m.push(b?"M":"L",a+e*C,g+e*F,"A",e,e,0,c,0,a+e*x,g+e*y);m.push(b?"":"Z");return m},callout:function(a,g,e,b,c){var m=Math.min(c&&c.r||0,e,b),h=m+6,v=c&&c.anchorX;c=c&&c.anchorY;var F;F=["M",a+m,g,"L",a+e-m,g,"C",a+e,g,a+e,g,a+e,g+m,"L",a+e,g+b-m,"C",a+e,g+b,a+e,g+b,a+e-m,g+b,"L",a+m,g+b,"C",
a,g+b,a,g+b,a,g+b-m,"L",a,g+m,"C",a,g,a,g,a+m,g];v&&v>e?c>g+h&&c<g+b-h?F.splice(13,3,"L",a+e,c-6,a+e+6,c,a+e,c+6,a+e,g+b-m):F.splice(13,3,"L",a+e,b/2,v,c,a+e,b/2,a+e,g+b-m):v&&0>v?c>g+h&&c<g+b-h?F.splice(33,3,"L",a,c+6,a-6,c,a,c-6,a,g+m):F.splice(33,3,"L",a,b/2,v,c,a,b/2,a,g+m):c&&c>b&&v>a+h&&v<a+e-h?F.splice(23,3,"L",v+6,g+b,v,g+b+6,v-6,g+b,a+m,g+b):c&&0>c&&v>a+h&&v<a+e-h&&F.splice(3,3,"L",v-6,g,v,g-6,v+6,g,e-m,g);return F}},clipRect:function(g,e,b,c){var m=a.uniqueKey(),h=this.createElement("clipPath").attr({id:m}).add(this.defs);
g=this.rect(g,e,b,c,0).add(h);g.id=m;g.clipPath=h;g.count=0;return g},text:function(a,g,e,b){var c=!Q&&this.forExport,m={};if(b&&(this.allowHTML||!this.forExport))return this.html(a,g,e);m.x=Math.round(g||0);e&&(m.y=Math.round(e));if(a||0===a)m.text=a;a=this.createElement("text").attr(m);c&&a.css({position:"absolute"});b||(a.xSetter=function(a,g,e){var b=e.getElementsByTagName("tspan"),c,m=e.getAttribute(g),h;for(h=0;h<b.length;h++)c=b[h],c.getAttribute(g)===m&&c.setAttribute(g,a);e.setAttribute(g,
a)});return a},fontMetrics:function(a,g){a=a||g&&g.style&&g.style.fontSize||this.style&&this.style.fontSize;a=/px/.test(a)?J(a):/em/.test(a)?parseFloat(a)*(g?this.fontMetrics(null,g.parentNode).f:16):12;g=24>a?a+3:Math.round(1.2*a);return{h:g,b:Math.round(.8*g),f:a}},rotCorr:function(a,g,e){var b=a;g&&e&&(b=Math.max(b*Math.cos(g*d),4));return{x:-a/3*Math.sin(g*d),y:b}},label:function(e,c,m,h,F,x,C,d,t){var v=this,p=v.g("button"!==t&&"label"),n=p.text=v.text("",0,0,C).attr({zIndex:1}),k,w,E=0,f=3,
D=0,I,q,l,Q,N,K={},J,r,M=/^url\((.*?)\)$/.test(h),P=M,R,S,O,U;t&&p.addClass("highcharts-"+t);P=M;R=function(){return(J||0)%2/2};S=function(){var a=n.element.style,g={};w=(void 0===I||void 0===q||N)&&u(n.textStr)&&n.getBBox();p.width=(I||w.width||0)+2*f+D;p.height=(q||w.height||0)+2*f;r=f+v.fontMetrics(a&&a.fontSize,n).b;P&&(k||(p.box=k=v.symbols[h]||M?v.symbol(h):v.rect(),k.addClass(("button"===t?"":"highcharts-label-box")+(t?" highcharts-"+t+"-box":"")),k.add(p),a=R(),g.x=a,g.y=(d?-r:0)+a),g.width=
Math.round(p.width),g.height=Math.round(p.height),k.attr(b(g,K)),K={})};O=function(){var a=D+f,g;g=d?0:r;u(I)&&w&&("center"===N||"right"===N)&&(a+={center:.5,right:1}[N]*(I-w.width));if(a!==n.x||g!==n.y)n.attr("x",a),void 0!==g&&n.attr("y",g);n.x=a;n.y=g};U=function(a,g){k?k.attr(a,g):K[a]=g};p.onAdd=function(){n.add(p);p.attr({text:e||0===e?e:"",x:c,y:m});k&&u(F)&&p.attr({anchorX:F,anchorY:x})};p.widthSetter=function(g){I=a.isNumber(g)?g:null};p.heightSetter=function(a){q=a};p["text-alignSetter"]=
function(a){N=a};p.paddingSetter=function(a){u(a)&&a!==f&&(f=p.padding=a,O())};p.paddingLeftSetter=function(a){u(a)&&a!==D&&(D=a,O())};p.alignSetter=function(a){a={left:0,center:.5,right:1}[a];a!==E&&(E=a,w&&p.attr({x:l}))};p.textSetter=function(a){void 0!==a&&n.textSetter(a);S();O()};p["stroke-widthSetter"]=function(a,g){a&&(P=!0);J=this["stroke-width"]=a;U(g,a)};p.strokeSetter=p.fillSetter=p.rSetter=function(a,g){"fill"===g&&a&&(P=!0);U(g,a)};p.anchorXSetter=function(a,g){F=a;U(g,Math.round(a)-
R()-l)};p.anchorYSetter=function(a,g){x=a;U(g,a-Q)};p.xSetter=function(a){p.x=a;E&&(a-=E*((I||w.width)+2*f));l=Math.round(a);p.attr("translateX",l)};p.ySetter=function(a){Q=p.y=Math.round(a);p.attr("translateY",Q)};var W=p.css;return b(p,{css:function(a){if(a){var g={};a=y(a);z(p.textProps,function(e){void 0!==a[e]&&(g[e]=a[e],delete a[e])});n.css(g)}return W.call(p,a)},getBBox:function(){return{width:w.width+2*f,height:w.height+2*f,x:w.x-f,y:w.y-f}},shadow:function(a){a&&(S(),k&&k.shadow(a));return p},
destroy:function(){g(p.element,"mouseenter");g(p.element,"mouseleave");n&&(n=n.destroy());k&&(k=k.destroy());B.prototype.destroy.call(p);p=v=S=O=U=null}})}};a.Renderer=A})(L);(function(a){var B=a.attr,A=a.createElement,H=a.css,G=a.defined,r=a.each,f=a.extend,l=a.isFirefox,q=a.isMS,k=a.isWebKit,u=a.pInt,d=a.SVGRenderer,c=a.win,n=a.wrap;f(a.SVGElement.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();a&&"ellipsis"===
a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=f(this.styles,a);H(this.element,a);return this},htmlGetBBox:function(){var a=this.element;"text"===a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,h=this.translateY||0,d=this.x||0,n=this.y||0,w=this.textAlign||"left",e={left:0,center:.5,right:1}[w],x=this.styles;
H(b,{marginLeft:c,marginTop:h});this.shadows&&r(this.shadows,function(a){H(a,{marginLeft:c+1,marginTop:h+1})});this.inverted&&r(b.childNodes,function(e){a.invertChild(e,b)});if("SPAN"===b.tagName){var C=this.rotation,f=u(this.textWidth),m=x&&x.whiteSpace,y=[C,w,b.innerHTML,this.textWidth,this.textAlign].join();y!==this.cTT&&(x=a.fontMetrics(b.style.fontSize).b,G(C)&&this.setSpanRotation(C,e,x),H(b,{width:"",whiteSpace:m||"nowrap"}),b.offsetWidth>f&&/[ \-]/.test(b.textContent||b.innerText)&&H(b,{width:f+
"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(b.offsetWidth,x,e,C,w));H(b,{left:d+(this.xCorr||0)+"px",top:n+(this.yCorr||0)+"px"});k&&(x=b.offsetHeight);this.cTT=y}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,p){var h={},d=q?"-ms-transform":k?"-webkit-transform":l?"MozTransform":c.opera?"-o-transform":"";h[d]=h.transform="rotate("+a+"deg)";h[d+(l?"Origin":"-origin")]=h.transformOrigin=100*b+"% "+p+"px";H(this.element,h)},getSpanCorrection:function(a,b,c){this.xCorr=
-a*c;this.yCorr=-b}});f(d.prototype,{html:function(a,b,c){var h=this.createElement("span"),d=h.element,p=h.renderer,k=p.isSVG,e=function(a,e){r(["opacity","visibility"],function(b){n(a,b+"Setter",function(a,b,c,h){a.call(this,b,c,h);e[c]=b})})};h.textSetter=function(a){a!==d.innerHTML&&delete this.bBox;d.innerHTML=this.textStr=a;h.htmlUpdateTransform()};k&&e(h,h.element.style);h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(a,e){"align"===e&&(e="textAlign");h[e]=a;h.htmlUpdateTransform()};
h.attr({text:a,x:Math.round(b),y:Math.round(c)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"});d.style.whiteSpace="nowrap";h.css=h.htmlCss;k&&(h.add=function(a){var b,c=p.box.parentNode,m=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)m.push(a),a=a.parentGroup;r(m.reverse(),function(a){var x,d=B(a.element,"class");d&&(d={className:d});b=a.div=a.div||A("div",d,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,
opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||c);x=b.style;f(a,{on:function(){h.on.apply({element:m[0].div},arguments);return a},translateXSetter:function(e,g){x.left=e+"px";a[g]=e;a.doTransform=!0},translateYSetter:function(e,g){x.top=e+"px";a[g]=e;a.doTransform=!0}});e(a,x)})}}else b=c;b.appendChild(d);h.added=!0;h.alignOnAdd&&h.htmlUpdateTransform();return h});return h}})})(L);(function(a){var B,A,H=a.createElement,G=a.css,r=a.defined,f=a.deg2rad,l=a.discardElement,q=a.doc,
k=a.each,u=a.erase,d=a.extend;B=a.extendClass;var c=a.isArray,n=a.isNumber,z=a.isObject,b=a.merge;A=a.noop;var p=a.pick,h=a.pInt,t=a.SVGElement,D=a.SVGRenderer,w=a.win;a.svg||(A={docMode8:q&&8===q.documentMode,init:function(a,b){var e=["\x3c",b,' filled\x3d"f" stroked\x3d"f"'],c=["position: ","absolute",";"],m="div"===b;("shape"===b||m)&&c.push("left:0;top:0;width:1px;height:1px;");c.push("visibility: ",m?"hidden":"visible");e.push(' style\x3d"',c.join(""),'"/\x3e');b&&(e=m||"span"===b||"img"===b?
e.join(""):a.prepVML(e),this.element=H(e));this.renderer=a},add:function(a){var e=this.renderer,b=this.element,c=e.box,m=a&&a.inverted,c=a?a.element||a:c;a&&(this.parentGroup=a);m&&e.invertChild(b,c);c.appendChild(b);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();this.className&&this.attr("class",this.className);return this},updateTransform:t.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=Math.cos(a*f),c=
Math.sin(a*f);G(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11\x3d",b,", M12\x3d",-c,", M21\x3d",c,", M22\x3d",b,", sizingMethod\x3d'auto expand')"].join(""):"none"})},getSpanCorrection:function(a,b,c,h,m){var e=h?Math.cos(h*f):1,x=h?Math.sin(h*f):0,d=p(this.elemHeight,this.element.offsetHeight),t;this.xCorr=0>e&&-a;this.yCorr=0>x&&-d;t=0>e*x;this.xCorr+=x*b*(t?1-c:c);this.yCorr-=e*b*(h?t?c:1-c:1);m&&"left"!==m&&(this.xCorr-=a*c*(0>e?-1:1),h&&(this.yCorr-=d*c*(0>x?-1:1)),G(this.element,
{textAlign:m}))},pathToVML:function(a){for(var e=a.length,b=[];e--;)n(a[e])?b[e]=Math.round(10*a[e])-5:"Z"===a[e]?b[e]="x":(b[e]=a[e],!a.isArc||"wa"!==a[e]&&"at"!==a[e]||(b[e+5]===b[e+7]&&(b[e+7]+=a[e+7]>a[e+5]?1:-1),b[e+6]===b[e+8]&&(b[e+8]+=a[e+8]>a[e+6]?1:-1)));return b.join(" ")||"x"},clip:function(a){var e=this,b;a?(b=a.members,u(b,e),b.push(e),e.destroyClip=function(){u(b,e)},a=a.getCSS(e)):(e.destroyClip&&e.destroyClip(),a={clip:e.docMode8?"inherit":"rect(auto)"});return e.css(a)},css:t.prototype.htmlCss,
safeRemoveChild:function(a){a.parentNode&&l(a)},destroy:function(){this.destroyClip&&this.destroyClip();return t.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var a=w.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var e;a=a.split(/[ ,]/);e=a.length;if(9===e||11===e)a[e-4]=a[e-2]=h(a[e-2])-10*b;return a.join(" ")},shadow:function(a,b,c){var e=[],m,d=this.element,t=this.renderer,x,n=d.style,g,F=d.path,k,C,w,f;F&&"string"!==typeof F.value&&(F=
"x");C=F;if(a){w=p(a.width,3);f=(a.opacity||.15)/w;for(m=1;3>=m;m++)k=2*w+1-2*m,c&&(C=this.cutOffPath(F.value,k+.5)),g=['\x3cshape isShadow\x3d"true" strokeweight\x3d"',k,'" filled\x3d"false" path\x3d"',C,'" coordsize\x3d"10 10" style\x3d"',d.style.cssText,'" /\x3e'],x=H(t.prepVML(g),null,{left:h(n.left)+p(a.offsetX,1),top:h(n.top)+p(a.offsetY,1)}),c&&(x.cutOff=k+1),g=['\x3cstroke color\x3d"',a.color||"#000000",'" opacity\x3d"',f*m,'"/\x3e'],H(t.prepVML(g),null,null,x),b?b.element.appendChild(x):
d.parentNode.insertBefore(x,d),e.push(x);this.shadows=e}return this},updateShadows:A,setAttr:function(a,b){this.docMode8?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){(this.added?this.element:this).className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||H(this.renderer.prepVML(["\x3cstroke/\x3e"]),null,null,c))[b]=a||"solid";this[b]=a},dSetter:function(a,b,c){var e=this.shadows;a=a||[];this.d=a.join&&a.join(" ");c.path=a=this.pathToVML(a);if(e)for(c=
e.length;c--;)e[c].path=e[c].cutOff?this.cutOffPath(a,e[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var e=c.nodeName;"SPAN"===e?c.style.color=a:"IMG"!==e&&(c.filled="none"!==a,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},"fill-opacitySetter":function(a,b,c){H(this.renderer.prepVML(["\x3c",b.split("-")[0],' opacity\x3d"',a,'"/\x3e']),null,null,c)},opacitySetter:A,rotationSetter:function(a,b,c){c=c.style;this[b]=c[b]=a;c.left=-Math.round(Math.sin(a*f)+1)+"px";c.top=Math.round(Math.cos(a*
f))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b,this))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a;this[b]=a;n(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible");this.shadows&&k(this.shadows,function(e){e.style[b]=a});"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,this.docMode8||(c.style[b]=a?"visible":"hidden"),b="top");c.style[b]=a},xSetter:function(a,
b,c){this[b]=a;"x"===b?b="left":"y"===b&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},A["stroke-opacitySetter"]=A["fill-opacitySetter"],a.VMLElement=A=B(t,A),A.prototype.ySetter=A.prototype.widthSetter=A.prototype.heightSetter=A.prototype.xSetter,A={Element:A,isIE8:-1<w.navigator.userAgent.indexOf("MSIE 8.0"),init:function(a,b,c){var e,m;this.alignedObjects=[];e=this.createElement("div").css({position:"relative"});m=e.element;
a.appendChild(e.element);this.isVML=!0;this.box=m;this.boxWrapper=e;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,c,!1);if(!q.namespaces.hcv){q.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{q.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(y){q.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},
isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,h){var e=this.createElement(),p=z(a);return d(e,{members:[],count:0,left:(p?a.x:a)+1,top:(p?a.y:b)+1,width:(p?a.width:c)-1,height:(p?a.height:h)-1,getCSS:function(a){var b=a.element,c=b.nodeName,g=a.inverted,e=this.top-("shape"===c?b.offsetTop:0),m=this.left,b=m+this.width,h=e+this.height,e={clip:"rect("+Math.round(g?m:e)+"px,"+Math.round(g?h:b)+"px,"+Math.round(g?b:h)+"px,"+Math.round(g?e:m)+"px)"};!g&&a.docMode8&&"DIV"===c&&
d(e,{width:b+"px",height:h+"px"});return e},updateClipping:function(){k(e.members,function(a){a.element&&a.css(e.getCSS(a))})}})},color:function(b,c,h,d){var e=this,p,t=/^rgba/,n,x,g="none";b&&b.linearGradient?x="gradient":b&&b.radialGradient&&(x="pattern");if(x){var F,w,f=b.linearGradient||b.radialGradient,C,u,v,D,q,l="";b=b.stops;var z,E=[],r=function(){n=['\x3cfill colors\x3d"'+E.join(",")+'" opacity\x3d"',v,'" o:opacity2\x3d"',u,'" type\x3d"',x,'" ',l,'focus\x3d"100%" method\x3d"any" /\x3e'];
H(e.prepVML(n),null,null,c)};C=b[0];z=b[b.length-1];0<C[0]&&b.unshift([0,C[1]]);1>z[0]&&b.push([1,z[1]]);k(b,function(g,b){t.test(g[1])?(p=a.color(g[1]),F=p.get("rgb"),w=p.get("a")):(F=g[1],w=1);E.push(100*g[0]+"% "+F);b?(v=w,D=F):(u=w,q=F)});if("fill"===h)if("gradient"===x)h=f.x1||f[0]||0,b=f.y1||f[1]||0,C=f.x2||f[2]||0,f=f.y2||f[3]||0,l='angle\x3d"'+(90-180*Math.atan((f-b)/(C-h))/Math.PI)+'"',r();else{var g=f.r,A=2*g,B=2*g,G=f.cx,V=f.cy,L=c.radialReference,T,g=function(){L&&(T=d.getBBox(),G+=(L[0]-
T.x)/T.width-.5,V+=(L[1]-T.y)/T.height-.5,A*=L[2]/T.width,B*=L[2]/T.height);l='src\x3d"'+a.getOptions().global.VMLRadialGradientURL+'" size\x3d"'+A+","+B+'" origin\x3d"0.5,0.5" position\x3d"'+G+","+V+'" color2\x3d"'+q+'" ';r()};d.added?g():d.onAdd=g;g=D}else g=F}else t.test(b)&&"IMG"!==c.tagName?(p=a.color(b),d[h+"-opacitySetter"](p.get("a"),h,c),g=p.get("rgb")):(g=c.getElementsByTagName(h),g.length&&(g[0].opacity=1,g[0].type="solid"),g=b);return g},prepVML:function(a){var b=this.isIE8;a=a.join("");
b?(a=a.replace("/\x3e",' xmlns\x3d"urn:schemas-microsoft-com:vml" /\x3e'),a=-1===a.indexOf('style\x3d"')?a.replace("/\x3e",' style\x3d"display:inline-block;behavior:url(#default#VML);" /\x3e'):a.replace('style\x3d"','style\x3d"display:inline-block;behavior:url(#default#VML);')):a=a.replace("\x3c","\x3chcv:");return a},text:D.prototype.html,path:function(a){var b={coordsize:"10 10"};c(a)?b.d=a:z(a)&&d(b,a);return this.createElement("shape").attr(b)},circle:function(a,b,c){var e=this.symbol("circle");
z(a)&&(c=a.r,b=a.y,a=a.x);e.isCircle=!0;e.r=c;return e.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement("div").attr(b)},image:function(a,b,c,h,m){var e=this.createElement("img").attr({src:a});1<arguments.length&&e.attr({x:b,y:c,width:h,height:m});return e},createElement:function(a){return"rect"===a?this.symbol(a):D.prototype.createElement.call(this,a)},invertChild:function(a,b){var c=this;b=b.style;var e="IMG"===a.tagName&&a.style;
G(a,{flip:"x",left:h(b.width)-(e?h(e.top):1),top:h(b.height)-(e?h(e.left):1),rotation:-90});k(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function(a,b,c,h,m){var e=m.start,d=m.end,p=m.r||c||h;c=m.innerR;h=Math.cos(e);var t=Math.sin(e),g=Math.cos(d),F=Math.sin(d);if(0===d-e)return["x"];e=["wa",a-p,b-p,a+p,b+p,a+p*h,b+p*t,a+p*g,b+p*F];m.open&&!c&&e.push("e","M",a,b);e.push("at",a-c,b-c,a+c,b+c,a+c*g,b+c*F,a+c*h,b+c*t,"x","e");e.isArc=!0;return e},circle:function(a,b,c,h,m){m&&r(m.r)&&
(c=h=2*m.r);m&&m.isCircle&&(a-=c/2,b-=h/2);return["wa",a,b,a+c,b+h,a+c,b+h/2,a+c,b+h/2,"e"]},rect:function(a,b,c,h,m){return D.prototype.symbols[r(m)&&m.r?"callout":"square"].call(0,a,b,c,h,m)}}},a.VMLRenderer=B=function(){this.init.apply(this,arguments)},B.prototype=b(D.prototype,A),a.Renderer=B);D.prototype.measureSpanWidth=function(a,b){var c=q.createElement("span");a=q.createTextNode(a);c.appendChild(a);G(c,b);this.box.appendChild(c);b=c.offsetWidth;l(c);return b}})(L);(function(a){function B(){var k=
a.defaultOptions.global,f=q.moment;if(k.timezone){if(f)return function(a){return-f.tz(a,k.timezone).utcOffset()};a.error(25)}return k.useUTC&&k.getTimezoneOffset}function A(){var k=a.defaultOptions.global,f,d=k.useUTC,c=d?"getUTC":"get",n=d?"setUTC":"set";a.Date=f=k.Date||q.Date;f.hcTimezoneOffset=d&&k.timezoneOffset;f.hcGetTimezoneOffset=B();f.hcMakeTime=function(a,b,c,h,t,n){var p;d?(p=f.UTC.apply(0,arguments),p+=r(p)):p=(new f(a,b,l(c,1),l(h,0),l(t,0),l(n,0))).getTime();return p};G("Minutes Hours Day Date Month FullYear".split(" "),
function(a){f["hcGet"+a]=c+a});G("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(a){f["hcSet"+a]=n+a})}var H=a.color,G=a.each,r=a.getTZOffset,f=a.merge,l=a.pick,q=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.10/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},
position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},
itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,
dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:H("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',
shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};a.setOptions=function(k){a.defaultOptions=f(!0,a.defaultOptions,k);A();return a.defaultOptions};a.getOptions=function(){return a.defaultOptions};a.defaultPlotOptions=a.defaultOptions.plotOptions;A()})(L);
(function(a){var B=a.arrayMax,A=a.arrayMin,H=a.defined,G=a.destroyObjectProperties,r=a.each,f=a.erase,l=a.merge,q=a.pick;a.PlotLineOrBand=function(a,f){this.axis=a;f&&(this.options=f,this.id=f.id)};a.PlotLineOrBand.prototype={render:function(){var a=this,f=a.axis,d=f.horiz,c=a.options,n=c.label,z=a.label,b=c.to,p=c.from,h=c.value,t=H(p)&&H(b),D=H(h),w=a.svgElem,e=!w,x=[],C,E=c.color,m=q(c.zIndex,0),y=c.events,x={"class":"highcharts-plot-"+(t?"band ":"line ")+(c.className||"")},I={},r=f.chart.renderer,
J=t?"bands":"lines",g=f.log2lin;f.isLog&&(p=g(p),b=g(b),h=g(h));D?(x={stroke:E,"stroke-width":c.width},c.dashStyle&&(x.dashstyle=c.dashStyle)):t&&(E&&(x.fill=E),c.borderWidth&&(x.stroke=c.borderColor,x["stroke-width"]=c.borderWidth));I.zIndex=m;J+="-"+m;(E=f.plotLinesAndBandsGroups[J])||(f.plotLinesAndBandsGroups[J]=E=r.g("plot-"+J).attr(I).add());e&&(a.svgElem=w=r.path().attr(x).add(E));if(D)x=f.getPlotLinePath(h,w.strokeWidth());else if(t)x=f.getPlotBandPath(p,b,c);else return;if(e&&x&&x.length){if(w.attr({d:x}),
y)for(C in c=function(g){w.on(g,function(b){y[g].apply(a,[b])})},y)c(C)}else w&&(x?(w.show(),w.animate({d:x})):(w.hide(),z&&(a.label=z=z.destroy())));n&&H(n.text)&&x&&x.length&&0<f.width&&0<f.height&&!x.flat?(n=l({align:d&&t&&"center",x:d?!t&&4:10,verticalAlign:!d&&t&&"middle",y:d?t?16:10:t?6:-4,rotation:d&&!t&&90},n),this.renderLabel(n,x,t,m)):z&&z.hide();return a},renderLabel:function(a,f,d,c){var n=this.label,k=this.axis.chart.renderer;n||(n={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+
(d?"band":"line")+"-label "+(a.className||"")},n.zIndex=c,this.label=n=k.text(a.text,0,0,a.useHTML).attr(n).add(),n.css(a.style));c=[f[1],f[4],d?f[6]:f[1]];f=[f[2],f[5],d?f[7]:f[2]];d=A(c);k=A(f);n.align(a,!1,{x:d,y:k,width:B(c)-d,height:B(f)-k});n.show()},destroy:function(){f(this.axis.plotLinesAndBands,this);delete this.axis;G(this)}};a.AxisPlotLineOrBandExtension={getPlotBandPath:function(a,f){var d=this.getPlotLinePath(f,null,null,!0),c=this.getPlotLinePath(a,null,null,!0),n=this.horiz,k=1;a=
a<this.min&&f<this.min||a>this.max&&f>this.max;c&&d?(a&&(c.flat=c.toString()===d.toString(),k=0),c.push(n&&d[4]===c[4]?d[4]+k:d[4],n||d[5]!==c[5]?d[5]:d[5]+k,n&&d[1]===c[1]?d[1]+k:d[1],n||d[2]!==c[2]?d[2]:d[2]+k)):c=null;return c},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(f,q){var d=(new a.PlotLineOrBand(this,f)).render(),c=this.userOptions;d&&(q&&(c[q]=c[q]||[],c[q].push(f)),
this.plotLinesAndBands.push(d));return d},removePlotBandOrLine:function(a){for(var k=this.plotLinesAndBands,d=this.options,c=this.userOptions,n=k.length;n--;)k[n].id===a&&k[n].destroy();r([d.plotLines||[],c.plotLines||[],d.plotBands||[],c.plotBands||[]],function(c){for(n=c.length;n--;)c[n].id===a&&f(c,c[n])})}}})(L);(function(a){var B=a.correctFloat,A=a.defined,H=a.destroyObjectProperties,G=a.isNumber,r=a.merge,f=a.pick,l=a.deg2rad;a.Tick=function(a,f,l,d){this.axis=a;this.pos=f;this.type=l||"";this.isNew=
!0;l||d||this.addLabel()};a.Tick.prototype={addLabel:function(){var a=this.axis,k=a.options,l=a.chart,d=a.categories,c=a.names,n=this.pos,z=k.labels,b=a.tickPositions,p=n===b[0],h=n===b[b.length-1],c=d?f(d[n],c[n],n):n,d=this.label,b=b.info,t;a.isDatetimeAxis&&b&&(t=k.dateTimeLabelFormats[b.higherRanks[n]||b.unitName]);this.isFirst=p;this.isLast=h;k=a.labelFormatter.call({axis:a,chart:l,isFirst:p,isLast:h,dateTimeLabelFormat:t,value:a.isLog?B(a.lin2log(c)):c});A(d)?d&&d.attr({text:k}):(this.labelLength=
(this.label=d=A(k)&&z.enabled?l.renderer.text(k,0,0,z.useHTML).css(r(z.style)).add(a.labelGroup):null)&&d.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var k=this.axis,q=a.x,d=k.chart.chartWidth,c=k.chart.spacing,n=f(k.labelLeft,Math.min(k.pos,c[3])),c=f(k.labelRight,Math.max(k.pos+k.len,d-c[1])),z=this.label,b=this.rotation,p={left:0,center:.5,right:1}[k.labelAlign],h=z.getBBox().width,
t=k.getSlotWidth(),D=t,w=1,e,x={};if(b)0>b&&q-p*h<n?e=Math.round(q/Math.cos(b*l)-n):0<b&&q+p*h>c&&(e=Math.round((d-q)/Math.cos(b*l)));else if(d=q+(1-p)*h,q-p*h<n?D=a.x+D*(1-p)-n:d>c&&(D=c-a.x+D*p,w=-1),D=Math.min(t,D),D<t&&"center"===k.labelAlign&&(a.x+=w*(t-D-p*(t-Math.min(h,D)))),h>D||k.autoRotation&&(z.styles||{}).width)e=D;e&&(x.width=e,(k.options.labels.style||{}).textOverflow||(x.textOverflow="ellipsis"),z.css(x))},getPosition:function(a,f,l,d){var c=this.axis,n=c.chart,k=d&&n.oldChartHeight||
n.chartHeight;return{x:a?c.translate(f+l,null,null,d)+c.transB:c.left+c.offset+(c.opposite?(d&&n.oldChartWidth||n.chartWidth)-c.right-c.left:0),y:a?k-c.bottom+c.offset-(c.opposite?c.height:0):k-c.translate(f+l,null,null,d)-c.transB}},getLabelPosition:function(a,f,u,d,c,n,z,b){var p=this.axis,h=p.transA,t=p.reversed,k=p.staggerLines,w=p.tickRotCorr||{x:0,y:0},e=c.y;A(e)||(e=0===p.side?u.rotation?-8:-u.getBBox().height:2===p.side?w.y+8:Math.cos(u.rotation*l)*(w.y-u.getBBox(!1,0).height/2));a=a+c.x+
w.x-(n&&d?n*h*(t?-1:1):0);f=f+e-(n&&!d?n*h*(t?1:-1):0);k&&(u=z/(b||1)%k,p.opposite&&(u=k-u-1),f+=p.labelOffset/k*u);return{x:a,y:Math.round(f)}},getMarkPath:function(a,f,l,d,c,n){return n.crispLine(["M",a,f,"L",a+(c?0:-l),f+(c?l:0)],d)},renderGridLine:function(a,f,l){var d=this.axis,c=d.options,n=this.gridLine,k={},b=this.pos,p=this.type,h=d.tickmarkOffset,t=d.chart.renderer,D=p?p+"Grid":"grid",w=c[D+"LineWidth"],e=c[D+"LineColor"],c=c[D+"LineDashStyle"];n||(k.stroke=e,k["stroke-width"]=w,c&&(k.dashstyle=
c),p||(k.zIndex=1),a&&(k.opacity=0),this.gridLine=n=t.path().attr(k).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(d.gridGroup));if(!a&&n&&(a=d.getPlotLinePath(b+h,n.strokeWidth()*l,a,!0)))n[this.isNew?"attr":"animate"]({d:a,opacity:f})},renderMark:function(a,k,l){var d=this.axis,c=d.options,n=d.chart.renderer,q=this.type,b=q?q+"Tick":"tick",p=d.tickSize(b),h=this.mark,t=!h,D=a.x;a=a.y;var w=f(c[b+"Width"],!q&&d.isXAxis?1:0),c=c[b+"Color"];p&&(d.opposite&&(p[0]=-p[0]),t&&(this.mark=h=n.path().addClass("highcharts-"+
(q?q+"-":"")+"tick").add(d.axisGroup),h.attr({stroke:c,"stroke-width":w})),h[t?"attr":"animate"]({d:this.getMarkPath(D,a,p[0],h.strokeWidth()*l,d.horiz,n),opacity:k}))},renderLabel:function(a,k,l,d){var c=this.axis,n=c.horiz,q=c.options,b=this.label,p=q.labels,h=p.step,t=c.tickmarkOffset,D=!0,w=a.x;a=a.y;b&&G(w)&&(b.xy=a=this.getLabelPosition(w,a,b,n,p,t,d,h),this.isFirst&&!this.isLast&&!f(q.showFirstLabel,1)||this.isLast&&!this.isFirst&&!f(q.showLastLabel,1)?D=!1:!n||c.isRadial||p.step||p.rotation||
k||0===l||this.handleOverflow(a),h&&d%h&&(D=!1),D&&G(a.y)?(a.opacity=l,b[this.isNew?"attr":"animate"](a)):b.attr("y",-9999),this.isNew=!1)},render:function(a,k,l){var d=this.axis,c=d.horiz,n=this.getPosition(c,this.pos,d.tickmarkOffset,k),q=n.x,b=n.y,d=c&&q===d.pos+d.len||!c&&b===d.pos?-1:1;l=f(l,1);this.isActive=!0;this.renderGridLine(k,l,d);this.renderMark(n,l,d);this.renderLabel(n,k,l,a)},destroy:function(){H(this,this.axis)}}})(L);(function(a){var B=a.addEvent,A=a.animObject,H=a.arrayMax,G=a.arrayMin,
r=a.AxisPlotLineOrBandExtension,f=a.color,l=a.correctFloat,q=a.defaultOptions,k=a.defined,u=a.deg2rad,d=a.destroyObjectProperties,c=a.each,n=a.extend,z=a.fireEvent,b=a.format,p=a.getMagnitude,h=a.grep,t=a.inArray,D=a.isArray,w=a.isNumber,e=a.isString,x=a.merge,C=a.normalizeTickInterval,E=a.pick,m=a.PlotLineOrBand,y=a.removeEvent,I=a.splat,K=a.syncTimeout,J=a.Tick;a.Axis=function(){this.init.apply(this,arguments)};a.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",
minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",
lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},
defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,b){var g=b.isX;this.chart=a;this.horiz=a.inverted?!g:g;this.isXAxis=g;this.coll=this.coll||(g?"xAxis":"yAxis");this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var c=this.options,e=c.type;this.labelFormatter=c.labels.formatter||
this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.reversed=c.reversed;this.visible=!1!==c.visible;this.zoomEnabled=!1!==c.zoomEnabled;this.hasNames="category"===e||!0===c.categories;this.categories=c.categories||this.hasNames;this.names=this.names||[];this.plotLinesAndBandsGroups={};this.isLog="logarithmic"===e;this.isDatetimeAxis="datetime"===e;this.positiveValuesOnly=this.isLog&&!this.allowNegativeLog;this.isLinked=k(c.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks=
{};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=c.minRange||c.maxZoom;this.range=c.range;this.offset=c.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=E(c.crosshair,I(a.options.tooltip.crosshairs)[g?0:1],!1);var h;b=this.options.events;-1===t(this,a.axes)&&(g?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];a.inverted&&g&&void 0===this.reversed&&
(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(h in b)B(this,h,b[h]);this.lin2log=c.linearToLogConverter||this.lin2log;this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(a){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(q[this.coll],a))},defaultLabelFormatter:function(){var g=
this.axis,c=this.value,e=g.categories,h=this.dateTimeLabelFormat,m=q.lang,d=m.numericSymbols,m=m.numericSymbolMagnitude||1E3,v=d&&d.length,p,t=g.options.labels.format,g=g.isLog?Math.abs(c):g.tickInterval;if(t)p=b(t,this);else if(e)p=c;else if(h)p=a.dateFormat(h,c);else if(v&&1E3<=g)for(;v--&&void 0===p;)e=Math.pow(m,v+1),g>=e&&0===10*c%e&&null!==d[v]&&0!==c&&(p=a.numberFormat(c/e,-1)+d[v]);void 0===p&&(p=1E4<=Math.abs(c)?a.numberFormat(c,-1):a.numberFormat(c,-1,void 0,""));return p},getSeriesExtremes:function(){var a=
this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();c(a.series,function(g){if(g.visible||!b.options.chart.ignoreHiddenSeries){var c=g.options,e=c.threshold,m;a.hasVisibleSeries=!0;a.positiveValuesOnly&&0>=e&&(e=null);if(a.isXAxis)c=g.xData,c.length&&(g=G(c),w(g)||g instanceof Date||(c=h(c,function(a){return w(a)}),g=G(c)),a.dataMin=Math.min(E(a.dataMin,c[0]),g),a.dataMax=Math.max(E(a.dataMax,c[0]),H(c)));else if(g.getExtremes(),
m=g.dataMax,g=g.dataMin,k(g)&&k(m)&&(a.dataMin=Math.min(E(a.dataMin,g),g),a.dataMax=Math.max(E(a.dataMax,m),m)),k(e)&&(a.threshold=e),!c.softThreshold||a.positiveValuesOnly)a.softThreshold=!1}})},translate:function(a,b,c,e,h,m){var g=this.linkedParent||this,F=1,p=0,d=e?g.oldTransA:g.transA;e=e?g.oldMin:g.min;var t=g.minPixelPadding;h=(g.isOrdinal||g.isBroken||g.isLog&&h)&&g.lin2val;d||(d=g.transA);c&&(F*=-1,p=g.len);g.reversed&&(F*=-1,p-=F*(g.sector||g.len));b?(a=(a*F+p-t)/d+e,h&&(a=g.lin2val(a))):
(h&&(a=g.val2lin(a)),a=F*(a-e)*d+p+F*t+(w(m)?d*m:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,e,h){var g=this.chart,m=this.left,F=this.top,p,d,t=c&&g.oldChartHeight||g.chartHeight,f=c&&g.oldChartWidth||g.chartWidth,n;p=this.transB;var y=function(a,b,g){if(a<b||a>g)e?a=Math.min(Math.max(b,a),g):n=!0;return a};h=E(h,this.translate(a,
null,null,c));a=c=Math.round(h+p);p=d=Math.round(t-h-p);w(h)?this.horiz?(p=F,d=t-this.bottom,a=c=y(a,m,m+this.width)):(a=m,c=f-this.right,p=d=y(p,F,F+this.height)):n=!0;return n&&!e?null:g.renderer.crispLine(["M",a,p,"L",c,d],b||1)},getLinearTickPositions:function(a,b,c){var g,e=l(Math.floor(b/a)*a);c=l(Math.ceil(c/a)*a);var h=[];if(this.single)return[b];for(b=e;b<=c;){h.push(b);b=l(b+a);if(b===g)break;g=b}return h},getMinorTickPositions:function(){var a=this,b=a.options,e=a.tickPositions,h=a.minorTickInterval,
m=[],p=a.pointRangePadding||0,v=a.min-p,p=a.max+p,d=p-v;if(d&&d/h<a.len/3)if(a.isLog)c(this.paddedTicks,function(b,g,c){g&&m.push.apply(m,a.getLogTickPositions(h,c[g-1],c[g],!0))});else if(a.isDatetimeAxis&&"auto"===b.minorTickInterval)m=m.concat(a.getTimeTicks(a.normalizeTimeTickInterval(h),v,p,b.startOfWeek));else for(b=v+(e[0]-v)%h;b<=p&&b!==m[0];b+=h)m.push(b);0!==m.length&&a.trimTicks(m);return m},adjustForMinRange:function(){var a=this.options,b=this.min,e=this.max,h,m=this.dataMax-this.dataMin>=
this.minRange,p,v,d,t,f,n;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(k(a.min)||k(a.max)?this.minRange=null:(c(this.series,function(a){t=a.xData;for(v=f=a.xIncrement?1:t.length-1;0<v;v--)if(d=t[v]-t[v-1],void 0===p||d<p)p=d}),this.minRange=Math.min(5*p,this.dataMax-this.dataMin)));e-b<this.minRange&&(n=this.minRange,h=(n-e+b)/2,h=[b-h,E(a.min,b-h)],m&&(h[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=H(h),e=[b+n,E(a.max,b+n)],m&&(e[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),
e=G(e),e-b<n&&(h[0]=e-n,h[1]=E(a.min,e-n),b=H(h)));this.min=b;this.max=e},getClosest:function(){var a;this.categories?a=1:c(this.series,function(b){var g=b.closestPointRange,c=b.visible||!b.chart.options.chart.ignoreHiddenSeries;!b.noSharedTooltip&&k(g)&&c&&(a=k(a)?Math.min(a,g):g)});return a},nameToX:function(a){var b=D(this.categories),g=b?this.categories:this.names,c=a.options.x,e;a.series.requireSorting=!1;k(c)||(c=!1===this.options.uniqueNames?a.series.autoIncrement():t(a.name,g));-1===c?b||
(e=g.length):e=c;void 0!==e&&(this.names[e]=a.name);return e},updateNames:function(){var a=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,c(this.series||[],function(b){b.xIncrement=null;if(!b.points||b.isDirtyData)b.processData(),b.generatePoints();c(b.points,function(g,c){var e;g.options&&(e=a.nameToX(g),void 0!==e&&e!==g.x&&(g.x=e,b.xData[c]=e))})}))},setAxisTranslation:function(a){var b=this,g=b.max-b.min,h=b.axisPointRange||0,m,p=0,v=0,d=b.linkedParent,t=!!b.categories,f=
b.transA,n=b.isXAxis;if(n||t||h)m=b.getClosest(),d?(p=d.minPointOffset,v=d.pointRangePadding):c(b.series,function(a){var g=t?1:n?E(a.options.pointRange,m,0):b.axisPointRange||0;a=a.options.pointPlacement;h=Math.max(h,g);b.single||(p=Math.max(p,e(a)?0:g/2),v=Math.max(v,"on"===a?0:g))}),d=b.ordinalSlope&&m?b.ordinalSlope/m:1,b.minPointOffset=p*=d,b.pointRangePadding=v*=d,b.pointRange=Math.min(h,g),n&&(b.closestPointRange=m);a&&(b.oldTransA=f);b.translationSlope=b.transA=f=b.options.staticScale||b.len/
(g+v||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=f*p},minFromRange:function(){return this.max-this.range},setTickInterval:function(b){var g=this,e=g.chart,h=g.options,m=g.isLog,d=g.log2lin,v=g.isDatetimeAxis,t=g.isXAxis,f=g.isLinked,n=h.maxPadding,y=h.minPadding,x=h.tickInterval,D=h.tickPixelInterval,I=g.categories,q=g.threshold,u=g.softThreshold,r,K,J,A;v||I||f||this.getTickAmount();J=E(g.userMin,h.min);A=E(g.userMax,h.max);f?(g.linkedParent=e[g.coll][h.linkedTo],e=g.linkedParent.getExtremes(),
g.min=E(e.min,e.dataMin),g.max=E(e.max,e.dataMax),h.type!==g.linkedParent.options.type&&a.error(11,1)):(!u&&k(q)&&(g.dataMin>=q?(r=q,y=0):g.dataMax<=q&&(K=q,n=0)),g.min=E(J,r,g.dataMin),g.max=E(A,K,g.dataMax));m&&(g.positiveValuesOnly&&!b&&0>=Math.min(g.min,E(g.dataMin,g.min))&&a.error(10,1),g.min=l(d(g.min),15),g.max=l(d(g.max),15));g.range&&k(g.max)&&(g.userMin=g.min=J=Math.max(g.min,g.minFromRange()),g.userMax=A=g.max,g.range=null);z(g,"foundExtremes");g.beforePadding&&g.beforePadding();g.adjustForMinRange();
!(I||g.axisPointRange||g.usePercentage||f)&&k(g.min)&&k(g.max)&&(d=g.max-g.min)&&(!k(J)&&y&&(g.min-=d*y),!k(A)&&n&&(g.max+=d*n));w(h.softMin)&&(g.min=Math.min(g.min,h.softMin));w(h.softMax)&&(g.max=Math.max(g.max,h.softMax));w(h.floor)&&(g.min=Math.max(g.min,h.floor));w(h.ceiling)&&(g.max=Math.min(g.max,h.ceiling));u&&k(g.dataMin)&&(q=q||0,!k(J)&&g.min<q&&g.dataMin>=q?g.min=q:!k(A)&&g.max>q&&g.dataMax<=q&&(g.max=q));g.tickInterval=g.min===g.max||void 0===g.min||void 0===g.max?1:f&&!x&&D===g.linkedParent.options.tickPixelInterval?
x=g.linkedParent.tickInterval:E(x,this.tickAmount?(g.max-g.min)/Math.max(this.tickAmount-1,1):void 0,I?1:(g.max-g.min)*D/Math.max(g.len,D));t&&!b&&c(g.series,function(a){a.processData(g.min!==g.oldMin||g.max!==g.oldMax)});g.setAxisTranslation(!0);g.beforeSetTickPositions&&g.beforeSetTickPositions();g.postProcessTickInterval&&(g.tickInterval=g.postProcessTickInterval(g.tickInterval));g.pointRange&&!x&&(g.tickInterval=Math.max(g.pointRange,g.tickInterval));b=E(h.minTickInterval,g.isDatetimeAxis&&g.closestPointRange);
!x&&g.tickInterval<b&&(g.tickInterval=b);v||m||x||(g.tickInterval=C(g.tickInterval,null,p(g.tickInterval),E(h.allowDecimals,!(.5<g.tickInterval&&5>g.tickInterval&&1E3<g.max&&9999>g.max)),!!this.tickAmount));this.tickAmount||(g.tickInterval=g.unsquish());this.setTickPositions()},setTickPositions:function(){var a=this.options,b,c=a.tickPositions,e=a.tickPositioner,h=a.startOnTick,m=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval=
"auto"===a.minorTickInterval&&this.tickInterval?this.tickInterval/5:a.minorTickInterval;this.single=this.min===this.max&&k(this.min)&&!this.tickAmount&&!1!==a.allowDecimals;this.tickPositions=b=c&&c.slice();!b&&(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,
this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,e&&(e=e.apply(this,[this.min,this.max])))&&(this.tickPositions=b=e);this.paddedTicks=b.slice(0);this.trimTicks(b,h,m);this.isLinked||(this.single&&(this.min-=.5,this.max+=.5),c||e||this.adjustTickAmount())},trimTicks:function(a,b,c){var g=a[0],e=a[a.length-1],h=this.minPointOffset||0;if(!this.isLinked){if(b&&-Infinity!==g)this.min=g;else for(;this.min-h>a[0];)a.shift();if(c)this.max=e;else for(;this.max+h<a[a.length-1];)a.pop();
0===a.length&&k(g)&&a.push((e+g)/2)}},alignToOthers:function(){var a={},b,e=this.options;!1===this.chart.options.chart.alignTicks||!1===e.alignTicks||this.isLog||c(this.chart[this.coll],function(g){var c=g.options,c=[g.horiz?c.left:c.top,c.width,c.height,c.pane].join();g.series.length&&(a[c]?b=!0:a[c]=1)});return b},getTickAmount:function(){var a=this.options,b=a.tickAmount,c=a.tickPixelInterval;!k(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2);!b&&this.alignToOthers()&&
(b=Math.ceil(this.len/c)+1);4>b&&(this.finalTickAmt=b,b=5);this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,e=this.finalTickAmt,h=b&&b.length;if(h<c){for(;b.length<c;)b.push(l(b[b.length-1]+a));this.transA*=(h-1)/(c-1);this.max=b[b.length-1]}else h>c&&(this.tickInterval*=2,this.setTickPositions());if(k(e)){for(a=c=b.length;a--;)(3===e&&1===a%2||2>=e&&0<a&&a<c-1)&&b.splice(a,1);this.finalTickAmt=void 0}},setScale:function(){var a,b;this.oldMin=
this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;c(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=!0});b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=
b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,b,e,h,m){var g=this,p=g.chart;e=E(e,!0);c(g.series,function(a){delete a.kdTree});m=n(m,{min:a,max:b});z(g,"setExtremes",m,function(){g.userMin=a;g.userMax=b;g.eventArgs=m;e&&p.redraw(h)})},zoom:function(a,b){var g=this.dataMin,c=this.dataMax,e=this.options,h=Math.min(g,E(e.min,g)),e=Math.max(c,E(e.max,c));if(a!==this.min||b!==this.max)this.allowZoomOutside||(k(g)&&(a<h&&(a=h),a>e&&(a=e)),
k(c)&&(b<h&&(b=h),b>e&&(b=e))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"});return!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsets||[0,0,0,0],e=this.horiz,h=E(b.width,a.plotWidth-c[3]+c[1]),m=E(b.height,a.plotHeight-c[0]+c[2]),p=E(b.top,a.plotTop+c[0]),b=E(b.left,a.plotLeft+c[3]),c=/%$/;c.test(m)&&(m=Math.round(parseFloat(m)/100*a.plotHeight));c.test(p)&&(p=Math.round(parseFloat(p)/100*a.plotHeight+a.plotTop));this.left=b;this.top=p;
this.width=h;this.height=m;this.bottom=a.chartHeight-m-p;this.right=a.chartWidth-h-b;this.len=Math.max(e?h:m,0);this.pos=e?b:p},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?l(b(this.min)):this.min,max:a?l(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,g=this.lin2log,c=b?g(this.min):this.min,b=b?g(this.max):this.max;null===a?a=c:c>a?a=c:b<a&&(a=b);return this.translate(a,0,
1,0,1)},autoLabelAlign:function(a){a=(E(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function(a){var b=this.options,g=b[a+"Length"],c=E(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(c&&g)return"inside"===b[a+"Position"]&&(g=-g),[g,c]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var a=this.options.labels,b=this.horiz,
e=this.tickInterval,h=e,m=this.len/(((this.categories?1:0)+this.max-this.min)/e),p,d=a.rotation,t=this.labelMetrics(),f,n=Number.MAX_VALUE,y,w=function(a){a/=m||1;a=1<a?Math.ceil(a):1;return a*e};b?(y=!a.staggerLines&&!a.step&&(k(d)?[d]:m<E(a.autoRotationLimit,80)&&a.autoRotation))&&c(y,function(a){var b;if(a===d||a&&-90<=a&&90>=a)f=w(Math.abs(t.h/Math.sin(u*a))),b=f+Math.abs(a/360),b<n&&(n=b,p=a,h=f)}):a.step||(h=w(t.h));this.autoRotation=y;this.labelRotation=E(p,d);return h},getSlotWidth:function(){var a=
this.chart,b=this.horiz,c=this.options.labels,e=Math.max(this.tickPositions.length-(this.categories?0:1),1),h=a.margin[3];return b&&2>(c.step||0)&&!c.rotation&&(this.staggerLines||1)*this.len/e||!b&&(h&&h-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var a=this.chart,b=a.renderer,h=this.tickPositions,m=this.ticks,p=this.options.labels,d=this.horiz,v=this.getSlotWidth(),t=Math.max(1,Math.round(v-2*(p.padding||5))),f={},n=this.labelMetrics(),y=p.style&&p.style.textOverflow,k,w=0,D,l;e(p.rotation)||
(f.rotation=p.rotation||0);c(h,function(a){(a=m[a])&&a.labelLength>w&&(w=a.labelLength)});this.maxLabelLength=w;if(this.autoRotation)w>t&&w>n.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(v&&(k={width:t+"px"},!y))for(k.textOverflow="clip",D=h.length;!d&&D--;)if(l=h[D],t=m[l].label)t.styles&&"ellipsis"===t.styles.textOverflow?t.css({textOverflow:"clip"}):m[l].labelLength>v&&t.css({width:v+"px"}),t.getBBox().height>this.len/h.length-(n.h-n.f)&&(t.specCss={textOverflow:"ellipsis"});f.rotation&&
(k={width:(w>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+"px"},y||(k.textOverflow="ellipsis"));if(this.labelAlign=p.align||this.autoLabelAlign(this.labelRotation))f.align=this.labelAlign;c(h,function(a){var b=(a=m[a])&&a.label;b&&(b.attr(f),k&&b.css(x(k,b.specCss)),delete b.specCss,a.rotation=f.rotation)});this.tickRotCorr=b.rotCorr(n.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||k(this.min)&&k(this.max)&&!!this.tickPositions},addTitle:function(a){var b=
this.chart.renderer,c=this.horiz,g=this.opposite,e=this.options.title,h;this.axisTitle||((h=e.textAlign)||(h=(c?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[e.align]),this.axisTitle=b.text(e.text,0,0,e.useHTML).attr({zIndex:7,rotation:e.rotation||0,align:h}).addClass("highcharts-axis-title").css(e.style).add(this.axisGroup),this.axisTitle.isNew=!0);this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():
b[a]=new J(this,a)},getOffset:function(){var a=this,b=a.chart,e=b.renderer,h=a.options,m=a.tickPositions,p=a.ticks,d=a.horiz,t=a.side,f=b.inverted?[1,0,3,2][t]:t,n,y,w=0,x,D=0,l=h.title,C=h.labels,q=0,I=b.axisOffset,b=b.clipOffset,u=[-1,1,1,-1][t],z,r=h.className,K=a.axisParent,J=this.tickSize("tick");n=a.hasData();a.showAxis=y=n||E(h.showEmpty,!0);a.staggerLines=a.horiz&&C.staggerLines;a.axisGroup||(a.gridGroup=e.g("grid").attr({zIndex:h.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+
"-grid "+(r||"")).add(K),a.axisGroup=e.g("axis").attr({zIndex:h.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(r||"")).add(K),a.labelGroup=e.g("axis-labels").attr({zIndex:C.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(r||"")).add(K));if(n||a.isLinked)c(m,function(b,c){a.generateTick(b,c)}),a.renderUnsquish(),!1===C.reserveSpace||0!==t&&2!==t&&{1:"left",3:"right"}[t]!==a.labelAlign&&"center"!==a.labelAlign||c(m,function(a){q=Math.max(p[a].getLabelSize(),q)}),
a.staggerLines&&(q*=a.staggerLines,a.labelOffset=q*(a.opposite?-1:1));else for(z in p)p[z].destroy(),delete p[z];l&&l.text&&!1!==l.enabled&&(a.addTitle(y),y&&(w=a.axisTitle.getBBox()[d?"height":"width"],x=l.offset,D=k(x)?0:E(l.margin,d?5:10)));a.renderLine();a.offset=u*E(h.offset,I[t]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};e=0===t?-a.labelMetrics().h:2===t?a.tickRotCorr.y:0;D=Math.abs(q)+D;q&&(D=D-e+u*(d?E(C.y,a.tickRotCorr.y+8*u):C.x));a.axisTitleMargin=E(x,D);I[t]=Math.max(I[t],a.axisTitleMargin+
w+u*a.offset,D,n&&m.length&&J?J[0]+u*a.offset:0);h=h.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2);b[f]=Math.max(b[f],h)},getLinePath:function(a){var b=this.chart,c=this.opposite,g=this.offset,e=this.horiz,h=this.left+(c?this.width:0)+g,g=b.chartHeight-this.bottom-(c?this.height:0)+g;c&&(a*=-1);return b.renderer.crispLine(["M",e?this.left:h,e?g:this.top,"L",e?b.chartWidth-this.right:h,e?g:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),
this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,e=this.len,h=this.options.title,m=a?b:c,p=this.opposite,d=this.offset,t=h.x||0,f=h.y||0,n=this.chart.renderer.fontMetrics(h.style&&h.style.fontSize,this.axisTitle).f,e={low:m+(a?0:e),middle:m+e/2,high:m+(a?e:0)}[h.align],b=(a?c+this.height:b)+(a?1:-1)*(p?-1:1)*this.axisTitleMargin+(2===this.side?n:0);return{x:a?e+t:b+(p?this.width:
0)+d+t,y:a?b+f-(p?this.height:0)+d:e+f}},renderMinorTick:function(a){var b=this.chart.hasRendered&&w(this.oldMin),c=this.minorTicks;c[a]||(c[a]=new J(this,a,"minor"));b&&c[a].isNew&&c[a].render(null,!0);c[a].render(null,!1,1)},renderTick:function(a,b){var c=this.isLinked,g=this.ticks,e=this.chart.hasRendered&&w(this.oldMin);if(!c||a>=this.min&&a<=this.max)g[a]||(g[a]=new J(this,a)),e&&g[a].isNew&&g[a].render(b,!0,.1),g[a].render(b)},render:function(){var a=this,b=a.chart,e=a.options,h=a.isLog,p=a.lin2log,
d=a.isLinked,t=a.tickPositions,f=a.axisTitle,n=a.ticks,y=a.minorTicks,k=a.alternateBands,w=e.stackLabels,x=e.alternateGridColor,D=a.tickmarkOffset,l=a.axisLine,C=a.showAxis,q=A(b.renderer.globalAnimation),I,E;a.labelEdge.length=0;a.overlap=!1;c([n,y,k],function(a){for(var b in a)a[b].isActive=!1});if(a.hasData()||d)a.minorTickInterval&&!a.categories&&c(a.getMinorTickPositions(),function(b){a.renderMinorTick(b)}),t.length&&(c(t,function(b,c){a.renderTick(b,c)}),D&&(0===a.min||a.single)&&(n[-1]||(n[-1]=
new J(a,-1,null,!0)),n[-1].render(-1))),x&&c(t,function(c,e){E=void 0!==t[e+1]?t[e+1]+D:a.max-D;0===e%2&&c<a.max&&E<=a.max+(b.polar?-D:D)&&(k[c]||(k[c]=new m(a)),I=c+D,k[c].options={from:h?p(I):I,to:h?p(E):E,color:x},k[c].render(),k[c].isActive=!0)}),a._addedPlotLB||(c((e.plotLines||[]).concat(e.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0);c([n,y,k],function(a){var c,e,g=[],h=q.duration;for(c in a)a[c].isActive||(a[c].render(c,!1,0),a[c].isActive=!1,g.push(c));K(function(){for(e=
g.length;e--;)a[g[e]]&&!a[g[e]].isActive&&(a[g[e]].destroy(),delete a[g[e]])},a!==k&&b.hasRendered&&h?h:0)});l&&(l[l.isPlaced?"animate":"attr"]({d:this.getLinePath(l.strokeWidth())}),l.isPlaced=!0,l[C?"show":"hide"](!0));f&&C&&(f[f.isNew?"attr":"animate"](a.getTitlePosition()),f.isNew=!1);w&&w.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){this.visible&&(this.render(),c(this.plotLinesAndBands,function(a){a.render()}));c(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),
destroy:function(a){var b=this,e=b.stacks,g,h=b.plotLinesAndBands,m,p;a||y(b);for(g in e)d(e[g]),e[g]=null;c([b.ticks,b.minorTicks,b.alternateBands],function(a){d(a)});if(h)for(a=h.length;a--;)h[a].destroy();c("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});for(m in b.plotLinesAndBandsGroups)b.plotLinesAndBandsGroups[m]=b.plotLinesAndBandsGroups[m].destroy();for(p in b)b.hasOwnProperty(p)&&-1===t(p,b.keepProps)&&delete b[p]},
drawCrosshair:function(a,b){var c,e=this.crosshair,g=E(e.snap,!0),h,m=this.cross;a||(a=this.cross&&this.cross.e);this.crosshair&&!1!==(k(b)||!g)?(g?k(b)&&(h=this.isXAxis?b.plotX:this.len-b.plotY):h=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),k(h)&&(c=this.getPlotLinePath(b&&(this.isXAxis?b.x:E(b.stackY,b.y)),null,null,null,h)||null),k(c)?(b=this.categories&&!this.isRadial,m||(this.cross=m=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":
"thin ")+e.className).attr({zIndex:E(e.zIndex,2)}).add(),m.attr({stroke:e.color||(b?f("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":E(e.width,1)}),e.dashStyle&&m.attr({dashstyle:e.dashStyle})),m.show().attr({d:c}),b&&!e.width&&m.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}};n(a.Axis.prototype,r)})(L);(function(a){var B=a.Axis,A=a.Date,H=a.dateFormat,G=a.defaultOptions,r=a.defined,
f=a.each,l=a.extend,q=a.getMagnitude,k=a.getTZOffset,u=a.normalizeTickInterval,d=a.pick,c=a.timeUnits;B.prototype.getTimeTicks=function(a,q,b,p){var h=[],t={},n=G.global.useUTC,w,e=new A(q-Math.abs(k(q))),x=A.hcMakeTime,C=a.unitRange,E=a.count,m;if(r(q)){e[A.hcSetMilliseconds](C>=c.second?0:E*Math.floor(e.getMilliseconds()/E));if(C>=c.second)e[A.hcSetSeconds](C>=c.minute?0:E*Math.floor(e.getSeconds()/E));if(C>=c.minute)e[A.hcSetMinutes](C>=c.hour?0:E*Math.floor(e[A.hcGetMinutes]()/E));if(C>=c.hour)e[A.hcSetHours](C>=
c.day?0:E*Math.floor(e[A.hcGetHours]()/E));if(C>=c.day)e[A.hcSetDate](C>=c.month?1:E*Math.floor(e[A.hcGetDate]()/E));C>=c.month&&(e[A.hcSetMonth](C>=c.year?0:E*Math.floor(e[A.hcGetMonth]()/E)),w=e[A.hcGetFullYear]());if(C>=c.year)e[A.hcSetFullYear](w-w%E);if(C===c.week)e[A.hcSetDate](e[A.hcGetDate]()-e[A.hcGetDay]()+d(p,1));w=e[A.hcGetFullYear]();p=e[A.hcGetMonth]();var y=e[A.hcGetDate](),I=e[A.hcGetHours]();if(A.hcTimezoneOffset||A.hcGetTimezoneOffset)m=(!n||!!A.hcGetTimezoneOffset)&&(b-q>4*c.month||
k(q)!==k(b)),e=e.getTime(),e=new A(e+k(e));n=e.getTime();for(q=1;n<b;)h.push(n),n=C===c.year?x(w+q*E,0):C===c.month?x(w,p+q*E):!m||C!==c.day&&C!==c.week?m&&C===c.hour?x(w,p,y,I+q*E):n+C*E:x(w,p,y+q*E*(C===c.day?1:7)),q++;h.push(n);C<=c.hour&&1E4>h.length&&f(h,function(a){0===a%18E5&&"000000000"===H("%H%M%S%L",a)&&(t[a]="day")})}h.info=l(a,{higherRanks:t,totalRange:C*E});return h};B.prototype.normalizeTimeTickInterval=function(a,d){var b=d||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",
[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];d=b[b.length-1];var p=c[d[0]],h=d[1],t;for(t=0;t<b.length&&!(d=b[t],p=c[d[0]],h=d[1],b[t+1]&&a<=(p*h[h.length-1]+c[b[t+1][0]])/2);t++);p===c.year&&a<5*p&&(h=[1,2,5]);a=u(a/p,h,"year"===d[0]?Math.max(q(a/p),1):1);return{unitRange:p,count:a,unitName:d[0]}}})(L);(function(a){var B=a.Axis,A=a.getMagnitude,H=a.map,G=a.normalizeTickInterval,r=a.pick;B.prototype.getLogTickPositions=
function(a,l,q,k){var f=this.options,d=this.len,c=this.lin2log,n=this.log2lin,z=[];k||(this._minorAutoInterval=null);if(.5<=a)a=Math.round(a),z=this.getLinearTickPositions(a,l,q);else if(.08<=a)for(var d=Math.floor(l),b,p,h,t,D,f=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];d<q+1&&!D;d++)for(p=f.length,b=0;b<p&&!D;b++)h=n(c(d)*f[b]),h>l&&(!k||t<=q)&&void 0!==t&&z.push(t),t>q&&(D=!0),t=h;else l=c(l),q=c(q),a=f[k?"minorTickInterval":"tickInterval"],a=r("auto"===a?null:a,this._minorAutoInterval,
f.tickPixelInterval/(k?5:1)*(q-l)/((k?d/this.tickPositions.length:d)||1)),a=G(a,null,A(a)),z=H(this.getLinearTickPositions(a,l,q),n),k||(this._minorAutoInterval=a/5);k||(this.tickInterval=a);return z};B.prototype.log2lin=function(a){return Math.log(a)/Math.LN10};B.prototype.lin2log=function(a){return Math.pow(10,a)}})(L);(function(a){var B=a.dateFormat,A=a.each,H=a.extend,G=a.format,r=a.isNumber,f=a.map,l=a.merge,q=a.pick,k=a.splat,u=a.syncTimeout,d=a.timeUnits;a.Tooltip=function(){this.init.apply(this,
arguments)};a.Tooltip.prototype={init:function(a,d){this.chart=a;this.options=d;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=d.split&&!a.inverted;this.shared=d.shared||this.split},cleanSplit:function(a){A(this.chart.series,function(c){var d=c&&c.tt;d&&(!d.isActive||a?c.tt=d.destroy():d.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,d=this.options;this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,d.shape||"callout",null,null,d.useHTML,
null,"tooltip").attr({padding:d.padding,r:d.borderRadius}),this.label.attr({fill:d.backgroundColor,"stroke-width":d.borderWidth}).css(d.style).shadow(d.shadow)),this.label.attr({zIndex:8}).add());return this.label},update:function(a){this.destroy();this.init(this.chart,l(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},
move:function(a,d,f,b){var c=this,h=c.now,t=!1!==c.options.animation&&!c.isHidden&&(1<Math.abs(a-h.x)||1<Math.abs(d-h.y)),n=c.followPointer||1<c.len;H(h,{x:t?(2*h.x+a)/3:a,y:t?(h.y+d)/2:d,anchorX:n?void 0:t?(2*h.anchorX+f)/3:f,anchorY:n?void 0:t?(h.anchorY+b)/2:b});c.getLabel().attr(h);t&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){c&&c.move(a,d,f,b)},32))},hide:function(a){var c=this;clearTimeout(this.hideTimer);a=q(a,this.options.hideDelay,500);this.isHidden||(this.hideTimer=
u(function(){c.getLabel()[a?"fadeOut":"hide"]();c.isHidden=!0},a))},getAnchor:function(a,d){var c,b=this.chart,p=b.inverted,h=b.plotTop,t=b.plotLeft,n=0,w=0,e,x;a=k(a);c=a[0].tooltipPos;this.followPointer&&d&&(void 0===d.chartX&&(d=b.pointer.normalize(d)),c=[d.chartX-b.plotLeft,d.chartY-h]);c||(A(a,function(a){e=a.series.yAxis;x=a.series.xAxis;n+=a.plotX+(!p&&x?x.left-t:0);w+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!p&&e?e.top-h:0)}),n/=a.length,w/=a.length,c=[p?b.plotWidth-w:n,this.shared&&
!p&&1<a.length&&d?d.chartY-h:p?b.plotHeight-n:w]);return f(c,Math.round)},getPosition:function(a,d,f){var b=this.chart,c=this.distance,h={},t=f.h||0,n,k=["y",b.chartHeight,d,f.plotY+b.plotTop,b.plotTop,b.plotTop+b.plotHeight],e=["x",b.chartWidth,a,f.plotX+b.plotLeft,b.plotLeft,b.plotLeft+b.plotWidth],x=!this.followPointer&&q(f.ttBelow,!b.inverted===!!f.negative),l=function(a,b,e,g,m,d){var p=e<g-c,f=g+c+e<b,n=g-c-e;g+=c;if(x&&f)h[a]=g;else if(!x&&p)h[a]=n;else if(p)h[a]=Math.min(d-e,0>n-t?n:n-t);
else if(f)h[a]=Math.max(m,g+t+e>b?g:g+t);else return!1},E=function(a,b,e,g){var m;g<c||g>b-c?m=!1:h[a]=g<e/2?1:g>b-e/2?b-e-2:g-e/2;return m},m=function(a){var b=k;k=e;e=b;n=a},y=function(){!1!==l.apply(0,k)?!1!==E.apply(0,e)||n||(m(!0),y()):n?h.x=h.y=0:(m(!0),y())};(b.inverted||1<this.len)&&m();y();return h},defaultFormatter:function(a){var c=this.points||k(this),d;d=[a.tooltipFooterHeaderFormatter(c[0])];d=d.concat(a.bodyFormatter(c));d.push(a.tooltipFooterHeaderFormatter(c[0],!0));return d},refresh:function(a,
d){var c,b=this.options,p,h=a,t,f={},n=[];c=b.formatter||this.defaultFormatter;var f=this.shared,e;clearTimeout(this.hideTimer);this.followPointer=k(h)[0].series.tooltipOptions.followPointer;t=this.getAnchor(h,d);d=t[0];p=t[1];!f||h.series&&h.series.noSharedTooltip?f=h.getLabelConfig():(A(h,function(a){a.setState("hover");n.push(a.getLabelConfig())}),f={x:h[0].category,y:h[0].y},f.points=n,h=h[0]);this.len=n.length;f=c.call(f,this);e=h.series;this.distance=q(e.tooltipOptions.distance,16);!1===f?this.hide():
(c=this.getLabel(),this.isHidden&&c.attr({opacity:1}).show(),this.split?this.renderSplit(f,a):(c.attr({text:f&&f.join?f.join(""):f}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+q(h.colorIndex,e.colorIndex)),c.attr({stroke:b.borderColor||h.color||e.color||"#666666"}),this.updatePosition({plotX:d,plotY:p,negative:h.negative,ttBelow:h.ttBelow,h:t[2]||0})),this.isHidden=!1)},renderSplit:function(c,d){var f=this,b=[],p=this.chart,h=p.renderer,t=!0,n=this.options,k,e=this.getLabel();
A(c.slice(0,d.length+1),function(a,c){c=d[c-1]||{isHeader:!0,plotX:d[0].plotX};var w=c.series||f,m=w.tt,y=c.series||{},x="highcharts-color-"+q(c.colorIndex,y.colorIndex,"none");m||(w.tt=m=h.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+x).attr({padding:n.padding,r:n.borderRadius,fill:n.backgroundColor,stroke:c.color||y.color||"#333333","stroke-width":n.borderWidth}).add(e));m.isActive=!0;m.attr({text:a});m.css(n.style);a=m.getBBox();y=a.width+m.strokeWidth();c.isHeader?(k=a.height,
y=Math.max(0,Math.min(c.plotX+p.plotLeft-y/2,p.chartWidth-y))):y=c.plotX+p.plotLeft-q(n.distance,16)-y;0>y&&(t=!1);a=(c.series&&c.series.yAxis&&c.series.yAxis.pos)+(c.plotY||0);a-=p.plotTop;b.push({target:c.isHeader?p.plotHeight+k:a,rank:c.isHeader?1:0,size:w.tt.getBBox().height+1,point:c,x:y,tt:m})});this.cleanSplit();a.distribute(b,p.plotHeight+k);A(b,function(a){var b=a.point,c=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:t||b.isHeader?a.x:b.plotX+p.plotLeft+q(n.distance,
16),y:a.pos+p.plotTop,anchorX:b.isHeader?b.plotX+p.plotLeft:b.plotX+c.xAxis.pos,anchorY:b.isHeader?a.pos+p.plotTop-15:b.plotY+c.yAxis.pos})})},updatePosition:function(a){var c=this.chart,d=this.getLabel(),d=(this.options.positioner||this.getPosition).call(this,d.width,d.height,a);this.move(Math.round(d.x),Math.round(d.y||0),a.plotX+c.plotLeft,a.plotY+c.plotTop)},getDateFormat:function(a,f,k,b){var c=B("%m-%d %H:%M:%S.%L",f),h,t,n={millisecond:15,second:12,minute:9,hour:6,day:3},w="millisecond";for(t in d){if(a===
d.week&&+B("%w",f)===k&&"00:00:00.000"===c.substr(6)){t="week";break}if(d[t]>a){t=w;break}if(n[t]&&c.substr(n[t])!=="01-01 00:00:00.000".substr(n[t]))break;"week"!==t&&(w=t)}t&&(h=b[t]);return h},getXDateFormat:function(a,d,f){d=d.dateTimeLabelFormats;var b=f&&f.closestPointRange;return(b?this.getDateFormat(b,a.x,f.options.startOfWeek,d):d.day)||d.year},tooltipFooterHeaderFormatter:function(a,d){var c=d?"footer":"header";d=a.series;var b=d.tooltipOptions,p=b.xDateFormat,h=d.xAxis,t=h&&"datetime"===
h.options.type&&r(a.key),c=b[c+"Format"];t&&!p&&(p=this.getXDateFormat(a,b,h));t&&p&&(c=c.replace("{point.key}","{point.key:"+p+"}"));return G(c,{point:a,series:d})},bodyFormatter:function(a){return f(a,function(a){var c=a.series.tooltipOptions;return(c.pointFormatter||a.point.tooltipFormatter).call(a.point,c.pointFormat)})}}})(L);(function(a){var B=a.addEvent,A=a.attr,H=a.charts,G=a.color,r=a.css,f=a.defined,l=a.doc,q=a.each,k=a.extend,u=a.fireEvent,d=a.offset,c=a.pick,n=a.removeEvent,z=a.splat,
b=a.Tooltip,p=a.win;a.Pointer=function(a,b){this.init(a,b)};a.Pointer.prototype={init:function(a,d){this.options=d;this.chart=a;this.runChartClick=d.chart.events&&!!d.chart.events.click;this.pinchDown=[];this.lastValidTouch={};b&&d.tooltip.enabled&&(a.tooltip=new b(a,d.tooltip),this.followTouchMove=c(d.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function(a){var b=this.chart,h=b.options.chart,d=h.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(d=c(h.pinchType,d));this.zoomX=a=/x/.test(d);
this.zoomY=d=/y/.test(d);this.zoomHor=a&&!b||d&&b;this.zoomVert=d&&!b||a&&b;this.hasZoom=a||d},normalize:function(a,b){var c,h;a=a||p.event;a.target||(a.target=a.srcElement);h=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;b||(this.chartPosition=b=d(this.chart.container));void 0===h.pageX?(c=Math.max(a.x,a.clientX-b.left),b=a.y):(c=h.pageX-b.left,b=h.pageY-b.top);return k(a,{chartX:Math.round(c),chartY:Math.round(b)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};q(this.chart.axes,
function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},getKDPoints:function(a,b,d){var h=[],e,p,f;q(a,function(a){e=a.noSharedTooltip&&b;p=!b&&a.directTouch;a.visible&&!p&&c(a.options.enableMouseTracking,!0)&&(f=a.searchPoint(d,!e&&0>a.options.findNearestPointBy.indexOf("y")))&&f.series&&h.push(f)});h.sort(function(a,c){var e=a.distX-c.distX,h=a.dist-c.dist,m=(c.series.group&&c.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);
return 0!==e&&b?e:0!==h?h:0!==m?m:a.series.index>c.series.index?-1:1});if(b&&h[0]&&!h[0].series.noSharedTooltip)for(a=h.length;a--;)(h[a].x!==h[0].x||h[a].series.noSharedTooltip)&&h.splice(a,1);return h},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=a.parentNode;return b},getHoverData:function(b,d,p,f,e,n){var h=b,t=d,m;f?e?(m=[],q(p,function(a){var b=a.noSharedTooltip&&e,d=!e&&a.directTouch;a.visible&&!b&&!d&&c(a.options.enableMouseTracking,!0)&&(a=a.searchKDTree({clientX:h.clientX,
plotY:h.plotY},!b&&1===a.kdDimensions))&&a.series&&m.push(a)}),0===m.length&&(m=[h])):m=[h]:t&&!t.stickyTracking?(e||(p=[t]),m=this.getKDPoints(p,e,n),h=a.find(m,function(a){return a.series===t})):(b=a.grep(p,function(a){return a.stickyTracking}),m=this.getKDPoints(b,e,n),t=(h=m[0])&&h.series,e&&(m=this.getKDPoints(p,e,n)));m.sort(function(a,b){return a.series.index-b.series.index});return{hoverPoint:h,hoverSeries:t,hoverPoints:m}},runPointActions:function(b,d){var h=this.chart,p=h.tooltip,e=p?p.shared:
!1,f=d||h.hoverPoint,t=f&&f.series||h.hoverSeries;d=this.getHoverData(f,t,h.series,!!d||!e&&t&&t.directTouch,e,b);var n,m,f=d.hoverPoint;n=(t=d.hoverSeries)&&t.tooltipOptions.followPointer;m=(e=e&&f&&!f.series.noSharedTooltip)?d.hoverPoints:f?[f]:[];if(f&&(f!==h.hoverPoint||p&&p.isHidden)){q(h.hoverPoints||[],function(b){-1===a.inArray(b,m)&&b.setState()});q(m||[],function(a){a.setState("hover")});if(h.hoverSeries!==t)t.onMouseOver();t&&!t.directTouch&&(h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),
f.firePointEvent("mouseOver"));h.hoverPoints=m;h.hoverPoint=f;p&&p.refresh(e?m:f,b)}else n&&p&&!p.isHidden&&(f=p.getAnchor([{}],b),p.updatePosition({plotX:f[0],plotY:f[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(l,"mousemove",function(b){var c=H[a.hoverChartIndex];if(c)c.pointer.onDocumentMouseMove(b)}));q(h.axes,function(a){c(a.crosshair.snap,!0)?q(m,function(c){c.series[a.coll]===a&&a.drawCrosshair(b,c)}):a.drawCrosshair(b)})},reset:function(a,b){var c=this.chart,h=c.hoverSeries,e=c.hoverPoint,
d=c.hoverPoints,p=c.tooltip,f=p&&p.shared?d:e;a&&f&&q(z(f),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)});if(a)p&&f&&(p.refresh(f),e&&(e.setState(e.state,!0),q(c.axes,function(a){a.crosshair&&a.drawCrosshair(null,e)})));else{if(e)e.onMouseOut();d&&q(d,function(a){a.setState()});if(h)h.onMouseOut();p&&p.hide(b);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());q(c.axes,function(a){a.hideCrosshair()});this.hoverX=c.hoverPoints=c.hoverPoint=null}},scaleGroups:function(a,
b){var c=this.chart,h;q(c.series,function(e){h=a||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(h),e.markerGroup&&(e.markerGroup.attr(h),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(h))});c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,c=b.options.chart,h=a.chartX,e=a.chartY,
d=this.zoomHor,p=this.zoomVert,f=b.plotLeft,m=b.plotTop,n=b.plotWidth,k=b.plotHeight,l,q=this.selectionMarker,g=this.mouseDownX,u=this.mouseDownY,r=c.panKey&&a[c.panKey+"Key"];q&&q.touch||(h<f?h=f:h>f+n&&(h=f+n),e<m?e=m:e>m+k&&(e=m+k),this.hasDragged=Math.sqrt(Math.pow(g-h,2)+Math.pow(u-e,2)),10<this.hasDragged&&(l=b.isInsidePlot(g-f,u-m),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!r&&!q&&(this.selectionMarker=q=b.renderer.rect(f,m,d?1:n,p?1:k,0).attr({fill:c.selectionMarkerFill||G("#335cad").setOpacity(.25).get(),
"class":"highcharts-selection-marker",zIndex:7}).add()),q&&d&&(h-=g,q.attr({width:Math.abs(h),x:(0<h?0:h)+g})),q&&p&&(h=e-u,q.attr({height:Math.abs(h),y:(0<h?0:h)+u})),l&&!q&&c.panning&&b.pan(a,c.panning)))},drop:function(a){var b=this,c=this.chart,h=this.hasPinched;if(this.selectionMarker){var e={originalEvent:a,xAxis:[],yAxis:[]},d=this.selectionMarker,p=d.attr?d.attr("x"):d.x,n=d.attr?d.attr("y"):d.y,m=d.attr?d.attr("width"):d.width,y=d.attr?d.attr("height"):d.height,l;if(this.hasDragged||h)q(c.axes,
function(c){if(c.zoomEnabled&&f(c.min)&&(h||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var d=c.horiz,g="touchend"===a.type?c.minPixelPadding:0,t=c.toValue((d?p:n)+g),d=c.toValue((d?p+m:n+y)-g);e[c.coll].push({axis:c,min:Math.min(t,d),max:Math.max(t,d)});l=!0}}),l&&u(c,"selection",e,function(a){c.zoom(k(a,h?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();h&&this.scaleGroups()}c&&(r(c.container,{cursor:c._cursor}),c.cancelClick=10<this.hasDragged,c.mouseIsDown=this.hasDragged=
this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);this.zoomOption(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(b){H[a.hoverChartIndex]&&H[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c);!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var c=
H[a.hoverChartIndex];c&&(b.relatedTarget||b.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null)},onContainerMouseMove:function(b){var c=this.chart;f(a.hoverChartIndex)&&H[a.hoverChartIndex]&&H[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=c.index);b=this.normalize(b);b.returnValue=!1;"mousedown"===c.mouseIsDown&&this.drag(b);!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)||c.openMenu||this.runPointActions(b)},inClass:function(a,b){for(var c;a;){if(c=
A(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement;if(!(!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")))b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,h=b.plotLeft,e=b.plotTop;a=this.normalize(a);b.cancelClick||(c&&this.inClass(a.target,
"highcharts-tracker")?(u(c.series,"click",k(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(k(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-h,a.chartY-e)&&u(b,"click",a)))},setDOMEvents:function(){var b=this,c=b.chart.container;c.onmousedown=function(a){b.onContainerMouseDown(a)};c.onmousemove=function(a){b.onContainerMouseMove(a)};c.onclick=function(a){b.onContainerClick(a)};B(c,"mouseleave",b.onContainerMouseLeave);1===a.chartCount&&B(l,"mouseup",b.onDocumentMouseUp);a.hasTouch&&(c.ontouchstart=
function(a){b.onContainerTouchStart(a)},c.ontouchmove=function(a){b.onContainerTouchMove(a)},1===a.chartCount&&B(l,"touchend",b.onDocumentTouchEnd))},destroy:function(){var b;this.unDocMouseMove&&this.unDocMouseMove();n(this.chart.container,"mouseleave",this.onContainerMouseLeave);a.chartCount||(n(l,"mouseup",this.onDocumentMouseUp),n(l,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(b in this)this[b]=null}}})(L);(function(a){var B=a.charts,A=a.each,H=a.extend,G=a.map,
r=a.noop,f=a.pick;H(a.Pointer.prototype,{pinchTranslate:function(a,f,k,u,d,c){this.zoomHor&&this.pinchTranslateDirection(!0,a,f,k,u,d,c);this.zoomVert&&this.pinchTranslateDirection(!1,a,f,k,u,d,c)},pinchTranslateDirection:function(a,f,k,u,d,c,n,r){var b=this.chart,p=a?"x":"y",h=a?"X":"Y",t="chart"+h,l=a?"width":"height",w=b["plot"+(a?"Left":"Top")],e,q,C=r||1,E=b.inverted,m=b.bounds[a?"h":"v"],y=1===f.length,I=f[0][t],K=k[0][t],J=!y&&f[1][t],g=!y&&k[1][t],z;k=function(){!y&&20<Math.abs(I-J)&&(C=r||
Math.abs(K-g)/Math.abs(I-J));q=(w-K)/C+I;e=b["plot"+(a?"Width":"Height")]/C};k();f=q;f<m.min?(f=m.min,z=!0):f+e>m.max&&(f=m.max-e,z=!0);z?(K-=.8*(K-n[p][0]),y||(g-=.8*(g-n[p][1])),k()):n[p]=[K,g];E||(c[p]=q-w,c[l]=e);c=E?1/C:C;d[l]=e;d[p]=f;u[E?a?"scaleY":"scaleX":"scale"+h]=C;u["translate"+h]=c*w+(K-c*I)},pinch:function(a){var l=this,k=l.chart,u=l.pinchDown,d=a.touches,c=d.length,n=l.lastValidTouch,z=l.hasZoom,b=l.selectionMarker,p={},h=1===c&&(l.inClass(a.target,"highcharts-tracker")&&k.runTrackerClick||
l.runChartClick),t={};1<c&&(l.initiated=!0);z&&l.initiated&&!h&&a.preventDefault();G(d,function(a){return l.normalize(a)});"touchstart"===a.type?(A(d,function(a,b){u[b]={chartX:a.chartX,chartY:a.chartY}}),n.x=[u[0].chartX,u[1]&&u[1].chartX],n.y=[u[0].chartY,u[1]&&u[1].chartY],A(k.axes,function(a){if(a.zoomEnabled){var b=k.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,h=a.toPixels(f(a.options.min,a.dataMin)),d=a.toPixels(f(a.options.max,a.dataMax)),p=Math.max(h,d);b.min=Math.min(a.pos,Math.min(h,d)-
c);b.max=Math.max(a.pos+a.len,p+c)}}),l.res=!0):l.followTouchMove&&1===c?this.runPointActions(l.normalize(a)):u.length&&(b||(l.selectionMarker=b=H({destroy:r,touch:!0},k.plotBox)),l.pinchTranslate(u,d,p,b,t,n),l.hasPinched=z,l.scaleGroups(p,t),l.res&&(l.res=!1,this.reset(!1,0)))},touch:function(l,q){var k=this.chart,u,d;if(k.index!==a.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});a.hoverChartIndex=k.index;1===l.touches.length?(l=this.normalize(l),(d=k.isInsidePlot(l.chartX-k.plotLeft,
l.chartY-k.plotTop))&&!k.openMenu?(q&&this.runPointActions(l),"touchmove"===l.type&&(q=this.pinchDown,u=q[0]?4<=Math.sqrt(Math.pow(q[0].chartX-l.chartX,2)+Math.pow(q[0].chartY-l.chartY,2)):!1),f(u,!0)&&this.pinch(l)):q&&this.reset()):2===l.touches.length&&this.pinch(l)},onContainerTouchStart:function(a){this.zoomOption(a);this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(f){B[a.hoverChartIndex]&&B[a.hoverChartIndex].pointer.drop(f)}})})(L);(function(a){var B=
a.addEvent,A=a.charts,H=a.css,G=a.doc,r=a.extend,f=a.noop,l=a.Pointer,q=a.removeEvent,k=a.win,u=a.wrap;if(k.PointerEvent||k.MSPointerEvent){var d={},c=!!k.PointerEvent,n=function(){var a,c=[];c.item=function(a){return this[a]};for(a in d)d.hasOwnProperty(a)&&c.push({pageX:d[a].pageX,pageY:d[a].pageY,target:d[a].target});return c},z=function(b,c,h,d){"touch"!==b.pointerType&&b.pointerType!==b.MSPOINTER_TYPE_TOUCH||!A[a.hoverChartIndex]||(d(b),d=A[a.hoverChartIndex].pointer,d[c]({type:h,target:b.currentTarget,
preventDefault:f,touches:n()}))};r(l.prototype,{onContainerPointerDown:function(a){z(a,"onContainerTouchStart","touchstart",function(a){d[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){z(a,"onContainerTouchMove","touchmove",function(a){d[a.pointerId]={pageX:a.pageX,pageY:a.pageY};d[a.pointerId].target||(d[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){z(a,"onDocumentTouchEnd","touchend",function(a){delete d[a.pointerId]})},
batchMSEvents:function(a){a(this.chart.container,c?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,c?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(G,c?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});u(l.prototype,"init",function(a,c,h){a.call(this,c,h);this.hasZoom&&H(c.container,{"-ms-touch-action":"none","touch-action":"none"})});u(l.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(B)});
u(l.prototype,"destroy",function(a){this.batchMSEvents(q);a.call(this)})}})(L);(function(a){var B,A=a.addEvent,H=a.css,G=a.discardElement,r=a.defined,f=a.each,l=a.isFirefox,q=a.marginNames,k=a.merge,u=a.pick,d=a.setAnimation,c=a.stableSort,n=a.win,z=a.wrap;B=a.Legend=function(a,c){this.init(a,c)};B.prototype={init:function(a,c){this.chart=a;this.setOptions(c);c.enabled&&(this.render(),A(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var b=u(a.padding,
8);this.options=a;this.itemStyle=a.itemStyle;this.itemHiddenStyle=k(this.itemStyle,a.itemHiddenStyle);this.itemMarginTop=a.itemMarginTop||0;this.padding=b;this.initialItemY=b-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=u(a.symbolWidth,16);this.pages=[]},update:function(a,c){var b=this.chart;this.setOptions(k(!0,this.options,a));this.destroy();b.isDirtyLegend=b.isDirtyBox=!0;u(c,!0)&&b.redraw()},colorizeItem:function(a,c){a.legendGroup[c?"removeClass":"addClass"]("highcharts-legend-item-hidden");
var b=this.options,d=a.legendItem,f=a.legendLine,p=a.legendSymbol,e=this.itemHiddenStyle.color,b=c?b.itemStyle.color:e,n=c?a.color||e:e,k=a.options&&a.options.marker,l={fill:n},m;d&&d.css({fill:b,color:b});f&&f.attr({stroke:n});if(p){if(k&&p.isMarker&&(l=a.pointAttribs(),!c))for(m in l)l[m]=e;p.attr(l)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,f=d[0],d=d[1],n=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?f:this.legendWidth-f-2*c-4,d);n&&(n.x=
f,n.y=d)},destroyItem:function(a){var b=a.checkbox;f(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&G(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}f(this.getAllItems(),function(b){f(["legendItem","legendGroup"],a,b)});f("clipRect up down pager nav box title group".split(" "),a,this);this.display=null},positionCheckboxes:function(a){var b=this.group&&this.group.alignAttr,c,d=this.clipHeight||this.legendHeight,
n=this.titleHeight;b&&(c=b.translateY,f(this.allItems,function(h){var e=h.checkbox,f;e&&(f=c+n+e.y+(a||0)+3,H(e,{left:b.translateX+h.checkboxOffset+e.x-20+"px",top:f+"px",display:f>c-6&&f<c+d-6?"":"none"}))}))},renderTitle:function(){var a=this.padding,c=this.options.title,h=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)),a=this.title.getBBox(),h=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:h}));
this.titleHeight=h},setText:function(b){var c=this.options;b.legendItem.attr({text:c.labelFormat?a.format(c.labelFormat,b):c.labelFormatter.call(b)})},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,f="horizontal"===d.layout,n=this.symbolWidth,e=d.symbolPadding,l=this.itemStyle,q=this.itemHiddenStyle,r=this.padding,m=f?u(d.itemDistance,20):0,y=!d.rtl,I=d.width,K=d.itemMarginBottom||0,J=this.itemMarginTop,g=a.legendItem,z=!a.series,Q=!z&&a.series.drawLegendSymbol?a.series:a,A=Q.options,
A=this.createCheckboxForItem&&A&&A.showCheckbox,B=d.useHTML,H=a.options.className;g||(a.legendGroup=c.g("legend-item").addClass("highcharts-"+Q.type+"-series highcharts-color-"+a.colorIndex+(H?" "+H:"")+(z?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=g=c.text("",y?n+e:-e,this.baseline||0,B).css(k(a.visible?l:q)).attr({align:y?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(l=l.fontSize,this.fontMetrics=c.fontMetrics(l,g),this.baseline=this.fontMetrics.f+
3+J,g.attr("y",this.baseline)),this.symbolHeight=d.symbolHeight||this.fontMetrics.f,Q.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,g,B),A&&this.createCheckboxForItem(a));this.colorizeItem(a,a.visible);this.setText(a);c=g.getBBox();n=a.checkboxOffset=d.itemWidth||a.legendItemWidth||n+e+c.width+m+(A?20:0);this.itemHeight=e=Math.round(a.legendItemHeight||c.height||this.symbolHeight);f&&this.itemX-r+n>(I||b.spacingBox.width-2*r-d.x)&&(this.itemX=r,this.itemY+=J+this.lastLineHeight+
K,this.lastLineHeight=0);this.maxItemWidth=Math.max(this.maxItemWidth,n);this.lastItemY=J+this.itemY+K;this.lastLineHeight=Math.max(e,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=n:(this.itemY+=J+e+K,this.lastLineHeight=e);this.offsetWidth=I||Math.max((f?this.itemX-r-m:n)+r,this.offsetWidth)},getAllItems:function(){var a=[];f(this.chart.series,function(b){var c=b&&b.options;b&&u(c.showInLegend,r(c.linkedTo)?!1:void 0,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?
b.data:b)))});return a},adjustMargins:function(a,c){var b=this.chart,d=this.options,p=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);d.floating||f([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(h,e){h.test(p)&&!r(a[e])&&(b[q[e]]=Math.max(b[q[e]],b.legend[(e+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][e]*d[e%2?"x":"y"]+u(d.margin,12)+c[e]))})},render:function(){var a=this,d=a.chart,h=d.renderer,n=a.group,l,q,e,x,u=a.box,r=a.options,m=a.padding;a.itemX=m;a.itemY=
a.initialItemY;a.offsetWidth=0;a.lastItemY=0;n||(a.group=n=h.g("legend").attr({zIndex:7}).add(),a.contentGroup=h.g().attr({zIndex:1}).add(n),a.scrollGroup=h.g().add(a.contentGroup));a.renderTitle();l=a.getAllItems();c(l,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});r.reversed&&l.reverse();a.allItems=l;a.display=q=!!l.length;a.lastLineHeight=0;f(l,function(b){a.renderItem(b)});e=(r.width||a.offsetWidth)+m;x=a.lastItemY+a.lastLineHeight+a.titleHeight;
x=a.handleOverflow(x);x+=m;u||(a.box=u=h.rect().addClass("highcharts-legend-box").attr({r:r.borderRadius}).add(n),u.isNew=!0);u.attr({stroke:r.borderColor,"stroke-width":r.borderWidth||0,fill:r.backgroundColor||"none"}).shadow(r.shadow);0<e&&0<x&&(u[u.isNew?"attr":"animate"](u.crisp({x:0,y:0,width:e,height:x},u.strokeWidth())),u.isNew=!1);u[q?"show":"hide"]();a.legendWidth=e;a.legendHeight=x;f(l,function(b){a.positionItem(b)});q&&n.align(k(r,{width:e,height:x}),!0,"spacingBox");d.isResizing||this.positionCheckboxes()},
handleOverflow:function(a){var b=this,c=this.chart,d=c.renderer,n=this.options,k=n.y,e=this.padding,c=c.spacingBox.height+("top"===n.verticalAlign?-k:k)-e,k=n.maxHeight,l,q=this.clipRect,r=n.navigation,m=u(r.animation,!0),y=r.arrowSize||12,I=this.nav,K=this.pages,J,g=this.allItems,z=function(a){a?q.attr({height:a}):q&&(b.clipRect=q.destroy(),b.contentGroup.clip());b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+e+"px,9999px,"+(e+a)+"px,0)":"auto")};"horizontal"!==n.layout||"middle"===
n.verticalAlign||n.floating||(c/=2);k&&(c=Math.min(c,k));K.length=0;a>c&&!1!==r.enabled?(this.clipHeight=l=Math.max(c-20-this.titleHeight-e,0),this.currentPage=u(this.currentPage,1),this.fullHeight=a,f(g,function(a,b){var c=a._legendItemPos[1];a=Math.round(a.legendItem.getBBox().height);var e=K.length;if(!e||c-K[e-1]>l&&(J||c)!==K[e-1])K.push(J||c),e++;b===g.length-1&&c+a-K[e-1]>l&&K.push(c);c!==J&&(J=c)}),q||(q=b.clipRect=d.clipRect(0,e,9999,0),b.contentGroup.clip(q)),z(l),I||(this.nav=I=d.g().attr({zIndex:1}).add(this.group),
this.up=d.symbol("triangle",0,0,y,y).on("click",function(){b.scroll(-1,m)}).add(I),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation").css(r.style).add(I),this.down=d.symbol("triangle-down",0,0,y,y).on("click",function(){b.scroll(1,m)}).add(I)),b.scroll(0),a=c):I&&(z(),this.nav=I.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,c){var b=this.pages,f=b.length;a=this.currentPage+a;var p=this.clipHeight,n=this.options.navigation,e=this.pager,
k=this.padding;a>f&&(a=f);0<a&&(void 0!==c&&d(c,this.chart),this.nav.attr({translateX:k,translateY:p+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),e.attr({text:a+"/"+f}),this.down.attr({x:18+this.pager.getBBox().width,"class":a===f?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?n.inactiveColor:n.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===
f?n.inactiveColor:n.activeColor}).css({cursor:a===f?"default":"pointer"}),c=-b[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=a,this.positionCheckboxes(c))}};a.LegendSymbolMixin={drawRectangle:function(a,c){var b=a.symbolHeight,d=a.options.squareSymbol;c.legendSymbol=this.chart.renderer.rect(d?(a.symbolWidth-b)/2:0,a.baseline-b+1,d?b:a.symbolWidth,b,u(a.options.symbolRadius,b/2)).addClass("highcharts-point").attr({zIndex:3}).add(c.legendGroup)},drawLineMarker:function(a){var b=
this.options,c=b.marker,d=a.symbolWidth,f=a.symbolHeight,n=f/2,e=this.chart.renderer,l=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);var q;q={"stroke-width":b.lineWidth||0};b.dashStyle&&(q.dashstyle=b.dashStyle);this.legendLine=e.path(["M",0,a,"L",d,a]).addClass("highcharts-graph").attr(q).add(l);c&&!1!==c.enabled&&(b=Math.min(u(c.radius,n),n),0===this.symbol.indexOf("url")&&(c=k(c,{width:f,height:f}),b=0),this.legendSymbol=c=e.symbol(this.symbol,d/2-b,a-b,2*b,2*b,c).addClass("highcharts-point").add(l),
c.isMarker=!0)}};(/Trident\/7\.0/.test(n.navigator.userAgent)||l)&&z(B.prototype,"positionItem",function(a,c){var b=this,d=function(){c._legendItemPos&&a.call(b,c)};d();setTimeout(d)})})(L);(function(a){var B=a.addEvent,A=a.animate,H=a.animObject,G=a.attr,r=a.doc,f=a.Axis,l=a.createElement,q=a.defaultOptions,k=a.discardElement,u=a.charts,d=a.css,c=a.defined,n=a.each,z=a.extend,b=a.find,p=a.fireEvent,h=a.getStyle,t=a.grep,D=a.isNumber,w=a.isObject,e=a.isString,x=a.Legend,C=a.marginNames,E=a.merge,
m=a.Pointer,y=a.pick,I=a.pInt,K=a.removeEvent,J=a.seriesTypes,g=a.splat,F=a.svg,Q=a.syncTimeout,N=a.win,P=a.Renderer,O=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new O(a,b,c)};O.prototype={callbacks:[],getArgs:function(){var a=[].slice.call(arguments);if(e(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1])},init:function(b,c){var e,g=b.series;b.series=null;e=E(q,b);e.series=b.series=g;this.userOptions=b;b=e.chart;g=b.events;this.margin=[];
this.spacing=[];this.bounds={h:{},v:{}};this.callback=c;this.isResizing=0;this.options=e;this.axes=[];this.series=[];this.hasCartesianSeries=b.showAxes;var d;this.index=u.length;u.push(this);a.chartCount++;if(g)for(d in g)B(this,d,g[d]);this.xAxis=[];this.yAxis=[];this.pointCount=this.colorCounter=this.symbolCounter=0;this.firstRender()},initSeries:function(b){var c=this.options.chart;(c=J[b.type||c.type||c.defaultSeriesType])||a.error(17,!0);c=new c;c.init(this,b);return c},orderSeries:function(a){var b=
this.series;for(a=a||0;a<b.length;a++)b[a]&&(b[a].index=a,b[a].name=b[a].name||"Series "+(b[a].index+1))},isInsidePlot:function(a,b,c){var e=c?b:a;a=c?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(b){var c=this.axes,e=this.series,g=this.pointer,d=this.legend,m=this.isDirtyLegend,h,f,v=this.hasCartesianSeries,k=this.isDirtyBox,y,l=this.renderer,t=l.isHidden(),q=[];this.setResponsive&&this.setResponsive(!1);a.setAnimation(b,this);t&&this.cloneRenderTo();this.layOutTitles();
for(b=e.length;b--;)if(y=e[b],y.options.stacking&&(h=!0,y.isDirty)){f=!0;break}if(f)for(b=e.length;b--;)y=e[b],y.options.stacking&&(y.isDirty=!0);n(e,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),m=!0);a.isDirtyData&&p(a,"updatedData")});m&&d.options.enabled&&(d.render(),this.isDirtyLegend=!1);h&&this.getStacks();v&&n(c,function(a){a.updateNames();a.setScale()});this.getMargins();v&&(n(c,function(a){a.isDirty&&(k=!0)}),n(c,function(a){var b=a.min+","+a.max;
a.extKey!==b&&(a.extKey=b,q.push(function(){p(a,"afterSetExtremes",z(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(k||h)&&a.redraw()}));k&&this.drawChartBox();p(this,"predraw");n(e,function(a){(k||a.isDirty)&&a.visible&&a.redraw();a.isDirtyData=!1});g&&g.reset(!0);l.draw();p(this,"redraw");p(this,"render");t&&this.cloneRenderTo(!0);n(q,function(a){a.call()})},get:function(a){function c(b){return b.id===a||b.options&&b.options.id===a}var e,g=this.series,d;e=b(this.axes,c)||b(this.series,c);
for(d=0;!e&&d<g.length;d++)e=b(g[d].points||[],c);return e},getAxes:function(){var a=this,b=this.options,c=b.xAxis=g(b.xAxis||{}),b=b.yAxis=g(b.yAxis||{});n(c,function(a,b){a.index=b;a.isX=!0});n(b,function(a,b){a.index=b});c=c.concat(b);n(c,function(b){new f(a,b)})},getSelectedPoints:function(){var a=[];n(this.series,function(b){a=a.concat(t(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return t(this.series,function(a){return a.selected})},setTitle:function(a,
b,c){var e=this,g=e.options,d;d=g.title=E({style:{color:"#333333",fontSize:g.isStock?"16px":"18px"}},g.title,a);g=g.subtitle=E({style:{color:"#666666"}},g.subtitle,b);n([["title",a,d],["subtitle",b,g]],function(a,b){var c=a[0],g=e[c],d=a[1];a=a[2];g&&d&&(e[c]=g=g.destroy());a&&a.text&&!g&&(e[c]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+c,zIndex:a.zIndex||4}).add(),e[c].update=function(a){e.setTitle(!b&&a,b&&a)},e[c].css(a.style))});e.layOutTitles(c)},layOutTitles:function(a){var b=
0,c,e=this.renderer,g=this.spacingBox;n(["title","subtitle"],function(a){var c=this[a],d=this.options[a],m;c&&(m=d.style.fontSize,m=e.fontMetrics(m,c).b,c.css({width:(d.width||g.width+d.widthAdjust)+"px"}).align(z({y:b+m+("title"===a?-3:2)},d),!1,"spacingBox"),d.floating||d.verticalAlign||(b=Math.ceil(b+c.getBBox(d.useHTML).height)))},this);c=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&y(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var b=
this.options.chart,e=b.width,b=b.height,g=this.renderToClone||this.renderTo;c(e)||(this.containerWidth=h(g,"width"));c(b)||(this.containerHeight=h(g,"height"));this.chartWidth=Math.max(0,e||this.containerWidth||600);this.chartHeight=Math.max(0,a.relativeLength(b,this.chartWidth)||this.containerHeight||400)},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;if(a){if(b){for(;b.childNodes.length;)this.renderTo.appendChild(b.firstChild);k(b);delete this.renderToClone}}else c&&c.parentNode===
this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),d(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),r.body.appendChild(b),c&&b.appendChild(c)},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var b,c=this.options,g=c.chart,d,m;b=this.renderTo;var h=a.uniqueKey(),f;b||(this.renderTo=b=g.renderTo);e(b)&&(this.renderTo=b=r.getElementById(b));
b||a.error(13,!0);d=I(G(b,"data-highcharts-chart"));D(d)&&u[d]&&u[d].hasRendered&&u[d].destroy();G(b,"data-highcharts-chart",this.index);b.innerHTML="";g.skipClone||b.offsetWidth||this.cloneRenderTo();this.getChartSize();d=this.chartWidth;m=this.chartHeight;f=z({position:"relative",overflow:"hidden",width:d+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style);this.container=b=l("div",{id:h},f,this.renderToClone||b);this._cursor=b.style.cursor;
this.renderer=new (a[g.renderer]||P)(b,d,m,null,g.forExport,c.exporting&&c.exporting.allowHTML);this.setClassName(g.className);this.renderer.setStyle(g.style);this.renderer.chartIndex=this.index},getMargins:function(a){var b=this.spacing,e=this.margin,g=this.titleOffset;this.resetMargins();g&&!c(e[0])&&(this.plotTop=Math.max(this.plotTop,g+this.options.title.margin+b[0]));this.legend.display&&this.legend.adjustMargins(e,b);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||
0)+this.extraMargin.value);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],e=a.margin;a.hasCartesianSeries&&n(a.axes,function(a){a.visible&&a.getOffset()});n(C,function(g,d){c(e[d])||(a[g]+=b[d])});a.setChartSize()},reflow:function(a){var b=this,e=b.options.chart,g=b.renderTo,d=c(e.width),m=e.width||h(g,"width"),e=e.height||h(g,"height"),g=a?a.target:N;if(!d&&!b.isPrinting&&m&&e&&(g===N||g===r)){if(m!==
b.containerWidth||e!==b.containerHeight)clearTimeout(b.reflowTimeout),b.reflowTimeout=Q(function(){b.container&&b.setSize(void 0,void 0,!1)},a?100:0);b.containerWidth=m;b.containerHeight=e}},initReflow:function(){var a=this,b;b=B(N,"resize",function(b){a.reflow(b)});B(a,"destroy",b)},setSize:function(b,c,e){var g=this,m=g.renderer;g.isResizing+=1;a.setAnimation(e,g);g.oldChartHeight=g.chartHeight;g.oldChartWidth=g.chartWidth;void 0!==b&&(g.options.chart.width=b);void 0!==c&&(g.options.chart.height=
c);g.getChartSize();b=m.globalAnimation;(b?A:d)(g.container,{width:g.chartWidth+"px",height:g.chartHeight+"px"},b);g.setChartSize(!0);m.setSize(g.chartWidth,g.chartHeight,e);n(g.axes,function(a){a.isDirty=!0;a.setScale()});g.isDirtyLegend=!0;g.isDirtyBox=!0;g.layOutTitles();g.getMargins();g.redraw(e);g.oldChartHeight=null;p(g,"resize");Q(function(){g&&p(g,"endResize",null,function(){--g.isResizing})},H(b).duration)},setChartSize:function(a){var b=this.inverted,c=this.renderer,e=this.chartWidth,g=
this.chartHeight,d=this.options.chart,m=this.spacing,h=this.clipOffset,f,p,k,y;this.plotLeft=f=Math.round(this.plotLeft);this.plotTop=p=Math.round(this.plotTop);this.plotWidth=k=Math.max(0,Math.round(e-f-this.marginRight));this.plotHeight=y=Math.max(0,Math.round(g-p-this.marginBottom));this.plotSizeX=b?y:k;this.plotSizeY=b?k:y;this.plotBorderWidth=d.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:m[3],y:m[0],width:e-m[3]-m[1],height:g-m[0]-m[2]};this.plotBox=c.plotBox={x:f,y:p,width:k,height:y};
e=2*Math.floor(this.plotBorderWidth/2);b=Math.ceil(Math.max(e,h[3])/2);c=Math.ceil(Math.max(e,h[0])/2);this.clipBox={x:b,y:c,width:Math.floor(this.plotSizeX-Math.max(e,h[1])/2-b),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,h[2])/2-c))};a||n(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart;n(["margin","spacing"],function(c){var e=b[c],g=w(e)?e:[e,e,e,e];n(["Top","Right","Bottom","Left"],function(e,d){a[c][d]=y(b[c+e],g[d])})});
n(C,function(b,c){a[b]=y(a.margin[c],a.spacing[c])});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,e=this.chartHeight,g=this.chartBackground,d=this.plotBackground,m=this.plotBorder,h,f=this.plotBGImage,n=a.backgroundColor,p=a.plotBackgroundColor,k=a.plotBackgroundImage,y,l=this.plotLeft,t=this.plotTop,q=this.plotWidth,u=this.plotHeight,x=this.plotBox,r=this.clipRect,w=this.clipBox,I="animate";g||(this.chartBackground=
g=b.rect().addClass("highcharts-background").add(),I="attr");h=a.borderWidth||0;y=h+(a.shadow?8:0);n={fill:n||"none"};if(h||g["stroke-width"])n.stroke=a.borderColor,n["stroke-width"]=h;g.attr(n).shadow(a.shadow);g[I]({x:y/2,y:y/2,width:c-y-h%2,height:e-y-h%2,r:a.borderRadius});I="animate";d||(I="attr",this.plotBackground=d=b.rect().addClass("highcharts-plot-background").add());d[I](x);d.attr({fill:p||"none"}).shadow(a.plotShadow);k&&(f?f.animate(x):this.plotBGImage=b.image(k,l,t,q,u).add());r?r.animate({width:w.width,
height:w.height}):this.clipRect=b.clipRect(w);I="animate";m||(I="attr",this.plotBorder=m=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());m.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||0,fill:"none"});m[I](m.crisp({x:l,y:t,width:q,height:u},-m.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,e=a.options.series,g,d;n(["inverted","angular","polar"],function(m){c=J[b.type||b.defaultSeriesType];d=b[m]||c&&c.prototype[m];
for(g=e&&e.length;!d&&g--;)(c=J[e[g].type])&&c.prototype[m]&&(d=!0);a[m]=d})},linkSeries:function(){var a=this,b=a.series;n(b,function(a){a.linkedSeries.length=0});n(b,function(b){var c=b.options.linkedTo;e(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=y(b.options.visible,c.options.visible,b.visible))})},renderSeries:function(){n(this.series,function(a){a.translate();a.render()})},renderLabels:function(){var a=this,b=a.options.labels;
b.items&&n(b.items,function(c){var e=z(b.style,c.style),g=I(e.left)+a.plotLeft,d=I(e.top)+a.plotTop+12;delete e.left;delete e.top;a.renderer.text(c.html,g,d).attr({zIndex:2}).css(e).add()})},render:function(){var a=this.axes,b=this.renderer,c=this.options,e,g,d;this.setTitle();this.legend=new x(this,c.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();c=this.plotWidth;e=this.plotHeight-=21;n(a,function(a){a.setScale()});this.getAxisMargins();g=1.1<c/this.plotWidth;d=
1.05<e/this.plotHeight;if(g||d)n(a,function(a){(a.horiz&&g||!a.horiz&&d)&&a.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&n(a,function(a){a.visible&&a.render()});this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function(a){var b=this;a=E(!0,this.options.credits,a);a.enabled&&!this.credits&&(this.credits=
this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(N.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy();b.addCredits(a)})},destroy:function(){var b=this,c=b.axes,e=b.series,g=b.container,d,m=g&&g.parentNode;p(b,"destroy");u[b.index]=void 0;a.chartCount--;b.renderTo.removeAttribute("data-highcharts-chart");K(b);for(d=c.length;d--;)c[d]=
c[d].destroy();this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(d=e.length;d--;)e[d]=e[d].destroy();n("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())});g&&(g.innerHTML="",K(g),m&&k(g));for(d in b)delete b[d]},isReadyToRender:function(){var a=this;return F||N!=N.top||"complete"===r.readyState?!0:(r.attachEvent("onreadystatechange",
function(){r.detachEvent("onreadystatechange",a.firstRender);"complete"===r.readyState&&a.firstRender()}),!1)},firstRender:function(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();p(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();n(b.series||[],function(b){a.initSeries(b)});a.linkSeries();p(a,"beforeRender");m&&(a.pointer=new m(a,b));a.render();if(!a.renderer.imgCount&&a.onload)a.onload();a.cloneRenderTo(!0)}},onload:function(){n([this.callback].concat(this.callbacks),
function(a){a&&void 0!==this.index&&a.apply(this,[this])},this);p(this,"load");p(this,"render");c(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}}})(L);(function(a){var B,A=a.each,H=a.extend,G=a.erase,r=a.fireEvent,f=a.format,l=a.isArray,q=a.isNumber,k=a.pick,u=a.removeEvent;B=a.Point=function(){};B.prototype={init:function(a,c,f){this.series=a;this.color=a.color;this.applyOptions(c,f);a.options.colorByPoint?(c=a.options.colors||a.chart.options.colors,this.color=this.color||
c[a.colorCounter],c=c.length,f=a.colorCounter,a.colorCounter++,a.colorCounter===c&&(a.colorCounter=0)):f=a.colorIndex;this.colorIndex=k(this.colorIndex,f);a.chart.pointCount++;return this},applyOptions:function(a,c){var d=this.series,f=d.options.pointValKey||d.pointValKey;a=B.prototype.optionsToObject.call(this,a);H(this,a);this.options=this.options?H(this.options,a):a;a.group&&delete this.group;f&&(this.y=this[f]);this.isNull=k(this.isValid&&!this.isValid(),null===this.x||!q(this.y,!0));this.selected&&
(this.state="select");"name"in this&&void 0===c&&d.xAxis&&d.xAxis.hasNames&&(this.x=d.xAxis.nameToX(this));void 0===this.x&&d&&(this.x=void 0===c?d.autoIncrement(this):c);return this},optionsToObject:function(a){var c={},d=this.series,f=d.options.keys,b=f||d.pointArrayMap||["y"],p=b.length,h=0,k=0;if(q(a)||null===a)c[b[0]]=a;else if(l(a))for(!f&&a.length>p&&(d=typeof a[0],"string"===d?c.name=a[0]:"number"===d&&(c.x=a[0]),h++);k<p;)f&&void 0===a[h]||(c[b[k]]=a[h]),h++,k++;else"object"===typeof a&&
(c=a,a.dataLabels&&(d._hasPointLabels=!0),a.marker&&(d._hasPointMarkers=!0));return c},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var a=
this.series,c=a.zones,a=a.zoneAxis||"y",f=0,k;for(k=c[f];this[a]>=k.value;)k=c[++f];k&&k.color&&!this.options.color&&(this.color=k.color);return k},destroy:function(){var a=this.series.chart,c=a.hoverPoints,f;a.pointCount--;c&&(this.setState(),G(c,this),c.length||(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)u(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(f in this)this[f]=null},destroyElements:function(){for(var a=["graphic",
"dataLabel","dataLabelUpper","connector","shadowGroup"],c,f=6;f--;)c=a[f],this[c]&&(this[c]=this[c].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var c=this.series,d=c.tooltipOptions,l=k(d.valueDecimals,""),b=d.valuePrefix||"",p=d.valueSuffix||"";A(c.pointArrayMap||["y"],function(c){c=
"{point."+c;if(b||p)a=a.replace(c+"}",b+c+"}"+p);a=a.replace(c+"}",c+":,."+l+"f}")});return f(a,{point:this,series:this.series})},firePointEvent:function(a,c,f){var d=this,b=this.series.options;(b.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents();"click"===a&&b.allowPointSelect&&(f=function(a){d.select&&d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});r(this,a,c,f)},visible:!0}})(L);(function(a){var B=a.addEvent,A=a.animObject,H=a.arrayMax,G=a.arrayMin,r=a.correctFloat,
f=a.Date,l=a.defaultOptions,q=a.defaultPlotOptions,k=a.defined,u=a.each,d=a.erase,c=a.extend,n=a.fireEvent,z=a.grep,b=a.isArray,p=a.isNumber,h=a.isString,t=a.merge,D=a.pick,w=a.removeEvent,e=a.splat,x=a.SVGElement,C=a.syncTimeout,E=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",
lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:"x"},
{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,b){var e=this,d,m,g=a.series,h;e.chart=a;e.options=b=e.setOptions(b);e.linkedSeries=[];e.bindAxes();c(e,{name:b.name,state:"",visible:!1!==b.visible,selected:!0===b.selected});m=b.events;for(d in m)B(e,d,m[d]);if(m&&m.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;e.getColor();
e.getSymbol();u(e.parallelArrays,function(a){e[a+"Data"]=[]});e.setData(b.data,!1);e.isCartesian&&(a.hasCartesianSeries=!0);g.length&&(h=g[g.length-1]);e._i=D(h&&h._i,-1)+1;a.orderSeries(this.insert(g))},insert:function(a){var b=this.options.index,c;if(p(b)){for(c=a.length;c--;)if(b>=D(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break}-1===c&&a.unshift(this);c+=1}else a.push(this);return D(c,a.length-1)},bindAxes:function(){var b=this,c=b.options,e=b.chart,d;u(b.axisTypes||[],function(m){u(e[m],
function(a){d=a.options;if(c[m]===d.index||void 0!==c[m]&&c[m]===d.id||void 0===c[m]&&0===d.index)b.insert(a.series),b[m]=a,a.isDirty=!0});b[m]||b.optionalAxis===m||a.error(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,e=arguments,d=p(b)?function(e){var g="y"===e&&c.toYData?c.toYData(a):a[e];c[e+"Data"][b]=g}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(e,2))};u(c.parallelArrays,d)},autoIncrement:function(){var a=this.options,b=this.xIncrement,c,e=a.pointIntervalUnit,
b=D(b,a.pointStart,0);this.pointInterval=c=D(this.pointInterval,a.pointInterval,1);e&&(a=new f(b),"day"===e?a=+a[f.hcSetDate](a[f.hcGetDate]()+c):"month"===e?a=+a[f.hcSetMonth](a[f.hcGetMonth]()+c):"year"===e&&(a=+a[f.hcSetFullYear](a[f.hcGetFullYear]()+c)),c=a-b);this.xIncrement=b+c;return b},setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},e=b.plotOptions||{},d=c[this.type];this.userOptions=a;c=t(d,c.series,a);this.tooltipOptions=t(l.tooltip,l.plotOptions[this.type].tooltip,
b.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip);this.stickyTracking=D(a.stickyTracking,e[this.type]&&e[this.type].stickyTracking,e.series&&e.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:c.stickyTracking);null===d.marker&&delete c.marker;this.zoneAxis=c.zoneAxis;a=this.zones=(c.zones||[]).slice();!c.negativeColor&&!c.negativeFillColor||c.zones||a.push({value:c[this.zoneAxis+"Threshold"]||c.threshold||0,className:"highcharts-negative",
color:c.negativeColor,fillColor:c.negativeFillColor});a.length&&k(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor});return c},getCyclic:function(a,b,c){var e,d=this.chart,g=this.userOptions,m=a+"Index",h=a+"Counter",f=c?c.length:D(d.options.chart[a+"Count"],d[a+"Count"]);b||(e=D(g[m],g["_"+m]),k(e)||(d.series.length||(d[h]=0),g["_"+m]=e=d[h]%f,d[h]+=1),c&&(b=c[e]));void 0!==e&&(this[m]=e);this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",
this.options.color||q[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function(c,e,d,f){var m=this,g=m.points,k=g&&g.length||0,n,l=m.options,y=m.chart,t=null,q=m.xAxis,x=l.turboThreshold,r=this.xData,w=this.yData,C=(n=m.pointArrayMap)&&n.length;c=c||[];n=c.length;e=D(e,!0);if(!1!==f&&n&&k===n&&!m.cropped&&!m.hasGroupedData&&m.visible)u(c,function(a,
b){g[b].update&&a!==l.data[b]&&g[b].update(a,!1,null,!1)});else{m.xIncrement=null;m.colorCounter=0;u(this.parallelArrays,function(a){m[a+"Data"].length=0});if(x&&n>x){for(d=0;null===t&&d<n;)t=c[d],d++;if(p(t))for(d=0;d<n;d++)r[d]=this.autoIncrement(),w[d]=c[d];else if(b(t))if(C)for(d=0;d<n;d++)t=c[d],r[d]=t[0],w[d]=t.slice(1,C+1);else for(d=0;d<n;d++)t=c[d],r[d]=t[0],w[d]=t[1];else a.error(12)}else for(d=0;d<n;d++)void 0!==c[d]&&(t={series:m},m.pointClass.prototype.applyOptions.apply(t,[c[d]]),m.updateParallelArrays(t,
d));h(w[0])&&a.error(14,!0);m.data=[];m.options.data=m.userOptions.data=c;for(d=k;d--;)g[d]&&g[d].destroy&&g[d].destroy();q&&(q.minRange=q.userMinRange);m.isDirty=y.isDirtyBox=!0;m.isDirtyData=!!g;d=!1}"point"===l.legendType&&(this.processData(),this.generatePoints());e&&y.redraw(d)},processData:function(b){var c=this.xData,e=this.yData,d=c.length,m;m=0;var g,h,f=this.xAxis,p,k=this.options;p=k.cropThreshold;var n=this.getExtremesFromAll||k.getExtremesFromAll,l=this.isCartesian,k=f&&f.val2lin,t=f&&
f.isLog,q,x;if(l&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!b)return!1;f&&(b=f.getExtremes(),q=b.min,x=b.max);if(l&&this.sorted&&!n&&(!p||d>p||this.forceCrop))if(c[d-1]<q||c[0]>x)c=[],e=[];else if(c[0]<q||c[d-1]>x)m=this.cropData(this.xData,this.yData,q,x),c=m.xData,e=m.yData,m=m.start,g=!0;for(p=c.length||1;--p;)d=t?k(c[p])-k(c[p-1]):c[p]-c[p-1],0<d&&(void 0===h||d<h)?h=d:0>d&&this.requireSorting&&a.error(15);this.cropped=g;this.cropStart=m;this.processedXData=c;this.processedYData=e;this.closestPointRange=
h},cropData:function(a,b,c,e){var d=a.length,g=0,m=d,h=D(this.cropShoulder,1),f;for(f=0;f<d;f++)if(a[f]>=c){g=Math.max(0,f-h);break}for(c=f;c<d;c++)if(a[c]>e){m=c+h;break}return{xData:a.slice(g,m),yData:b.slice(g,m),start:g,end:m}},generatePoints:function(){var a=this.options.data,b=this.data,c,d=this.processedXData,h=this.processedYData,g=this.pointClass,f=d.length,p=this.cropStart||0,k,n=this.hasGroupedData,l,t=[],q;b||n||(b=[],b.length=a.length,b=this.data=b);for(q=0;q<f;q++)k=p+q,n?(l=(new g).init(this,
[d[q]].concat(e(h[q]))),l.dataGroup=this.groupMap[q]):(l=b[k])||void 0===a[k]||(b[k]=l=(new g).init(this,a[k],d[q])),l&&(l.index=k,t[q]=l);if(b&&(f!==(c=b.length)||n))for(q=0;q<c;q++)q!==p||n||(q+=f),b[q]&&(b[q].destroyElements(),b[q].plotX=void 0);this.data=b;this.points=t},getExtremes:function(a){var c=this.yAxis,e=this.processedXData,d,m=[],g=0;d=this.xAxis.getExtremes();var h=d.min,f=d.max,k,n,l,t;a=a||this.stackedYData||this.processedYData||[];d=a.length;for(t=0;t<d;t++)if(n=e[t],l=a[t],k=(p(l,
!0)||b(l))&&(!c.positiveValuesOnly||l.length||0<l),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(e[t]||n)>=h&&(e[t]||n)<=f,k&&n)if(k=l.length)for(;k--;)null!==l[k]&&(m[g++]=l[k]);else m[g++]=l;this.dataMin=G(m);this.dataMax=H(m)},translate:function(){this.processedXData||this.processData();this.generatePoints();var a=this.options,b=a.stacking,c=this.xAxis,e=c.categories,d=this.yAxis,g=this.points,h=g.length,f=!!this.modifyValue,n=a.pointPlacement,l="between"===n||p(n),
t=a.threshold,q=a.startFromThreshold?t:0,x,u,w,C,E=Number.MAX_VALUE;"between"===n&&(n=.5);p(n)&&(n*=D(a.pointRange||c.pointRange));for(a=0;a<h;a++){var z=g[a],A=z.x,B=z.y;u=z.low;var H=b&&d.stacks[(this.negStacks&&B<(q?0:t)?"-":"")+this.stackKey],G;d.positiveValuesOnly&&null!==B&&0>=B&&(z.isNull=!0);z.plotX=x=r(Math.min(Math.max(-1E5,c.translate(A,0,0,0,1,n,"flags"===this.type)),1E5));b&&this.visible&&!z.isNull&&H&&H[A]&&(C=this.getStackIndicator(C,A,this.index),G=H[A],B=G.points[C.key],u=B[0],B=
B[1],u===q&&C.key===H[A].base&&(u=D(t,d.min)),d.positiveValuesOnly&&0>=u&&(u=null),z.total=z.stackTotal=G.total,z.percentage=G.total&&z.y/G.total*100,z.stackY=B,G.setOffset(this.pointXOffset||0,this.barW||0));z.yBottom=k(u)?d.translate(u,0,1,0,1):null;f&&(B=this.modifyValue(B,z));z.plotY=u="number"===typeof B&&Infinity!==B?Math.min(Math.max(-1E5,d.translate(B,0,1,0,1)),1E5):void 0;z.isInside=void 0!==u&&0<=u&&u<=d.len&&0<=x&&x<=c.len;z.clientX=l?r(c.translate(A,0,0,0,1,n)):x;z.negative=z.y<(t||0);
z.category=e&&void 0!==e[z.x]?e[z.x]:z.x;z.isNull||(void 0!==w&&(E=Math.min(E,Math.abs(x-w))),w=x);z.zone=this.zones.length&&z.getZone()}this.closestPointRangePx=E},getValidPoints:function(a,b){var c=this.chart;return z(a||this.points||[],function(a){return b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted)?!1:!a.isNull})},setClip:function(a){var b=this.chart,c=this.options,e=b.renderer,d=b.inverted,g=this.clipBox,h=g||b.clipBox,m=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,h.height,
c.xAxis,c.yAxis].join(),f=b[m],p=b[m+"m"];f||(a&&(h.width=0,b[m+"m"]=p=e.clipRect(-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),b[m]=f=e.clipRect(h),f.count={length:0});a&&!f.count[this.index]&&(f.count[this.index]=!0,f.count.length+=1);!1!==c.clip&&(this.group.clip(a||g?f:b.clipRect),this.markerGroup.clip(p),this.sharedClipKey=m);a||(f.count[this.index]&&(delete f.count[this.index],--f.count.length),0===f.count.length&&m&&b[m]&&(g||(b[m]=b[m].destroy()),b[m+"m"]&&(b[m+"m"]=b[m+"m"].destroy())))},
animate:function(a){var b=this.chart,c=A(this.options.animation),e;a?this.setClip(c):(e=this.sharedClipKey,(a=b[e])&&a.animate({width:b.plotSizeX},c),b[e+"m"]&&b[e+"m"].animate({width:b.plotSizeX+99},c),this.animate=null)},afterAnimate:function(){this.setClip();n(this,"afterAnimate")},drawPoints:function(){var a=this.points,b=this.chart,c,e,d,g,h=this.options.marker,f,n,k,l,t=this.markerGroup,q=D(h.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=2*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(e=
0;e<a.length;e++)d=a[e],c=d.plotY,g=d.graphic,f=d.marker||{},n=!!d.marker,k=q&&void 0===f.enabled||f.enabled,l=d.isInside,k&&p(c)&&null!==d.y?(c=D(f.symbol,this.symbol),d.hasImage=0===c.indexOf("url"),k=this.markerAttribs(d,d.selected&&"select"),g?g[l?"show":"hide"](!0).animate(k):l&&(0<k.width||d.hasImage)&&(d.graphic=g=b.renderer.symbol(c,k.x,k.y,k.width,k.height,n?f:h).add(t)),g&&g.attr(this.pointAttribs(d,d.selected&&"select")),g&&g.addClass(d.getClassName(),!0)):g&&(d.graphic=g.destroy())},markerAttribs:function(a,
b){var c=this.options.marker,e=a.marker||{},d=D(e.radius,c.radius);b&&(c=c.states[b],b=e.states&&e.states[b],d=D(b&&b.radius,c&&c.radius,d+(c&&c.radiusPlus||0)));a.hasImage&&(d=0);a={x:Math.floor(a.plotX)-d,y:a.plotY-d};d&&(a.width=a.height=2*d);return a},pointAttribs:function(a,b){var c=this.options.marker,e=a&&a.options,d=e&&e.marker||{},g=this.color,h=e&&e.color,f=a&&a.color,e=D(d.lineWidth,c.lineWidth);a=a&&a.zone&&a.zone.color;g=h||a||f||g;a=d.fillColor||c.fillColor||g;g=d.lineColor||c.lineColor||
g;b&&(c=c.states[b],b=d.states&&d.states[b]||{},e=D(b.lineWidth,c.lineWidth,e+D(b.lineWidthPlus,c.lineWidthPlus,0)),a=b.fillColor||c.fillColor||a,g=b.lineColor||c.lineColor||g);return{stroke:g,"stroke-width":e,fill:a}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(E.navigator.userAgent),e,h=a.data||[],g,f,k;n(a,"destroy");w(a);u(a.axisTypes||[],function(b){(k=a[b])&&k.series&&(d(k.series,a),k.isDirty=k.forceRedraw=!0)});a.legendItem&&a.chart.legend.destroyItem(a);for(e=h.length;e--;)(g=
h[e])&&g.destroy&&g.destroy();a.points=null;clearTimeout(a.animationTimeout);for(f in a)a[f]instanceof x&&!a[f].survive&&(e=c&&"group"===f?"hide":"destroy",a[f][e]());b.hoverSeries===a&&(b.hoverSeries=null);d(b.series,a);b.orderSeries();for(f in a)delete a[f]},getGraphPath:function(a,b,c){var e=this,d=e.options,g=d.step,h,f=[],m=[],p;a=a||e.points;(h=a.reversed)&&a.reverse();(g={right:1,center:2}[g]||g&&3)&&h&&(g=4-g);!d.connectNulls||b||c||(a=this.getValidPoints(a));u(a,function(h,n){var l=h.plotX,
t=h.plotY,q=a[n-1];(h.leftCliff||q&&q.rightCliff)&&!c&&(p=!0);h.isNull&&!k(b)&&0<n?p=!d.connectNulls:h.isNull&&!b?p=!0:(0===n||p?n=["M",h.plotX,h.plotY]:e.getPointSpline?n=e.getPointSpline(a,h,n):g?(n=1===g?["L",q.plotX,t]:2===g?["L",(q.plotX+l)/2,q.plotY,"L",(q.plotX+l)/2,t]:["L",l,q.plotY],n.push("L",l,t)):n=["L",l,t],m.push(h.x),g&&m.push(h.x),f.push.apply(f,n),p=!1)});f.xMap=m;return e.graphPath=f},drawGraph:function(){var a=this,b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),
e=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];u(this.zones,function(c,d){e.push(["zone-graph-"+d,"highcharts-graph highcharts-zone-graph-"+d+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])});u(e,function(e,d){var g=e[0],h=a[g];h?(h.endX=c.xMap,h.animate({d:c})):c.length&&(a[g]=a.chart.renderer.path(c).addClass(e[1]).attr({zIndex:1}).add(a.group),h={stroke:e[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},e[3]?h.dashstyle=e[3]:"square"!==b.linecap&&
(h["stroke-linecap"]=h["stroke-linejoin"]="round"),h=a[g].attr(h).shadow(2>d&&b.shadow));h&&(h.startX=c.xMap,h.isArea=c.isArea)})},applyZones:function(){var a=this,b=this.chart,c=b.renderer,e=this.zones,d,g,h=this.clips||[],f,k=this.graph,p=this.area,n=Math.max(b.chartWidth,b.chartHeight),l=this[(this.zoneAxis||"y")+"Axis"],t,q,x=b.inverted,w,r,C,E,z=!1;e.length&&(k||p)&&l&&void 0!==l.min&&(q=l.reversed,w=l.horiz,k&&k.hide(),p&&p.hide(),t=l.getExtremes(),u(e,function(e,m){d=q?w?b.plotWidth:0:w?0:
l.toPixels(t.min);d=Math.min(Math.max(D(g,d),0),n);g=Math.min(Math.max(Math.round(l.toPixels(D(e.value,t.max),!0)),0),n);z&&(d=g=l.toPixels(t.max));r=Math.abs(d-g);C=Math.min(d,g);E=Math.max(d,g);l.isXAxis?(f={x:x?E:C,y:0,width:r,height:n},w||(f.x=b.plotHeight-f.x)):(f={x:0,y:x?E:C,width:n,height:r},w&&(f.y=b.plotWidth-f.y));x&&c.isVML&&(f=l.isXAxis?{x:0,y:q?C:E,height:f.width,width:b.chartWidth}:{x:f.y-b.plotLeft-b.spacingBox.x,y:0,width:f.height,height:b.chartHeight});h[m]?h[m].animate(f):(h[m]=
c.clipRect(f),k&&a["zone-graph-"+m].clip(h[m]),p&&a["zone-area-"+m].clip(h[m]));z=e.value>t.max}),this.clips=h)},invertGroups:function(a){function b(){u(["group","markerGroup"],function(b){c[b]&&(e.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a))})}var c=this,e=c.chart,d;c.xAxis&&(d=B(e,"resize",b),B(c,"destroy",d),b(a),c.invertGroups=b)},plotGroup:function(a,b,c,e,d){var g=this[a],h=!g;h&&(this[a]=g=this.chart.renderer.g(b).attr({zIndex:e||
.1}).add(d),g.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||"")));g.attr({visibility:c})[h?"attr":"animate"](this.getPlotBox());return g},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,c,e=a.options,d=!!a.animate&&b.renderer.isSVG&&A(e.animation).duration,
g=a.visible?"inherit":"hidden",h=e.zIndex,f=a.hasRendered,k=b.seriesGroup,p=b.inverted;c=a.plotGroup("group","series",g,h,k);a.markerGroup=a.plotGroup("markerGroup","markers",g,h,k);d&&a.animate(!0);c.inverted=a.isCartesian?p:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();a.invertGroups(p);!1===e.clip||a.sharedClipKey||f||c.clip(b.clipRect);d&&a.animate();f||(a.animationTimeout=
C(function(){a.afterAnimate()},d));a.isDirty=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,e=this.xAxis,d=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:D(e&&e.left,a.plotLeft),translateY:D(d&&d.top,a.plotTop)}));this.translate();this.render();b&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var c=this.xAxis,e=this.yAxis,d=this.chart.inverted;return this.searchKDTree({clientX:d?
c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:d?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function(){function a(c,e,d){var g,h;if(h=c&&c.length)return g=b.kdAxisArray[e%d],c.sort(function(a,b){return a[g]-b[g]}),h=Math.floor(h/2),{point:c[h],left:a(c.slice(0,h),e+1,d),right:a(c.slice(h+1),e+1,d)}}this.buildingKdTree=!0;var b=this,c=-1<b.options.findNearestPointBy.indexOf("y")?2:1;delete b.kdTree;C(function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),c,c);b.buildingKdTree=!1},b.options.kdNow?
0:1)},searchKDTree:function(a,b){function c(a,b,f,m){var p=b.point,n=e.kdAxisArray[f%m],l,t,q=p;t=k(a[d])&&k(p[d])?Math.pow(a[d]-p[d],2):null;l=k(a[g])&&k(p[g])?Math.pow(a[g]-p[g],2):null;l=(t||0)+(l||0);p.dist=k(l)?Math.sqrt(l):Number.MAX_VALUE;p.distX=k(t)?Math.sqrt(t):Number.MAX_VALUE;n=a[n]-p[n];l=0>n?"left":"right";t=0>n?"right":"left";b[l]&&(l=c(a,b[l],f+1,m),q=l[h]<q[h]?l:p);b[t]&&Math.sqrt(n*n)<q[h]&&(a=c(a,b[t],f+1,m),q=a[h]<q[h]?a:q);return q}var e=this,d=this.kdAxisArray[0],g=this.kdAxisArray[1],
h=b?"distX":"dist";b=-1<e.options.findNearestPointBy.indexOf("y")?2:1;this.kdTree||this.buildingKdTree||this.buildKDTree();if(this.kdTree)return c(a,this.kdTree,b,b)}})})(L);(function(a){function B(a,d,c,f,l){var b=a.chart.inverted;this.axis=a;this.isNegative=c;this.options=d;this.x=f;this.total=null;this.points={};this.stack=l;this.rightCliff=this.leftCliff=0;this.alignOptions={align:d.align||(b?c?"left":"right":"center"),verticalAlign:d.verticalAlign||(b?"middle":c?"bottom":"top"),y:k(d.y,b?4:c?
14:-6),x:k(d.x,b?c?-6:6:0)};this.textAlign=d.textAlign||(b?c?"right":"left":"center")}var A=a.Axis,H=a.Chart,G=a.correctFloat,r=a.defined,f=a.destroyObjectProperties,l=a.each,q=a.format,k=a.pick;a=a.Series;B.prototype={destroy:function(){f(this,this.axis)},render:function(a){var d=this.options,c=d.format,c=c?q(c,this):d.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,d.useHTML).css(d.style).attr({align:this.textAlign,
rotation:d.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,d){var c=this.axis,f=c.chart,k=f.inverted,b=c.reversed,b=this.isNegative&&!b||!this.isNegative&&b,p=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=Math.abs(p-c);a=f.xAxis[0].translate(this.x)+a;var h=f.plotHeight,k={x:k?b?p:p-c:a,y:k?h-a-d:b?h-p-c:h-p,width:k?c:d,height:k?d:c};if(d=this.label)d.align(this.alignOptions,null,k),k=d.alignAttr,d[!1===this.options.crop||f.isInsidePlot(k.x,k.y)?"show":"hide"](!0)}};
H.prototype.getStacks=function(){var a=this;l(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});l(a.series,function(d){!d.options.stacking||!0!==d.visible&&!1!==a.options.chart.ignoreHiddenSeries||(d.stackKey=d.type+k(d.options.stack,""))})};A.prototype.buildStacks=function(){var a=this.series,d,c=k(this.options.reversedStacks,!0),f=a.length,l;if(!this.isXAxis){this.usePercentage=!1;for(l=f;l--;)a[c?l:f-l-1].setStackedPoints();for(l=f;l--;)d=a[c?l:f-l-1],d.setStackCliffs&&
d.setStackCliffs();if(this.usePercentage)for(l=0;l<f;l++)a[l].setPercentStacks()}};A.prototype.renderStackTotals=function(){var a=this.chart,d=a.renderer,c=this.stacks,f,k,b=this.stackTotalGroup;b||(this.stackTotalGroup=b=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());b.translate(a.plotLeft,a.plotTop);for(f in c)for(k in a=c[f],a)a[k].render(b)};A.prototype.resetStacks=function(){var a=this.stacks,d,c;if(!this.isXAxis)for(d in a)for(c in a[d])a[d][c].touched<this.stacksTouched?(a[d][c].destroy(),
delete a[d][c]):(a[d][c].total=null,a[d][c].cum=null)};A.prototype.cleanStacks=function(){var a,d,c;if(!this.isXAxis)for(d in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(c in a[d])a[d][c].cum=a[d][c].total};a.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,d=this.processedYData,c=[],f=d.length,l=this.options,b=l.threshold,p=l.startFromThreshold?b:0,h=l.stack,l=l.stacking,t=this.stackKey,
q="-"+t,w=this.negStacks,e=this.yAxis,x=e.stacks,C=e.oldStacks,E,m,y,A,K,J,g;e.stacksTouched+=1;for(K=0;K<f;K++)J=a[K],g=d[K],E=this.getStackIndicator(E,J,this.index),A=E.key,y=(m=w&&g<(p?0:b))?q:t,x[y]||(x[y]={}),x[y][J]||(C[y]&&C[y][J]?(x[y][J]=C[y][J],x[y][J].total=null):x[y][J]=new B(e,e.options.stackLabels,m,J,h)),y=x[y][J],null!==g&&(y.points[A]=y.points[this.index]=[k(y.cum,p)],r(y.cum)||(y.base=A),y.touched=e.stacksTouched,0<E.index&&!1===this.singleStacks&&(y.points[A][0]=y.points[this.index+
","+J+",0"][0])),"percent"===l?(m=m?t:q,w&&x[m]&&x[m][J]?(m=x[m][J],y.total=m.total=Math.max(m.total,y.total)+Math.abs(g)||0):y.total=G(y.total+(Math.abs(g)||0))):y.total=G(y.total+(g||0)),y.cum=k(y.cum,p)+(g||0),null!==g&&(y.points[A].push(y.cum),c[K]=y.cum);"percent"===l&&(e.usePercentage=!0);this.stackedYData=c;e.oldStacks={}}};a.prototype.setPercentStacks=function(){var a=this,d=a.stackKey,c=a.yAxis.stacks,f=a.processedXData,k;l([d,"-"+d],function(b){for(var d=f.length,h,n;d--;)if(h=f[d],k=a.getStackIndicator(k,
h,a.index,b),h=(n=c[b]&&c[b][h])&&n.points[k.key])n=n.total?100/n.total:0,h[0]=G(h[0]*n),h[1]=G(h[1]*n),a.stackedYData[d]=h[1]})};a.prototype.getStackIndicator=function(a,d,c,f){!r(a)||a.x!==d||f&&a.key!==f?a={x:d,index:0,key:f}:a.index++;a.key=[c,d,a.index].join();return a}})(L);(function(a){var B=a.addEvent,A=a.animate,H=a.Axis,G=a.createElement,r=a.css,f=a.defined,l=a.each,q=a.erase,k=a.extend,u=a.fireEvent,d=a.inArray,c=a.isNumber,n=a.isObject,z=a.merge,b=a.pick,p=a.Point,h=a.Series,t=a.seriesTypes,
D=a.setAnimation,w=a.splat;k(a.Chart.prototype,{addSeries:function(a,c,d){var e,h=this;a&&(c=b(c,!0),u(h,"addSeries",{options:a},function(){e=h.initSeries(a);h.isDirtyLegend=!0;h.linkSeries();c&&h.redraw(d)}));return e},addAxis:function(a,c,d,h){var e=c?"xAxis":"yAxis",f=this.options;a=z(a,{index:this[e].length,isX:c});new H(this,a);f[e]=w(f[e]||{});f[e].push(a);b(d,!0)&&this.redraw(h)},showLoading:function(a){var b=this,c=b.options,e=b.loadingDiv,d=c.loading,h=function(){e&&r(e,{left:b.plotLeft+
"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};e||(b.loadingDiv=e=G("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=G("span",{className:"highcharts-loading-inner"},null,e),B(b,"redraw",h));e.className="highcharts-loading";b.loadingSpan.innerHTML=a||c.lang.loading;r(e,k(d.style,{zIndex:10}));r(b.loadingSpan,d.labelStyle);b.loadingShown||(r(e,{opacity:0,display:""}),A(e,{opacity:d.style.opacity||.5},{duration:d.showDuration||
0}));b.loadingShown=!0;h()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",A(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){r(b,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(a,h){var e,k={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},m=a.chart,p,n;if(m){z(!0,this.options.chart,m);"className"in m&&this.setClassName(m.className);if("inverted"in m||"polar"in m)this.propFromSeries(),p=!0;"alignTicks"in m&&(p=!0);for(e in m)m.hasOwnProperty(e)&&(-1!==d("chart."+e,this.propsRequireUpdateSeries)&&(n=!0),-1!==d(e,this.propsRequireDirtyBox)&&
(this.isDirtyBox=!0));"style"in m&&this.renderer.setStyle(m.style)}for(e in a){if(this[e]&&"function"===typeof this[e].update)this[e].update(a[e],!1);else if("function"===typeof this[k[e]])this[k[e]](a[e]);"chart"!==e&&-1!==d(e,this.propsRequireUpdateSeries)&&(n=!0)}a.colors&&(this.options.colors=a.colors);a.plotOptions&&z(!0,this.options.plotOptions,a.plotOptions);l(["xAxis","yAxis","series","colorAxis","pane"],function(b){a[b]&&l(w(a[b]),function(a,c){(c=f(a.id)&&this.get(a.id)||this[b][c])&&c.coll===
b&&c.update(a,!1)},this)},this);p&&l(this.axes,function(a){a.update({},!1)});n&&l(this.series,function(a){a.update({},!1)});a.loading&&z(!0,this.options.loading,a.loading);e=m&&m.width;m=m&&m.height;c(e)&&e!==this.chartWidth||c(m)&&m!==this.chartHeight?this.setSize(e,m):b(h,!0)&&this.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}});k(p.prototype,{update:function(a,c,d,h){function e(){f.applyOptions(a);null===f.y&&p&&(f.graphic=p.destroy());n(a,!0)&&(p&&p.element&&a&&a.marker&&a.marker.symbol&&
(f.graphic=p.destroy()),a&&a.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy()));l=f.index;k.updateParallelArrays(f,l);t.data[l]=n(t.data[l],!0)||n(a,!0)?f.options:a;k.isDirty=k.isDirtyData=!0;!k.fixedBox&&k.hasCartesianSeries&&(g.isDirtyBox=!0);"point"===t.legendType&&(g.isDirtyLegend=!0);c&&g.redraw(d)}var f=this,k=f.series,p=f.graphic,l,g=k.chart,t=k.options;c=b(c,!0);!1===h?e():f.firePointEvent("update",{options:a},e)},remove:function(a,b){this.series.removePoint(d(this,this.series.data),
a,b)}});k(h.prototype,{addPoint:function(a,c,d,h){var e=this.options,f=this.data,k=this.chart,p=this.xAxis,p=p&&p.hasNames&&p.names,n=e.data,g,l,t=this.xData,q,w;c=b(c,!0);g={series:this};this.pointClass.prototype.applyOptions.apply(g,[a]);w=g.x;q=t.length;if(this.requireSorting&&w<t[q-1])for(l=!0;q&&t[q-1]>w;)q--;this.updateParallelArrays(g,"splice",q,0,0);this.updateParallelArrays(g,q);p&&g.name&&(p[w]=g.name);n.splice(q,0,a);l&&(this.data.splice(q,0,null),this.processData());"point"===e.legendType&&
this.generatePoints();d&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),this.updateParallelArrays(g,"shift"),n.shift()));this.isDirtyData=this.isDirty=!0;c&&k.redraw(h)},removePoint:function(a,c,d){var e=this,h=e.data,f=h[a],k=e.points,p=e.chart,n=function(){k&&k.length===h.length&&k.splice(a,1);h.splice(a,1);e.options.data.splice(a,1);e.updateParallelArrays(f||{series:e},"splice",a,1);f&&f.destroy();e.isDirty=!0;e.isDirtyData=!0;c&&p.redraw()};D(d,p);c=b(c,!0);f?f.firePointEvent("remove",null,n):
n()},remove:function(a,c,d){function e(){h.destroy();f.isDirtyLegend=f.isDirtyBox=!0;f.linkSeries();b(a,!0)&&f.redraw(c)}var h=this,f=h.chart;!1!==d?u(h,"remove",null,e):e()},update:function(a,c){var e=this,d=this.chart,h=this.userOptions,f=this.oldType||this.type,p=a.type||h.type||d.options.chart.type,n=t[f].prototype,q=["group","markerGroup","dataLabelsGroup"],g;if(p&&p!==f||void 0!==a.zIndex)q.length=0;l(q,function(a){q[a]=e[a];delete e[a]});a=z(h,{animation:!1,index:this.index,pointStart:this.xData[0]},
{data:this.options.data},a);this.remove(!1,null,!1);for(g in n)this[g]=void 0;k(this,t[p||f].prototype);l(q,function(a){e[a]=q[a]});this.init(d,a);this.oldType=f;d.linkSeries();b(c,!0)&&d.redraw(!1)}});k(H.prototype,{update:function(a,c){var e=this.chart;a=e.options[this.coll][this.options.index]=z(this.userOptions,a);this.destroy(!0);this.init(e,k(a,{events:void 0}));e.isDirtyBox=!0;b(c,!0)&&e.redraw()},remove:function(a){for(var c=this.chart,e=this.coll,d=this.series,h=d.length;h--;)d[h]&&d[h].remove(!1);
q(c.axes,this);q(c[e],this);c.options[e].splice(this.options.index,1);l(c[e],function(a,b){a.options.index=b});this.destroy();c.isDirtyBox=!0;b(a,!0)&&c.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})})(L);(function(a){var B=a.color,A=a.each,H=a.map,G=a.pick,r=a.Series,f=a.seriesType;f("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var a=[],f=[],k=this.xAxis,r=this.yAxis,d=r.stacks[this.stackKey],
c={},n=this.points,z=this.index,b=r.series,p=b.length,h,t=G(r.options.reversedStacks,!0)?1:-1,D,w;if(this.options.stacking){for(D=0;D<n.length;D++)c[n[D].x]=n[D];for(w in d)null!==d[w].total&&f.push(w);f.sort(function(a,b){return a-b});h=H(b,function(){return this.visible});A(f,function(b,n){var e=0,l,m;if(c[b]&&!c[b].isNull)a.push(c[b]),A([-1,1],function(a){var e=1===a?"rightNull":"leftNull",k=0,q=d[f[n+a]];if(q)for(D=z;0<=D&&D<p;)l=q.points[D],l||(D===z?c[b][e]=!0:h[D]&&(m=d[b].points[D])&&(k-=
m[1]-m[0])),D+=t;c[b][1===a?"rightCliff":"leftCliff"]=k});else{for(D=z;0<=D&&D<p;){if(l=d[b].points[D]){e=l[1];break}D+=t}e=r.translate(e,0,1,0,1);a.push({isNull:!0,plotX:k.translate(b,0,0,0,1),x:b,plotY:e,yBottom:e})}})}return a},getGraphPath:function(a){var f=r.prototype.getGraphPath,k=this.options,l=k.stacking,d=this.yAxis,c,n,z=[],b=[],p=this.index,h,t=d.stacks[this.stackKey],D=k.threshold,w=d.getThreshold(k.threshold),e,k=k.connectNulls||"percent"===l,x=function(c,e,f){var k=a[c];c=l&&t[k.x].points[p];
var m=k[f+"Null"]||0;f=k[f+"Cliff"]||0;var n,q,k=!0;f||m?(n=(m?c[0]:c[1])+f,q=c[0]+f,k=!!m):!l&&a[e]&&a[e].isNull&&(n=q=D);void 0!==n&&(b.push({plotX:h,plotY:null===n?w:d.getThreshold(n),isNull:k,isCliff:!0}),z.push({plotX:h,plotY:null===q?w:d.getThreshold(q),doCurve:!1}))};a=a||this.points;l&&(a=this.getStackPoints());for(c=0;c<a.length;c++)if(n=a[c].isNull,h=G(a[c].rectPlotX,a[c].plotX),e=G(a[c].yBottom,w),!n||k)k||x(c,c-1,"left"),n&&!l&&k||(b.push(a[c]),z.push({x:c,plotX:h,plotY:e})),k||x(c,c+
1,"right");c=f.call(this,b,!0,!0);z.reversed=!0;n=f.call(this,z,!0,!0);n.length&&(n[0]="L");n=c.concat(n);f=f.call(this,b,!1,k);n.xMap=c.xMap;this.areaPath=n;return f},drawGraph:function(){this.areaPath=[];r.prototype.drawGraph.apply(this);var a=this,f=this.areaPath,k=this.options,u=[["area","highcharts-area",this.color,k.fillColor]];A(this.zones,function(d,c){u.push(["zone-area-"+c,"highcharts-area highcharts-zone-area-"+c+" "+d.className,d.color||a.color,d.fillColor||k.fillColor])});A(u,function(d){var c=
d[0],n=a[c];n?(n.endX=f.xMap,n.animate({d:f})):(n=a[c]=a.chart.renderer.path(f).addClass(d[1]).attr({fill:G(d[3],B(d[2]).setOpacity(G(k.fillOpacity,.75)).get()),zIndex:0}).add(a.group),n.isArea=!0);n.startX=f.xMap;n.shiftUnit=k.step?2:1})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(L);(function(a){var B=a.pick;a=a.seriesType;a("spline","line",{},{getPointSpline:function(a,H,G){var r=H.plotX,f=H.plotY,l=a[G-1];G=a[G+1];var q,k,u,d;if(l&&!l.isNull&&!1!==l.doCurve&&!H.isCliff&&G&&!G.isNull&&
!1!==G.doCurve&&!H.isCliff){a=l.plotY;u=G.plotX;G=G.plotY;var c=0;q=(1.5*r+l.plotX)/2.5;k=(1.5*f+a)/2.5;u=(1.5*r+u)/2.5;d=(1.5*f+G)/2.5;u!==q&&(c=(d-k)*(u-r)/(u-q)+f-d);k+=c;d+=c;k>a&&k>f?(k=Math.max(a,f),d=2*f-k):k<a&&k<f&&(k=Math.min(a,f),d=2*f-k);d>G&&d>f?(d=Math.max(G,f),k=2*f-d):d<G&&d<f&&(d=Math.min(G,f),k=2*f-d);H.rightContX=u;H.rightContY=d}H=["C",B(l.rightContX,l.plotX),B(l.rightContY,l.plotY),B(q,r),B(k,f),r,f];l.rightContX=l.rightContY=null;return H}})})(L);(function(a){var B=a.seriesTypes.area.prototype,
A=a.seriesType;A("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:B.getStackPoints,getGraphPath:B.getGraphPath,setStackCliffs:B.setStackCliffs,drawGraph:B.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(L);(function(a){var B=a.animObject,A=a.color,H=a.each,G=a.extend,r=a.isNumber,f=a.merge,l=a.pick,q=a.Series,k=a.seriesType,u=a.svg;k("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,
states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){q.prototype.init.apply(this,arguments);var a=this,c=a.chart;c.hasRendered&&H(c.series,function(c){c.type===a.type&&(c.isDirty=!0)})},
getColumnMetrics:function(){var a=this,c=a.options,f=a.xAxis,k=a.yAxis,b=f.reversed,p,h={},t=0;!1===c.grouping?t=1:H(a.chart.series,function(b){var c=b.options,e=b.yAxis,d;b.type===a.type&&b.visible&&k.len===e.len&&k.pos===e.pos&&(c.stacking?(p=b.stackKey,void 0===h[p]&&(h[p]=t++),d=h[p]):!1!==c.grouping&&(d=t++),b.columnIndex=d)});var q=Math.min(Math.abs(f.transA)*(f.ordinalSlope||c.pointRange||f.closestPointRange||f.tickInterval||1),f.len),w=q*c.groupPadding,e=(q-2*w)/(t||1),c=Math.min(c.maxPointWidth||
f.len,l(c.pointWidth,e*(1-2*c.pointPadding)));a.columnMetrics={width:c,offset:(e-c)/2+(w+((a.columnIndex||0)+(b?1:0))*e-q/2)*(b?-1:1)};return a.columnMetrics},crispCol:function(a,c,f,k){var b=this.chart,d=this.borderWidth,h=-(d%2?.5:0),d=d%2?.5:1;b.inverted&&b.renderer.isVML&&(d+=1);this.options.crisp&&(f=Math.round(a+f)+h,a=Math.round(a)+h,f-=a);k=Math.round(c+k)+d;h=.5>=Math.abs(c)&&.5<k;c=Math.round(c)+d;k-=c;h&&k&&(--c,k+=1);return{x:a,y:c,width:f,height:k}},translate:function(){var a=this,c=
a.chart,f=a.options,k=a.dense=2>a.closestPointRange*a.xAxis.transA,k=a.borderWidth=l(f.borderWidth,k?0:1),b=a.yAxis,p=a.translatedThreshold=b.getThreshold(f.threshold),h=l(f.minPointLength,5),t=a.getColumnMetrics(),r=t.width,w=a.barW=Math.max(r,1+2*k),e=a.pointXOffset=t.offset;c.inverted&&(p-=.5);f.pointPadding&&(w=Math.ceil(w));q.prototype.translate.apply(a);H(a.points,function(d){var f=l(d.yBottom,p),k=999+Math.abs(f),k=Math.min(Math.max(-k,d.plotY),b.len+k),m=d.plotX+e,n=w,t=Math.min(k,f),q,u=
Math.max(k,f)-t;Math.abs(u)<h&&h&&(u=h,q=!b.reversed&&!d.negative||b.reversed&&d.negative,t=Math.abs(t-p)>h?f-h:p-(q?h:0));d.barX=m;d.pointWidth=r;d.tooltipPos=c.inverted?[b.len+b.pos-c.plotLeft-k,a.xAxis.len-m-n/2,u]:[m+n/2,k+b.pos-c.plotTop,u];d.shapeType="rect";d.shapeArgs=a.crispCol.apply(a,d.isNull?[d.plotX,b.len/2,0,0]:[m,t,n,u])})},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},
pointAttribs:function(a,c){var d=this.options,k,b=this.pointAttrToOptions||{};k=b.stroke||"borderColor";var p=b["stroke-width"]||"borderWidth",h=a&&a.color||this.color,l=a[k]||d[k]||this.color||h,q=a[p]||d[p]||this[p]||0,b=d.dashStyle;a&&this.zones.length&&(h=(h=a.getZone())&&h.color||a.options.color||this.color);c&&(a=f(d.states[c],a.options.states&&a.options.states[c]||{}),c=a.brightness,h=a.color||void 0!==c&&A(h).brighten(a.brightness).get()||h,l=a[k]||l,q=a[p]||q,b=a.dashStyle||b);k={fill:h,
stroke:l,"stroke-width":q};d.borderRadius&&(k.r=d.borderRadius);b&&(k.dashstyle=b);return k},drawPoints:function(){var a=this,c=this.chart,k=a.options,l=c.renderer,b=k.animationLimit||250,p;H(a.points,function(d){var h=d.graphic;if(r(d.plotY)&&null!==d.y){p=d.shapeArgs;if(h)h[c.pointCount<b?"animate":"attr"](f(p));else d.graphic=h=l[d.shapeType](p).add(d.group||a.group);h.attr(a.pointAttribs(d,d.selected&&"select")).shadow(k.shadow,null,k.stacking&&!k.borderRadius);h.addClass(d.getClassName(),!0)}else h&&
(d.graphic=h.destroy())})},animate:function(a){var c=this,d=this.yAxis,f=c.options,b=this.chart.inverted,k={};u&&(a?(k.scaleY=.001,a=Math.min(d.pos+d.len,Math.max(d.pos,d.toPixels(f.threshold))),b?k.translateX=a-d.len:k.translateY=a,c.group.attr(k)):(k[b?"translateX":"translateY"]=d.pos,c.group.animate(k,G(B(c.options.animation),{step:function(a,b){c.group.attr({scaleY:Math.max(.001,b.pos)})}})),c.animate=null))},remove:function(){var a=this,c=a.chart;c.hasRendered&&H(c.series,function(c){c.type===
a.type&&(c.isDirty=!0)});q.prototype.remove.apply(a,arguments)}})})(L);(function(a){a=a.seriesType;a("bar","column",null,{inverted:!0})})(L);(function(a){var B=a.Series;a=a.seriesType;a("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cspan style\x3d"font-size: 0.85em"\x3e {series.name}\x3c/span\x3e\x3cbr/\x3e',pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"}},
{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&B.prototype.drawGraph.call(this)}})})(L);(function(a){var B=a.pick,A=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var a=this.options,G=this.chart,r=2*(a.slicedOffset||0),f=G.plotWidth-2*r,G=G.plotHeight-2*r,l=a.center,l=[B(l[0],"50%"),B(l[1],"50%"),a.size||"100%",a.innerSize||0],q=Math.min(f,G),k,u;for(k=0;4>k;++k)u=
l[k],a=2>k||2===k&&/%$/.test(u),l[k]=A(u,[f,G,q,l[2]][k])+(a?r:0);l[3]>l[2]&&(l[3]=l[2]);return l}}})(L);(function(a){var B=a.addEvent,A=a.defined,H=a.each,G=a.extend,r=a.inArray,f=a.noop,l=a.pick,q=a.Point,k=a.Series,u=a.seriesType,d=a.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,
stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var c=this,d=c.points,b=c.startAngleRad;a||(H(d,function(a){var d=a.graphic,f=a.shapeArgs;d&&(d.attr({r:a.startR||c.center[3]/2,start:b,end:b}),d.animate({r:f.r,start:f.start,end:f.end},
c.options.animation))}),c.animate=null)},updateTotals:function(){var a,d=0,f=this.points,b=f.length,k,h=this.options.ignoreHiddenPoint;for(a=0;a<b;a++)k=f[a],0>k.y&&(k.y=null),d+=h&&!k.visible?0:k.y;this.total=d;for(a=0;a<b;a++)k=f[a],k.percentage=0<d&&(k.visible||!h)?k.y/d*100:0,k.total=d},generatePoints:function(){k.prototype.generatePoints.call(this);this.updateTotals()},translate:function(a){this.generatePoints();var c=0,d=this.options,b=d.slicedOffset,f=b+(d.borderWidth||0),h,k,q,w=d.startAngle||
0,e=this.startAngleRad=Math.PI/180*(w-90),w=(this.endAngleRad=Math.PI/180*(l(d.endAngle,w+360)-90))-e,r=this.points,u=d.dataLabels.distance,d=d.ignoreHiddenPoint,E,m=r.length,y;a||(this.center=a=this.getCenter());this.getX=function(b,c){q=Math.asin(Math.min((b-a[1])/(a[2]/2+u),1));return a[0]+(c?-1:1)*Math.cos(q)*(a[2]/2+u)};for(E=0;E<m;E++){y=r[E];h=e+c*w;if(!d||y.visible)c+=y.percentage/100;k=e+c*w;y.shapeType="arc";y.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1E3*h)/1E3,end:Math.round(1E3*
k)/1E3};q=(k+h)/2;q>1.5*Math.PI?q-=2*Math.PI:q<-Math.PI/2&&(q+=2*Math.PI);y.slicedTranslation={translateX:Math.round(Math.cos(q)*b),translateY:Math.round(Math.sin(q)*b)};h=Math.cos(q)*a[2]/2;k=Math.sin(q)*a[2]/2;y.tooltipPos=[a[0]+.7*h,a[1]+.7*k];y.half=q<-Math.PI/2||q>Math.PI/2?1:0;y.angle=q;f=Math.min(f,u/5);y.labelPos=[a[0]+h+Math.cos(q)*u,a[1]+k+Math.sin(q)*u,a[0]+h+Math.cos(q)*f,a[1]+k+Math.sin(q)*f,a[0]+h,a[1]+k,0>u?"center":y.half?"right":"left",q]}},drawGraph:null,drawPoints:function(){var a=
this,d=a.chart.renderer,f,b,k,h,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=d.g("shadow").add(a.group));H(a.points,function(c){if(null!==c.y){b=c.graphic;h=c.shapeArgs;f=c.getTranslate();var p=c.shadowGroup;l&&!p&&(p=c.shadowGroup=d.g("shadow").add(a.shadowGroup));p&&p.attr(f);k=a.pointAttribs(c,c.selected&&"select");b?b.setRadialReference(a.center).attr(k).animate(G(h,f)):(c.graphic=b=d[c.shapeType](h).setRadialReference(a.center).attr(f).add(a.group),c.visible||b.attr({visibility:"hidden"}),
b.attr(k).attr({"stroke-linejoin":"round"}).shadow(l,p));b.addClass(c.getClassName())}})},searchPoint:f,sortByAngle:function(a,d){a.sort(function(a,b){return void 0!==a.angle&&(b.angle-a.angle)*d})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:a.CenteredSeriesMixin.getCenter,getSymbol:f},{init:function(){q.prototype.init.apply(this,arguments);var a=this,d;a.name=l(a.name,"Slice");d=function(c){a.slice("select"===c.type)};B(a,"select",d);B(a,"unselect",d);return a},setVisible:function(a,
d){var c=this,b=c.series,f=b.chart,h=b.options.ignoreHiddenPoint;d=l(d,h);a!==c.visible&&(c.visible=c.options.visible=a=void 0===a?!c.visible:a,b.options.data[r(c,b.data)]=c.options,H(["graphic","dataLabel","connector","shadowGroup"],function(b){if(c[b])c[b][a?"show":"hide"](!0)}),c.legendItem&&f.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),h&&(b.isDirty=!0),d&&f.redraw())},slice:function(a,f,k){var b=this.series;d(k,b.chart);l(f,!0);this.sliced=this.options.sliced=A(a)?a:!this.sliced;
b.options.data[r(this,b.data)]=this.options;this.graphic.animate(this.getTranslate());this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+a,c.r+a,{innerR:this.shapeArgs.r,start:c.start,end:c.end})}})})(L);(function(a){var B=a.addEvent,A=a.arrayMax,H=a.defined,G=a.each,
r=a.extend,f=a.format,l=a.map,q=a.merge,k=a.noop,u=a.pick,d=a.relativeLength,c=a.Series,n=a.seriesTypes,z=a.stableSort;a.distribute=function(a,c){function b(a,b){return a.target-b.target}var d,f=!0,k=a,e=[],p;p=0;for(d=a.length;d--;)p+=a[d].size;if(p>c){z(a,function(a,b){return(b.rank||0)-(a.rank||0)});for(p=d=0;p<=c;)p+=a[d].size,d++;e=a.splice(d-1,a.length)}z(a,b);for(a=l(a,function(a){return{size:a.size,targets:[a.target]}});f;){for(d=a.length;d--;)f=a[d],p=(Math.min.apply(0,f.targets)+Math.max.apply(0,
f.targets))/2,f.pos=Math.min(Math.max(0,p-f.size/2),c-f.size);d=a.length;for(f=!1;d--;)0<d&&a[d-1].pos+a[d-1].size>a[d].pos&&(a[d-1].size+=a[d].size,a[d-1].targets=a[d-1].targets.concat(a[d].targets),a[d-1].pos+a[d-1].size>c&&(a[d-1].pos=c-a[d-1].size),a.splice(d,1),f=!0)}d=0;G(a,function(a){var b=0;G(a.targets,function(){k[d].pos=a.pos+b;b+=k[d].size;d++})});k.push.apply(k,e);z(k,b)};c.prototype.drawDataLabels=function(){var a=this,c=a.options,d=c.dataLabels,k=a.points,l,n,e=a.hasRendered||0,r,C,
E=u(d.defer,!0),m=a.chart.renderer;if(d.enabled||a._hasPointLabels)a.dlProcessOptions&&a.dlProcessOptions(d),C=a.plotGroup("dataLabelsGroup","data-labels",E&&!e?"hidden":"visible",d.zIndex||6),E&&(C.attr({opacity:+e}),e||B(a,"afterAnimate",function(){a.visible&&C.show(!0);C[c.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=d,G(k,function(b){var e,h=b.dataLabel,k,g,p,t=b.connector,w=!h,x;l=b.dlOptions||b.options&&b.options.dataLabels;if(e=u(l&&l.enabled,n.enabled)&&null!==b.y)for(g in d=
q(n,l),k=b.getLabelConfig(),r=d.format?f(d.format,k):d.formatter.call(k,d),x=d.style,p=d.rotation,x.color=u(d.color,x.color,a.color,"#000000"),"contrast"===x.color&&(b.contrastColor=m.getContrast(b.color||a.color),x.color=d.inside||0>d.distance||c.stacking?b.contrastColor:"#000000"),c.cursor&&(x.cursor=c.cursor),k={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:p,padding:d.padding,zIndex:1},k)void 0===k[g]&&delete k[g];!h||e&&H(r)?e&&H(r)&&(h?
k.text=r:(h=b.dataLabel=m[p?"text":"label"](r,0,-9999,d.shape,null,null,d.useHTML,null,"data-label"),h.addClass("highcharts-data-label-color-"+b.colorIndex+" "+(d.className||"")+(d.useHTML?"highcharts-tracker":""))),h.attr(k),h.css(x).shadow(d.shadow),h.added||h.add(C),a.alignDataLabel(b,h,d,null,w)):(b.dataLabel=h.destroy(),t&&(b.connector=t.destroy()))})};c.prototype.alignDataLabel=function(a,c,d,f,k){var b=this.chart,e=b.inverted,h=u(a.plotX,-9999),l=u(a.plotY,-9999),p=c.getBBox(),m,n=d.rotation,
q=d.align,t=this.visible&&(a.series.forceDL||b.isInsidePlot(h,Math.round(l),e)||f&&b.isInsidePlot(h,e?f.x+1:f.y+f.height-1,e)),D="justify"===u(d.overflow,"justify");t&&(m=d.style.fontSize,m=b.renderer.fontMetrics(m,c).b,f=r({x:e?b.plotWidth-l:h,y:Math.round(e?b.plotHeight-h:l),width:0,height:0},f),r(d,{width:p.width,height:p.height}),n?(D=!1,e=b.renderer.rotCorr(m,n),e={x:f.x+d.x+f.width/2+e.x,y:f.y+d.y+{top:0,middle:.5,bottom:1}[d.verticalAlign]*f.height},c[k?"attr":"animate"](e).attr({align:q}),
h=(n+720)%360,h=180<h&&360>h,"left"===q?e.y-=h?p.height:0:"center"===q?(e.x-=p.width/2,e.y-=p.height/2):"right"===q&&(e.x-=p.width,e.y-=h?0:p.height)):(c.align(d,null,f),e=c.alignAttr),D?a.isLabelJustified=this.justifyDataLabel(c,d,e,p,f,k):u(d.crop,!0)&&(t=b.isInsidePlot(e.x,e.y)&&b.isInsidePlot(e.x+p.width,e.y+p.height)),d.shape&&!n&&c.attr({anchorX:a.plotX,anchorY:a.plotY}));t||(c.attr({y:-9999}),c.placed=!1)};c.prototype.justifyDataLabel=function(a,c,d,f,k,l){var b=this.chart,h=c.align,p=c.verticalAlign,
n,m,q=a.box?0:a.padding||0;n=d.x+q;0>n&&("right"===h?c.align="left":c.x=-n,m=!0);n=d.x+f.width-q;n>b.plotWidth&&("left"===h?c.align="right":c.x=b.plotWidth-n,m=!0);n=d.y+q;0>n&&("bottom"===p?c.verticalAlign="top":c.y=-n,m=!0);n=d.y+f.height-q;n>b.plotHeight&&("top"===p?c.verticalAlign="bottom":c.y=b.plotHeight-n,m=!0);m&&(a.placed=!l,a.align(c,null,k));return m};n.pie&&(n.pie.prototype.drawDataLabels=function(){var b=this,d=b.data,f,k=b.chart,n=b.options.dataLabels,q=u(n.connectorPadding,10),e=u(n.connectorWidth,
1),r=k.plotWidth,C=k.plotHeight,E,m=n.distance,y=b.center,z=y[2]/2,B=y[1],H=0<m,g,F,L,N,P=[[],[]],O,v,M,R,S=[0,0,0,0];b.visible&&(n.enabled||b._hasPointLabels)&&(G(d,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),c.prototype.drawDataLabels.apply(b),G(d,function(a){a.dataLabel&&a.visible&&(P[a.half].push(a),a.dataLabel._pos=null)}),G(P,function(c,e){var d,h,p=c.length,t,w,u;if(p)for(b.sortByAngle(c,
e-.5),0<m&&(d=Math.max(0,B-z-m),h=Math.min(B+z+m,k.plotHeight),t=l(c,function(a){if(a.dataLabel)return u=a.dataLabel.getBBox().height||21,{target:a.labelPos[1]-d+u/2,size:u,rank:a.y}}),a.distribute(t,h+u-d)),R=0;R<p;R++)f=c[R],L=f.labelPos,g=f.dataLabel,M=!1===f.visible?"hidden":"inherit",w=L[1],t?void 0===t[R].pos?M="hidden":(N=t[R].size,v=d+t[R].pos):v=w,O=n.justify?y[0]+(e?-1:1)*(z+m):b.getX(v<d+2||v>h-2?w:v,e),g._attr={visibility:M,align:L[6]},g._pos={x:O+n.x+({left:q,right:-q}[L[6]]||0),y:v+
n.y-10},L.x=O,L.y=v,null===b.options.size&&(F=g.getBBox().width,w=null,O-F<q?(w=Math.round(F-O+q),S[3]=Math.max(w,S[3])):O+F>r-q&&(w=Math.round(O+F-r+q),S[1]=Math.max(w,S[1])),0>v-N/2?S[0]=Math.max(Math.round(-v+N/2),S[0]):v+N/2>C&&(S[2]=Math.max(Math.round(v+N/2-C),S[2])),g.sideOverflow=w)}),0===A(S)||this.verifyDataLabelOverflow(S))&&(this.placeDataLabels(),H&&e&&G(this.points,function(a){var c;E=a.connector;if((g=a.dataLabel)&&g._pos&&a.visible){M=g._attr.visibility;if(c=!E)a.connector=E=k.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+
a.colorIndex).add(b.dataLabelsGroup),E.attr({"stroke-width":e,stroke:n.connectorColor||a.color||"#666666"});E[c?"attr":"animate"]({d:b.connectorPath(a.labelPos)});E.attr("visibility",M)}else E&&(a.connector=E.destroy())}))},n.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return u(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},n.pie.prototype.placeDataLabels=
function(){G(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},n.pie.prototype.alignDataLabel=k,n.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,f=c.center,k=c.minSize||80,l,e;null!==f[0]?l=Math.max(b[2]-Math.max(a[1],a[3]),
k):(l=Math.max(b[2]-a[1]-a[3],k),b[0]+=(a[3]-a[1])/2);null!==f[1]?l=Math.max(Math.min(l,b[2]-Math.max(a[0],a[2])),k):(l=Math.max(Math.min(l,b[2]-a[0]-a[2]),k),b[1]+=(a[0]-a[2])/2);l<b[2]?(b[2]=l,b[3]=Math.min(d(c.innerSize||0,l),l),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):e=!0;return e});n.column&&(n.column.prototype.alignDataLabel=function(a,d,f,k,l){var b=this.chart.inverted,e=a.series,h=a.dlBox||a.shapeArgs,n=u(a.below,a.plotY>u(this.translatedThreshold,e.yAxis.len)),p=u(f.inside,
!!this.options.stacking);h&&(k=q(h),0>k.y&&(k.height+=k.y,k.y=0),h=k.y+k.height-e.yAxis.len,0<h&&(k.height-=h),b&&(k={x:e.yAxis.len-k.y-k.height,y:e.xAxis.len-k.x-k.width,width:k.height,height:k.width}),p||(b?(k.x+=n?0:k.width,k.width=0):(k.y+=n?k.height:0,k.height=0)));f.align=u(f.align,!b||p?"center":n?"right":"left");f.verticalAlign=u(f.verticalAlign,b||p?"middle":n?"top":"bottom");c.prototype.alignDataLabel.call(this,a,d,f,k,l);a.isLabelJustified&&a.contrastColor&&a.dataLabel.css({color:a.contrastColor})})})(L);
(function(a){var B=a.Chart,A=a.each,H=a.pick,G=a.addEvent;B.prototype.callbacks.push(function(a){function f(){var f=[];A(a.series||[],function(a){var k=a.options.dataLabels,l=a.dataLabelCollections||["dataLabel"];(k.enabled||a._hasPointLabels)&&!k.allowOverlap&&a.visible&&A(l,function(d){A(a.points,function(a){a[d]&&(a[d].labelrank=H(a.labelrank,a.shapeArgs&&a.shapeArgs.height),f.push(a[d]))})})});a.hideOverlappingLabels(f)}f();G(a,"redraw",f)});B.prototype.hideOverlappingLabels=function(a){var f=
a.length,l,q,k,r,d,c,n,z,b,p=function(a,b,c,d,e,f,k,l){return!(e>a+c||e+k<a||f>b+d||f+l<b)};for(q=0;q<f;q++)if(l=a[q])l.oldOpacity=l.opacity,l.newOpacity=1;a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(q=0;q<f;q++)for(k=a[q],l=q+1;l<f;++l)if(r=a[l],k&&r&&k!==r&&k.placed&&r.placed&&0!==k.newOpacity&&0!==r.newOpacity&&(d=k.alignAttr,c=r.alignAttr,n=k.parentGroup,z=r.parentGroup,b=2*(k.box?0:k.padding),d=p(d.x+n.translateX,d.y+n.translateY,k.width-b,k.height-b,c.x+z.translateX,c.y+
z.translateY,r.width-b,r.height-b)))(k.labelrank<r.labelrank?k:r).newOpacity=0;A(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}})(L);(function(a){var B=a.addEvent,A=a.Chart,H=a.createElement,G=a.css,r=a.defaultOptions,f=a.defaultPlotOptions,l=a.each,q=a.extend,k=a.fireEvent,u=a.hasTouch,d=a.inArray,c=a.isObject,n=a.Legend,z=a.merge,b=a.pick,p=a.Point,h=a.Series,
t=a.seriesTypes,D=a.svg;a=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart.pointer,c=function(a){var c=b.getPointFromEvent(a);if(void 0!==c)c.onMouseOver(a)};l(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)});a._hasTracking||(l(a.trackerGroups,function(e){if(a[e]){a[e].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(a){b.onTrackerMouseOut(a)});if(u)a[e].on("touchstart",
c);a.options.cursor&&a[e].css(G).css({cursor:a.options.cursor})}}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:a.graphPath),f=d.length,h=a.chart,k=h.pointer,n=h.renderer,p=h.options.tooltip.snap,q=a.tracker,g,r=function(){if(h.hoverSeries!==a)a.onMouseOver()},t="rgba(192,192,192,"+(D?.0001:.002)+")";if(f&&!c)for(g=f+1;g--;)"M"===d[g]&&d.splice(g+1,0,d[g+1]-p,d[g+2],"L"),(g&&"M"===d[g]||g===f)&&d.splice(g,0,"L",d[g-2]+p,d[g-1]);q?
q.attr({d:d}):a.graph&&(a.tracker=n.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:t,fill:c?t:"none","stroke-width":a.graph.strokeWidth()+(c?0:2*p),zIndex:2}).add(a.group),l([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(a){k.onTrackerMouseOut(a)});b.cursor&&a.css({cursor:b.cursor});if(u)a.on("touchstart",r)}))}};t.column&&(t.column.prototype.drawTracker=a.drawTrackerPoint);t.pie&&(t.pie.prototype.drawTracker=
a.drawTrackerPoint);t.scatter&&(t.scatter.prototype.drawTracker=a.drawTrackerPoint);q(n.prototype,{setItemEvents:function(a,b,c){var d=this,e=d.chart.renderer.boxWrapper,f="highcharts-legend-"+(a.series?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");e.addClass(f);b.css(d.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d.itemStyle:d.itemHiddenStyle);e.removeClass(f);a.setState()}).on("click",function(b){var c=function(){a.setVisible&&
a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):k(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=H("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);B(a.checkbox,"click",function(b){k(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});r.legend.itemStyle.cursor="pointer";q(A.prototype,{showResetZoom:function(){var a=
this,b=r.lang,c=a.options.chart.resetZoomButton,d=c.theme,f=d.states,h="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,f&&f.hover).attr({align:c.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,h)},zoomOut:function(){var a=this;k(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var d,f=this.pointer,h=!1,k;!a||a.resetSelection?l(this.axes,function(a){d=
a.zoom()}):l(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;f[b.isXAxis?"zoomX":"zoomY"]&&(d=b.zoom(a.min,a.max),b.displayBtn&&(h=!0))});k=this.resetZoomButton;h&&!k?this.showResetZoom():!h&&c(k)&&(this.resetZoomButton=k.destroy());d&&this.redraw(b(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var c=this,d=c.hoverPoints,e;d&&l(d,function(a){a.setState()});l("xy"===b?[1,0]:[1],function(b){b=c[b?"xAxis":"yAxis"][0];var d=b.horiz,f=a[d?"chartX":"chartY"],d=d?
"mouseDownX":"mouseDownY",h=c[d],k=(b.pointRange||0)/2,g=b.getExtremes(),l=b.toValue(h-f,!0)+k,k=b.toValue(h+b.len-f,!0)-k,m=k<l,h=m?k:l,l=m?l:k,m=b.toValue(b.toPixels(g.min)-b.minPixelPadding),k=b.toValue(b.toPixels(g.max)+b.minPixelPadding),m=Math.min(g.dataMin,m)-h,g=l-Math.max(g.dataMax,k);b.series.length&&0>m&&0>g&&(b.setExtremes(h,l,!1,!1,{trigger:"pan"}),e=!0);c[d]=f});e&&c.redraw(!1);G(c.container,{cursor:"move"})}});q(p.prototype,{select:function(a,c){var e=this,f=e.series,h=f.chart;a=b(a,
!e.selected);e.firePointEvent(a?"select":"unselect",{accumulate:c},function(){e.selected=e.options.selected=a;f.options.data[d(e,f.data)]=e.options;e.setState(a&&"select");c||l(h.getSelectedPoints(),function(a){a.selected&&a!==e&&(a.selected=a.options.selected=!1,f.options.data[d(a,f.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series.chart.pointer;this.firePointEvent("mouseOver");b.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;
this.firePointEvent("mouseOut");l(a.hoverPoints||[],function(a){a.setState()});a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=z(this.series.options.point,this.options).events,b;this.events=a;for(b in a)B(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,c){var d=Math.floor(this.plotX),e=this.plotY,h=this.series,k=h.options.states[a]||{},l=f[h.type].marker&&h.options.marker,n=l&&!1===l.enabled,p=l&&l.states&&l.states[a]||{},r=!1===p.enabled,g=
h.stateMarkerGraphic,t=this.marker||{},u=h.chart,w=h.halo,z,A=l&&h.markerAttribs;a=a||"";if(!(a===this.state&&!c||this.selected&&"select"!==a||!1===k.enabled||a&&(r||n&&!1===p.enabled)||a&&t.states&&t.states[a]&&!1===t.states[a].enabled)){A&&(z=h.markerAttribs(this,a));if(this.graphic)this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.attr(h.pointAttribs(this,a)),z&&this.graphic.animate(z,b(u.options.chart.animation,p.animation,
l.animation)),g&&g.hide();else{if(a&&p){l=t.symbol||h.symbol;g&&g.currentSymbol!==l&&(g=g.destroy());if(g)g[c?"animate":"attr"]({x:z.x,y:z.y});else l&&(h.stateMarkerGraphic=g=u.renderer.symbol(l,z.x,z.y,z.width,z.height).add(h.markerGroup),g.currentSymbol=l);g&&g.attr(h.pointAttribs(this,a))}g&&(g[a&&u.isInsidePlot(d,e,u.inverted)?"show":"hide"](),g.element.point=this)}(d=k.halo)&&d.size?(w||(h.halo=w=u.renderer.path().add(A?h.markerGroup:h.group)),w[c?"animate":"attr"]({d:this.haloPath(d.size)}),
w.attr({"class":"highcharts-halo highcharts-color-"+b(this.colorIndex,h.colorIndex)}),w.point=this,w.attr(q({fill:this.color||h.color,"fill-opacity":d.opacity,zIndex:-1},d.attributes))):w&&w.point&&w.point.haloPath&&w.animate({d:w.point.haloPath(0)});this.state=a}},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}});q(h.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&
k(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null;if(d)d.onMouseOut();this&&a.events.mouseOut&&k(this,"mouseOut");!c||this.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide();this.setState()},setState:function(a){var c=this,d=c.options,f=c.graph,h=d.states,k=d.lineWidth,d=0;a=a||"";if(c.state!==a&&(l([c.group,c.markerGroup,c.dataLabelsGroup],function(b){b&&(c.state&&b.removeClass("highcharts-series-"+
c.state),a&&b.addClass("highcharts-series-"+a))}),c.state=a,!h[a]||!1!==h[a].enabled)&&(a&&(k=h[a].lineWidth||k+(h[a].lineWidthPlus||0)),f&&!f.dashstyle))for(k={"stroke-width":k},f.animate(k,b(c.chart.options.chart.animation,h[a]&&h[a].animation));c["zone-graph-"+d];)c["zone-graph-"+d].attr(k),d+=1},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f,h=d.options.chart.ignoreHiddenSeries,n=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!n:a)?"show":"hide";l(["group",
"dataLabelsGroup","markerGroup","tracker","tt"],function(a){if(c[a])c[a][f]()});if(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)c.onMouseOut();e&&d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&l(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});l(c.linkedSeries,function(b){b.setVisible(a,!1)});h&&(d.isDirtyBox=!0);!1!==b&&d.redraw();k(c,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===
a?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);k(this,a?"select":"unselect")},drawTracker:a.drawTrackerGraph})})(L);(function(a){var B=a.Chart,A=a.each,H=a.inArray,G=a.isArray,r=a.isObject,f=a.pick,l=a.splat;B.prototype.setResponsive=function(f){var k=this.options.responsive,l=[],d=this.currentResponsive;k&&k.rules&&A(k.rules,function(c){void 0===c._id&&(c._id=a.uniqueKey());this.matchResponsiveRule(c,l,f)},this);var c=a.merge.apply(0,a.map(l,function(c){return a.find(k.rules,function(a){return a._id===
c}).chartOptions})),l=l.toString()||void 0;l!==(d&&d.ruleIds)&&(d&&this.update(d.undoOptions,f),l?(this.currentResponsive={ruleIds:l,mergedOptions:c,undoOptions:this.currentOptions(c)},this.update(c,f)):this.currentResponsive=void 0)};B.prototype.matchResponsiveRule=function(a,k){var l=a.condition;(l.callback||function(){return this.chartWidth<=f(l.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=f(l.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=f(l.minWidth,0)&&this.chartHeight>=f(l.minHeight,0)}).call(this)&&
k.push(a._id)};B.prototype.currentOptions=function(a){function f(a,c,k,q){var b,d;for(b in a)if(!q&&-1<H(b,["series","xAxis","yAxis"]))for(a[b]=l(a[b]),k[b]=[],d=0;d<a[b].length;d++)c[b][d]&&(k[b][d]={},f(a[b][d],c[b][d],k[b][d],q+1));else r(a[b])?(k[b]=G(a[b])?[]:{},f(a[b],c[b]||{},k[b],q+1)):k[b]=c[b]||null}var q={};f(a,this.options,q,0);return q}})(L);return L});

},{}],22:[function(require,module,exports){
'use strict';

var has = Object.prototype.hasOwnProperty;

//
// We store our EE objects in a plain object whose properties are event names.
// If `Object.create(null)` is not supported we prefix the event names with a
// `~` to make sure that the built-in object properties are not overridden or
// used as an attack vector.
// We also assume that `Object.create(null)` is available when the event name
// is an ES6 Symbol.
//
var prefix = typeof Object.create !== 'function' ? '~' : false;

/**
 * Representation of a single EventEmitter function.
 *
 * @param {Function} fn Event handler to be called.
 * @param {Mixed} context Context for function execution.
 * @param {Boolean} [once=false] Only emit once
 * @api private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Minimal EventEmitter interface that is molded against the Node.js
 * EventEmitter interface.
 *
 * @constructor
 * @api public
 */
function EventEmitter() { /* Nothing to set */ }

/**
 * Hold the assigned EventEmitters by name.
 *
 * @type {Object}
 * @private
 */
EventEmitter.prototype._events = undefined;

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @api public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var events = this._events
    , names = []
    , name;

  if (!events) return names;

  for (name in events) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return a list of assigned event listeners.
 *
 * @param {String} event The events that should be listed.
 * @param {Boolean} exists We only need to know if there are listeners.
 * @returns {Array|Boolean}
 * @api public
 */
EventEmitter.prototype.listeners = function listeners(event, exists) {
  var evt = prefix ? prefix + event : event
    , available = this._events && this._events[evt];

  if (exists) return !!available;
  if (!available) return [];
  if (available.fn) return [available.fn];

  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {
    ee[i] = available[i].fn;
  }

  return ee;
};

/**
 * Emit an event to all registered event listeners.
 *
 * @param {String} event The name of the event.
 * @returns {Boolean} Indication if we've emitted an event.
 * @api public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if ('function' === typeof listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Register a new EventListener for the given event.
 *
 * @param {String} event Name of the event.
 * @param {Function} fn Callback function.
 * @param {Mixed} [context=this] The context of the function.
 * @api public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  var listener = new EE(fn, context || this)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Add an EventListener that's only called once.
 *
 * @param {String} event Name of the event.
 * @param {Function} fn Callback function.
 * @param {Mixed} [context=this] The context of the function.
 * @api public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  var listener = new EE(fn, context || this, true)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Remove event listeners.
 *
 * @param {String} event The event we want to remove.
 * @param {Function} fn The listener that we need to find.
 * @param {Mixed} context Only remove listeners matching this context.
 * @param {Boolean} once Only remove once listeners.
 * @api public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return this;

  var listeners = this._events[evt]
    , events = [];

  if (fn) {
    if (listeners.fn) {
      if (
           listeners.fn !== fn
        || (once && !listeners.once)
        || (context && listeners.context !== context)
      ) {
        events.push(listeners);
      }
    } else {
      for (var i = 0, length = listeners.length; i < length; i++) {
        if (
             listeners[i].fn !== fn
          || (once && !listeners[i].once)
          || (context && listeners[i].context !== context)
        ) {
          events.push(listeners[i]);
        }
      }
    }
  }

  //
  // Reset the array, or remove it completely if we have no more listeners.
  //
  if (events.length) {
    this._events[evt] = events.length === 1 ? events[0] : events;
  } else {
    delete this._events[evt];
  }

  return this;
};

/**
 * Remove all listeners or only the listeners for the specified event.
 *
 * @param {String} event The event want to remove all listeners for.
 * @api public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  if (!this._events) return this;

  if (event) delete this._events[prefix ? prefix + event : event];
  else this._events = prefix ? {} : Object.create(null);

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// This function doesn't apply anymore.
//
EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
  return this;
};

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Expose the module.
//
if ('undefined' !== typeof module) {
  module.exports = EventEmitter;
}

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

// this needs to be set to true before Keep.js starts storing, done via useKeep
var use = false;

var createdStores = [];

var createdActions = [];

function useKeep() {
	var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

	use = bool;
}

function addStore(str) {
	if (use) {
		createdStores.push(str);
	}
}

function addAction(act) {
	if (use) {
		createdActions.push(act);
	}
}

function reset() {
	while (createdStores.length) {
		createdStores.pop();
	}
	while (createdActions.length) {
		createdActions.pop();
	}
}

exports.useKeep = useKeep;
exports.addStore = addStore;
exports.addAction = addAction;
exports.createdStores = createdStores;
exports.createdActions = createdActions;
exports.reset = reset;
},{}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.joinStrict = exports.joinConcat = exports.joinLeading = exports.joinTrailing = exports.fetchInitialState = exports.stopListeningToAll = exports.stopListeningTo = exports.listenTo = exports.validateListening = exports.listenToMany = exports.hasListener = undefined;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _joins = require("./joins");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * Extract child listenables from a parent from their
 * children property and return them in a keyed Object
 *
 * @param {Object} listenable The parent listenable
 */
var mapChildListenables = function mapChildListenables(listenable) {
    var i = 0,
        children = {},
        childName;
    for (; i < (listenable.children || []).length; ++i) {
        childName = listenable.children[i];
        if (listenable[childName]) {
            children[childName] = listenable[childName];
        }
    }
    return children;
};

/**
 * Make a flat dictionary of all listenables including their
 * possible children (recursively), concatenating names in camelCase.
 *
 * @param {Object} listenables The top-level listenables
 */
var flattenListenables = function flattenListenables(listenables) {
    var flattened = {};
    for (var key in listenables) {
        var listenable = listenables[key];
        var childMap = mapChildListenables(listenable);

        // recursively flatten children
        var children = flattenListenables(childMap);

        // add the primary listenable and chilren
        flattened[key] = listenable;
        for (var childKey in children) {
            var childListenable = children[childKey];
            flattened[key + _.capitalize(childKey)] = childListenable;
        }
    }

    return flattened;
};

/**
 * An internal utility function used by `validateListening`
 *
 * @param {Action|Store} listenable The listenable we want to search for
 * @returns {Boolean} The result of a recursive search among `this.subscriptions`
 */
var hasListener = exports.hasListener = function hasListener(listenable) {
    var i = 0,
        j,
        listener,
        listenables;
    for (; i < (this.subscriptions || []).length; ++i) {
        listenables = [].concat(this.subscriptions[i].listenable);
        for (j = 0; j < listenables.length; j++) {
            listener = listenables[j];
            if (listener === listenable || listener.hasListener && listener.hasListener(listenable)) {
                return true;
            }
        }
    }
    return false;
};

/**
 * A convenience method that listens to all listenables in the given object.
 *
 * @param {Object} listenables An object of listenables. Keys will be used as callback method names.
 */
var listenToMany = exports.listenToMany = function listenToMany(listenables) {
    var allListenables = flattenListenables(listenables);
    for (var key in allListenables) {
        var cbname = _.callbackName(key),
            localname = this[cbname] ? cbname : this[key] ? key : undefined;
        if (localname) {
            this.listenTo(allListenables[key], localname, this[cbname + "Default"] || this[localname + "Default"] || localname);
        }
    }
};

/**
 * Checks if the current context can listen to the supplied listenable
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @returns {String|Undefined} An error message, or undefined if there was no problem.
 */
var validateListening = exports.validateListening = function validateListening(listenable) {
    if (listenable === this) {
        return "Listener is not able to listen to itself";
    }
    if (!_.isFunction(listenable.listen)) {
        return listenable + " is missing a listen method";
    }
    if (listenable.hasListener && listenable.hasListener(this)) {
        return "Listener cannot listen to this listenable because of circular loop";
    }
};

/**
 * Sets up a subscription to the given listenable for the context object
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @param {Function|String} callback The callback to register as event handler
 * @param {Function|String} defaultCallback The callback to register as default handler
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is the object being listened to
 */
var listenTo = exports.listenTo = function listenTo(listenable, callback, defaultCallback) {
    var desub,
        unsubscriber,
        subscriptionobj,
        subs = this.subscriptions = this.subscriptions || [];
    _.throwIf(this.validateListening(listenable));
    this.fetchInitialState(listenable, defaultCallback);
    desub = listenable.listen(this[callback] || callback, this);
    unsubscriber = function unsubscriber() {
        var index = subs.indexOf(subscriptionobj);
        _.throwIf(index === -1, "Tried to remove listen already gone from subscriptions list!");
        subs.splice(index, 1);
        desub();
    };
    subscriptionobj = {
        stop: unsubscriber,
        listenable: listenable
    };
    subs.push(subscriptionobj);
    return subscriptionobj;
};

/**
 * Stops listening to a single listenable
 *
 * @param {Action|Store} listenable The action or store we no longer want to listen to
 * @returns {Boolean} True if a subscription was found and removed, otherwise false.
 */
var stopListeningTo = exports.stopListeningTo = function stopListeningTo(listenable) {
    var sub,
        i = 0,
        subs = this.subscriptions || [];
    for (; i < subs.length; i++) {
        sub = subs[i];
        if (sub.listenable === listenable) {
            sub.stop();
            _.throwIf(subs.indexOf(sub) !== -1, "Failed to remove listen from subscriptions list!");
            return true;
        }
    }
    return false;
};

/**
 * Stops all subscriptions and empties subscriptions array
 */
var stopListeningToAll = exports.stopListeningToAll = function stopListeningToAll() {
    var remaining,
        subs = this.subscriptions || [];
    while (remaining = subs.length) {
        subs[0].stop();
        _.throwIf(subs.length !== remaining - 1, "Failed to remove listen from subscriptions list!");
    }
};

/**
 * Used in `listenTo`. Fetches initial data from a publisher if it has a `getInitialState` method.
 * @param {Action|Store} listenable The publisher we want to get initial state from
 * @param {Function|String} defaultCallback The method to receive the data
 */
var fetchInitialState = exports.fetchInitialState = function fetchInitialState(listenable, defaultCallback) {
    defaultCallback = defaultCallback && this[defaultCallback] || defaultCallback;
    var me = this;
    if (_.isFunction(defaultCallback) && _.isFunction(listenable.getInitialState)) {
        var data = listenable.getInitialState();
        if (data && _.isFunction(data.then)) {
            data.then(function () {
                defaultCallback.apply(me, arguments);
            });
        } else {
            defaultCallback.call(this, data);
        }
    }
};

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with the last emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinTrailing = exports.joinTrailing = (0, _joins.instanceJoinCreator)("last");

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with the first emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinLeading = exports.joinLeading = (0, _joins.instanceJoinCreator)("first");

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with all emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinConcat = exports.joinConcat = (0, _joins.instanceJoinCreator)("all");

/**
 * The callback will be called once all listenables have triggered.
 * If a callback triggers twice before that happens, an error is thrown.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinStrict = exports.joinStrict = (0, _joins.instanceJoinCreator)("strict");
},{"./joins":32,"./utils":34}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.deferWith = exports.triggerAsync = exports.trigger = exports.listen = exports.shouldEmit = exports.preEmit = undefined;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * A module of methods for object that you want to be able to listen to.
 * This module is consumed by `createStore` and `createAction`
 */

/**
 * Hook used by the publisher that is invoked before emitting
 * and before `shouldEmit`. The arguments are the ones that the action
 * is invoked with. If this function returns something other than
 * undefined, that will be passed on as arguments for shouldEmit and
 * emission.
 */
var preEmit = exports.preEmit = function preEmit() {};

/**
 * Hook used by the publisher after `preEmit` to determine if the
 * event should be emitted with given arguments. This may be overridden
 * in your application, default implementation always returns true.
 *
 * @returns {Boolean} true if event should be emitted
 */
var shouldEmit = exports.shouldEmit = function shouldEmit() {
    return true;
};

/**
 * Subscribes the given callback for action triggered
 *
 * @param {Function} callback The callback to register as event handler
 * @param {Mixed} [optional] bindContext The context to bind the callback with
 * @returns {Function} Callback that unsubscribes the registered event handler
 */
var listen = exports.listen = function listen(callback, bindContext) {
    bindContext = bindContext || this;
    var eventHandler = function eventHandler(args) {
        if (aborted) {
            return;
        }
        callback.apply(bindContext, args);
    },
        me = this,
        aborted = false;
    this.emitter.addListener(this.eventLabel, eventHandler);
    return function () {
        aborted = true;
        me.emitter.removeListener(me.eventLabel, eventHandler);
    };
};

/**
 * Publishes an event using `this.emitter` (if `shouldEmit` agrees)
 */
var trigger = exports.trigger = function trigger() {
    var args = arguments,
        pre = this.preEmit.apply(this, args);
    args = pre === undefined ? args : _.isArguments(pre) ? pre : [].concat(pre);
    if (this.shouldEmit.apply(this, args)) {
        this.emitter.emit(this.eventLabel, args);
    }
};

/**
 * Tries to publish the event on the next tick
 */
var triggerAsync = exports.triggerAsync = function triggerAsync() {
    var args = arguments,
        me = this;
    _.nextTick(function () {
        me.trigger.apply(me, args);
    });
};

/**
 * Wraps the trigger mechanism with a deferral function.
 *
 * @param {Function} callback the deferral function,
 *        first argument is the resolving function and the
 *        rest are the arguments provided from the previous
 *        trigger invocation
 */
var deferWith = exports.deferWith = function deferWith(callback) {
    var oldTrigger = this.trigger,
        ctx = this,
        resolver = function resolver() {
        oldTrigger.apply(ctx, arguments);
    };
    this.trigger = function () {
        callback.apply(ctx, [resolver].concat([].splice.call(arguments, 0)));
    };
};
},{"./utils":34}],27:[function(require,module,exports){
arguments[4][23][0].apply(exports,arguments)
},{"dup":23}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.bindMethods = bindMethods;
function bindMethods(store, definition) {
    for (var name in definition) {
        if (Object.getOwnPropertyDescriptor && Object.defineProperty) {
            var propertyDescriptor = Object.getOwnPropertyDescriptor(definition, name);

            if (!propertyDescriptor.value || typeof propertyDescriptor.value !== "function" || !definition.hasOwnProperty(name)) {
                continue;
            }

            store[name] = definition[name].bind(store);
        } else {
            var property = definition[name];

            if (typeof property !== "function" || !definition.hasOwnProperty(name)) {
                continue;
            }

            store[name] = property.bind(store);
        }
    }

    return store;
}
},{}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createAction = createAction;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _ActionMethods = require("./ActionMethods");

var ActionMethods = _interopRequireWildcard(_ActionMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _Keep = require("./Keep");

var Keep = _interopRequireWildcard(_Keep);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var allowed = { preEmit: 1, shouldEmit: 1 };

/**
 * Creates an action functor object. It is mixed in with functions
 * from the `PublisherMethods` mixin. `preEmit` and `shouldEmit` may
 * be overridden in the definition object.
 *
 * @param {Object} definition The action object definition
 */
function createAction(definition) {

    definition = definition || {};
    if (!_.isObject(definition)) {
        definition = { actionName: definition };
    }

    for (var a in ActionMethods) {
        if (!allowed[a] && PublisherMethods[a]) {
            throw new Error("Cannot override API method " + a + " in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");
        }
    }

    for (var d in definition) {
        if (!allowed[d] && PublisherMethods[d]) {
            throw new Error("Cannot override API method " + d + " in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");
        }
    }

    definition.children = definition.children || [];
    if (definition.asyncResult) {
        definition.children = definition.children.concat(["completed", "failed"]);
    }

    var i = 0,
        childActions = {};
    for (; i < definition.children.length; i++) {
        var chDef = definition.children[i];
        var chName = typeof chDef === "string" ? chDef : chDef.actionName;
        childActions[chName] = createAction(chDef);
    }

    var context = _.extend({
        eventLabel: "action",
        emitter: new _.EventEmitter(),
        _isAction: true
    }, PublisherMethods, ActionMethods, definition);

    var functor = function functor() {
        var hasChildActions = false;
        /* eslint no-unused-vars:0 */
        for (var ignore in functor.childActions) {
            hasChildActions = true;break;
        }
        var async = !functor.sync && typeof functor.sync !== "undefined" || hasChildActions;
        var triggerType = async ? "triggerAsync" : "trigger";
        return functor[triggerType].apply(functor, arguments);
    };

    _.extend(functor, childActions, context);

    Keep.addAction(functor);

    return functor;
}
},{"./ActionMethods":23,"./Keep":24,"./PublisherMethods":26,"./utils":34}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createStore = createStore;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _Keep = require("./Keep");

var Keep = _interopRequireWildcard(_Keep);

var _mixer = require("./mixer");

var _bindMethods = require("./bindMethods");

var _StoreMethods = require("./StoreMethods");

var StoreMethods = _interopRequireWildcard(_StoreMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _ListenerMethods = require("./ListenerMethods");

var ListenerMethods = _interopRequireWildcard(_ListenerMethods);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var allowed = { preEmit: 1, shouldEmit: 1 };

/**
 * Creates an event emitting Data Store. It is mixed in with functions
 * from the `ListenerMethods` and `PublisherMethods` mixins. `preEmit`
 * and `shouldEmit` may be overridden in the definition object.
 *
 * @param {Object} definition The data store object definition
 * @returns {Store} A data store instance
 */
function createStore(definition) {

    definition = definition || {};

    for (var a in StoreMethods) {
        if (!allowed[a] && (PublisherMethods[a] || ListenerMethods[a])) {
            throw new Error("Cannot override API method " + a + " in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");
        }
    }

    for (var d in definition) {
        if (!allowed[d] && (PublisherMethods[d] || ListenerMethods[d])) {
            throw new Error("Cannot override API method " + d + " in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");
        }
    }

    definition = (0, _mixer.mix)(definition);

    function Store() {
        var i = 0,
            arr;
        this.subscriptions = [];
        this.emitter = new _.EventEmitter();
        this.eventLabel = "change";
        (0, _bindMethods.bindMethods)(this, definition);
        if (this.init && _.isFunction(this.init)) {
            this.init();
        }
        if (this.listenables) {
            arr = [].concat(this.listenables);
            for (; i < arr.length; i++) {
                this.listenToMany(arr[i]);
            }
        }
    }

    _.extend(Store.prototype, ListenerMethods, PublisherMethods, StoreMethods, definition);

    var store = new Store();
    Keep.addStore(store);

    return store;
}
},{"./Keep":24,"./ListenerMethods":25,"./PublisherMethods":26,"./StoreMethods":27,"./bindMethods":28,"./mixer":33,"./utils":34}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.__keep = exports.joinConcat = exports.joinStrict = exports.joinLeading = exports.all = exports.joinTrailing = exports.use = exports.nextTick = exports.setEventEmitter = exports.createActions = exports.createStore = exports.createAction = exports.utils = exports.StoreMethods = exports.PublisherMethods = exports.ListenerMethods = exports.ActionMethods = exports.version = undefined;

var _ActionMethods = require("./ActionMethods");

var ActionMethods = _interopRequireWildcard(_ActionMethods);

var _ListenerMethods = require("./ListenerMethods");

var ListenerMethods = _interopRequireWildcard(_ListenerMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _StoreMethods = require("./StoreMethods");

var StoreMethods = _interopRequireWildcard(_StoreMethods);

var _joins = require("./joins");

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _createAction = require("./createAction");

var _createStore = require("./createStore");

var _Keep = require("./Keep");

var __keep = _interopRequireWildcard(_Keep);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var version = {
    "reflux-core": "1.0.0"
};

var joinTrailing = (0, _joins.staticJoinCreator)("last");
var all = joinTrailing; // Reflux.all alias for backward compatibility
var joinLeading = (0, _joins.staticJoinCreator)("first");
var joinStrict = (0, _joins.staticJoinCreator)("strict");
var joinConcat = (0, _joins.staticJoinCreator)("all");

var utils = _;


/**
 * Convenience function for creating a set of actions
 *
 * @param definitions the definitions for the actions to be created
 * @returns an object with actions of corresponding action names
 */
var createActions = function () {
    var reducer = function reducer(definitions, actions) {
        Object.keys(definitions).forEach(function (actionName) {
            var val = definitions[actionName];
            actions[actionName] = (0, _createAction.createAction)(val);
        });
    };

    return function (definitions) {
        var actions = {};
        if (definitions instanceof Array) {
            definitions.forEach(function (val) {
                if (_.isObject(val)) {
                    reducer(val, actions);
                } else {
                    actions[val] = (0, _createAction.createAction)(val);
                }
            });
        } else {
            reducer(definitions, actions);
        }
        return actions;
    };
}();

/**
 * Sets the eventmitter that Reflux uses
 */
function setEventEmitter(ctx) {
    _.EventEmitter = ctx;
}

/**
 * Sets the method used for deferring actions and stores
 */
function nextTick(nextTick) {
    _.nextTick = nextTick;
}

function use(pluginCb) {
    pluginCb(this);
}

/**
 * Provides the set of created actions and stores for introspection
 */
/*eslint-disable no-underscore-dangle*/


// export in format that supports syntax: var Reflux = require('reflux-core');
exports.version = version;
exports.ActionMethods = ActionMethods;
exports.ListenerMethods = ListenerMethods;
exports.PublisherMethods = PublisherMethods;
exports.StoreMethods = StoreMethods;
exports.utils = utils;
exports.createAction = _createAction.createAction;
exports.createStore = _createStore.createStore;
exports.createActions = createActions;
exports.setEventEmitter = setEventEmitter;
exports.nextTick = nextTick;
exports.use = use;
exports.joinTrailing = joinTrailing;
exports.all = all;
exports.joinLeading = joinLeading;
exports.joinStrict = joinStrict;
exports.joinConcat = joinConcat;
exports.__keep = __keep;
/*eslint-enable no-underscore-dangle*/

// export in format that supports syntax: import Reflux from 'reflux-core';

Object.defineProperty(exports, "default", {
    get: function get() {
        return exports;
    }
});

/**
 * Warn if Function.prototype.bind not available
 */
if (!Function.prototype.bind) {
    console.error("Function.prototype.bind not available. " + "ES5 shim required. " + "https://github.com/spoike/refluxjs#es5");
}
},{"./ActionMethods":23,"./Keep":24,"./ListenerMethods":25,"./PublisherMethods":26,"./StoreMethods":27,"./createAction":29,"./createStore":30,"./joins":32,"./utils":34}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.staticJoinCreator = staticJoinCreator;
exports.instanceJoinCreator = instanceJoinCreator;

var _createStore = require("./createStore");

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * Internal module used to create static and instance join methods
 */

var slice = Array.prototype.slice,
    strategyMethodNames = {
    strict: "joinStrict",
    first: "joinLeading",
    last: "joinTrailing",
    all: "joinConcat"
};

/**
 * Used in `index.js` to create the static join methods
 * @param {String} strategy Which strategy to use when tracking listenable trigger arguments
 * @returns {Function} A static function which returns a store with a join listen on the given listenables using the given strategy
 */
function staticJoinCreator(strategy) {
    return function () /* listenables... */{
        var listenables = slice.call(arguments);
        return (0, _createStore.createStore)({
            init: function init() {
                this[strategyMethodNames[strategy]].apply(this, listenables.concat("triggerAsync"));
            }
        });
    };
}

/**
 * Used in `ListenerMethods.js` to create the instance join methods
 * @param {String} strategy Which strategy to use when tracking listenable trigger arguments
 * @returns {Function} An instance method which sets up a join listen on the given listenables using the given strategy
 */
function instanceJoinCreator(strategy) {
    return function () /* listenables..., callback*/{
        _.throwIf(arguments.length < 2, "Cannot create a join with less than 2 listenables!");
        var listenables = slice.call(arguments),
            callback = listenables.pop(),
            numberOfListenables = listenables.length,
            join = {
            numberOfListenables: numberOfListenables,
            callback: this[callback] || callback,
            listener: this,
            strategy: strategy
        },
            i,
            cancels = [],
            subobj;
        for (i = 0; i < numberOfListenables; i++) {
            _.throwIf(this.validateListening(listenables[i]));
        }
        for (i = 0; i < numberOfListenables; i++) {
            cancels.push(listenables[i].listen(newListener(i, join), this));
        }
        reset(join);
        subobj = { listenable: listenables };
        subobj.stop = makeStopper(subobj, cancels, this);
        this.subscriptions = (this.subscriptions || []).concat(subobj);
        return subobj;
    };
}

// ---- internal join functions ----

function makeStopper(subobj, cancels, context) {
    return function () {
        var i,
            subs = context.subscriptions,
            index = subs ? subs.indexOf(subobj) : -1;
        _.throwIf(index === -1, "Tried to remove join already gone from subscriptions list!");
        for (i = 0; i < cancels.length; i++) {
            cancels[i]();
        }
        subs.splice(index, 1);
    };
}

function reset(join) {
    join.listenablesEmitted = new Array(join.numberOfListenables);
    join.args = new Array(join.numberOfListenables);
}

function newListener(i, join) {
    return function () {
        var callargs = slice.call(arguments);
        if (join.listenablesEmitted[i]) {
            switch (join.strategy) {
                case "strict":
                    throw new Error("Strict join failed because listener triggered twice.");
                case "last":
                    join.args[i] = callargs;break;
                case "all":
                    join.args[i].push(callargs);
            }
        } else {
            join.listenablesEmitted[i] = true;
            join.args[i] = join.strategy === "all" ? [callargs] : callargs;
        }
        emitIfAllListenablesEmitted(join);
    };
}

function emitIfAllListenablesEmitted(join) {
    for (var i = 0; i < join.numberOfListenables; i++) {
        if (!join.listenablesEmitted[i]) {
            return;
        }
    }
    join.callback.apply(join.listener, join.args);
    reset(join);
}
},{"./createStore":30,"./utils":34}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mix = mix;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function mix(def) {
    var composed = {
        init: [],
        preEmit: [],
        shouldEmit: []
    };

    var updated = function mixDef(mixin) {
        var mixed = {};
        if (mixin.mixins) {
            mixin.mixins.forEach(function (subMixin) {
                _.extend(mixed, mixDef(subMixin));
            });
        }
        _.extend(mixed, mixin);
        Object.keys(composed).forEach(function (composable) {
            if (mixin.hasOwnProperty(composable)) {
                composed[composable].push(mixin[composable]);
            }
        });
        return mixed;
    }(def);

    if (composed.init.length > 1) {
        updated.init = function () {
            var args = arguments;
            composed.init.forEach(function (init) {
                init.apply(this, args);
            }, this);
        };
    }
    if (composed.preEmit.length > 1) {
        updated.preEmit = function () {
            return composed.preEmit.reduce(function (args, preEmit) {
                var newValue = preEmit.apply(this, args);
                return newValue === undefined ? args : [newValue];
            }.bind(this), arguments);
        };
    }
    if (composed.shouldEmit.length > 1) {
        updated.shouldEmit = function () {
            var args = arguments;
            return !composed.shouldEmit.some(function (shouldEmit) {
                return !shouldEmit.apply(this, args);
            }, this);
        };
    }
    Object.keys(composed).forEach(function (composable) {
        if (composed[composable].length === 1) {
            updated[composable] = composed[composable][0];
        }
    });

    return updated;
}
},{"./utils":34}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.capitalize = capitalize;
exports.callbackName = callbackName;
exports.isObject = isObject;
exports.extend = extend;
exports.isFunction = isFunction;
exports.nextTick = nextTick;
exports.object = object;
exports.isArguments = isArguments;
exports.throwIf = throwIf;
function capitalize(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}

function callbackName(string, prefix) {
    prefix = prefix || "on";
    return prefix + exports.capitalize(string);
}

/*
 * isObject, extend, isFunction, isArguments are taken from underscore/lodash in
 * order to remove the dependency
 */
function isObject(obj) {
    var type = typeof obj === "undefined" ? "undefined" : _typeof(obj);
    return type === "function" || type === "object" && !!obj;
}

function extend(obj) {
    if (!isObject(obj)) {
        return obj;
    }
    var source, keys, prop;
    for (var i = 1, length = arguments.length; i < length; i++) {
        source = arguments[i];
        keys = Object.keys(source);
        for (var j = 0; j < keys.length; j++) {
            prop = keys[j];
            if (Object.getOwnPropertyDescriptor && Object.defineProperty) {
                var propertyDescriptor = Object.getOwnPropertyDescriptor(source, prop);
                Object.defineProperty(obj, prop, propertyDescriptor);
            } else {
                obj[prop] = source[prop];
            }
        }
    }
    return obj;
}

function isFunction(value) {
    return typeof value === "function";
}

exports.EventEmitter = require("eventemitter3");

function nextTick(callback) {
    setTimeout(callback, 0);
}

function object(keys, vals) {
    var o = {},
        i = 0;
    for (; i < keys.length; i++) {
        o[keys[i]] = vals[i];
    }
    return o;
}

function isArguments(value) {
    return (typeof value === "undefined" ? "undefined" : _typeof(value)) === "object" && "callee" in value && typeof value.length === "number";
}

function throwIf(val, msg) {
    if (val) {
        throw Error(msg || val);
    }
}
},{"eventemitter3":22}],35:[function(require,module,exports){
var _ = require('reflux-core/lib/utils'),
    ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A module meant to be consumed as a mixin by a React component. Supplies the methods from
 * `ListenerMethods` mixin and takes care of teardown of subscriptions.
 * Note that if you're using the `connect` mixin you don't need this mixin, as connect will
 * import everything this mixin contains!
 */
module.exports = _.extend({

    /**
     * Cleans up all listener previously registered.
     */
    componentWillUnmount: ListenerMethods.stopListeningToAll

}, ListenerMethods);

},{"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],36:[function(require,module,exports){

/* globals React: false */

var Reflux = require('reflux-core');
Reflux.defineReact = require('./defineReact');

// useful utility for ES6 work, mimics the ability to extend
Reflux.utils.inherits = function(subClass, superClass) {
	if (typeof superClass !== "function" && superClass !== null) {
		throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
	}
	subClass.prototype = Object.create(superClass && superClass.prototype, {
		constructor: {
			value: subClass,
			enumerable: false,
			writable: true,
			configurable: true
		}
	});
	if (superClass) {
		if (Object.setPrototypeOf) {
			Object.setPrototypeOf(subClass, superClass);
		} else {
			/* jshint proto: true */
			subClass.__proto__ = superClass;
		}
	}
};

// first try to see if there's a global React var and use it
if (typeof React !== 'undefined' && React) {
	Reflux.defineReact(React);
// otherwise we're gonna resort to 'try' stuff in case of other environments
} else {
	try {
		var R = require("react"); // we ignore this in browserify manually (see grunt file), so it's more of a doublecheck for in node
		Reflux.defineReact(R);
	} catch (e) {}
}

},{"./defineReact":39,"react":"react","reflux-core":31}],37:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods'),
    ListenerMixin = require('./ListenerMixin'),
    _ = require('reflux-core/lib/utils');

module.exports = function(listenable, key) {

    _.throwIf(typeof(key) === 'undefined', 'Reflux.connect() requires a key.');

    return {
        getInitialState: function() {
            if (!_.isFunction(listenable.getInitialState)) {
                return {};
            }

            return _.object([key],[listenable.getInitialState()]);
        },
        componentDidMount: function() {
            var me = this;

            _.extend(me, ListenerMethods);

            this.listenTo(listenable, function(v) {
                me.setState(_.object([key],[v]));
            });
        },
        componentWillUnmount: ListenerMixin.componentWillUnmount
    };
};

},{"./ListenerMixin":35,"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],38:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods'),
    ListenerMixin = require('./ListenerMixin'),
    _ = require('reflux-core/lib/utils');

module.exports = function(listenable, key, filterFunc) {

    _.throwIf(_.isFunction(key), 'Reflux.connectFilter() requires a key.');

    return {
        getInitialState: function() {
            if (!_.isFunction(listenable.getInitialState)) {
                return {};
            }

            // Filter initial payload from store.
            var result = filterFunc.call(this, listenable.getInitialState());
            if (typeof(result) !== 'undefined') {
                return _.object([key], [result]);
            } else {
                return {};
            }
        },
        componentDidMount: function() {
            var me = this;

            _.extend(this, ListenerMethods);

            this.listenTo(listenable, function(value) {
                var result = filterFunc.call(me, value);
                me.setState(_.object([key], [result]));
            });
        },
        componentWillUnmount: ListenerMixin.componentWillUnmount
    };
};

},{"./ListenerMixin":35,"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],39:[function(require,module,exports){
/* globals React: false */

var Reflux = require('reflux-core');

/**
 * Reflux.defineReact function where you can manually supply
 * the React object in order to create in case Reflux needs to load before
 * React or there is a modular environment where there won't be a global
 * React variable.
 * @note The third param is for internal usage only.
 */
var _react, _defined = false;
function defineReact(react, noLongerUsed, extend)
{
	var proto, _extend;
	
	// if no Reflux object is yet available then return and just wait until defineReact is called manually with it
	try {
		_react  = react  || _react  || React;
		_extend = extend || _react.Component;
	} catch (e) {
		return;
	}
	
	// if Reflux and React aren't present then ignore, wait until they are properly present
	// also ignore if it's been called before UNLESS there's manual extending happening
	if (!_react || !_extend || (_defined && !extend)) {
		return;
	}
	
	// ----------- BEGIN Reflux.Component ------------
	/**
	 * Reflux.Component:
	 * An implementation for idiomatic React.js classes that mix with
	 * Reflux stores. To utilize extend Reflux.Component instead of
	 * React.Component. Then you may hook any Reflux store that has a
	 * `this.state` property containing its state values to the component
	 * via `this.store` or an Array of Reflux stores via `this.stores` in
	 * the component's constructor (similar to how you assign initial state
	 * in the constructor in ES6 style React). The default values of the
	 * stores will automatically reflect in the component's state, and any
	 * further `trigger` calls from that store will update properties passed
	 * in the trigger into the component automatically.
	 */
	var RefluxComponent = function(props, context, updater) {
		_extend.call(this, props, context, updater);
	};
	
	// equivalent of `extends React.Component` or other class if provided via `extend` param
	Reflux.utils.inherits(RefluxComponent, _extend);
	
	proto = RefluxComponent.prototype;
	
	/**
	 * this.storeKeys
	 * When this is a falsey value (null by default) the component mixes in
	 * all properties from the stores attached to it and updates on changes
	 * from all of them. When set to an array of string keys it will only
	 * utilized state property names of those keys in any store attached. This
	 * lets you choose which parts of stores update the component on a component-
	 * by-component basis. If using this it is best set in the constructor.
	 */
	proto.storeKeys = null;
	
	// on the mounting of the component that is where the store/stores are attached and initialized if needed
	proto.componentWillMount = function () {
		// if there is a this.store then simply push it onto the this.stores array or make one if needed
		if (this.store) {
			if (Array.isArray(this.stores)) {
				this.stores.unshift(this.store);
			} else {
				this.stores = [this.store];
			}
		}
		
		if (this.stores) {
			this.__storeunsubscribes__ = this.__storeunsubscribes__ || [];
			var sS = this.setState.bind(this);
			// this handles the triggering of a store, checking what's updated if proto.storeKeys is utilized
			var onStoreTrigger = function(obj){
				var updateObj = filterByStoreKeys(this.storeKeys, obj);
				if (updateObj) {
					sS(updateObj);
				}
			}.bind(this);
			// for each store in this.stores...
			for (var i = 0, ii = this.stores.length; i < ii; i++) {
				var str = this.stores[i];
				// if's a function then we know it's a class getting passed, not an instance
				if (typeof str === 'function') {
					var storeId = str.id;
					// if there is NOT a .singleton property on the store then this store has not been initialized yet, so do so
					if (!str.singleton) {
						str.singleton = new str();
						if (storeId) {
							Reflux.stores[storeId] = str.singleton;
						}
					}
					// before we weren't sure if we were working with an instance or class, so now we know an instance is created set it
					// to the variables we were using so that we can just continue on knowing it's the instance we're working with
					this.stores[i] = str = str.singleton;
					// the instance should have an .id property as well if the class does, so set that here
					str.id = storeId;
					// if there is an id and there is a global state property for this store then merge
					// the properties from that global state into the default state of the store AND then
					// set the global state to that new state (since it may have previously been partial)
					if (storeId && Reflux.GlobalState[storeId]) {
						for (var key in Reflux.GlobalState[storeId]) {
							str.state[key] = Reflux.GlobalState[storeId][key];
						}
						Reflux.GlobalState[storeId] = str.state;
					// otherwise (if it has an id) set the global state to the default state of the store
					} else if (storeId) {
						Reflux.GlobalState[storeId] = str.state;
					}
					// if no id, then no messing with global state
				}
				// listen/subscribe for the ".trigger()" in the store, and track the unsubscribes so that we can unsubscribe on unmount
				if (!Reflux.serverMode) {
					this.__storeunsubscribes__.push(str.listen(onStoreTrigger));
				}
				// run set state so that it mixes in the props from the store with the component
				var updateObj = filterByStoreKeys(this.storeKeys, str.state);
				if (updateObj) {
					this.setState(updateObj);
				}
			}
		}
		
		// mapStoreToState needs to know if is ready to map or must wait
		this.__readytomap__ = true;
		// if there are mappings that were delayed, do them now
		var dmaps = this.__delayedmaps__;
		if (dmaps) {
			for (var j=0,jj=dmaps.length; j<jj; j++) {
				dmaps[j].func( dmaps[j].state );
			}
		}
		this.__delayedmaps__ = null;
	};
	
	// on the unmount phase of the component unsubscribe that which we subscribed earlier to keep our garbage trail clean
	proto.componentWillUnmount = function () {
		if (this.__storeunsubscribes__) {
			for (var i = 0, ii = this.__storeunsubscribes__.length; i < ii; i++) {
				this.__storeunsubscribes__[i]();
			}
		}
		this.__readytomap__ = false;
	};
	
	/**
	 * this.mapStoreToState
	 * This function allow you to supply map the state of a store to the
	 * state of this component manually via your own logic. This method
	 * is completely separate from this.store/this.stores and/or this.storeKeys.
	 * Call this function with an ES6 store (class or singleton instance) as the
	 * first argument and your filter function as the second. Your filter function
	 * will receive an object of the parts of the ES6 store being updated every
	 * time its setState is called. Your filter function then returns an object
	 * which will be merged with the component state (IF it has any properties at all,
	 * should you return a blank object the component will not rerender).
	 */
	proto.mapStoreToState = function(store, filterFunc)
	{
		// make sure we have a proper singleton instance to work with
		if (typeof store === 'function') {
			if (store.singleton) {
				store = store.singleton;
			} else {
				store = Reflux.initStore(store);
			}
		}
		
		// we need a closure so that the called function can remember the proper filter function to use, so function gets defined here
		var self = this;
		function onMapStoreTrigger(obj) {
			// get an object 
			var update = filterFunc.call(self, obj);
			// if no object returned from filter functions do nothing
			if (!update) {
				return;
			}
			// check if the update actually has any mapped props
			/*jshint unused: false */
			var hasProps = false;
			for (var check in update) {
				hasProps = true;
				break;
			}
			// if there were props mapped, then update via setState
			if (hasProps) {
				self.setState(update);
			}
		}
		
		// add the listener to know when the store is triggered
		this.__storeunsubscribes__ = this.__storeunsubscribes__ || [];
		this.__storeunsubscribes__.push(store.listen(onMapStoreTrigger));
		
		// now actually run onMapStoreTrigger with the full store state so that we immediately have all store state mapped to component state
		if (this.__readytomap__) {
			onMapStoreTrigger(store.state);
		} else {
			this.__delayedmaps__ = this.__delayedmaps__ || [];
			this.__delayedmaps__.push({func:onMapStoreTrigger, state:store.state});
		}
	};
	
	/**
	 * Reflux.Component.extend(OtherClass)
	 * This allows you to get classes that extend off of another React.Component
	 * inheriting class. For example if you're using a third party that uses
	 * components that allow `class MyComponent extends LibComponent` (where LibComponent
	 * itself extends React.Component) and you want to use that component with ES6 then
	 * you can make a class `var MyDualComponent = Reflux.Component.extend(LibComponent);`
	 * then you can use `class MyComponent extends MyDualComponent` to get the benefits
	 * of both libraries.
	 */
	RefluxComponent.extend = function(clss) {
		return defineReact(null, null, clss);
	};
	
	// if is being manually called with an `extend` argument present then just return the created class
	if (extend) {
		return RefluxComponent;
	}
	
	// otherwise set as Reflux.Component and continue with other normal definitions
	Reflux.Component = RefluxComponent;
	
	// also set Reflux.PureComponent (if it exists) using the .extend feature
	if (_react.PureComponent) {
		Reflux.PureComponent = RefluxComponent.extend(_react.PureComponent);
	}
	
	// ------------ END Reflux.Component ------------
	
	// --------- BEGIN Reflux.Store ------------
	/**
	 * Reflux.Store:
	 * Also implements optional Reflux.Store class that is idiomatic with
	 * the React ES6 style. You extend Reflux.Store and then the rest works
	 * the same as createStore, except the constructor instead of init, and
	 * it holds state in a state property, and a .setState method is available
	 * which automatically updates state and does a trigger. Then when using
	 * with this.store or this.stores in an ES6 component just plass the class,
	 * it will deal with a singleton instantiation of the class automatically.
	 */
	var RefluxStore = function() {
		// extending doesn't really work well here, so instead we create an internal instance
		// and just loop through its properties/methods and make a getter/setter for each
		// that will actually be getting and setting on that internal instance.
		this.__store__ = Reflux.createStore();
		this.state = {};
		var self = this;
		for (var key in this.__store__) {
			/*jshint loopfunc: true */
			(function (prop) {
				Object.defineProperty(self, prop, {
					get: function () { return self.__store__[prop]; },
					set: function (v) { self.__store__[prop] = v; }
				});
			})(key);
		}
	};
	
	proto = RefluxStore.prototype;
	
	// this defines the listenables property, mostly intended to be set as `this.listenables` in the constructor of the store
	// it is essentially a shortcut to the `listenToMany` method
	Object.defineProperty(proto, "listenables", {
		get: function () {
			return this.__listenables__;
		},
		set: function (v) {
			var Combined = {};
			if (Array.isArray(v)){
				v.forEach(function(obj) {
					for (var key in obj) {
						Combined[key] = obj[key];
					}
				});
			} else {
				Combined = v;
			}
			this.__listenables__ = Combined;
			this.listenToMany(Combined);
		},
		enumerable: true,
		configurable: true
	});
	
	// allows simple usage of `this.setState(obj)` within the store to both update the state and trigger the store to update
	// components that it is attached to in a simple way that is idiomatic with React
	proto.setState = function (obj) {
		// Object.assign(this.state, obj); // later turn this to Object.assign and remove loop once support is good enough
		for (var key in obj) {
			this.state[key] = obj[key];
		}
		// if there's an id (i.e. it's being tracked by the global state) then make sure to update the global state
		if (this.id) {
			Reflux.GlobalState[this.id] = this.state;
		}
		// trigger, because any component it's attached to is listening and will merge the store state into its own on a store trigger
		this.trigger(obj);
	};
	
	// this is a static property so that other code can identify that this is a Reflux.Store class
	// has issues specifically when using babel to transpile your ES6 stores for IE10 and below, not documented and shouldn't use yet
	Object.defineProperty(RefluxStore, "isES6Store", {
		get: function () {
			return true;
		},
		enumerable: true,
		configurable: true
	});
	
	// allows a shortcut for accessing MyStore.singleton.state as MyStore.state (since common usage makes a singleton)
	Object.defineProperty(RefluxStore, "state", {
		get: function () {
			if (!this.singleton) {
				throw new Error('Reflux.Store.state is inaccessible before the store has been initialized.');
			}
			return this.singleton.state;
		},
		enumerable: true,
		configurable: true
	});
	
	/* NOTE:
	If a Reflux.Store definition is given a static id property and used
	properly within a Reflux.Component or with Reflux.initStore then
	it will be added to the Reflux.GlobalState object which automatically tracks the
	current state of all such defined stores in the program. */
	
	Reflux.Store = RefluxStore;
	// ----------- END Reflux.Store -------------
	
	// --------- BEGIN Reflux Static Props/Methods ------------
	/**
	 * Reflux.GlobalState is where data is stored for any Reflux.Store that has a static id property. Each store's
	 * state will be on the Reflux.GlobalState object with the id as the key. So a store with the id "MyStore" and
	 * a state {"color":"red"} will end up with a Reflux.GlobalState of {"MyStore":{"color":"red"}}
	 * Reflux.GlobalState is an accessible part of the API. However, keep in mind that non-primitive properties you
	 * read off of it will continue to mutate and you can only manually mutate Reflux.GlobalState BEFORE any component
	 * mounting of components with ES6 stores. For more functionality look to Reflux.setGlobalState to change the global
	 * state at any point, and Reflux.getGlobalState to return a deep clone of the Reflux.GlobalState object which will
	 * not continue to mutate as Reflux.GlobalState continues to mutate.
	 */
	Reflux.GlobalState = Reflux.GlobalState || {};
	
	/**
	 * Reflux.stores
	 * All initialized stores that have an id will have a reference to their singleton stored here with the key being the id.
	 */
	Reflux.stores = {};
	
	/**
	 * Reflux.getGlobalState takes no arguments, and returns a deep clone of Reflux.GlobalState 
	 * which will not continue to mutate as Reflux.GlobalState does. It can essentially store
	 * snapshots of the global state as the program goes for saving or for in-app time travel.
	 */
	Reflux.getGlobalState = function() {
		return clone(Reflux.GlobalState);
	};
	
	/**
	 * Reflux.setGlobalState takes one argument that is a representation of the a possible
	 * global state. It updates all stores in the program to represent data in that given state.
	 * This includes triggering those stores so that that state is represented in any Reflux.Component
	 * instances they are attached to. Partial states may be given to it, and only the represented
	 * stores/state values will be updated.
	 */
	Reflux.setGlobalState = function(obj) {
		for (var storeID in obj) {
			if (Reflux.stores[storeID]) {
				Reflux.stores[storeID].setState(obj[storeID]);
			} else {
				Reflux.GlobalState[storeID] = obj[storeID];
			}
		}
	};
	
	/**
	 * Reflux.initStore takes one argument (a class that extends Reflux.Store) and returns a singleton
	 * intance of that class. Its main functionality is to be able to mimic what happens to stores attached to
	 * this.store or this.stores during the mounting phase of a component without having to actually attach the
	 * store to a component in order to work properly with the global state.
	 */
	// Reflux.initializeGlobalStore is kept for backwards compatibility, but deprecated since the function is
	// now for more broad instantiation of globally stored AND non-globally stored classes
	Reflux.initializeGlobalStore = Reflux.initStore = function(str) {
		var storeId = str.id;
		// if they're initializing something twice then we're done already, return it
		if (str.singleton) {
			return str.singleton;
		}
		// if no id then it's easy: just make new instance and set to singleton
		if (!storeId) {
			str.singleton = new str();
			return str.singleton;
		}
		// create the singleton and assign it to the class's singleton static property
		var inst = str.singleton = new str();
		// store it on the Reflux.stores array to be accessible later
		Reflux.stores[storeId] = inst;
		// the singleton instance itself should also have the id property of the class
		inst.id = storeId;
		// if the global state has something set for this id, copy it to the state and then
		// make sure to set the global state to the end result, since it may have only been partial
		if (Reflux.GlobalState[storeId]) {
			for (var key in Reflux.GlobalState[storeId]) {
				inst.state[key] = Reflux.GlobalState[storeId][key];
			}
			Reflux.GlobalState[storeId] = inst.state;
		// otherwise just set the global state to the default state of the class
		} else {
			Reflux.GlobalState[storeId] = inst.state;
		}
		// returns the singleton itself, though it will also be accessible as as `MyClass.singleton`
		return inst;
	};
	// --------- END Reflux Static Props/Methods ------------
	
	// so it knows not to redefine Reflux static stuff and stores if called again
	_defined = true;
}

// filters a state object by storeKeys array (if it exists)
// if filtering and obj contains no properties to use, returns false to let the component know not to update
function filterByStoreKeys(storeKeys, obj)
{
	// if there are not storeKeys defined then simply return the whole original object
	if (!storeKeys) {
		return obj;
	}
	// otherwise go through and only update properties that are in the storeKeys array, and return straight false if there are none
	var doUpdate = false;
	var updateObj = {};
	for (var i = 0, ii = storeKeys.length; i < ii; i++) {
		var prop = storeKeys[i];
		if (obj.hasOwnProperty(prop)) {
			doUpdate = true;
			updateObj[prop] = obj[prop];
		}
	}
	return doUpdate ? updateObj : false;
}

// this is utilized by some of the global state functionality in order to get a clone that will
// not continue to be modified as the GlobalState mutates
function clone(frm, to) {
	if (frm === null || typeof frm !== "object") {
		return frm;
	}
	if (frm.constructor !== Object && frm.constructor !== Array) {
		return frm;
	}
	if (frm.constructor === Date || frm.constructor === RegExp || frm.constructor === Function ||
		frm.constructor === String || frm.constructor === Number || frm.constructor === Boolean) {
		return new frm.constructor(frm);
	}
	to = to || new frm.constructor();
	for (var name in frm) {
		to[name] = typeof to[name] === "undefined" ? clone(frm[name], null) : to[name];
	}
	return to;
}

module.exports = defineReact;


},{"reflux-core":31}],40:[function(require,module,exports){
var Reflux = require('reflux-core');

Reflux.serverMode = typeof window !== 'object';

Reflux.connect = require('./connect');

Reflux.connectFilter = require('./connectFilter');

Reflux.ListenerMixin = require('./ListenerMixin');

Reflux.listenTo = require('./listenTo');

Reflux.listenToMany = require('./listenToMany');

require('./addES6');

module.exports = Reflux;

},{"./ListenerMixin":35,"./addES6":36,"./connect":37,"./connectFilter":38,"./listenTo":41,"./listenToMany":42,"reflux-core":31}],41:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A mixin factory for a React component. Meant as a more convenient way of using the `ListenerMixin`,
 * without having to manually set listeners in the `componentDidMount` method.
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @param {Function|String} callback The callback to register as event handler
 * @param {Function|String} defaultCallback The callback to register as default handler
 * @returns {Object} An object to be used as a mixin, which sets up the listener for the given listenable.
 */
module.exports = function(listenable,callback,initial){
    return {
        /**
         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`
         * and then make the call to `listenTo` with the arguments provided to the factory function
         */
        componentDidMount: function() {
            for(var m in ListenerMethods){
                if (this[m] !== ListenerMethods[m]){
                    if (this[m]){
                        throw "Can't have other property '"+m+"' when using Reflux.listenTo!";
                    }
                    this[m] = ListenerMethods[m];
                }
            }
            this.listenTo(listenable,callback,initial);
        },
        /**
         * Cleans up all listener previously registered.
         */
        componentWillUnmount: ListenerMethods.stopListeningToAll
    };
};

},{"reflux-core/lib/ListenerMethods":25}],42:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A mixin factory for a React component. Meant as a more convenient way of using the `listenerMixin`,
 * without having to manually set listeners in the `componentDidMount` method. This version is used
 * to automatically set up a `listenToMany` call.
 *
 * @param {Object} listenables An object of listenables
 * @returns {Object} An object to be used as a mixin, which sets up the listeners for the given listenables.
 */
module.exports = function(listenables){
    return {
        /**
         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`
         * and then make the call to `listenTo` with the arguments provided to the factory function
         */
        componentDidMount: function() {
            for(var m in ListenerMethods){
                if (this[m] !== ListenerMethods[m]){
                    if (this[m]){
                        throw "Can't have other property '"+m+"' when using Reflux.listenToMany!";
                    }
                    this[m] = ListenerMethods[m];
                }
            }
            this.listenToMany(listenables);
        },
        /**
         * Cleans up all listener previously registered.
         */
        componentWillUnmount: ListenerMethods.stopListeningToAll
    };
};

},{"reflux-core/lib/ListenerMethods":25}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXBwLmpzIiwiYXBwL2FwcGxpY2F0aW9uLmpzIiwiYXBwL2JvYXJkL2JvYXJkLmpzIiwiYXBwL2JvYXJkL21vZGVsLmpzIiwiYXBwL2NoYXJ0LmpzIiwiYXBwL2Zvb3Rlci5qcyIsImFwcC9oZWFkZXIuanMiLCJhcHAvaGlzdG9yeS5qcyIsImFwcC9wYW5lbC9hYm91dC5qcyIsImFwcC9wYW5lbC9idXR0b24vb25lc3RlcC5qcyIsImFwcC9wYW5lbC9idXR0b24vcmVzZXQuanMiLCJhcHAvcGFuZWwvYnV0dG9uL3N0YXJ0c3RvcC5qcyIsImFwcC9wYW5lbC9idXR0b25hcmVhLmpzIiwiYXBwL3BhbmVsL2lucHV0L2RlbnNpdHkuanMiLCJhcHAvcGFuZWwvaW5wdXQvaW5mb3JtYXRpb24uanMiLCJhcHAvcGFuZWwvaW5wdXQvc2l6ZS5qcyIsImFwcC9wYW5lbC9pbnB1dGFyZWEuanMiLCJhcHAvcGFuZWwvcGFuZWwuanMiLCJhcHAvc3RvcmUuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtaGlnaGNoYXJ0cy9kaXN0L1JlYWN0SGlnaGNoYXJ0cy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1oaWdoY2hhcnRzL25vZGVfbW9kdWxlcy9oaWdoY2hhcnRzL2hpZ2hjaGFydHMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9ub2RlX21vZHVsZXMvcmVmbHV4LWNvcmUvbGliL0FjdGlvbk1ldGhvZHMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvS2VlcC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvbm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9MaXN0ZW5lck1ldGhvZHMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvUHVibGlzaGVyTWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvbm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9iaW5kTWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvbm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9jcmVhdGVBY3Rpb24uanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvY3JlYXRlU3RvcmUuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvam9pbnMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvbWl4ZXIuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L25vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9MaXN0ZW5lck1peGluLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvYWRkRVM2LmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvY29ubmVjdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvc3JjL2Nvbm5lY3RGaWx0ZXIuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9kZWZpbmVSZWFjdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvbGlzdGVuVG8uanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9saXN0ZW5Ub01hbnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsbUJBQVMsTUFBVCxDQUNJLDBEQURKLEVBRUksU0FBUyxjQUFULENBQXdCLEtBQXhCLENBRko7Ozs7Ozs7Ozs7O0FDSkE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNLFc7OztBQUNGLDJCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxhQUFmO0FBQ0kscUVBREo7QUFFSTtBQUFBO0FBQUEsc0JBQUssV0FBVSxLQUFmO0FBQ0ksd0VBREo7QUFFSTtBQUZKLGlCQUZKO0FBTUk7QUFOSixhQURKO0FBVUg7Ozs7RUFsQnFCLGlCQUFPLFM7O2tCQXFCbEIsVzs7Ozs7Ozs7Ozs7QUM5QmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7O0lBRU0sSzs7O0FBQ0YscUJBQWM7QUFBQTs7QUFBQTs7QUFFVixjQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsY0FBSyxLQUFMO0FBQ0EsY0FBSyxJQUFMLEdBQVksU0FBWjtBQUNBLGNBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxjQUFLLFVBQUwsR0FBa0IsT0FBbEI7QUFOVTtBQU9iOzs7OytCQUNNO0FBQ0gsZ0JBQUksS0FBSyxNQUFMLElBQWUsU0FBbkIsRUFBOEI7QUFDMUIscUJBQUssTUFBTCxHQUFjLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsVUFBaEIsQ0FBMkIsSUFBM0IsQ0FBZDtBQUNIO0FBQ0QsZ0JBQUksS0FBSyxLQUFMLElBQWMsU0FBbEIsRUFBNkI7QUFDekIscUJBQUssS0FBTCxHQUFXLFNBQVMsT0FBTyxnQkFBUCxDQUF3QixLQUFLLElBQUwsQ0FBVSxLQUFsQyxFQUF5QyxLQUFsRCxDQUFYO0FBQ0g7QUFDRCxnQkFBSSxLQUFLLE1BQUwsSUFBZSxTQUFuQixFQUE4QjtBQUMxQixxQkFBSyxNQUFMLEdBQVksU0FBUyxPQUFPLGdCQUFQLENBQXdCLEtBQUssSUFBTCxDQUFVLEtBQWxDLEVBQXlDLE1BQWxELENBQVo7QUFDSDtBQUNKOzs7OENBQ3FCLFMsRUFBVyxTLEVBQVc7QUFDeEMsaUJBQUssS0FBTDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxVQUFVLEtBQVYsQ0FBZ0IsS0FBNUI7QUFDQSxtQkFBTyxLQUFQO0FBQ0g7Ozs0Q0FDbUI7QUFDaEIsaUJBQUssS0FBTDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxLQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLEtBQTdCO0FBQ0g7OztnQ0FDTztBQUNKLGlCQUFLLElBQUw7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixHQUF3QixLQUFLLFVBQTdCO0FBQ0EsaUJBQUssTUFBTCxDQUFZLFFBQVosQ0FBcUIsQ0FBckIsRUFBdUIsQ0FBdkIsRUFBeUIsS0FBSyxLQUE5QixFQUFxQyxLQUFLLE1BQTFDO0FBQ0g7OztpQ0FDUSxDLEVBQUUsQyxFQUFFLEksRUFBSyxLLEVBQU0sSyxFQUFPO0FBQzNCLGdCQUFJLEtBQUcsS0FBRyxRQUFNLENBQVQsQ0FBUDtBQUNBLGdCQUFJLEtBQUcsS0FBRyxRQUFNLENBQVQsQ0FBUDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxTQUFaLEdBQXdCLEtBQUssQ0FBTCxFQUFRLENBQVIsSUFBVyxLQUFLLEtBQWhCLEdBQXNCLEtBQUssSUFBbkQ7QUFDQSxpQkFBSyxNQUFMLENBQVksUUFBWixDQUFxQixFQUFyQixFQUF5QixFQUF6QixFQUE2QixLQUE3QixFQUFvQyxLQUFwQztBQUNIOzs7K0JBQ00sSSxFQUFNO0FBQ1QsZ0JBQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxDQUFDLEtBQUssS0FBTCxHQUFXLEtBQUssQ0FBTCxFQUFRLE1BQW5CLEdBQTBCLENBQTNCLElBQThCLEtBQUssQ0FBTCxFQUFRLE1BQWpELENBQVo7QUFDQSxnQkFBSSxRQUFRLEtBQUssS0FBTCxDQUFXLENBQUMsS0FBSyxNQUFMLEdBQVksS0FBSyxNQUFqQixHQUF3QixDQUF6QixJQUE0QixLQUFLLE1BQTVDLENBQVo7QUFDQSxpQkFBSSxJQUFJLENBQVIsSUFBYSxJQUFiLEVBQW1CO0FBQ2Ysb0JBQUksU0FBUyxDQUFULENBQUo7QUFDQSxxQkFBSSxJQUFJLENBQVIsSUFBYSxLQUFLLENBQUwsQ0FBYixFQUFzQjtBQUNsQix3QkFBSSxTQUFTLENBQVQsQ0FBSjtBQUNBLHlCQUFLLFFBQUwsQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLElBQWxCLEVBQXVCLEtBQXZCLEVBQTZCLEtBQTdCO0FBQ0g7QUFDSjtBQUNKOzs7aUNBQ1E7QUFDTCxtQkFBTywwQ0FBUSxJQUFHLFFBQVgsRUFBb0IsV0FBVSxPQUE5QixFQUFzQyxLQUFJLE9BQTFDLEVBQWtELE9BQU0sT0FBeEQsRUFBZ0UsUUFBTyxPQUF2RSxHQUFQO0FBQ0g7Ozs7RUFyRGUsaUJBQU8sUzs7a0JBd0RaLEs7Ozs7Ozs7Ozs7O0FDNURmOzs7Ozs7OztJQUVNLEs7QUFDRixtQkFBWSxLQUFaLEVBQW1CLE1BQW5CLEVBQTJCLE9BQTNCLEVBQW9DO0FBQUE7O0FBQ2hDLFlBQUksU0FBUyxTQUFULElBQ0EsVUFBVSxTQURWLElBRUEsV0FBVyxTQUZmLEVBR0U7QUFDRixhQUFLLGFBQUwsQ0FBbUIsS0FBbkIsRUFBMEIsTUFBMUIsRUFBa0MsT0FBbEM7QUFDQSxhQUFLLE1BQUwsR0FBYyxFQUFkO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLFVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBYSxLQUFiLEVBQW1CO0FBQUMsbUJBQU8sQ0FBUDtBQUFVLFNBQTlDLENBQStDLEtBQUssS0FBTCxHQUFXLENBQVg7QUFDbEQ7Ozs7c0NBRWEsSyxFQUFPLE0sRUFBUSxPLEVBQVM7QUFDbEMsaUJBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxpQkFBSyxNQUFMLEdBQWMsTUFBZDtBQUNBLGlCQUFLLElBQUwsR0FBWSxLQUFLLE1BQUwsR0FBWSxLQUFLLEtBQTdCO0FBQ0EsaUJBQUssT0FBTCxHQUFlLHNCQUFZLEdBQVosRUFBaUIsS0FBSyxJQUF0QixDQUFmO0FBQ0EsaUJBQUssT0FBTCxHQUFlLE9BQWY7QUFDQSxpQkFBSyxVQUFMLEdBQWtCLENBQWxCO0FBQ0EsZ0JBQUksUUFBUSxJQUFJLEtBQUosQ0FBVSxNQUFWLENBQVo7QUFDQSxpQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFhLElBQUUsTUFBZixFQUFzQixFQUFFLENBQXhCLEVBQTJCO0FBQ3ZCLHNCQUFNLENBQU4sSUFBVyxJQUFJLEtBQUosQ0FBVSxLQUFWLENBQVg7QUFDQSxxQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFhLElBQUUsS0FBZixFQUFxQixFQUFFLENBQXZCLEVBQTBCO0FBQ3RCLDBCQUFNLENBQU4sRUFBUyxDQUFULElBQWMsQ0FBZDtBQUNIO0FBQ0o7QUFDRCxnQkFBSSxTQUFTLFNBQVMsS0FBSyxPQUFMLEdBQWEsS0FBSyxJQUEzQixDQUFiO0FBQ0EsZ0JBQUksVUFBVSxDQUFkO0FBQ0EsbUJBQU8sVUFBVSxNQUFqQixFQUF5QjtBQUNyQixvQkFBSSxRQUFRLEtBQUssV0FBTCxFQUFaO0FBQ0Esb0JBQUksTUFBTSxNQUFNLENBQVosRUFBZSxNQUFNLENBQXJCLEtBQTJCLENBQS9CLEVBQWtDO0FBQzlCLDBCQUFNLE1BQU0sQ0FBWixFQUFlLE1BQU0sQ0FBckIsSUFBMEIsQ0FBMUI7QUFDQSxzQkFBRSxPQUFGO0FBQ0g7QUFDSjtBQUNELGlCQUFLLFVBQUwsR0FBa0IsTUFBbEI7QUFDQSxpQkFBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLGlCQUFLLE9BQUwsQ0FBYSxhQUFiLENBQTJCLEtBQUssVUFBaEM7QUFDSDs7OzBDQUVpQixTLEVBQVc7QUFDekIsaUJBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxpQkFBSyxLQUFMLEdBQWEsS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLE1BQTNCO0FBQ0EsaUJBQUssTUFBTCxHQUFjLEtBQUssS0FBTCxDQUFXLE1BQXpCO0FBQ0EsaUJBQUssSUFBTCxHQUFZLEtBQUssS0FBTCxHQUFhLEtBQUssTUFBOUI7QUFDQSxpQkFBSSxJQUFJLENBQVIsSUFBYSxLQUFLLEtBQWxCLEVBQXlCO0FBQ3JCLG9CQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0EscUJBQUssSUFBSSxDQUFULElBQWMsS0FBSyxLQUFMLENBQVcsQ0FBWCxDQUFkLEVBQTZCO0FBQ3pCLHdCQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0Esd0JBQUksS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsQ0FBSixFQUFzQjtBQUNsQiwwQkFBRSxLQUFLLFVBQVA7QUFDSDtBQUNKO0FBQ0o7QUFDSjs7O3NDQUVhO0FBQ1YsZ0JBQUksSUFBSSxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxLQUFoQyxDQUFSO0FBQ0EsZ0JBQUksSUFBSSxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxNQUFoQyxDQUFSLENBQWdELEtBQUssS0FBTDtBQUNoRCxtQkFBTyxFQUFDLElBQUQsRUFBSSxJQUFKLEVBQVA7QUFDSDs7O29DQUNXLFEsRUFBVTtBQUNsQixpQkFBSyxRQUFMLEdBQWdCLFFBQWhCO0FBQ0g7OztrQ0FDUyxNLEVBQVE7QUFDZCxpQkFBSyxNQUFMLEdBQWMsTUFBZDtBQUNIOzs7MkNBRWtCLEMsRUFBRyxTLEVBQVc7QUFDN0IsbUJBQU8sU0FBUyxDQUFDLElBQUUsU0FBSCxJQUFjLFNBQXZCLENBQVA7QUFDSDs7OzJDQUVrQixDLEVBQUUsQyxFQUFHO0FBQ3BCLGdCQUFJLElBQUksS0FBSyxrQkFBTCxDQUF3QixDQUF4QixFQUEyQixLQUFLLEtBQWhDLENBQVI7QUFDQSxnQkFBSSxJQUFJLEtBQUssa0JBQUwsQ0FBd0IsQ0FBeEIsRUFBMkIsS0FBSyxNQUFoQyxDQUFSO0FBQ0EsbUJBQU8sRUFBQyxLQUFJLENBQUwsRUFBTyxLQUFJLENBQVgsRUFBUDtBQUNIOzs7aUNBRVEsQyxFQUFHLEMsRUFBRztBQUNYLGdCQUFJLFFBQVEsS0FBSyxrQkFBTCxDQUF3QixDQUF4QixFQUEyQixDQUEzQixDQUFaO0FBQ0EsbUJBQU8sS0FBSyxLQUFMLENBQVcsTUFBTSxDQUFqQixFQUFvQixNQUFNLENBQTFCLENBQVA7QUFDSDs7O3VDQUVjLEMsRUFBRyxDLEVBQUc7QUFDakIsZ0JBQUksVUFBVSxDQUFkO0FBQ0EsaUJBQUksSUFBSSxDQUFSLElBQWEsS0FBSyxNQUFsQixFQUEwQjtBQUN0QixvQkFBRyxLQUFLLFFBQUwsQ0FBYyxJQUFFLEtBQUssTUFBTCxDQUFZLENBQVosRUFBZSxDQUFmLENBQWhCLEVBQW1DLElBQUUsS0FBSyxNQUFMLENBQVksQ0FBWixFQUFlLENBQWYsQ0FBckMsQ0FBSCxFQUE0RDtBQUN4RCxzQkFBRSxPQUFGO0FBQ0g7QUFDSjtBQUNELG1CQUFPLE9BQVA7QUFDSDs7O21DQUVVO0FBQ1AsaUJBQUssVUFBTCxHQUFrQixDQUFsQjtBQUNBLGlCQUFJLElBQUksQ0FBUixJQUFhLEtBQUssS0FBbEIsRUFBeUI7QUFDckIsb0JBQUksU0FBUyxDQUFULENBQUo7QUFDQSxxQkFBSyxJQUFJLENBQVQsSUFBYyxLQUFLLEtBQUwsQ0FBVyxDQUFYLENBQWQsRUFBNkI7QUFDekIsd0JBQUksU0FBUyxDQUFULENBQUo7QUFDQSx5QkFBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsSUFBbUIsS0FBSyxRQUFMLENBQWMsS0FBSyxRQUFMLENBQWMsQ0FBZCxFQUFpQixDQUFqQixDQUFkLEVBQW1DLEtBQUssY0FBTCxDQUFvQixDQUFwQixFQUFzQixDQUF0QixDQUFuQyxDQUFuQjtBQUNBLHdCQUFJLEtBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxDQUFkLENBQUosRUFBc0I7QUFDbEIsMEJBQUUsS0FBSyxVQUFQO0FBQ0g7QUFDSjtBQUNKO0FBQ0QsaUJBQUssT0FBTCxDQUFhLGFBQWIsQ0FBMkIsS0FBSyxVQUFoQztBQUNIOzs7Ozs7a0JBR1UsSzs7Ozs7Ozs7Ozs7QUM5R2Y7Ozs7Ozs7Ozs7OztBQUNBLElBQU0sa0JBQWtCLFFBQVEsa0JBQVIsQ0FBeEI7O0lBRU0sSzs7Ozs7Ozs7Ozs7OENBQ29CLFMsRUFBVyxTLEVBQVc7QUFDeEMsZ0JBQUksUUFBUSxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCLFFBQWhCLEVBQVo7QUFDQSxnQkFBSSxVQUFVLFVBQVUsS0FBVixDQUFnQixPQUE5QjtBQUNBLGdCQUFJLFFBQVEsSUFBUixJQUFnQixDQUFwQixFQUF1QjtBQUNuQixzQkFBTSxNQUFOLENBQWEsQ0FBYixFQUFnQixPQUFoQixDQUF3QixFQUF4QjtBQUNBLHNCQUFNLE1BQU47QUFDSDtBQUNELGdCQUFJLFFBQVEsTUFBUixFQUFKLEVBQXNCO0FBQ2xCLHNCQUFNLE1BQU4sQ0FBYSxDQUFiLEVBQWdCLElBQWhCLENBQXFCLENBQXJCLEVBQXdCLE1BQXhCO0FBQ0g7QUFDRCxrQkFBTSxNQUFOLENBQWEsQ0FBYixFQUFnQixRQUFoQixDQUF5QixFQUFDLEdBQUcsUUFBUSxJQUFaLEVBQWtCLEdBQUcsUUFBUSxZQUFSLEVBQXJCLEVBQXpCO0FBQ0EsbUJBQU8sUUFBUSxJQUFSLElBQWdCLENBQXZCO0FBQ0g7OztpQ0FDUTtBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLE9BQWY7QUFDSSw4Q0FBQyxlQUFELElBQWlCLFFBQVEsS0FBSyxLQUFMLENBQVcsTUFBcEMsRUFBNEMsS0FBSSxPQUFoRDtBQURKLGFBREo7QUFLSDs7OztFQXBCZSxnQkFBTSxTOztrQkF1QlgsSzs7Ozs7Ozs7Ozs7QUMxQmY7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7SUFFTSxNOzs7QUFDRixzQkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxjQUFLLEtBQUw7QUFIVTtBQUliOzs7O2lDQUNRO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsWUFBZjtBQUNJLGlFQUFPLE9BQU8sS0FBSyxLQUFMLENBQVcsS0FBekIsRUFBZ0MsUUFBUSxLQUFLLEtBQUwsQ0FBVyxXQUFuRDtBQURKLGFBREo7QUFLSDs7OztFQVpnQixpQkFBTyxTOztrQkFlYixNOzs7Ozs7Ozs7OztBQ3BCZjs7Ozs7Ozs7Ozs7O0lBRU0sTTs7Ozs7Ozs7Ozs7aUNBQ087QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxZQUFmO0FBQUE7QUFBQSxhQURKO0FBS0g7Ozs7RUFQZ0IsZ0JBQU0sUzs7a0JBVVosTTs7Ozs7Ozs7Ozs7OztJQ1pULE87QUFDRixxQkFBWSxLQUFaLEVBQW1CLFFBQW5CLEVBQTZCLFNBQTdCLEVBQXdDO0FBQUE7O0FBQ3BDLFlBQUksU0FBUyxTQUFiLEVBQXdCO0FBQ3BCLG9CQUFRLEdBQVI7QUFDSDtBQUNELFlBQUksWUFBWSxTQUFoQixFQUEyQjtBQUN2Qix1QkFBVyxDQUFYO0FBQ0g7QUFDRCxZQUFJLGFBQWEsU0FBakIsRUFBNEI7QUFDeEIsd0JBQVksQ0FBWjtBQUNIO0FBQ0QsYUFBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLGFBQUssSUFBTCxHQUFZLENBQUMsQ0FBYjtBQUNBLGFBQUssUUFBTCxHQUFnQixRQUFoQjtBQUNBLGFBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNBLGFBQUssU0FBTCxHQUFpQixTQUFqQjtBQUNIOzs7OzRCQUVHLEssRUFBTztBQUNQLGlCQUFLLFNBQUwsR0FBaUIsS0FBSyxnQkFBTCxDQUFzQixLQUF0QixFQUE2QixLQUFLLFNBQWxDLENBQWpCO0FBQ0EsY0FBRSxLQUFLLElBQVA7QUFDSDs7O3NDQUVhLEssRUFBTztBQUNqQixpQkFBSyxTQUFMLEdBQWlCLEtBQUssZ0JBQUwsQ0FBc0IsUUFBTSxLQUFLLFFBQWpDLEVBQTJDLEtBQUssU0FBaEQsQ0FBakI7QUFDQSxjQUFFLEtBQUssSUFBUDtBQUNIOzs7eUNBRWdCLEssRUFBTyxTLEVBQVc7QUFDL0IsbUJBQU8sT0FBTyxLQUFQLEVBQWMsT0FBZCxDQUFzQixTQUF0QixDQUFQO0FBQ0g7OztxQ0FFWSxNLEVBQVE7QUFDakIsZ0JBQUksUUFBUSxLQUFLLGdCQUFMLENBQXNCLEtBQUssU0FBTCxHQUFlLEtBQXJDLEVBQTRDLEtBQUssU0FBTCxHQUFlLENBQTNELENBQVo7QUFDQSxnQkFBSSxXQUFXLElBQWYsRUFBcUI7QUFDakIseUJBQVMsR0FBVDtBQUNBLHVCQUFPLEtBQVA7QUFDSCxhQUhELE1BR087QUFDSCx1QkFBTyxXQUFXLEtBQVgsQ0FBUDtBQUNIO0FBRUo7OztpQ0FFUTtBQUNMLG1CQUFPLEtBQUssSUFBTCxJQUFhLEtBQUssS0FBekI7QUFDSDs7Ozs7O2tCQUdVLE87Ozs7Ozs7Ozs7O0FDaERmOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFTSxLOzs7Ozs7Ozs7OztpQ0FDTztBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLGlDQUFmO0FBQ0k7QUFBQTtBQUFBLHNCQUFHLFdBQVUsU0FBYixFQUF1QixRQUFPLFFBQTlCLEVBQXVDLE1BQUssb0JBQTVDO0FBQ0kseURBQUcsV0FBVSxrQkFBYixFQUFnQyxlQUFZLE1BQTVDLEdBREo7QUFBQTtBQUFBLGlCQURKO0FBSUk7QUFBQTtBQUFBLHNCQUFHLFdBQVUsU0FBYixFQUF1QixRQUFPLFFBQTlCLEVBQXVDLE1BQUssZ0JBQTVDO0FBQ0kseURBQUcsV0FBVSxnQkFBYixFQUE4QixlQUFZLE1BQTFDLEdBREo7QUFBQTtBQUFBLGlCQUpKO0FBT0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsU0FBaEI7QUFBQTtBQUFBO0FBUEosYUFESjtBQWFIOzs7O0VBZmUsZ0JBQU0sUzs7a0JBa0JYLEs7Ozs7Ozs7Ozs7O0FDdkJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLE87OztBQUNGLHVCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBQ1E7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQVEsV0FBVSx5QkFBbEIsRUFBNEMsT0FBTSxZQUFsRCxFQUErRCxVQUFVLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsTUFBckIsR0FBOEIsRUFBdkcsRUFBMkcsU0FBUyxlQUFRLElBQTVIO0FBQ0kscURBQUcsV0FBVSxlQUFiLEVBQTZCLGVBQVksTUFBekM7QUFESixhQURKO0FBS0g7Ozs7RUFaaUIsaUJBQU8sUzs7a0JBZWQsTzs7Ozs7Ozs7Ozs7QUNuQmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7O0lBRU0sSzs7O0FBQ0YscUJBQWM7QUFBQTs7QUFBQTs7QUFFVixjQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsY0FBSyxLQUFMO0FBSFU7QUFJYjs7OztpQ0FFUTtBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBUSxXQUFVLHNCQUFsQixFQUF5QyxPQUFNLE9BQS9DLEVBQXVELFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUEvRixFQUFtRyxTQUFTLGVBQVEsS0FBcEg7QUFDSSxxREFBRyxXQUFVLGVBQWIsRUFBNkIsZUFBWSxNQUF6QztBQURKLGFBREo7QUFLSDs7OztFQWJlLGlCQUFPLFM7O2tCQWdCWixLOzs7Ozs7Ozs7OztBQ3BCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFTSxTOzs7QUFDRix5QkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxjQUFLLEtBQUw7QUFIVTtBQUliOzs7O2lDQUNRO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFRLFdBQVUsMkJBQWxCLEVBQThDLE9BQU8sS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixPQUFyQixHQUErQixPQUFwRixFQUE2RixTQUFTLGVBQVEsU0FBOUc7QUFDSSxxREFBRyxXQUFXLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsYUFBckIsR0FBcUMsWUFBbkQsRUFBaUUsZUFBWSxNQUE3RTtBQURKLGFBREo7QUFLSDs7OztFQVptQixpQkFBTyxTOztrQkFlaEIsUzs7Ozs7Ozs7Ozs7QUNuQmY7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNLFU7Ozs7Ozs7Ozs7O2lDQUNPO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsa0NBQWY7QUFDSSx3RUFESjtBQUVJLHNFQUZKO0FBR0k7QUFISixhQURKO0FBT0g7Ozs7RUFUb0IsZ0JBQU0sUzs7a0JBWWhCLFU7Ozs7Ozs7Ozs7O0FDakJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLE87OztBQUNGLHVCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxhQUFmO0FBQ0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsT0FBaEI7QUFBQTtBQUFBLGlCQURKO0FBRUkseURBQU8sTUFBSyxRQUFaLEVBQXFCLE1BQUssTUFBMUIsRUFBaUMsS0FBSSxLQUFyQyxFQUEyQyxLQUFJLE1BQS9DLEVBQXNELFdBQVUscUJBQWhFLEVBQXNGLFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUE5SCxFQUFrSSxPQUFPLEtBQUssS0FBTCxDQUFXLE9BQXBKLEVBQTZKLFVBQVUsZUFBUSxhQUEvSyxHQUZKO0FBQUE7QUFBQSxhQURKO0FBTUg7Ozs7RUFkaUIsaUJBQU8sUzs7a0JBaUJkLE87Ozs7Ozs7Ozs7O0FDckJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLFc7OztBQUNGLDJCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxZQUFmO0FBQ0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsT0FBaEI7QUFBQTtBQUF5Qyx5QkFBSyxLQUFMLENBQVcsS0FBWCxDQUFpQixPQUFqQixDQUF5QixZQUF6QixDQUFzQyxJQUF0QztBQUF6QyxpQkFESjtBQUVJO0FBQUE7QUFBQSxzQkFBTSxXQUFVLE9BQWhCO0FBQUE7QUFBb0MseUJBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsT0FBakIsQ0FBeUI7QUFBN0Q7QUFGSixhQURKO0FBTUg7Ozs7RUFkcUIsaUJBQU8sUzs7a0JBaUJsQixXOzs7Ozs7Ozs7OztBQ3JCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFTSxJOzs7QUFDRixvQkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxjQUFLLEtBQUw7QUFIVTtBQUliOzs7O2lDQUVRO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsYUFBZjtBQUNJO0FBQUE7QUFBQSxzQkFBTSxXQUFVLE9BQWhCO0FBQUE7QUFBQSxpQkFESjtBQUVJLHlEQUFPLE1BQUssUUFBWixFQUFxQixNQUFLLEdBQTFCLEVBQThCLEtBQUksS0FBbEMsRUFBd0MsS0FBSSxHQUE1QyxFQUFnRCxXQUFVLG1CQUExRCxFQUE4RSxPQUFPLEtBQUssS0FBTCxDQUFXLEtBQWhHLEVBQXVHLFVBQVUsZUFBUSxXQUF6SCxFQUFzSSxVQUFVLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsTUFBckIsR0FBOEIsRUFBOUssR0FGSjtBQUFBO0FBR0kseURBQU8sTUFBSyxRQUFaLEVBQXFCLE1BQUssR0FBMUIsRUFBOEIsS0FBSSxLQUFsQyxFQUF3QyxLQUFJLEdBQTVDLEVBQWdELFdBQVUsb0JBQTFELEVBQStFLE9BQU8sS0FBSyxLQUFMLENBQVcsTUFBakcsRUFBeUcsVUFBVSxlQUFRLFlBQTNILEVBQXlJLFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUFqTDtBQUhKLGFBREo7QUFPSDs7OztFQWZjLGlCQUFPLFM7O2tCQWtCWCxJOzs7Ozs7Ozs7OztBQ3RCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRU0sUzs7Ozs7Ozs7Ozs7aUNBQ087QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxpQ0FBZjtBQUNJLG1FQURKO0FBRUksc0VBRko7QUFHSSx5REFISjtBQUlJO0FBSkosYUFESjtBQVFIOzs7O0VBVm1CLGdCQUFNLFM7O2tCQWFmLFM7Ozs7Ozs7Ozs7O0FDbEJmOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFTSxLOzs7Ozs7Ozs7OztpQ0FDTztBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLE9BQWY7QUFDSSx3RUFESjtBQUVJLHlFQUZKO0FBR0k7QUFISixhQURKO0FBT0g7Ozs7RUFUZSxnQkFBTSxTOztrQkFZWCxLOzs7Ozs7Ozs7Ozs7QUNqQmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFJLFVBQVUsaUJBQU8sYUFBUCxDQUFxQixDQUMvQixXQUQrQixFQUUvQixNQUYrQixFQUcvQixPQUgrQixFQUkvQixhQUorQixFQUsvQixjQUwrQixFQU0vQixlQU4rQixDQUFyQixDQUFkOztJQVNNLEs7OztBQUNGLHFCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWE7QUFDVCxrQkFBTSxDQURHO0FBRVQscUJBQVMsQ0FGQTtBQUdULHNCQUFVLElBSEQ7QUFJVCxtQkFBTyxHQUpFO0FBS1Qsb0JBQVEsR0FMQztBQU1ULHFCQUFTO0FBTkEsU0FBYjtBQVFBLGNBQUssS0FBTCxDQUFXLEtBQVgsR0FBbUIsb0JBQVUsTUFBSyxLQUFMLENBQVcsS0FBckIsRUFBNEIsTUFBSyxLQUFMLENBQVcsTUFBdkMsRUFBK0MsTUFBSyxLQUFMLENBQVcsT0FBMUQsQ0FBbkI7QUFDQSxjQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLFNBQWpCLENBQTJCLE1BQUssWUFBTCxFQUEzQjtBQUNBLGNBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsVUFBUyxHQUFULEVBQWMsS0FBZCxFQUFvQjtBQUM3QyxnQkFBSSxPQUFPLENBQVAsS0FBYSxTQUFTLENBQVQsSUFBYyxTQUFTLENBQXBDLENBQUosRUFBNEM7QUFDeEMsdUJBQU8sQ0FBUDtBQUNILGFBRkQsTUFFTyxJQUFHLE9BQU8sQ0FBUCxJQUFZLFNBQVMsQ0FBeEIsRUFBMkI7QUFDOUIsdUJBQU8sQ0FBUDtBQUNIO0FBQ0QsbUJBQU8sQ0FBUDtBQUNILFNBUEQ7O0FBU0EsY0FBSyxLQUFMLENBQVcsV0FBWCxHQUF5QjtBQUNyQixtQkFBTztBQUNILDRCQUFZO0FBRFQsYUFEYztBQUlyQixvQkFBUSxDQUFDO0FBQ0wsc0JBQU0sRUFERDtBQUVMLDhCQUFjLEtBRlQ7QUFHTCxzQkFBTSxlQUhEO0FBSUwsd0JBQVE7QUFDSiw2QkFBUztBQURMO0FBSkgsYUFBRCxDQUphO0FBWXJCLG1CQUFPO0FBQ0gscUJBQUssQ0FERjtBQUVILHFCQUFLLEdBRkY7QUFHSCx1QkFBTTtBQUNGLDBCQUFLLGVBREg7QUFFRiw4QkFBVSxDQUFDO0FBRlQ7QUFISCxhQVpjO0FBb0JyQixtQkFBTztBQUNILHVCQUFPLE1BREo7QUFFSCx3QkFBUSxLQUZMO0FBR0gsMkJBQVc7QUFIUixhQXBCYztBQXlCckIsbUJBQU87QUFDSCxzQkFBTSxFQURIO0FBRUgsdUJBQU87QUFDSCw2QkFBUztBQUROO0FBRkosYUF6QmM7QUErQnJCLHNCQUFVO0FBQ04sc0JBQU0sRUFEQTtBQUVOLHVCQUFPO0FBQ0gsNkJBQVM7QUFETjtBQUZEO0FBL0JXLFNBQXpCOztBQXVDQSxjQUFLLFdBQUwsR0FBbUIsT0FBbkI7QUE1RFU7QUE2RGI7Ozs7dUNBRWM7QUFDWCxtQkFBTyxDQUNILENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBQyxDQUFMLENBREcsRUFFSCxDQUFDLENBQUMsQ0FBRixFQUFJLENBQUosQ0FGRyxFQUdILENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBSixDQUhHLEVBSUgsQ0FBQyxDQUFELEVBQUcsQ0FBQyxDQUFKLENBSkcsRUFLSCxDQUFDLENBQUQsRUFBRyxDQUFILENBTEcsRUFNSCxDQUFDLENBQUQsRUFBRyxDQUFDLENBQUosQ0FORyxFQU9ILENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FQRyxFQVFILENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FSRyxDQUFQO0FBVUg7OztzQ0FFYTtBQUNWLGdCQUFJLEtBQUssS0FBTCxDQUFXLE9BQVgsSUFBc0IsQ0FBMUIsRUFBNkI7QUFDekIsb0JBQUksUUFBUSxJQUFaO0FBQ0Esb0JBQUksY0FBYyxZQUFZLFlBQVU7QUFDcEMsMEJBQU0sTUFBTjtBQUNILGlCQUZpQixFQUVmLEdBRmUsQ0FBbEI7QUFHQSxxQkFBSyxRQUFMLENBQWMsRUFBQyxTQUFTLENBQVYsRUFBYSxVQUFVLFdBQXZCLEVBQWQ7QUFDSCxhQU5ELE1BTU87QUFDSCw4QkFBYyxLQUFLLEtBQUwsQ0FBVyxRQUF6QjtBQUNBLHFCQUFLLFFBQUwsQ0FBYyxFQUFDLFNBQVMsQ0FBVixFQUFhLFVBQVUsSUFBdkIsRUFBZDtBQUNIO0FBQ0o7OztpQ0FFUTtBQUNMLGlCQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLFFBQWpCO0FBQ0EsZ0JBQUksV0FBVyxLQUFLLEtBQUwsQ0FBVyxLQUExQjtBQUNBLGdCQUFJLGlCQUFpQixLQUFLLEtBQUwsQ0FBVyxXQUFoQztBQUNBLGdCQUFJLFVBQVUsRUFBRSxLQUFLLEtBQUwsQ0FBVyxJQUEzQjtBQUNBLGlCQUFLLFFBQUwsQ0FBYyxFQUFDLE9BQU0sUUFBUCxFQUFpQixNQUFLLE9BQXRCLEVBQStCLGFBQWEsY0FBNUMsRUFBZDtBQUNIOzs7a0NBRVM7QUFDTixpQkFBSyxLQUFMLENBQVcsS0FBWCxDQUFpQixhQUFqQixDQUNJLEtBQUssS0FBTCxDQUFXLEtBRGYsRUFFSSxLQUFLLEtBQUwsQ0FBVyxNQUZmLEVBR0ksS0FBSyxLQUFMLENBQVcsT0FIZjtBQUtBLGdCQUFJLFdBQVcsS0FBSyxLQUFMLENBQVcsS0FBMUI7QUFDQSxnQkFBSSxpQkFBaUIsS0FBSyxLQUFMLENBQVcsV0FBaEM7QUFDQSxpQkFBSyxRQUFMLENBQWMsRUFBQyxPQUFNLFFBQVAsRUFBaUIsTUFBSyxDQUF0QixFQUF5QixhQUFhLGNBQXRDLEVBQWQ7QUFDSDs7O3NDQUVhLEssRUFBTztBQUNqQixpQkFBSyxRQUFMLENBQWMsRUFBQyxTQUFRLFNBQVMsTUFBTSxNQUFOLENBQWEsS0FBdEIsQ0FBVCxFQUFkO0FBQ0g7Ozt1Q0FFYyxLLEVBQU87QUFDbEIsaUJBQUssUUFBTCxDQUFjLEVBQUMsVUFBUyxTQUFTLE1BQU0sTUFBTixDQUFhLEtBQXRCLENBQVYsRUFBZDtBQUNIOzs7d0NBRWUsSyxFQUFPO0FBQ25CLGlCQUFLLFFBQUwsQ0FBYyxFQUFDLFdBQVUsV0FBVyxNQUFNLE1BQU4sQ0FBYSxLQUF4QixDQUFYLEVBQWQ7QUFDSDs7OztFQXZIZSxpQkFBTyxLOztRQTBIbkIsSyxHQUFBLEs7UUFBTyxPLEdBQUEsTzs7O0FDdklmOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeGRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgQXBwbGljYXRpb24gZnJvbSAnLi9hcHBsaWNhdGlvbic7XG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICA8QXBwbGljYXRpb24gLz4sXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpXG4pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuaW1wb3J0IEJvYXJkIGZyb20gJy4vYm9hcmQvYm9hcmQnO1xuaW1wb3J0IE1vZGVsIGZyb20gJy4vYm9hcmQvbW9kZWwnO1xuaW1wb3J0IFBhbmVsIGZyb20gJy4vcGFuZWwvcGFuZWwnO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL2Zvb3Rlcic7XG5cbmNsYXNzIEFwcGxpY2F0aW9uIGV4dGVuZHMgUmVmbHV4LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFN0b3JlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcHBsaWNhdGlvblwiPlxuICAgICAgICAgICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8UGFuZWwgLz5cbiAgICAgICAgICAgICAgICAgICAgPEJvYXJkIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEZvb3RlciAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBsaWNhdGlvbjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IHtTdG9yZSwgQWN0aW9uc30gZnJvbSAnLi4vc3RvcmUnO1xuXG5jbGFzcyBCb2FyZCBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICAgICAgdGhpcy5kZWFkID0gJyNmNGYxZjEnO1xuICAgICAgICB0aGlzLmFsaXZlID0gJyMwNzVlMDAnO1xuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSAnd2hpdGUnO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5jYW52YXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMucmVmcy5ib2FyZC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndpZHRoID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aD1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJlZnMuYm9hcmQpLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodD1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnJlZnMuYm9hcmQpLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yZWRyYXcobmV4dFN0YXRlLm1vZGVsLmJvYXJkKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlZHJhdyh0aGlzLnN0YXRlLm1vZGVsLmJvYXJkKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5maWxsU3R5bGUgPSB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIHRoaXMuY2FudmFzLmZpbGxSZWN0KDAsMCx0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuICAgIGRyYXdSZWN0KHIsYyxkYXRhLHhzaXplLHlzaXplKSB7XG4gICAgICAgIHZhciB4cz1jKih4c2l6ZSsxKTtcbiAgICAgICAgdmFyIHlzPXIqKHlzaXplKzEpO1xuICAgICAgICB0aGlzLmNhbnZhcy5maWxsU3R5bGUgPSBkYXRhW3JdW2NdP3RoaXMuYWxpdmU6dGhpcy5kZWFkO1xuICAgICAgICB0aGlzLmNhbnZhcy5maWxsUmVjdCh4cywgeXMsIHhzaXplLCB5c2l6ZSk7XG4gICAgfVxuICAgIHJlZHJhdyhkYXRhKSB7XG4gICAgICAgIHZhciB4c2l6ZSA9IE1hdGgucm91bmQoKHRoaXMud2lkdGgtZGF0YVswXS5sZW5ndGgrMSkvZGF0YVswXS5sZW5ndGgpO1xuICAgICAgICB2YXIgeXNpemUgPSBNYXRoLnJvdW5kKCh0aGlzLmhlaWdodC1kYXRhLmxlbmd0aCsxKS9kYXRhLmxlbmd0aCk7XG4gICAgICAgIGZvcihsZXQgciBpbiBkYXRhKSB7XG4gICAgICAgICAgICByID0gcGFyc2VJbnQocik7XG4gICAgICAgICAgICBmb3IobGV0IGMgaW4gZGF0YVtyXSkge1xuICAgICAgICAgICAgICAgIGMgPSBwYXJzZUludChjKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdSZWN0KHIsYyxkYXRhLHhzaXplLHlzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybig8Y2FudmFzIGlkPVwiY2FudmFzXCIgY2xhc3NOYW1lPVwiYm9hcmRcIiByZWY9XCJib2FyZFwiIHdpZHRoPVwiNzAwcHhcIiBoZWlnaHQ9XCI3MDBweFwiPjwvY2FudmFzPik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb2FyZDsiLCJpbXBvcnQgSGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5JztcblxuY2xhc3MgTW9kZWwge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIGRlbnNpdHkpIHtcbiAgICAgICAgaWYgKHdpZHRoID09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgaGVpZ2h0ID09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZGVuc2l0eSA9PSB1bmRlZmluZWRcbiAgICAgICAgKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVCb2FyZCh3aWR0aCwgaGVpZ2h0LCBkZW5zaXR5KTtcbiAgICAgICAgdGhpcy5zaGlmdHMgPSBbXTtcbiAgICAgICAgdGhpcy5jYWxjTmV4dCA9IGZ1bmN0aW9uKHIsYyxib2FyZCl7cmV0dXJuIDA7fTt0aGlzLmNvdW50PTA7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVCb2FyZCh3aWR0aCwgaGVpZ2h0LCBkZW5zaXR5KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuaGVpZ2h0KnRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KDEwMCwgdGhpcy5zaXplKTtcbiAgICAgICAgdGhpcy5kZW5zaXR5ID0gZGVuc2l0eTtcbiAgICAgICAgdGhpcy5wb3B1bGF0aW9uID0gMDtcbiAgICAgICAgdmFyIGJvYXJkID0gbmV3IEFycmF5KGhlaWdodCk7XG4gICAgICAgIGZvciAodmFyIHI9MDtyPGhlaWdodDsrK3IpIHtcbiAgICAgICAgICAgIGJvYXJkW3JdID0gbmV3IEFycmF5KHdpZHRoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGM9MDtjPHdpZHRoOysrYykge1xuICAgICAgICAgICAgICAgIGJvYXJkW3JdW2NdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYm9yZGVyID0gcGFyc2VJbnQodGhpcy5kZW5zaXR5KnRoaXMuc2l6ZSk7XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgd2hpbGUgKGNvdW50ZXIgPCBib3JkZXIpIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMucmFuZG9tUG9pbnQoKTtcbiAgICAgICAgICAgIGlmIChib2FyZFtwb2ludC55XVtwb2ludC54XSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRbcG9pbnQueV1bcG9pbnQueF0gPSAxO1xuICAgICAgICAgICAgICAgICsrY291bnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcHVsYXRpb24gPSBib3JkZXI7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5oaXN0b3J5LmFkZE5vcm1hbGl6ZWQodGhpcy5wb3B1bGF0aW9uKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQnlBcnJheShpbml0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGluaXRWYWx1ZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuYm9hcmRbMF0ubGVuZ3RoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuYm9hcmQubGVuZ3RoO1xuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XG4gICAgICAgIGZvcih2YXIgciBpbiB0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICByID0gcGFyc2VJbnQocik7XG4gICAgICAgICAgICBmb3IgKHZhciBjIGluIHRoaXMuYm9hcmRbcl0pIHtcbiAgICAgICAgICAgICAgICBjID0gcGFyc2VJbnQoYyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbcl1bY10pIHtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBvcHVsYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmFuZG9tUG9pbnQoKSB7XG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy53aWR0aCk7XG4gICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5oZWlnaHQpO3RoaXMuY291bnQrKztcbiAgICAgICAgcmV0dXJuIHt4LCB5fTtcbiAgICB9XG4gICAgc2V0Q2FsY05leHQoY2FsY05leHQpIHtcbiAgICAgICAgdGhpcy5jYWxjTmV4dCA9IGNhbGNOZXh0O1xuICAgIH1cbiAgICBzZXRTaGlmdHMoc2hpZnRzKSB7XG4gICAgICAgIHRoaXMuc2hpZnRzID0gc2hpZnRzO1xuICAgIH1cblxuICAgIGdldE5vcm1hbGl6ZWRWYWx1ZSh2LCByZWZlcmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCh2K3JlZmVyZW5jZSklcmVmZXJlbmNlKTtcbiAgICB9XG5cbiAgICBnZXROb3JtYWxpemVkUG9pbnQocixjKSB7XG4gICAgICAgIGxldCB4ID0gdGhpcy5nZXROb3JtYWxpemVkVmFsdWUoYywgdGhpcy53aWR0aCk7XG4gICAgICAgIGxldCB5ID0gdGhpcy5nZXROb3JtYWxpemVkVmFsdWUociwgdGhpcy5oZWlnaHQpO1xuICAgICAgICByZXR1cm4ge1wiY1wiOngsXCJyXCI6eX07XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUociwgYykge1xuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmdldE5vcm1hbGl6ZWRQb2ludChyLCBjKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmRbcG9pbnQucl1bcG9pbnQuY107XG4gICAgfVxuXG4gICAgZ2V0QWxpdmVOdW1iZXIociwgYykge1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLnNoaWZ0cykge1xuICAgICAgICAgICAgaWYodGhpcy5nZXRWYWx1ZShyK3RoaXMuc2hpZnRzW2ldWzBdLCBjK3RoaXMuc2hpZnRzW2ldWzFdKSkge1xuICAgICAgICAgICAgICAgICsrY291bnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnRlcjtcbiAgICB9XG5cbiAgICBuZXh0U3RlcCgpIHtcbiAgICAgICAgdGhpcy5wb3B1bGF0aW9uID0gMDtcbiAgICAgICAgZm9yKHZhciByIGluIHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHIgPSBwYXJzZUludChyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGMgaW4gdGhpcy5ib2FyZFtyXSkge1xuICAgICAgICAgICAgICAgIGMgPSBwYXJzZUludChjKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3JdW2NdID0gdGhpcy5jYWxjTmV4dCh0aGlzLmdldFZhbHVlKHIsIGMpLCB0aGlzLmdldEFsaXZlTnVtYmVyKHIsYykpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW3JdW2NdKSB7XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5wb3B1bGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhpc3RvcnkuYWRkTm9ybWFsaXplZCh0aGlzLnBvcHVsYXRpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmNvbnN0IFJlYWN0SGlnaGNoYXJ0cyA9IHJlcXVpcmUoJ3JlYWN0LWhpZ2hjaGFydHMnKTtcblxuY2xhc3MgQ2hhcnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLnJlZnMuY2hhcnQuZ2V0Q2hhcnQoKTtcbiAgICAgICAgbGV0IGhpc3RvcnkgPSBuZXh0UHJvcHMubW9kZWwuaGlzdG9yeTtcbiAgICAgICAgaWYgKGhpc3RvcnkudGltZSA9PSAwKSB7XG4gICAgICAgICAgICBjaGFydC5zZXJpZXNbMF0uc2V0RGF0YShbXSk7XG4gICAgICAgICAgICBjaGFydC5yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGlzdG9yeS5pc0Z1bGwoKSkge1xuICAgICAgICAgICAgY2hhcnQuc2VyaWVzWzBdLmRhdGFbMF0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQuc2VyaWVzWzBdLmFkZFBvaW50KHt4OiBoaXN0b3J5LnRpbWUsIHk6IGhpc3RvcnkuZ2V0SW5QZXJjZW50KCl9KTtcbiAgICAgICAgcmV0dXJuIGhpc3RvcnkudGltZSA9PSAwO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhcnRcIj5cbiAgICAgICAgICAgICAgICA8UmVhY3RIaWdoY2hhcnRzIGNvbmZpZz17dGhpcy5wcm9wcy5jb25maWd9IHJlZj1cImNoYXJ0XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xuXG5jbGFzcyBGb290ZXIgZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPENoYXJ0IG1vZGVsPXt0aGlzLnN0YXRlLm1vZGVsfSBjb25maWc9e3RoaXMuc3RhdGUuY2hhcnRDb25maWd9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jbGFzcyBIZWFkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgR2FtZSBvZiBMaWZlIC0gYXN5bmNocm9uaWN6bnlcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyOyIsImNsYXNzIEhpc3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKGxpbWl0LCBtYXhWYWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgICAgIGlmIChsaW1pdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpbWl0ID0gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhWYWx1ZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1heFZhbHVlID0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlY2lzaW9uID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gNDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIHRoaXMudGltZSA9IC0xO1xuICAgICAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7XG4gICAgICAgIHRoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgfVxuXG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGFzdFZhbHVlID0gdGhpcy5nZXRXaXRoUHJlY2lzaW9uKHZhbHVlLCB0aGlzLnByZWNpc2lvbik7XG4gICAgICAgICsrdGhpcy50aW1lO1xuICAgIH1cblxuICAgIGFkZE5vcm1hbGl6ZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB0aGlzLmdldFdpdGhQcmVjaXNpb24odmFsdWUvdGhpcy5tYXhWYWx1ZSwgdGhpcy5wcmVjaXNpb24pO1xuICAgICAgICArK3RoaXMudGltZTtcbiAgICB9XG5cbiAgICBnZXRXaXRoUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkudG9GaXhlZChwcmVjaXNpb24pO1xuICAgIH1cblxuICAgIGdldEluUGVyY2VudChzeW1ib2wpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRXaXRoUHJlY2lzaW9uKHRoaXMubGFzdFZhbHVlKjEwMC4wLCB0aGlzLnByZWNpc2lvbi0yKTtcbiAgICAgICAgaWYgKHN5bWJvbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFsdWUgKz0gJyUnO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBpc0Z1bGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWUgPj0gdGhpcy5saW1pdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhpc3Rvcnk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTaXplIGZyb20gJy4vaW5wdXQvc2l6ZSc7XG5pbXBvcnQgRGVuc2l0eSBmcm9tICcuL2lucHV0L2RlbnNpdHknO1xuaW1wb3J0IEluZm9ybWF0aW9uIGZyb20gJy4vaW5wdXQvaW5mb3JtYXRpb24nO1xuXG5jbGFzcyBBYm91dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtYXJlYSBjb250cm9sLWFib3V0LWFyZWFcIj5cbiAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJlbGVtZW50XCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIi4vZG9rdW1lbnRhY2phLnBkZlwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1maWxlLXBkZi1vXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiZuYnNwO0Rva3VtZW50YWNqYVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJlbGVtZW50XCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIkdhbWVPZkxpZmUuemlwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWRvd25sb2FkXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiZuYnNwO1BvYmllcnoga29kXG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVsZW1lbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgQXV0b3I6IFRvbWFzeiBCYWpvcmVrXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWJvdXQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IHtTdG9yZSwgQWN0aW9uc30gZnJvbSAnLi4vLi4vc3RvcmUnO1xuXG5jbGFzcyBPbmVTdGVwIGV4dGVuZHMgUmVmbHV4LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFN0b3JlO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY29udHJvbC1idXR0b24gb25lLXN0ZXBcIiB0aXRsZT1cIkplZGVuIGtyb2tcIiBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSBvbkNsaWNrPXtBY3Rpb25zLm5leHR9PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWZvcndhcmRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9uZVN0ZXA7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4uLy4uL3N0b3JlJztcblxuY2xhc3MgUmVzZXQgZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvbnRyb2wtYnV0dG9uIHJlc2V0XCIgdGl0bGU9XCJSZXNldFwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcInRydWVcIiA6IFwiXCJ9IG9uQ2xpY2s9e0FjdGlvbnMucmVzZXR9PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlZnJlc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlc2V0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSc7XG5cbmNsYXNzIFN0YXJ0U3RvcCBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvbnRyb2wtYnV0dG9uIHN0YXJ0LXN0b3BcIiB0aXRsZT17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJQYXV6YVwiIDogXCJTdGFydFwifSBvbkNsaWNrPXtBY3Rpb25zLnN0YXJ0U3RvcH0+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcImZhIGZhLXBhdXNlXCIgOiBcImZhIGZhLXBsYXlcIn0gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGFydFN0b3A7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdGFydFN0b3AgZnJvbSAnLi9idXR0b24vc3RhcnRzdG9wJztcbmltcG9ydCBPbmVTdGVwIGZyb20gJy4vYnV0dG9uL29uZXN0ZXAnO1xuaW1wb3J0IFJlc2V0IGZyb20gJy4vYnV0dG9uL3Jlc2V0JztcblxuY2xhc3MgQnV0dG9uQXJlYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtYXJlYSBjb250cm9sLWJ1dHRvbi1hcmVhXCI+XG4gICAgICAgICAgICAgICAgPFN0YXJ0U3RvcCAvPlxuICAgICAgICAgICAgICAgIDxPbmVTdGVwIC8+XG4gICAgICAgICAgICAgICAgPFJlc2V0IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkFyZWE7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4uLy4uL3N0b3JlJztcblxuY2xhc3MgRGVuc2l0eSBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFyYW0tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXJhbVwiPkfEmXN0b8WbxIc6Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjAuMDFcIiBtYXg9XCIxLjBcIiBtaW49XCIwLjAxXCIgY2xhc3NOYW1lPVwicGFyYW0gcGFyYW0tZGVuc2l0eVwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcInRydWVcIiA6IFwiXCJ9IHZhbHVlPXt0aGlzLnN0YXRlLmRlbnNpdHl9IG9uQ2hhbmdlPXtBY3Rpb25zLmNoYW5nZURlbnNpdHl9IC8+Jm5ic3A7WzA7MV1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGVuc2l0eTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSdcblxuY2xhc3MgSW5mb3JtYXRpb24gZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXJhbVwiPlBvcHVsYWNqYTombmJzcDt7dGhpcy5zdGF0ZS5tb2RlbC5oaXN0b3J5LmdldEluUGVyY2VudCh0cnVlKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFyYW1cIj5DemFzOiZuYnNwO3t0aGlzLnN0YXRlLm1vZGVsLmhpc3RvcnkudGltZX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZm9ybWF0aW9uOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSc7XG5cbmNsYXNzIFNpemUgZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcmFtLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFyYW1cIj5XeW1pYXJ5OiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbWF4PVwiMjgwXCIgbWluPVwiMlwiIGNsYXNzTmFtZT1cInBhcmFtIHBhcmFtLXdpZHRoXCIgdmFsdWU9e3RoaXMuc3RhdGUud2lkdGh9IG9uQ2hhbmdlPXtBY3Rpb25zLmNoYW5nZVdpZHRofSBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSAvPiZuYnNwO3gmbmJzcDtcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbWF4PVwiMjgwXCIgbWluPVwiMlwiIGNsYXNzTmFtZT1cInBhcmFtIHBhcmFtLWhlaWdodFwiIHZhbHVlPXt0aGlzLnN0YXRlLmhlaWdodH0gb25DaGFuZ2U9e0FjdGlvbnMuY2hhbmdlSGVpZ2h0fSBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaXplO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTaXplIGZyb20gJy4vaW5wdXQvc2l6ZSc7XG5pbXBvcnQgRGVuc2l0eSBmcm9tICcuL2lucHV0L2RlbnNpdHknO1xuaW1wb3J0IEluZm9ybWF0aW9uIGZyb20gJy4vaW5wdXQvaW5mb3JtYXRpb24nO1xuXG5jbGFzcyBJbnB1dEFyZWEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWFyZWEgY29udHJvbC1pbnB1dC1hcmVhXCI+XG4gICAgICAgICAgICAgICAgPFNpemUgLz5cbiAgICAgICAgICAgICAgICA8RGVuc2l0eSAvPlxuICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgIDxJbmZvcm1hdGlvbiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnB1dEFyZWE7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbnB1dEFyZWEgZnJvbSAnLi9pbnB1dGFyZWEnO1xuaW1wb3J0IEJ1dHRvbkFyZWEgZnJvbSAnLi9idXR0b25hcmVhJztcbmltcG9ydCBBYm91dCBmcm9tICcuL2Fib3V0JztcblxuY2xhc3MgUGFuZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbFwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dEFyZWEgLz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uQXJlYSAvPlxuICAgICAgICAgICAgICAgIDxBYm91dCAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYW5lbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IE1vZGVsIGZyb20gJy4vYm9hcmQvbW9kZWwnO1xuXG52YXIgQWN0aW9ucyA9IFJlZmx1eC5jcmVhdGVBY3Rpb25zKFtcbiAgICAnc3RhcnRTdG9wJyxcbiAgICAnbmV4dCcsXG4gICAgJ3Jlc2V0JyxcbiAgICAnY2hhbmdlV2lkdGgnLFxuICAgICdjaGFuZ2VIZWlnaHQnLFxuICAgICdjaGFuZ2VEZW5zaXR5J1xuXSk7XG5cbmNsYXNzIFN0b3JlIGV4dGVuZHMgUmVmbHV4LlN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgICAgICBzdGFydGVkOiAwLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IG51bGwsXG4gICAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgICAgICBkZW5zaXR5OiAwLjFcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnN0YXRlLndpZHRoLCB0aGlzLnN0YXRlLmhlaWdodCwgdGhpcy5zdGF0ZS5kZW5zaXR5KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbC5zZXRTaGlmdHModGhpcy5nZXRNb29yZUFyZWEoKSk7XG4gICAgICAgIHRoaXMuc3RhdGUubW9kZWwuc2V0Q2FsY05leHQoZnVuY3Rpb24odmFsLCBhbGl2ZSl7XG4gICAgICAgICAgICBpZiAodmFsID09IDEgJiYgKGFsaXZlID09IDIgfHwgYWxpdmUgPT0gMykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih2YWwgPT0gMCAmJiBhbGl2ZSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5jaGFydENvbmZpZyA9IHtcbiAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJpZXM6IFt7XG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICAgICAgc2hvd0luTGVnZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUG9wdWxhY2phICglKScsXG4gICAgICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgICB0aXRsZTp7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6J1BvcHVsYWNqYSAoJSknLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogLTkwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAwJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxNzAnLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJ0aXRsZToge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxpc3RlbmFibGVzID0gQWN0aW9ucztcbiAgICB9XG5cbiAgICBnZXRNb29yZUFyZWEoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbLTEsLTFdLFxuICAgICAgICAgICAgWy0xLDBdLFxuICAgICAgICAgICAgWy0xLDFdLFxuICAgICAgICAgICAgWzAsLTFdLFxuICAgICAgICAgICAgWzAsMV0sXG4gICAgICAgICAgICBbMSwtMV0sXG4gICAgICAgICAgICBbMSwwXSxcbiAgICAgICAgICAgIFsxLDFdXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgb25TdGFydFN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXJ0ZWQgPT0gMCkge1xuICAgICAgICAgICAgbGV0IHN0b3JlID0gdGhpcztcbiAgICAgICAgICAgIGxldCBuZXdJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc3RvcmUub25OZXh0KCk7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RhcnRlZDogMSwgaW50ZXJ2YWw6IG5ld0ludGVydmFsfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RhcnRlZDogMCwgaW50ZXJ2YWw6IG51bGx9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTmV4dCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbC5uZXh0U3RlcCgpO1xuICAgICAgICBsZXQgbmV3TW9kZWwgPSB0aGlzLnN0YXRlLm1vZGVsO1xuICAgICAgICBsZXQgbmV3Q2hhcnRDb25maWcgPSB0aGlzLnN0YXRlLmNoYXJ0Q29uZmlnO1xuICAgICAgICBsZXQgbmV3VGltZSA9ICsrdGhpcy5zdGF0ZS50aW1lO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHttb2RlbDpuZXdNb2RlbCwgdGltZTpuZXdUaW1lLCBjaGFydENvbmZpZzogbmV3Q2hhcnRDb25maWd9KTtcbiAgICB9XG5cbiAgICBvblJlc2V0KCkge1xuICAgICAgICB0aGlzLnN0YXRlLm1vZGVsLmdlbmVyYXRlQm9hcmQoXG4gICAgICAgICAgICB0aGlzLnN0YXRlLndpZHRoLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRlbnNpdHlcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IG5ld01vZGVsID0gdGhpcy5zdGF0ZS5tb2RlbDtcbiAgICAgICAgbGV0IG5ld0NoYXJ0Q29uZmlnID0gdGhpcy5zdGF0ZS5jaGFydENvbmZpZztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bW9kZWw6bmV3TW9kZWwsIHRpbWU6MCwgY2hhcnRDb25maWc6IG5ld0NoYXJ0Q29uZmlnfSk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2VXaWR0aChldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcIndpZHRoXCI6cGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlKX0pO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlSGVpZ2h0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1wiaGVpZ2h0XCI6cGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlKX0pO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlRGVuc2l0eShldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcImRlbnNpdHlcIjpwYXJzZUZsb2F0KGV2ZW50LnRhcmdldC52YWx1ZSl9KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7U3RvcmUsIEFjdGlvbnN9OyIsIiFmdW5jdGlvbih0LHIpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXIocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJoaWdoY2hhcnRzXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInJlYWN0XCIsXCJoaWdoY2hhcnRzXCJdLHIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUmVhY3RIaWdoY2hhcnRzPXIocmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJoaWdoY2hhcnRzXCIpKTp0LlJlYWN0SGlnaGNoYXJ0cz1yKHQuUmVhY3QsdC5IaWdoY2hhcnRzKX0odGhpcyxmdW5jdGlvbih0LHIpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiByKG8pe2lmKGVbb10pcmV0dXJuIGVbb10uZXhwb3J0czt2YXIgbj1lW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gdFtvXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxyKSxuLmxvYWRlZD0hMCxuLmV4cG9ydHN9dmFyIGU9e307cmV0dXJuIHIubT10LHIuYz1lLHIucD1cIlwiLHIoMCl9KFtmdW5jdGlvbih0LHIsZSl7dC5leHBvcnRzPWUoMyl9LGZ1bmN0aW9uKHIsZSl7ci5leHBvcnRzPXR9LGZ1bmN0aW9uKHQscixlKXsoZnVuY3Rpb24ocil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGU9YXJndW1lbnRzW3JdO2Zvcih2YXIgbyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKX1yZXR1cm4gdH0sbj1lKDEpLGk9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHI/d2luZG93OnI7dC5leHBvcnRzPWZ1bmN0aW9uKHIsZSl7dmFyIGM9XCJIaWdoY2hhcnRzXCIrcixzPW4uY3JlYXRlQ2xhc3Moe2Rpc3BsYXlOYW1lOmMscHJvcFR5cGVzOntjb25maWc6bi5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsaXNQdXJlQ29uZmlnOm4uUHJvcFR5cGVzLmJvb2wsbmV2ZXJSZWZsb3c6bi5Qcm9wVHlwZXMuYm9vbCxjYWxsYmFjazpuLlByb3BUeXBlcy5mdW5jLGRvbVByb3BzOm4uUHJvcFR5cGVzLm9iamVjdH0sZGVmYXVsdFByb3BzOntjYWxsYmFjazpmdW5jdGlvbigpe30sZG9tUHJvcHM6e319LHJlbmRlckNoYXJ0OmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlnIG11c3QgYmUgc3BlY2lmaWVkIGZvciB0aGUgXCIrYytcIiBjb21wb25lbnRcIik7dmFyIHM9dC5jaGFydDt0aGlzLmNoYXJ0PW5ldyBlW3JdKG8oe30sdCx7Y2hhcnQ6byh7fSxzLHtyZW5kZXJUbzp0aGlzLnJlZnMuY2hhcnR9KX0pLHRoaXMucHJvcHMuY2FsbGJhY2spLHRoaXMucHJvcHMubmV2ZXJSZWZsb3d8fGkmJmkucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtuLmNoYXJ0JiZuLmNoYXJ0Lm9wdGlvbnMmJm4uY2hhcnQucmVmbG93KCl9KX0sc2hvdWxkQ29tcG9uZW50VXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiEhKHQubmV2ZXJSZWZsb3d8fHQuaXNQdXJlQ29uZmlnJiZ0aGlzLnByb3BzLmNvbmZpZz09PXQuY29uZmlnKXx8KHRoaXMucmVuZGVyQ2hhcnQodC5jb25maWcpLCExKX0sZ2V0Q2hhcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5jaGFydCl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFydCgpIHNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcIik7cmV0dXJuIHRoaXMuY2hhcnR9LGNvbXBvbmVudERpZE1vdW50OmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJDaGFydCh0aGlzLnByb3BzLmNvbmZpZyl9LGNvbXBvbmVudFdpbGxVbm1vdW50OmZ1bmN0aW9uKCl7dGhpcy5jaGFydC5kZXN0cm95KCl9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiBuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixvKHtyZWY6XCJjaGFydFwifSx0aGlzLnByb3BzLmRvbVByb3BzKSl9fSk7cmV0dXJuIHMuSGlnaGNoYXJ0cz1lLHMud2l0aEhpZ2hjaGFydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXhwb3J0cyhyLGUpfSxzfX0pLmNhbGwocixmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxyLGUpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1lKDIpKFwiQ2hhcnRcIixlKDQpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cn1dKX0pOyIsIi8qXG4gSGlnaGNoYXJ0cyBKUyB2NS4wLjEwICgyMDE3LTAzLTMxKVxuXG4gKGMpIDIwMDktMjAxNiBUb3JzdGVpbiBIb25zaVxuXG4gTGljZW5zZTogd3d3LmhpZ2hjaGFydHMuY29tL2xpY2Vuc2VcbiovXG4oZnVuY3Rpb24oTCxhKXtcIm9iamVjdFwiPT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9TC5kb2N1bWVudD9hKEwpOmE6TC5IaWdoY2hhcnRzPWEoTCl9KShcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihMKXtMPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LEI9YS5kb2N1bWVudCxBPWEubmF2aWdhdG9yJiZhLm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIsSD1CJiZCLmNyZWF0ZUVsZW1lbnROUyYmISFCLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIikuY3JlYXRlU1ZHUmVjdCxHPS8oZWRnZXxtc2llfHRyaWRlbnQpL2kudGVzdChBKSYmIXdpbmRvdy5vcGVyYSxyPSFILGY9L0ZpcmVmb3gvLnRlc3QoQSksbD1mJiY0PnBhcnNlSW50KEEuc3BsaXQoXCJGaXJlZm94L1wiKVsxXSwxMCk7cmV0dXJuIGEuSGlnaGNoYXJ0cz9hLkhpZ2hjaGFydHMuZXJyb3IoMTYsITApOntwcm9kdWN0OlwiSGlnaGNoYXJ0c1wiLFxudmVyc2lvbjpcIjUuMC4xMFwiLGRlZzJyYWQ6MipNYXRoLlBJLzM2MCxkb2M6QixoYXNCaWRpQnVnOmwsaGFzVG91Y2g6QiYmdm9pZCAwIT09Qi5kb2N1bWVudEVsZW1lbnQub250b3VjaHN0YXJ0LGlzTVM6Ryxpc1dlYktpdDovQXBwbGVXZWJLaXQvLnRlc3QoQSksaXNGaXJlZm94OmYsaXNUb3VjaERldmljZTovKE1vYmlsZXxBbmRyb2lkfFdpbmRvd3MgUGhvbmUpLy50ZXN0KEEpLFNWR19OUzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsY2hhcnRDb3VudDowLHNlcmllc1R5cGVzOnt9LHN5bWJvbFNpemVzOnt9LHN2ZzpILHZtbDpyLHdpbjphLGNoYXJ0czpbXSxtYXJnaW5OYW1lczpbXCJwbG90VG9wXCIsXCJtYXJnaW5SaWdodFwiLFwibWFyZ2luQm90dG9tXCIsXCJwbG90TGVmdFwiXSxub29wOmZ1bmN0aW9uKCl7fX19KCk7KGZ1bmN0aW9uKGEpe3ZhciBCPVtdLEE9YS5jaGFydHMsSD1hLmRvYyxHPWEud2luO2EuZXJyb3I9ZnVuY3Rpb24ocixmKXtyPWEuaXNOdW1iZXIocik/XCJIaWdoY2hhcnRzIGVycm9yICNcIitcbnIrXCI6IHd3dy5oaWdoY2hhcnRzLmNvbS9lcnJvcnMvXCIrcjpyO2lmKGYpdGhyb3cgRXJyb3Iocik7Ry5jb25zb2xlJiZjb25zb2xlLmxvZyhyKX07YS5GeD1mdW5jdGlvbihhLGYsbCl7dGhpcy5vcHRpb25zPWY7dGhpcy5lbGVtPWE7dGhpcy5wcm9wPWx9O2EuRngucHJvdG90eXBlPXtkU2V0dGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXRoc1swXSxmPXRoaXMucGF0aHNbMV0sbD1bXSxxPXRoaXMubm93LGs9YS5sZW5ndGgsdTtpZigxPT09cSlsPXRoaXMudG9EO2Vsc2UgaWYoaz09PWYubGVuZ3RoJiYxPnEpZm9yKDtrLS07KXU9cGFyc2VGbG9hdChhW2tdKSxsW2tdPWlzTmFOKHUpP2Fba106cSpwYXJzZUZsb2F0KGZba10tdSkrdTtlbHNlIGw9Zjt0aGlzLmVsZW0uYXR0cihcImRcIixsLG51bGwsITApfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW0sZj10aGlzLnByb3AsbD10aGlzLm5vdyxxPXRoaXMub3B0aW9ucy5zdGVwO2lmKHRoaXNbZitcIlNldHRlclwiXSl0aGlzW2YrXG5cIlNldHRlclwiXSgpO2Vsc2UgYS5hdHRyP2EuZWxlbWVudCYmYS5hdHRyKGYsbCxudWxsLCEwKTphLnN0eWxlW2ZdPWwrdGhpcy51bml0O3EmJnEuY2FsbChhLGwsdGhpcyl9LHJ1bjpmdW5jdGlvbihhLGYsbCl7dmFyIHI9dGhpcyxrPWZ1bmN0aW9uKGEpe3JldHVybiBrLnN0b3BwZWQ/ITE6ci5zdGVwKGEpfSx1O3RoaXMuc3RhcnRUaW1lPStuZXcgRGF0ZTt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9Zjt0aGlzLnVuaXQ9bDt0aGlzLm5vdz10aGlzLnN0YXJ0O3RoaXMucG9zPTA7ay5lbGVtPXRoaXMuZWxlbTtrLnByb3A9dGhpcy5wcm9wO2soKSYmMT09PUIucHVzaChrKSYmKGsudGltZXJJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Zvcih1PTA7dTxCLmxlbmd0aDt1KyspQlt1XSgpfHxCLnNwbGljZSh1LS0sMSk7Qi5sZW5ndGh8fGNsZWFySW50ZXJ2YWwoay50aW1lcklkKX0sMTMpKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgZj0rbmV3IERhdGUscixxPXRoaXMub3B0aW9ucztyPXRoaXMuZWxlbTtcbnZhciBrPXEuY29tcGxldGUsdT1xLmR1cmF0aW9uLGQ9cS5jdXJBbmltLGM7aWYoci5hdHRyJiYhci5lbGVtZW50KXI9ITE7ZWxzZSBpZihhfHxmPj11K3RoaXMuc3RhcnRUaW1lKXt0aGlzLm5vdz10aGlzLmVuZDt0aGlzLnBvcz0xO3RoaXMudXBkYXRlKCk7YT1kW3RoaXMucHJvcF09ITA7Zm9yKGMgaW4gZCkhMCE9PWRbY10mJihhPSExKTthJiZrJiZrLmNhbGwocik7cj0hMX1lbHNlIHRoaXMucG9zPXEuZWFzaW5nKChmLXRoaXMuc3RhcnRUaW1lKS91KSx0aGlzLm5vdz10aGlzLnN0YXJ0Kyh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0aGlzLnBvcyx0aGlzLnVwZGF0ZSgpLHI9ITA7cmV0dXJuIHJ9LGluaXRQYXRoOmZ1bmN0aW9uKHIsZixsKXtmdW5jdGlvbiBxKGEpe3ZhciBiLGU7Zm9yKHQ9YS5sZW5ndGg7dC0tOyliPVwiTVwiPT09YVt0XXx8XCJMXCI9PT1hW3RdLGU9L1thLXpBLVpdLy50ZXN0KGFbdCszXSksYiYmZSYmYS5zcGxpY2UodCsxLDAsYVt0KzFdLGFbdCsyXSxhW3QrMV0sYVt0K1xuMl0pfWZ1bmN0aW9uIGsoYSxlKXtmb3IoO2EubGVuZ3RoPHA7KXthWzBdPWVbcC1hLmxlbmd0aF07dmFyIGg9YS5zbGljZSgwLGIpO1tdLnNwbGljZS5hcHBseShhLFswLDBdLmNvbmNhdChoKSk7RCYmKGg9YS5zbGljZShhLmxlbmd0aC1iKSxbXS5zcGxpY2UuYXBwbHkoYSxbYS5sZW5ndGgsMF0uY29uY2F0KGgpKSx0LS0pfWFbMF09XCJNXCJ9ZnVuY3Rpb24gdShhLGUpe2Zvcih2YXIgYz0ocC1hLmxlbmd0aCkvYjswPGMmJmMtLTspaD1hLnNsaWNlKCkuc3BsaWNlKGEubGVuZ3RoL3ctYixiKncpLGhbMF09ZVtwLWItYypiXSx6JiYoaFtiLTZdPWhbYi0yXSxoW2ItNV09aFtiLTFdKSxbXS5zcGxpY2UuYXBwbHkoYSxbYS5sZW5ndGgvdywwXS5jb25jYXQoaCkpLEQmJmMtLX1mPWZ8fFwiXCI7dmFyIGQsYz1yLnN0YXJ0WCxuPXIuZW5kWCx6PS0xPGYuaW5kZXhPZihcIkNcIiksYj16Pzc6MyxwLGgsdDtmPWYuc3BsaXQoXCIgXCIpO2w9bC5zbGljZSgpO3ZhciBEPXIuaXNBcmVhLHc9RD8yOjEsZTtcbnomJihxKGYpLHEobCkpO2lmKGMmJm4pe2Zvcih0PTA7dDxjLmxlbmd0aDt0KyspaWYoY1t0XT09PW5bMF0pe2Q9dDticmVha31lbHNlIGlmKGNbMF09PT1uW24ubGVuZ3RoLWMubGVuZ3RoK3RdKXtkPXQ7ZT0hMDticmVha312b2lkIDA9PT1kJiYoZj1bXSl9Zi5sZW5ndGgmJmEuaXNOdW1iZXIoZCkmJihwPWwubGVuZ3RoK2QqdypiLGU/KGsoZixsKSx1KGwsZikpOihrKGwsZiksdShmLGwpKSk7cmV0dXJuW2YsbF19fTthLmV4dGVuZD1mdW5jdGlvbihhLGYpe3ZhciByO2F8fChhPXt9KTtmb3IociBpbiBmKWFbcl09ZltyXTtyZXR1cm4gYX07YS5tZXJnZT1mdW5jdGlvbigpe3ZhciByLGY9YXJndW1lbnRzLGwscT17fSxrPWZ1bmN0aW9uKHUsZCl7dmFyIGMsbjtcIm9iamVjdFwiIT09dHlwZW9mIHUmJih1PXt9KTtmb3IobiBpbiBkKWQuaGFzT3duUHJvcGVydHkobikmJihjPWRbbl0sYS5pc09iamVjdChjLCEwKSYmXCJyZW5kZXJUb1wiIT09biYmXCJudW1iZXJcIiE9PXR5cGVvZiBjLm5vZGVUeXBlP1xudVtuXT1rKHVbbl18fHt9LGMpOnVbbl09ZFtuXSk7cmV0dXJuIHV9OyEwPT09ZlswXSYmKHE9ZlsxXSxmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGYsMikpO2w9Zi5sZW5ndGg7Zm9yKHI9MDtyPGw7cisrKXE9ayhxLGZbcl0pO3JldHVybiBxfTthLnBJbnQ9ZnVuY3Rpb24oYSxmKXtyZXR1cm4gcGFyc2VJbnQoYSxmfHwxMCl9O2EuaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfTthLmlzQXJyYXk9ZnVuY3Rpb24oYSl7YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09YXx8XCJbb2JqZWN0IEFycmF5IEl0ZXJhdG9yXVwiPT09YX07YS5pc09iamVjdD1mdW5jdGlvbihyLGYpe3JldHVybiByJiZcIm9iamVjdFwiPT09dHlwZW9mIHImJighZnx8IWEuaXNBcnJheShyKSl9O2EuaXNOdW1iZXI9ZnVuY3Rpb24oYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhJiYhaXNOYU4oYSl9O2EuZXJhc2U9XG5mdW5jdGlvbihhLGYpe2Zvcih2YXIgcj1hLmxlbmd0aDtyLS07KWlmKGFbcl09PT1mKXthLnNwbGljZShyLDEpO2JyZWFrfX07YS5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDAhPT1hJiZudWxsIT09YX07YS5hdHRyPWZ1bmN0aW9uKHIsZixsKXt2YXIgcSxrO2lmKGEuaXNTdHJpbmcoZikpYS5kZWZpbmVkKGwpP3Iuc2V0QXR0cmlidXRlKGYsbCk6ciYmci5nZXRBdHRyaWJ1dGUmJihrPXIuZ2V0QXR0cmlidXRlKGYpKTtlbHNlIGlmKGEuZGVmaW5lZChmKSYmYS5pc09iamVjdChmKSlmb3IocSBpbiBmKXIuc2V0QXR0cmlidXRlKHEsZltxXSk7cmV0dXJuIGt9O2Euc3BsYXQ9ZnVuY3Rpb24ocil7cmV0dXJuIGEuaXNBcnJheShyKT9yOltyXX07YS5zeW5jVGltZW91dD1mdW5jdGlvbihhLGYsbCl7aWYoZilyZXR1cm4gc2V0VGltZW91dChhLGYsbCk7YS5jYWxsKDAsbCl9O2EucGljaz1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cyxmLGwscT1hLmxlbmd0aDtmb3IoZj1cbjA7ZjxxO2YrKylpZihsPWFbZl0sdm9pZCAwIT09bCYmbnVsbCE9PWwpcmV0dXJuIGx9O2EuY3NzPWZ1bmN0aW9uKHIsZil7YS5pc01TJiYhYS5zdmcmJmYmJnZvaWQgMCE9PWYub3BhY2l0eSYmKGYuZmlsdGVyPVwiYWxwaGEob3BhY2l0eVxceDNkXCIrMTAwKmYub3BhY2l0eStcIilcIik7YS5leHRlbmQoci5zdHlsZSxmKX07YS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHIsZixsLHEsayl7cj1ILmNyZWF0ZUVsZW1lbnQocik7dmFyIHU9YS5jc3M7ZiYmYS5leHRlbmQocixmKTtrJiZ1KHIse3BhZGRpbmc6MCxib3JkZXI6XCJub25lXCIsbWFyZ2luOjB9KTtsJiZ1KHIsbCk7cSYmcS5hcHBlbmRDaGlsZChyKTtyZXR1cm4gcn07YS5leHRlbmRDbGFzcz1mdW5jdGlvbihyLGYpe3ZhciBsPWZ1bmN0aW9uKCl7fTtsLnByb3RvdHlwZT1uZXcgcjthLmV4dGVuZChsLnByb3RvdHlwZSxmKTtyZXR1cm4gbH07YS5wYWQ9ZnVuY3Rpb24oYSxmLGwpe3JldHVybiBBcnJheSgoZnx8MikrMS1TdHJpbmcoYSkubGVuZ3RoKS5qb2luKGx8fFxuMCkrYX07YS5yZWxhdGl2ZUxlbmd0aD1mdW5jdGlvbihhLGYpe3JldHVybi8lJC8udGVzdChhKT9mKnBhcnNlRmxvYXQoYSkvMTAwOnBhcnNlRmxvYXQoYSl9O2Eud3JhcD1mdW5jdGlvbihhLGYsbCl7dmFyIHE9YVtmXTthW2ZdPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSx1PWFyZ3VtZW50cyxkPXRoaXM7ZC5wcm9jZWVkPWZ1bmN0aW9uKCl7cS5hcHBseShkLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzOnUpfTthLnVuc2hpZnQocSk7YT1sLmFwcGx5KHRoaXMsYSk7ZC5wcm9jZWVkPW51bGw7cmV0dXJuIGF9fTthLmdldFRaT2Zmc2V0PWZ1bmN0aW9uKHIpe3ZhciBmPWEuRGF0ZTtyZXR1cm4gNkU0KihmLmhjR2V0VGltZXpvbmVPZmZzZXQmJmYuaGNHZXRUaW1lem9uZU9mZnNldChyKXx8Zi5oY1RpbWV6b25lT2Zmc2V0fHwwKX07YS5kYXRlRm9ybWF0PWZ1bmN0aW9uKHIsZixsKXtpZighYS5kZWZpbmVkKGYpfHxpc05hTihmKSlyZXR1cm4gYS5kZWZhdWx0T3B0aW9ucy5sYW5nLmludmFsaWREYXRlfHxcblwiXCI7cj1hLnBpY2socixcIiVZLSVtLSVkICVIOiVNOiVTXCIpO3ZhciBxPWEuRGF0ZSxrPW5ldyBxKGYtYS5nZXRUWk9mZnNldChmKSksdSxkPWtbcS5oY0dldEhvdXJzXSgpLGM9a1txLmhjR2V0RGF5XSgpLG49a1txLmhjR2V0RGF0ZV0oKSx6PWtbcS5oY0dldE1vbnRoXSgpLGI9a1txLmhjR2V0RnVsbFllYXJdKCkscD1hLmRlZmF1bHRPcHRpb25zLmxhbmcsaD1wLndlZWtkYXlzLHQ9cC5zaG9ydFdlZWtkYXlzLEQ9YS5wYWQscT1hLmV4dGVuZCh7YTp0P3RbY106aFtjXS5zdWJzdHIoMCwzKSxBOmhbY10sZDpEKG4pLGU6RChuLDIsXCIgXCIpLHc6YyxiOnAuc2hvcnRNb250aHNbel0sQjpwLm1vbnRoc1t6XSxtOkQoeisxKSx5OmIudG9TdHJpbmcoKS5zdWJzdHIoMiwyKSxZOmIsSDpEKGQpLGs6ZCxJOkQoZCUxMnx8MTIpLGw6ZCUxMnx8MTIsTTpEKGtbcS5oY0dldE1pbnV0ZXNdKCkpLHA6MTI+ZD9cIkFNXCI6XCJQTVwiLFA6MTI+ZD9cImFtXCI6XCJwbVwiLFM6RChrLmdldFNlY29uZHMoKSksTDpEKE1hdGgucm91bmQoZiVcbjFFMyksMyl9LGEuZGF0ZUZvcm1hdHMpO2Zvcih1IGluIHEpZm9yKDstMSE9PXIuaW5kZXhPZihcIiVcIit1KTspcj1yLnJlcGxhY2UoXCIlXCIrdSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgcVt1XT9xW3VdKGYpOnFbdV0pO3JldHVybiBsP3Iuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKStyLnN1YnN0cigxKTpyfTthLmZvcm1hdFNpbmdsZT1mdW5jdGlvbihyLGYpe3ZhciBsPS9cXC4oWzAtOV0pLyxxPWEuZGVmYXVsdE9wdGlvbnMubGFuZzsvZiQvLnRlc3Qocik/KGw9KGw9ci5tYXRjaChsKSk/bFsxXTotMSxudWxsIT09ZiYmKGY9YS5udW1iZXJGb3JtYXQoZixsLHEuZGVjaW1hbFBvaW50LC0xPHIuaW5kZXhPZihcIixcIik/cS50aG91c2FuZHNTZXA6XCJcIikpKTpmPWEuZGF0ZUZvcm1hdChyLGYpO3JldHVybiBmfTthLmZvcm1hdD1mdW5jdGlvbihyLGYpe2Zvcih2YXIgbD1cIntcIixxPSExLGssdSxkLGMsbj1bXSx6O3I7KXtsPXIuaW5kZXhPZihsKTtpZigtMT09PWwpYnJlYWs7az1yLnNsaWNlKDAsXG5sKTtpZihxKXtrPWsuc3BsaXQoXCI6XCIpO3U9ay5zaGlmdCgpLnNwbGl0KFwiLlwiKTtjPXUubGVuZ3RoO3o9Zjtmb3IoZD0wO2Q8YztkKyspej16W3VbZF1dO2subGVuZ3RoJiYoej1hLmZvcm1hdFNpbmdsZShrLmpvaW4oXCI6XCIpLHopKTtuLnB1c2goeil9ZWxzZSBuLnB1c2goayk7cj1yLnNsaWNlKGwrMSk7bD0ocT0hcSk/XCJ9XCI6XCJ7XCJ9bi5wdXNoKHIpO3JldHVybiBuLmpvaW4oXCJcIil9O2EuZ2V0TWFnbml0dWRlPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGEpL01hdGguTE4xMCkpfTthLm5vcm1hbGl6ZVRpY2tJbnRlcnZhbD1mdW5jdGlvbihyLGYsbCxxLGspe3ZhciB1LGQ9cjtsPWEucGljayhsLDEpO3U9ci9sO2Z8fChmPWs/WzEsMS4yLDEuNSwyLDIuNSwzLDQsNSw2LDgsMTBdOlsxLDIsMi41LDUsMTBdLCExPT09cSYmKDE9PT1sP2Y9YS5ncmVwKGYsZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hJTF9KTouMT49bCYmKGY9WzEvbF0pKSk7XG5mb3IocT0wO3E8Zi5sZW5ndGgmJiEoZD1mW3FdLGsmJmQqbD49cnx8IWsmJnU8PShmW3FdKyhmW3ErMV18fGZbcV0pKS8yKTtxKyspO3JldHVybiBkPWEuY29ycmVjdEZsb2F0KGQqbCwtTWF0aC5yb3VuZChNYXRoLmxvZyguMDAxKS9NYXRoLkxOMTApKX07YS5zdGFibGVTb3J0PWZ1bmN0aW9uKGEsZil7dmFyIGw9YS5sZW5ndGgscSxrO2ZvcihrPTA7azxsO2srKylhW2tdLnNhZmVJPWs7YS5zb3J0KGZ1bmN0aW9uKGEsZCl7cT1mKGEsZCk7cmV0dXJuIDA9PT1xP2Euc2FmZUktZC5zYWZlSTpxfSk7Zm9yKGs9MDtrPGw7aysrKWRlbGV0ZSBhW2tdLnNhZmVJfTthLmFycmF5TWluPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZj1hLmxlbmd0aCxsPWFbMF07Zi0tOylhW2ZdPGwmJihsPWFbZl0pO3JldHVybiBsfTthLmFycmF5TWF4PWZ1bmN0aW9uKGEpe2Zvcih2YXIgZj1hLmxlbmd0aCxsPWFbMF07Zi0tOylhW2ZdPmwmJihsPWFbZl0pO3JldHVybiBsfTthLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzPVxuZnVuY3Rpb24oYSxmKXtmb3IodmFyIGwgaW4gYSlhW2xdJiZhW2xdIT09ZiYmYVtsXS5kZXN0cm95JiZhW2xdLmRlc3Ryb3koKSxkZWxldGUgYVtsXX07YS5kaXNjYXJkRWxlbWVudD1mdW5jdGlvbihyKXt2YXIgZj1hLmdhcmJhZ2VCaW47Znx8KGY9YS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtyJiZmLmFwcGVuZENoaWxkKHIpO2YuaW5uZXJIVE1MPVwiXCJ9O2EuY29ycmVjdEZsb2F0PWZ1bmN0aW9uKGEsZil7cmV0dXJuIHBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihmfHwxNCkpfTthLnNldEFuaW1hdGlvbj1mdW5jdGlvbihyLGYpe2YucmVuZGVyZXIuZ2xvYmFsQW5pbWF0aW9uPWEucGljayhyLGYub3B0aW9ucy5jaGFydC5hbmltYXRpb24sITApfTthLmFuaW1PYmplY3Q9ZnVuY3Rpb24ocil7cmV0dXJuIGEuaXNPYmplY3Qocik/YS5tZXJnZShyKTp7ZHVyYXRpb246cj81MDA6MH19O2EudGltZVVuaXRzPXttaWxsaXNlY29uZDoxLHNlY29uZDoxRTMsbWludXRlOjZFNCxob3VyOjM2RTUsXG5kYXk6ODY0RTUsd2Vlazo2MDQ4RTUsbW9udGg6MjQxOTJFNSx5ZWFyOjMxNDQ5NkU1fTthLm51bWJlckZvcm1hdD1mdW5jdGlvbihyLGYsbCxxKXtyPStyfHwwO2Y9K2Y7dmFyIGs9YS5kZWZhdWx0T3B0aW9ucy5sYW5nLHU9KHIudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV18fFwiXCIpLmxlbmd0aCxkLGM7LTE9PT1mP2Y9TWF0aC5taW4odSwyMCk6YS5pc051bWJlcihmKXx8KGY9Mik7Yz0oTWF0aC5hYnMocikrTWF0aC5wb3coMTAsLU1hdGgubWF4KGYsdSktMSkpLnRvRml4ZWQoZik7dT1TdHJpbmcoYS5wSW50KGMpKTtkPTM8dS5sZW5ndGg/dS5sZW5ndGglMzowO2w9YS5waWNrKGwsay5kZWNpbWFsUG9pbnQpO3E9YS5waWNrKHEsay50aG91c2FuZHNTZXApO3I9KDA+cj9cIi1cIjpcIlwiKSsoZD91LnN1YnN0cigwLGQpK3E6XCJcIik7cis9dS5zdWJzdHIoZCkucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csXCIkMVwiK3EpO2YmJihyKz1sK2Muc2xpY2UoLWYpKTtyZXR1cm4gcn07TWF0aC5lYXNlSW5PdXRTaW5lPVxuZnVuY3Rpb24oYSl7cmV0dXJuLS41KihNYXRoLmNvcyhNYXRoLlBJKmEpLTEpfTthLmdldFN0eWxlPWZ1bmN0aW9uKHIsZil7cmV0dXJuXCJ3aWR0aFwiPT09Zj9NYXRoLm1pbihyLm9mZnNldFdpZHRoLHIuc2Nyb2xsV2lkdGgpLWEuZ2V0U3R5bGUocixcInBhZGRpbmctbGVmdFwiKS1hLmdldFN0eWxlKHIsXCJwYWRkaW5nLXJpZ2h0XCIpOlwiaGVpZ2h0XCI9PT1mP01hdGgubWluKHIub2Zmc2V0SGVpZ2h0LHIuc2Nyb2xsSGVpZ2h0KS1hLmdldFN0eWxlKHIsXCJwYWRkaW5nLXRvcFwiKS1hLmdldFN0eWxlKHIsXCJwYWRkaW5nLWJvdHRvbVwiKToocj1HLmdldENvbXB1dGVkU3R5bGUocix2b2lkIDApKSYmYS5wSW50KHIuZ2V0UHJvcGVydHlWYWx1ZShmKSl9O2EuaW5BcnJheT1mdW5jdGlvbihhLGYpe3JldHVybiBmLmluZGV4T2Y/Zi5pbmRleE9mKGEpOltdLmluZGV4T2YuY2FsbChmLGEpfTthLmdyZXA9ZnVuY3Rpb24oYSxmKXtyZXR1cm5bXS5maWx0ZXIuY2FsbChhLGYpfTthLmZpbmQ9ZnVuY3Rpb24oYSxcbmYpe3JldHVybltdLmZpbmQuY2FsbChhLGYpfTthLm1hcD1mdW5jdGlvbihhLGYpe2Zvcih2YXIgbD1bXSxxPTAsaz1hLmxlbmd0aDtxPGs7cSsrKWxbcV09Zi5jYWxsKGFbcV0sYVtxXSxxLGEpO3JldHVybiBsfTthLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgZj1ILmRvY3VtZW50RWxlbWVudDthPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3RvcDphLnRvcCsoRy5wYWdlWU9mZnNldHx8Zi5zY3JvbGxUb3ApLShmLmNsaWVudFRvcHx8MCksbGVmdDphLmxlZnQrKEcucGFnZVhPZmZzZXR8fGYuc2Nyb2xsTGVmdCktKGYuY2xpZW50TGVmdHx8MCl9fTthLnN0b3A9ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGw9Qi5sZW5ndGg7bC0tOylCW2xdLmVsZW0hPT1hfHxmJiZmIT09QltsXS5wcm9wfHwoQltsXS5zdG9wcGVkPSEwKX07YS5lYWNoPWZ1bmN0aW9uKGEsZixsKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGYsbCl9O2EuYWRkRXZlbnQ9ZnVuY3Rpb24ocixcbmYsbCl7ZnVuY3Rpb24gcShhKXthLnRhcmdldD1hLnNyY0VsZW1lbnR8fEc7bC5jYWxsKHIsYSl9dmFyIGs9ci5oY0V2ZW50cz1yLmhjRXZlbnRzfHx7fTtyLmFkZEV2ZW50TGlzdGVuZXI/ci5hZGRFdmVudExpc3RlbmVyKGYsbCwhMSk6ci5hdHRhY2hFdmVudCYmKHIuaGNFdmVudHNJRXx8KHIuaGNFdmVudHNJRT17fSksci5oY0V2ZW50c0lFW2wudG9TdHJpbmcoKV09cSxyLmF0dGFjaEV2ZW50KFwib25cIitmLHEpKTtrW2ZdfHwoa1tmXT1bXSk7a1tmXS5wdXNoKGwpO3JldHVybiBmdW5jdGlvbigpe2EucmVtb3ZlRXZlbnQocixmLGwpfX07YS5yZW1vdmVFdmVudD1mdW5jdGlvbihyLGYsbCl7ZnVuY3Rpb24gcShhLGMpe3IucmVtb3ZlRXZlbnRMaXN0ZW5lcj9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCExKTpyLmF0dGFjaEV2ZW50JiYoYz1yLmhjRXZlbnRzSUVbYy50b1N0cmluZygpXSxyLmRldGFjaEV2ZW50KFwib25cIithLGMpKX1mdW5jdGlvbiBrKCl7dmFyIGEsYztpZihyLm5vZGVOYW1lKWZvcihjIGluIGY/XG4oYT17fSxhW2ZdPSEwKTphPWQsYSlpZihkW2NdKWZvcihhPWRbY10ubGVuZ3RoO2EtLTspcShjLGRbY11bYV0pfXZhciB1LGQ9ci5oY0V2ZW50cyxjO2QmJihmPyh1PWRbZl18fFtdLGw/KGM9YS5pbkFycmF5KGwsdSksLTE8YyYmKHUuc3BsaWNlKGMsMSksZFtmXT11KSxxKGYsbCkpOihrKCksZFtmXT1bXSkpOihrKCksci5oY0V2ZW50cz17fSkpfTthLmZpcmVFdmVudD1mdW5jdGlvbihyLGYsbCxxKXt2YXIgaztrPXIuaGNFdmVudHM7dmFyIHUsZDtsPWx8fHt9O2lmKEguY3JlYXRlRXZlbnQmJihyLmRpc3BhdGNoRXZlbnR8fHIuZmlyZUV2ZW50KSlrPUguY3JlYXRlRXZlbnQoXCJFdmVudHNcIiksay5pbml0RXZlbnQoZiwhMCwhMCksYS5leHRlbmQoayxsKSxyLmRpc3BhdGNoRXZlbnQ/ci5kaXNwYXRjaEV2ZW50KGspOnIuZmlyZUV2ZW50KGYsayk7ZWxzZSBpZihrKWZvcihrPWtbZl18fFtdLHU9ay5sZW5ndGgsbC50YXJnZXR8fGEuZXh0ZW5kKGwse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7bC5kZWZhdWx0UHJldmVudGVkPVxuITB9LHRhcmdldDpyLHR5cGU6Zn0pLGY9MDtmPHU7ZisrKShkPWtbZl0pJiYhMT09PWQuY2FsbChyLGwpJiZsLnByZXZlbnREZWZhdWx0KCk7cSYmIWwuZGVmYXVsdFByZXZlbnRlZCYmcShsKX07YS5hbmltYXRlPWZ1bmN0aW9uKHIsZixsKXt2YXIgcSxrPVwiXCIsdSxkLGM7YS5pc09iamVjdChsKXx8KHE9YXJndW1lbnRzLGw9e2R1cmF0aW9uOnFbMl0sZWFzaW5nOnFbM10sY29tcGxldGU6cVs0XX0pO2EuaXNOdW1iZXIobC5kdXJhdGlvbil8fChsLmR1cmF0aW9uPTQwMCk7bC5lYXNpbmc9XCJmdW5jdGlvblwiPT09dHlwZW9mIGwuZWFzaW5nP2wuZWFzaW5nOk1hdGhbbC5lYXNpbmddfHxNYXRoLmVhc2VJbk91dFNpbmU7bC5jdXJBbmltPWEubWVyZ2UoZik7Zm9yKGMgaW4gZilhLnN0b3AocixjKSxkPW5ldyBhLkZ4KHIsbCxjKSx1PW51bGwsXCJkXCI9PT1jPyhkLnBhdGhzPWQuaW5pdFBhdGgocixyLmQsZi5kKSxkLnRvRD1mLmQscT0wLHU9MSk6ci5hdHRyP3E9ci5hdHRyKGMpOihxPXBhcnNlRmxvYXQoYS5nZXRTdHlsZShyLFxuYykpfHwwLFwib3BhY2l0eVwiIT09YyYmKGs9XCJweFwiKSksdXx8KHU9ZltjXSksdSYmdS5tYXRjaCYmdS5tYXRjaChcInB4XCIpJiYodT11LnJlcGxhY2UoL3B4L2csXCJcIikpLGQucnVuKHEsdSxrKX07YS5zZXJpZXNUeXBlPWZ1bmN0aW9uKHIsZixsLHEsayl7dmFyIHU9YS5nZXRPcHRpb25zKCksZD1hLnNlcmllc1R5cGVzO3UucGxvdE9wdGlvbnNbcl09YS5tZXJnZSh1LnBsb3RPcHRpb25zW2ZdLGwpO2Rbcl09YS5leHRlbmRDbGFzcyhkW2ZdfHxmdW5jdGlvbigpe30scSk7ZFtyXS5wcm90b3R5cGUudHlwZT1yO2smJihkW3JdLnByb3RvdHlwZS5wb2ludENsYXNzPWEuZXh0ZW5kQ2xhc3MoYS5Qb2ludCxrKSk7cmV0dXJuIGRbcl19O2EudW5pcXVlS2V5PWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsOSksZj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVyblwiaGlnaGNoYXJ0cy1cIithK1wiLVwiK2YrK319KCk7Ry5qUXVlcnkmJihHLmpRdWVyeS5mbi5oaWdoY2hhcnRzPVxuZnVuY3Rpb24oKXt2YXIgcj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aWYodGhpc1swXSlyZXR1cm4gclswXT8obmV3IChhW2EuaXNTdHJpbmcoclswXSk/ci5zaGlmdCgpOlwiQ2hhcnRcIl0pKHRoaXNbMF0sclswXSxyWzFdKSx0aGlzKTpBW2EuYXR0cih0aGlzWzBdLFwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0XCIpXX0pO0gmJiFILmRlZmF1bHRWaWV3JiYoYS5nZXRTdHlsZT1mdW5jdGlvbihyLGYpe3ZhciBsPXt3aWR0aDpcImNsaWVudFdpZHRoXCIsaGVpZ2h0OlwiY2xpZW50SGVpZ2h0XCJ9W2ZdO2lmKHIuc3R5bGVbZl0pcmV0dXJuIGEucEludChyLnN0eWxlW2ZdKTtcIm9wYWNpdHlcIj09PWYmJihmPVwiZmlsdGVyXCIpO2lmKGwpcmV0dXJuIHIuc3R5bGUuem9vbT0xLE1hdGgubWF4KHJbbF0tMiphLmdldFN0eWxlKHIsXCJwYWRkaW5nXCIpLDApO3I9ci5jdXJyZW50U3R5bGVbZi5yZXBsYWNlKC9cXC0oXFx3KS9nLGZ1bmN0aW9uKGEsayl7cmV0dXJuIGsudG9VcHBlckNhc2UoKX0pXTtcImZpbHRlclwiPT09XG5mJiYocj1yLnJlcGxhY2UoL2FscGhhXFwob3BhY2l0eT0oWzAtOV0rKVxcKS8sZnVuY3Rpb24oYSxrKXtyZXR1cm4gay8xMDB9KSk7cmV0dXJuXCJcIj09PXI/MTphLnBJbnQocil9KTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KGEuZWFjaD1mdW5jdGlvbihhLGYsbCl7Zm9yKHZhciBxPTAsaz1hLmxlbmd0aDtxPGs7cSsrKWlmKCExPT09Zi5jYWxsKGwsYVtxXSxxLGEpKXJldHVybiBxfSk7QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChhLmluQXJyYXk9ZnVuY3Rpb24oYSxmKXt2YXIgbCxxPTA7aWYoZilmb3IobD1mLmxlbmd0aDtxPGw7cSsrKWlmKGZbcV09PT1hKXJldHVybiBxO3JldHVybi0xfSk7QXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KGEuZ3JlcD1mdW5jdGlvbihhLGYpe2Zvcih2YXIgbD1bXSxxPTAsaz1hLmxlbmd0aDtxPGs7cSsrKWYoYVtxXSxxKSYmbC5wdXNoKGFbcV0pO3JldHVybiBsfSk7QXJyYXkucHJvdG90eXBlLmZpbmR8fChhLmZpbmQ9ZnVuY3Rpb24oYSxmKXt2YXIgbCxcbnE9YS5sZW5ndGg7Zm9yKGw9MDtsPHE7bCsrKWlmKGYoYVtsXSxsKSlyZXR1cm4gYVtsXX0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuZWFjaCxBPWEuaXNOdW1iZXIsSD1hLm1hcCxHPWEubWVyZ2Uscj1hLnBJbnQ7YS5Db2xvcj1mdW5jdGlvbihmKXtpZighKHRoaXMgaW5zdGFuY2VvZiBhLkNvbG9yKSlyZXR1cm4gbmV3IGEuQ29sb3IoZik7dGhpcy5pbml0KGYpfTthLkNvbG9yLnByb3RvdHlwZT17cGFyc2Vyczpbe3JlZ2V4Oi9yZ2JhXFwoXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XT8oPzpcXC5bMC05XSspPylcXHMqXFwpLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bcihhWzFdKSxyKGFbMl0pLHIoYVszXSkscGFyc2VGbG9hdChhWzRdLDEwKV19fSx7cmVnZXg6L3JnYlxcKFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqXFwpLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bcihhWzFdKSxcbnIoYVsyXSkscihhWzNdKSwxXX19XSxuYW1lczp7d2hpdGU6XCIjZmZmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCJ9LGluaXQ6ZnVuY3Rpb24oZil7dmFyIGwscSxrLHU7aWYoKHRoaXMuaW5wdXQ9Zj10aGlzLm5hbWVzW2YmJmYudG9Mb3dlckNhc2U/Zi50b0xvd2VyQ2FzZSgpOlwiXCJdfHxmKSYmZi5zdG9wcyl0aGlzLnN0b3BzPUgoZi5zdG9wcyxmdW5jdGlvbihkKXtyZXR1cm4gbmV3IGEuQ29sb3IoZFsxXSl9KTtlbHNlIGlmKGYmJlwiI1wiPT09ZlswXSYmKGw9Zi5sZW5ndGgsZj1wYXJzZUludChmLnN1YnN0cigxKSwxNiksNz09PWw/cT1bKGYmMTY3MTE2ODApPj4xNiwoZiY2NTI4MCk+PjgsZiYyNTUsMV06ND09PWwmJihxPVsoZiYzODQwKT4+NHwoZiYzODQwKT4+OCwoZiYyNDApPj40fGYmMjQwLChmJjE1KTw8NHxmJjE1LDFdKSksIXEpZm9yKGs9dGhpcy5wYXJzZXJzLmxlbmd0aDtrLS0mJiFxOyl1PXRoaXMucGFyc2Vyc1trXSwobD11LnJlZ2V4LmV4ZWMoZikpJiYocT11LnBhcnNlKGwpKTtcbnRoaXMucmdiYT1xfHxbXX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuaW5wdXQscT10aGlzLnJnYmEsazt0aGlzLnN0b3BzPyhrPUcoZiksay5zdG9wcz1bXS5jb25jYXQoay5zdG9wcyksQih0aGlzLnN0b3BzLGZ1bmN0aW9uKHUsZCl7ay5zdG9wc1tkXT1bay5zdG9wc1tkXVswXSx1LmdldChhKV19KSk6az1xJiZBKHFbMF0pP1wicmdiXCI9PT1hfHwhYSYmMT09PXFbM10/XCJyZ2IoXCIrcVswXStcIixcIitxWzFdK1wiLFwiK3FbMl0rXCIpXCI6XCJhXCI9PT1hP3FbM106XCJyZ2JhKFwiK3Euam9pbihcIixcIikrXCIpXCI6ZjtyZXR1cm4ga30sYnJpZ2h0ZW46ZnVuY3Rpb24oYSl7dmFyIGYscT10aGlzLnJnYmE7aWYodGhpcy5zdG9wcylCKHRoaXMuc3RvcHMsZnVuY3Rpb24oayl7ay5icmlnaHRlbihhKX0pO2Vsc2UgaWYoQShhKSYmMCE9PWEpZm9yKGY9MDszPmY7ZisrKXFbZl0rPXIoMjU1KmEpLDA+cVtmXSYmKHFbZl09MCksMjU1PHFbZl0mJihxW2ZdPTI1NSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7dGhpcy5yZ2JhWzNdPVxuYTtyZXR1cm4gdGhpc319O2EuY29sb3I9ZnVuY3Rpb24oZil7cmV0dXJuIG5ldyBhLkNvbG9yKGYpfX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQixBLEg9YS5hZGRFdmVudCxHPWEuYW5pbWF0ZSxyPWEuYXR0cixmPWEuY2hhcnRzLGw9YS5jb2xvcixxPWEuY3NzLGs9YS5jcmVhdGVFbGVtZW50LHU9YS5kZWZpbmVkLGQ9YS5kZWcycmFkLGM9YS5kZXN0cm95T2JqZWN0UHJvcGVydGllcyxuPWEuZG9jLHo9YS5lYWNoLGI9YS5leHRlbmQscD1hLmVyYXNlLGg9YS5ncmVwLHQ9YS5oYXNUb3VjaCxEPWEuaW5BcnJheSx3PWEuaXNBcnJheSxlPWEuaXNGaXJlZm94LHg9YS5pc01TLEM9YS5pc09iamVjdCxFPWEuaXNTdHJpbmcsbT1hLmlzV2ViS2l0LHk9YS5tZXJnZSxJPWEubm9vcCxLPWEucGljayxKPWEucEludCxnPWEucmVtb3ZlRXZlbnQsRj1hLnN0b3AsUT1hLnN2ZyxOPWEuU1ZHX05TLFA9YS5zeW1ib2xTaXplcyxPPWEud2luO0I9YS5TVkdFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O1xuQi5wcm90b3R5cGU9e29wYWNpdHk6MSxTVkdfTlM6Tix0ZXh0UHJvcHM6XCJkaXJlY3Rpb24gZm9udFNpemUgZm9udFdlaWdodCBmb250RmFtaWx5IGZvbnRTdHlsZSBjb2xvciBsaW5lSGVpZ2h0IHdpZHRoIHRleHRBbGlnbiB0ZXh0RGVjb3JhdGlvbiB0ZXh0T3ZlcmZsb3cgdGV4dE91dGxpbmVcIi5zcGxpdChcIiBcIiksaW5pdDpmdW5jdGlvbihhLGcpe3RoaXMuZWxlbWVudD1cInNwYW5cIj09PWc/ayhnKTpuLmNyZWF0ZUVsZW1lbnROUyh0aGlzLlNWR19OUyxnKTt0aGlzLnJlbmRlcmVyPWF9LGFuaW1hdGU6ZnVuY3Rpb24odixnLGIpe2c9YS5hbmltT2JqZWN0KEsoZyx0aGlzLnJlbmRlcmVyLmdsb2JhbEFuaW1hdGlvbiwhMCkpOzAhPT1nLmR1cmF0aW9uPyhiJiYoZy5jb21wbGV0ZT1iKSxHKHRoaXMsdixnKSk6KHRoaXMuYXR0cih2LG51bGwsYiksZy5zdGVwJiZnLnN0ZXAuY2FsbCh0aGlzKSk7cmV0dXJuIHRoaXN9LGNvbG9yR3JhZGllbnQ6ZnVuY3Rpb24odixnLGIpe3ZhciBlPXRoaXMucmVuZGVyZXIsXG5oLGMsbSxNLEYseCxkLEMsdCxwLG4saz1bXSxSO3YucmFkaWFsR3JhZGllbnQ/Yz1cInJhZGlhbEdyYWRpZW50XCI6di5saW5lYXJHcmFkaWVudCYmKGM9XCJsaW5lYXJHcmFkaWVudFwiKTtpZihjKXttPXZbY107Rj1lLmdyYWRpZW50cztkPXYuc3RvcHM7cD1iLnJhZGlhbFJlZmVyZW5jZTt3KG0pJiYodltjXT1tPXt4MTptWzBdLHkxOm1bMV0seDI6bVsyXSx5MjptWzNdLGdyYWRpZW50VW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwifSk7XCJyYWRpYWxHcmFkaWVudFwiPT09YyYmcCYmIXUobS5ncmFkaWVudFVuaXRzKSYmKE09bSxtPXkobSxlLmdldFJhZGlhbEF0dHIocCxNKSx7Z3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9KSk7Zm9yKG4gaW4gbSlcImlkXCIhPT1uJiZrLnB1c2gobixtW25dKTtmb3IobiBpbiBkKWsucHVzaChkW25dKTtrPWsuam9pbihcIixcIik7RltrXT9wPUZba10uYXR0cihcImlkXCIpOihtLmlkPXA9YS51bmlxdWVLZXkoKSxGW2tdPXg9ZS5jcmVhdGVFbGVtZW50KGMpLmF0dHIobSkuYWRkKGUuZGVmcyksXG54LnJhZEF0dHI9TSx4LnN0b3BzPVtdLHooZCxmdW5jdGlvbih2KXswPT09dlsxXS5pbmRleE9mKFwicmdiYVwiKT8oaD1hLmNvbG9yKHZbMV0pLEM9aC5nZXQoXCJyZ2JcIiksdD1oLmdldChcImFcIikpOihDPXZbMV0sdD0xKTt2PWUuY3JlYXRlRWxlbWVudChcInN0b3BcIikuYXR0cih7b2Zmc2V0OnZbMF0sXCJzdG9wLWNvbG9yXCI6QyxcInN0b3Atb3BhY2l0eVwiOnR9KS5hZGQoeCk7eC5zdG9wcy5wdXNoKHYpfSkpO1I9XCJ1cmwoXCIrZS51cmwrXCIjXCIrcCtcIilcIjtiLnNldEF0dHJpYnV0ZShnLFIpO2IuZ3JhZGllbnQ9azt2LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFJ9fX0sYXBwbHlUZXh0T3V0bGluZTpmdW5jdGlvbih2KXt2YXIgZz10aGlzLmVsZW1lbnQsYixlLGMsaCxtOy0xIT09di5pbmRleE9mKFwiY29udHJhc3RcIikmJih2PXYucmVwbGFjZSgvY29udHJhc3QvZyx0aGlzLnJlbmRlcmVyLmdldENvbnRyYXN0KGcuc3R5bGUuZmlsbCkpKTt2PXYuc3BsaXQoXCIgXCIpO2U9dlt2Lmxlbmd0aC0xXTtcbmlmKChjPXZbMF0pJiZcIm5vbmVcIiE9PWMmJmEuc3ZnKXt0aGlzLmZha2VUUz0hMDt2PVtdLnNsaWNlLmNhbGwoZy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRzcGFuXCIpKTt0aGlzLnlTZXR0ZXI9dGhpcy54U2V0dGVyO2M9Yy5yZXBsYWNlKC8oXltcXGRcXC5dKykoLio/KSQvZyxmdW5jdGlvbihhLHYsZyl7cmV0dXJuIDIqditnfSk7Zm9yKG09di5sZW5ndGg7bS0tOyliPXZbbV0sXCJoaWdoY2hhcnRzLXRleHQtb3V0bGluZVwiPT09Yi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSYmcCh2LGcucmVtb3ZlQ2hpbGQoYikpO2g9Zy5maXJzdENoaWxkO3oodixmdW5jdGlvbihhLHYpezA9PT12JiYoYS5zZXRBdHRyaWJ1dGUoXCJ4XCIsZy5nZXRBdHRyaWJ1dGUoXCJ4XCIpKSx2PWcuZ2V0QXR0cmlidXRlKFwieVwiKSxhLnNldEF0dHJpYnV0ZShcInlcIix2fHwwKSxudWxsPT09diYmZy5zZXRBdHRyaWJ1dGUoXCJ5XCIsMCkpO2E9YS5jbG9uZU5vZGUoMSk7cihhLHtcImNsYXNzXCI6XCJoaWdoY2hhcnRzLXRleHQtb3V0bGluZVwiLFxuZmlsbDplLHN0cm9rZTplLFwic3Ryb2tlLXdpZHRoXCI6YyxcInN0cm9rZS1saW5lam9pblwiOlwicm91bmRcIn0pO2cuaW5zZXJ0QmVmb3JlKGEsaCl9KX19LGF0dHI6ZnVuY3Rpb24oYSxnLGIsZSl7dmFyIHYsYz10aGlzLmVsZW1lbnQsaCxtPXRoaXMsTTtcInN0cmluZ1wiPT09dHlwZW9mIGEmJnZvaWQgMCE9PWcmJih2PWEsYT17fSxhW3ZdPWcpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSltPSh0aGlzW2ErXCJHZXR0ZXJcIl18fHRoaXMuX2RlZmF1bHRHZXR0ZXIpLmNhbGwodGhpcyxhLGMpO2Vsc2V7Zm9yKHYgaW4gYSlnPWFbdl0sTT0hMSxlfHxGKHRoaXMsdiksdGhpcy5zeW1ib2xOYW1lJiYvXih4fHl8d2lkdGh8aGVpZ2h0fHJ8c3RhcnR8ZW5kfGlubmVyUnxhbmNob3JYfGFuY2hvclkpJC8udGVzdCh2KSYmKGh8fCh0aGlzLnN5bWJvbEF0dHIoYSksaD0hMCksTT0hMCksIXRoaXMucm90YXRpb258fFwieFwiIT09diYmXCJ5XCIhPT12fHwodGhpcy5kb1RyYW5zZm9ybT0hMCksTXx8KE09dGhpc1t2K1xuXCJTZXR0ZXJcIl18fHRoaXMuX2RlZmF1bHRTZXR0ZXIsTS5jYWxsKHRoaXMsZyx2LGMpLHRoaXMuc2hhZG93cyYmL14od2lkdGh8aGVpZ2h0fHZpc2liaWxpdHl8eHx5fGR8dHJhbnNmb3JtfGN4fGN5fHIpJC8udGVzdCh2KSYmdGhpcy51cGRhdGVTaGFkb3dzKHYsZyxNKSk7dGhpcy5kb1RyYW5zZm9ybSYmKHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5kb1RyYW5zZm9ybT0hMSl9YiYmYigpO3JldHVybiBtfSx1cGRhdGVTaGFkb3dzOmZ1bmN0aW9uKGEsZyxiKXtmb3IodmFyIHY9dGhpcy5zaGFkb3dzLGU9di5sZW5ndGg7ZS0tOyliLmNhbGwodltlXSxcImhlaWdodFwiPT09YT9NYXRoLm1heChnLSh2W2VdLmN1dEhlaWdodHx8MCksMCk6XCJkXCI9PT1hP3RoaXMuZDpnLGEsdltlXSl9LGFkZENsYXNzOmZ1bmN0aW9uKGEsZyl7dmFyIHY9dGhpcy5hdHRyKFwiY2xhc3NcIil8fFwiXCI7LTE9PT12LmluZGV4T2YoYSkmJihnfHwoYT0odisodj9cIiBcIjpcIlwiKSthKS5yZXBsYWNlKFwiICBcIixcIiBcIikpLFxudGhpcy5hdHRyKFwiY2xhc3NcIixhKSk7cmV0dXJuIHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVybi0xIT09cih0aGlzLmVsZW1lbnQsXCJjbGFzc1wiKS5pbmRleE9mKGEpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXtyKHRoaXMuZWxlbWVudCxcImNsYXNzXCIsKHIodGhpcy5lbGVtZW50LFwiY2xhc3NcIil8fFwiXCIpLnJlcGxhY2UoYSxcIlwiKSk7cmV0dXJuIHRoaXN9LHN5bWJvbEF0dHI6ZnVuY3Rpb24oYSl7dmFyIHY9dGhpczt6KFwieCB5IHIgc3RhcnQgZW5kIHdpZHRoIGhlaWdodCBpbm5lclIgYW5jaG9yWCBhbmNob3JZXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGcpe3ZbZ109SyhhW2ddLHZbZ10pfSk7di5hdHRyKHtkOnYucmVuZGVyZXIuc3ltYm9sc1t2LnN5bWJvbE5hbWVdKHYueCx2Lnksdi53aWR0aCx2LmhlaWdodCx2KX0pfSxjbGlwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHIoXCJjbGlwLXBhdGhcIixhP1widXJsKFwiK3RoaXMucmVuZGVyZXIudXJsK1wiI1wiK2EuaWQrXCIpXCI6XG5cIm5vbmVcIil9LGNyaXNwOmZ1bmN0aW9uKGEsZyl7dmFyIHYsYj17fSxlO2c9Z3x8YS5zdHJva2VXaWR0aHx8MDtlPU1hdGgucm91bmQoZyklMi8yO2EueD1NYXRoLmZsb29yKGEueHx8dGhpcy54fHwwKStlO2EueT1NYXRoLmZsb29yKGEueXx8dGhpcy55fHwwKStlO2Eud2lkdGg9TWF0aC5mbG9vcigoYS53aWR0aHx8dGhpcy53aWR0aHx8MCktMiplKTthLmhlaWdodD1NYXRoLmZsb29yKChhLmhlaWdodHx8dGhpcy5oZWlnaHR8fDApLTIqZSk7dShhLnN0cm9rZVdpZHRoKSYmKGEuc3Ryb2tlV2lkdGg9Zyk7Zm9yKHYgaW4gYSl0aGlzW3ZdIT09YVt2XSYmKHRoaXNbdl09Ylt2XT1hW3ZdKTtyZXR1cm4gYn0sY3NzOmZ1bmN0aW9uKGEpe3ZhciB2PXRoaXMuc3R5bGVzLGc9e30sZT10aGlzLmVsZW1lbnQsYyxoPVwiXCIsbT0hdixGPVtcInRleHRPdXRsaW5lXCIsXCJ0ZXh0T3ZlcmZsb3dcIixcIndpZHRoXCJdO2EmJmEuY29sb3ImJihhLmZpbGw9YS5jb2xvcik7aWYodilmb3IoYyBpbiBhKWFbY10hPT1cbnZbY10mJihnW2NdPWFbY10sbT0hMCk7aWYobSl7diYmKGE9Yih2LGcpKTt2PXRoaXMudGV4dFdpZHRoPWEmJmEud2lkdGgmJlwiYXV0b1wiIT09YS53aWR0aCYmXCJ0ZXh0XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJkooYS53aWR0aCk7dGhpcy5zdHlsZXM9YTt2JiYhUSYmdGhpcy5yZW5kZXJlci5mb3JFeHBvcnQmJmRlbGV0ZSBhLndpZHRoO2lmKHgmJiFRKXEodGhpcy5lbGVtZW50LGEpO2Vsc2V7dj1mdW5jdGlvbihhLHYpe3JldHVyblwiLVwiK3YudG9Mb3dlckNhc2UoKX07Zm9yKGMgaW4gYSktMT09PUQoYyxGKSYmKGgrPWMucmVwbGFjZSgvKFtBLVpdKS9nLHYpK1wiOlwiK2FbY10rXCI7XCIpO2gmJnIoZSxcInN0eWxlXCIsaCl9dGhpcy5hZGRlZCYmKFwidGV4dFwiPT09dGhpcy5lbGVtZW50Lm5vZGVOYW1lJiZ0aGlzLnJlbmRlcmVyLmJ1aWxkVGV4dCh0aGlzKSxhJiZhLnRleHRPdXRsaW5lJiZ0aGlzLmFwcGx5VGV4dE91dGxpbmUoYS50ZXh0T3V0bGluZSkpfXJldHVybiB0aGlzfSxzdHJva2VXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzW1wic3Ryb2tlLXdpZHRoXCJdfHxcbjB9LG9uOmZ1bmN0aW9uKGEsZyl7dmFyIHY9dGhpcyxlPXYuZWxlbWVudDt0JiZcImNsaWNrXCI9PT1hPyhlLm9udG91Y2hzdGFydD1mdW5jdGlvbihhKXt2LnRvdWNoRXZlbnRGaXJlZD1EYXRlLm5vdygpO2EucHJldmVudERlZmF1bHQoKTtnLmNhbGwoZSxhKX0sZS5vbmNsaWNrPWZ1bmN0aW9uKGEpeygtMT09PU8ubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKXx8MTEwMDxEYXRlLm5vdygpLSh2LnRvdWNoRXZlbnRGaXJlZHx8MCkpJiZnLmNhbGwoZSxhKX0pOmVbXCJvblwiK2FdPWc7cmV0dXJuIHRoaXN9LHNldFJhZGlhbFJlZmVyZW5jZTpmdW5jdGlvbihhKXt2YXIgdj10aGlzLnJlbmRlcmVyLmdyYWRpZW50c1t0aGlzLmVsZW1lbnQuZ3JhZGllbnRdO3RoaXMuZWxlbWVudC5yYWRpYWxSZWZlcmVuY2U9YTt2JiZ2LnJhZEF0dHImJnYuYW5pbWF0ZSh0aGlzLnJlbmRlcmVyLmdldFJhZGlhbEF0dHIoYSx2LnJhZEF0dHIpKTtyZXR1cm4gdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsXG5nKXtyZXR1cm4gdGhpcy5hdHRyKHt0cmFuc2xhdGVYOmEsdHJhbnNsYXRlWTpnfSl9LGludmVydDpmdW5jdGlvbihhKXt0aGlzLmludmVydGVkPWE7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtyZXR1cm4gdGhpc30sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2xhdGVYfHwwLGc9dGhpcy50cmFuc2xhdGVZfHwwLGU9dGhpcy5zY2FsZVgsYj10aGlzLnNjYWxlWSxjPXRoaXMuaW52ZXJ0ZWQsaD10aGlzLnJvdGF0aW9uLG09dGhpcy5lbGVtZW50O2MmJihhKz10aGlzLndpZHRoLGcrPXRoaXMuaGVpZ2h0KTthPVtcInRyYW5zbGF0ZShcIithK1wiLFwiK2crXCIpXCJdO2M/YS5wdXNoKFwicm90YXRlKDkwKSBzY2FsZSgtMSwxKVwiKTpoJiZhLnB1c2goXCJyb3RhdGUoXCIraCtcIiBcIisobS5nZXRBdHRyaWJ1dGUoXCJ4XCIpfHwwKStcIiBcIisobS5nZXRBdHRyaWJ1dGUoXCJ5XCIpfHwwKStcIilcIik7KHUoZSl8fHUoYikpJiZhLnB1c2goXCJzY2FsZShcIitLKGUsMSkrXCIgXCIrSyhiLDEpK1wiKVwiKTtcbmEubGVuZ3RoJiZtLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGEuam9pbihcIiBcIikpfSx0b0Zyb250OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50O2EucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChhKTtyZXR1cm4gdGhpc30sYWxpZ246ZnVuY3Rpb24oYSxnLGUpe3ZhciB2LGIsYyxoLG09e307Yj10aGlzLnJlbmRlcmVyO2M9Yi5hbGlnbmVkT2JqZWN0czt2YXIgRix4O2lmKGEpe2lmKHRoaXMuYWxpZ25PcHRpb25zPWEsdGhpcy5hbGlnbkJ5VHJhbnNsYXRlPWcsIWV8fEUoZSkpdGhpcy5hbGlnblRvPXY9ZXx8XCJyZW5kZXJlclwiLHAoYyx0aGlzKSxjLnB1c2godGhpcyksZT1udWxsfWVsc2UgYT10aGlzLmFsaWduT3B0aW9ucyxnPXRoaXMuYWxpZ25CeVRyYW5zbGF0ZSx2PXRoaXMuYWxpZ25UbztlPUsoZSxiW3ZdLGIpO3Y9YS5hbGlnbjtiPWEudmVydGljYWxBbGlnbjtjPShlLnh8fDApKyhhLnh8fDApO2g9KGUueXx8MCkrKGEueXx8MCk7XCJyaWdodFwiPT09dj9GPTE6XCJjZW50ZXJcIj09PVxudiYmKEY9Mik7RiYmKGMrPShlLndpZHRoLShhLndpZHRofHwwKSkvRik7bVtnP1widHJhbnNsYXRlWFwiOlwieFwiXT1NYXRoLnJvdW5kKGMpO1wiYm90dG9tXCI9PT1iP3g9MTpcIm1pZGRsZVwiPT09YiYmKHg9Mik7eCYmKGgrPShlLmhlaWdodC0oYS5oZWlnaHR8fDApKS94KTttW2c/XCJ0cmFuc2xhdGVZXCI6XCJ5XCJdPU1hdGgucm91bmQoaCk7dGhpc1t0aGlzLnBsYWNlZD9cImFuaW1hdGVcIjpcImF0dHJcIl0obSk7dGhpcy5wbGFjZWQ9ITA7dGhpcy5hbGlnbkF0dHI9bTtyZXR1cm4gdGhpc30sZ2V0QkJveDpmdW5jdGlvbihhLGcpe3ZhciB2LGU9dGhpcy5yZW5kZXJlcixjLGg9dGhpcy5lbGVtZW50LG09dGhpcy5zdHlsZXMsRix4PXRoaXMudGV4dFN0cix5LE09ZS5jYWNoZSxDPWUuY2FjaGVLZXlzLHQ7Zz1LKGcsdGhpcy5yb3RhdGlvbik7Yz1nKmQ7Rj1tJiZtLmZvbnRTaXplO3ZvaWQgMCE9PXgmJih0PXgudG9TdHJpbmcoKSwtMT09PXQuaW5kZXhPZihcIlxceDNjXCIpJiYodD10LnJlcGxhY2UoL1swLTldL2csXG5cIjBcIikpLHQrPVtcIlwiLGd8fDAsRixtJiZtLndpZHRoLG0mJm0udGV4dE92ZXJmbG93XS5qb2luKCkpO3QmJiFhJiYodj1NW3RdKTtpZighdil7aWYoaC5uYW1lc3BhY2VVUkk9PT10aGlzLlNWR19OU3x8ZS5mb3JFeHBvcnQpe3RyeXsoeT10aGlzLmZha2VUUyYmZnVuY3Rpb24oYSl7eihoLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlnaGNoYXJ0cy10ZXh0LW91dGxpbmVcIiksZnVuY3Rpb24odil7di5zdHlsZS5kaXNwbGF5PWF9KX0pJiZ5KFwibm9uZVwiKSx2PWguZ2V0QkJveD9iKHt9LGguZ2V0QkJveCgpKTp7d2lkdGg6aC5vZmZzZXRXaWR0aCxoZWlnaHQ6aC5vZmZzZXRIZWlnaHR9LHkmJnkoXCJcIil9Y2F0Y2goWCl7fWlmKCF2fHwwPnYud2lkdGgpdj17d2lkdGg6MCxoZWlnaHQ6MH19ZWxzZSB2PXRoaXMuaHRtbEdldEJCb3goKTtlLmlzU1ZHJiYoYT12LndpZHRoLGU9di5oZWlnaHQsbSYmXCIxMXB4XCI9PT1tLmZvbnRTaXplJiYxNz09PU1hdGgucm91bmQoZSkmJih2LmhlaWdodD1lPTE0KSxcbmcmJih2LndpZHRoPU1hdGguYWJzKGUqTWF0aC5zaW4oYykpK01hdGguYWJzKGEqTWF0aC5jb3MoYykpLHYuaGVpZ2h0PU1hdGguYWJzKGUqTWF0aC5jb3MoYykpK01hdGguYWJzKGEqTWF0aC5zaW4oYykpKSk7aWYodCYmMDx2LmhlaWdodCl7Zm9yKDsyNTA8Qy5sZW5ndGg7KWRlbGV0ZSBNW0Muc2hpZnQoKV07TVt0XXx8Qy5wdXNoKHQpO01bdF09dn19cmV0dXJuIHZ9LHNob3c6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cih7dmlzaWJpbGl0eTphP1wiaW5oZXJpdFwiOlwidmlzaWJsZVwifSl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyKHt2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9KX0sZmFkZU91dDpmdW5jdGlvbihhKXt2YXIgdj10aGlzO3YuYW5pbWF0ZSh7b3BhY2l0eTowfSx7ZHVyYXRpb246YXx8MTUwLGNvbXBsZXRlOmZ1bmN0aW9uKCl7di5hdHRyKHt5Oi05OTk5fSl9fSl9LGFkZDpmdW5jdGlvbihhKXt2YXIgdj10aGlzLnJlbmRlcmVyLGc9dGhpcy5lbGVtZW50LFxuZTthJiYodGhpcy5wYXJlbnRHcm91cD1hKTt0aGlzLnBhcmVudEludmVydGVkPWEmJmEuaW52ZXJ0ZWQ7dm9pZCAwIT09dGhpcy50ZXh0U3RyJiZ2LmJ1aWxkVGV4dCh0aGlzKTt0aGlzLmFkZGVkPSEwO2lmKCFhfHxhLmhhbmRsZVp8fHRoaXMuekluZGV4KWU9dGhpcy56SW5kZXhTZXR0ZXIoKTtlfHwoYT9hLmVsZW1lbnQ6di5ib3gpLmFwcGVuZENoaWxkKGcpO2lmKHRoaXMub25BZGQpdGhpcy5vbkFkZCgpO3JldHVybiB0aGlzfSxzYWZlUmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIHY9YS5wYXJlbnROb2RlO3YmJnYucmVtb3ZlQ2hpbGQoYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGc9YS5lbGVtZW50fHx7fSxlPWEucmVuZGVyZXIuaXNTVkcmJlwiU1BBTlwiPT09Zy5ub2RlTmFtZSYmYS5wYXJlbnRHcm91cCxiLGM7Zy5vbmNsaWNrPWcub25tb3VzZW91dD1nLm9ubW91c2VvdmVyPWcub25tb3VzZW1vdmU9Zy5wb2ludD1udWxsO0YoYSk7YS5jbGlwUGF0aCYmKHooYS5lbGVtZW50Lm93bmVyU1ZHRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2NsaXAtcGF0aF1cIiksXG5mdW5jdGlvbih2KXstMTx2LmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKS5pbmRleE9mKGEuY2xpcFBhdGguZWxlbWVudC5pZCkmJnYucmVtb3ZlQXR0cmlidXRlKFwiY2xpcC1wYXRoXCIpfSksYS5jbGlwUGF0aD1hLmNsaXBQYXRoLmRlc3Ryb3koKSk7aWYoYS5zdG9wcyl7Zm9yKGM9MDtjPGEuc3RvcHMubGVuZ3RoO2MrKylhLnN0b3BzW2NdPWEuc3RvcHNbY10uZGVzdHJveSgpO2Euc3RvcHM9bnVsbH1hLnNhZmVSZW1vdmVDaGlsZChnKTtmb3IoYS5kZXN0cm95U2hhZG93cygpO2UmJmUuZGl2JiYwPT09ZS5kaXYuY2hpbGROb2Rlcy5sZW5ndGg7KWc9ZS5wYXJlbnRHcm91cCxhLnNhZmVSZW1vdmVDaGlsZChlLmRpdiksZGVsZXRlIGUuZGl2LGU9ZzthLmFsaWduVG8mJnAoYS5yZW5kZXJlci5hbGlnbmVkT2JqZWN0cyxhKTtmb3IoYiBpbiBhKWRlbGV0ZSBhW2JdO3JldHVybiBudWxsfSxzaGFkb3c6ZnVuY3Rpb24oYSxnLGUpe3ZhciB2PVtdLGIsYyxoPXRoaXMuZWxlbWVudCxtLEYsXG54LHk7aWYoIWEpdGhpcy5kZXN0cm95U2hhZG93cygpO2Vsc2UgaWYoIXRoaXMuc2hhZG93cyl7Rj1LKGEud2lkdGgsMyk7eD0oYS5vcGFjaXR5fHwuMTUpL0Y7eT10aGlzLnBhcmVudEludmVydGVkP1wiKC0xLC0xKVwiOlwiKFwiK0soYS5vZmZzZXRYLDEpK1wiLCBcIitLKGEub2Zmc2V0WSwxKStcIilcIjtmb3IoYj0xO2I8PUY7YisrKWM9aC5jbG9uZU5vZGUoMCksbT0yKkYrMS0yKmIscihjLHtpc1NoYWRvdzpcInRydWVcIixzdHJva2U6YS5jb2xvcnx8XCIjMDAwMDAwXCIsXCJzdHJva2Utb3BhY2l0eVwiOngqYixcInN0cm9rZS13aWR0aFwiOm0sdHJhbnNmb3JtOlwidHJhbnNsYXRlXCIreSxmaWxsOlwibm9uZVwifSksZSYmKHIoYyxcImhlaWdodFwiLE1hdGgubWF4KHIoYyxcImhlaWdodFwiKS1tLDApKSxjLmN1dEhlaWdodD1tKSxnP2cuZWxlbWVudC5hcHBlbmRDaGlsZChjKTpoLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGMsaCksdi5wdXNoKGMpO3RoaXMuc2hhZG93cz12fXJldHVybiB0aGlzfSxkZXN0cm95U2hhZG93czpmdW5jdGlvbigpe3oodGhpcy5zaGFkb3dzfHxcbltdLGZ1bmN0aW9uKGEpe3RoaXMuc2FmZVJlbW92ZUNoaWxkKGEpfSx0aGlzKTt0aGlzLnNoYWRvd3M9dm9pZCAwfSx4R2V0dGVyOmZ1bmN0aW9uKGEpe1wiY2lyY2xlXCI9PT10aGlzLmVsZW1lbnQubm9kZU5hbWUmJihcInhcIj09PWE/YT1cImN4XCI6XCJ5XCI9PT1hJiYoYT1cImN5XCIpKTtyZXR1cm4gdGhpcy5fZGVmYXVsdEdldHRlcihhKX0sX2RlZmF1bHRHZXR0ZXI6ZnVuY3Rpb24oYSl7YT1LKHRoaXNbYV0sdGhpcy5lbGVtZW50P3RoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoYSk6bnVsbCwwKTsvXltcXC0wLTlcXC5dKyQvLnRlc3QoYSkmJihhPXBhcnNlRmxvYXQoYSkpO3JldHVybiBhfSxkU2V0dGVyOmZ1bmN0aW9uKGEsZyxlKXthJiZhLmpvaW4mJihhPWEuam9pbihcIiBcIikpOy8oTmFOfCB7Mn18XiQpLy50ZXN0KGEpJiYoYT1cIk0gMCAwXCIpO2Uuc2V0QXR0cmlidXRlKGcsYSk7dGhpc1tnXT1hfSxkYXNoc3R5bGVTZXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIHYsZz10aGlzW1wic3Ryb2tlLXdpZHRoXCJdO1xuXCJpbmhlcml0XCI9PT1nJiYoZz0xKTtpZihhPWEmJmEudG9Mb3dlckNhc2UoKSl7YT1hLnJlcGxhY2UoXCJzaG9ydGRhc2hkb3Rkb3RcIixcIjMsMSwxLDEsMSwxLFwiKS5yZXBsYWNlKFwic2hvcnRkYXNoZG90XCIsXCIzLDEsMSwxXCIpLnJlcGxhY2UoXCJzaG9ydGRvdFwiLFwiMSwxLFwiKS5yZXBsYWNlKFwic2hvcnRkYXNoXCIsXCIzLDEsXCIpLnJlcGxhY2UoXCJsb25nZGFzaFwiLFwiOCwzLFwiKS5yZXBsYWNlKC9kb3QvZyxcIjEsMyxcIikucmVwbGFjZShcImRhc2hcIixcIjQsMyxcIikucmVwbGFjZSgvLCQvLFwiXCIpLnNwbGl0KFwiLFwiKTtmb3Iodj1hLmxlbmd0aDt2LS07KWFbdl09SihhW3ZdKSpnO2E9YS5qb2luKFwiLFwiKS5yZXBsYWNlKC9OYU4vZyxcIm5vbmVcIik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIixhKX19LGFsaWduU2V0dGVyOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLHtsZWZ0Olwic3RhcnRcIixjZW50ZXI6XCJtaWRkbGVcIixyaWdodDpcImVuZFwifVthXSl9LFxub3BhY2l0eVNldHRlcjpmdW5jdGlvbihhLGcsZSl7dGhpc1tnXT1hO2Uuc2V0QXR0cmlidXRlKGcsYSl9LHRpdGxlU2V0dGVyOmZ1bmN0aW9uKGEpe3ZhciB2PXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpWzBdO3Z8fCh2PW4uY3JlYXRlRWxlbWVudE5TKHRoaXMuU1ZHX05TLFwidGl0bGVcIiksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHYpKTt2LmZpcnN0Q2hpbGQmJnYucmVtb3ZlQ2hpbGQodi5maXJzdENoaWxkKTt2LmFwcGVuZENoaWxkKG4uY3JlYXRlVGV4dE5vZGUoU3RyaW5nKEsoYSksXCJcIikucmVwbGFjZSgvPFtePl0qPi9nLFwiXCIpKSl9LHRleHRTZXR0ZXI6ZnVuY3Rpb24oYSl7YSE9PXRoaXMudGV4dFN0ciYmKGRlbGV0ZSB0aGlzLmJCb3gsdGhpcy50ZXh0U3RyPWEsdGhpcy5hZGRlZCYmdGhpcy5yZW5kZXJlci5idWlsZFRleHQodGhpcykpfSxmaWxsU2V0dGVyOmZ1bmN0aW9uKGEsZyxlKXtcInN0cmluZ1wiPT09dHlwZW9mIGE/ZS5zZXRBdHRyaWJ1dGUoZyxcbmEpOmEmJnRoaXMuY29sb3JHcmFkaWVudChhLGcsZSl9LHZpc2liaWxpdHlTZXR0ZXI6ZnVuY3Rpb24oYSxnLGUpe1wiaW5oZXJpdFwiPT09YT9lLnJlbW92ZUF0dHJpYnV0ZShnKTplLnNldEF0dHJpYnV0ZShnLGEpfSx6SW5kZXhTZXR0ZXI6ZnVuY3Rpb24oYSxnKXt2YXIgdj10aGlzLnJlbmRlcmVyLGU9dGhpcy5wYXJlbnRHcm91cCxiPShlfHx2KS5lbGVtZW50fHx2LmJveCxjLGg9dGhpcy5lbGVtZW50LG07Yz10aGlzLmFkZGVkO3ZhciBGO3UoYSkmJihoLnpJbmRleD1hLGE9K2EsdGhpc1tnXT09PWEmJihjPSExKSx0aGlzW2ddPWEpO2lmKGMpeyhhPXRoaXMuekluZGV4KSYmZSYmKGUuaGFuZGxlWj0hMCk7Zz1iLmNoaWxkTm9kZXM7Zm9yKEY9MDtGPGcubGVuZ3RoJiYhbTtGKyspZT1nW0ZdLGM9ZS56SW5kZXgsZSE9PWgmJihKKGMpPmF8fCF1KGEpJiZ1KGMpfHwwPmEmJiF1KGMpJiZiIT09di5ib3gpJiYoYi5pbnNlcnRCZWZvcmUoaCxlKSxtPSEwKTttfHxiLmFwcGVuZENoaWxkKGgpfXJldHVybiBtfSxcbl9kZWZhdWx0U2V0dGVyOmZ1bmN0aW9uKGEsZyxlKXtlLnNldEF0dHJpYnV0ZShnLGEpfX07Qi5wcm90b3R5cGUueUdldHRlcj1CLnByb3RvdHlwZS54R2V0dGVyO0IucHJvdG90eXBlLnRyYW5zbGF0ZVhTZXR0ZXI9Qi5wcm90b3R5cGUudHJhbnNsYXRlWVNldHRlcj1CLnByb3RvdHlwZS5yb3RhdGlvblNldHRlcj1CLnByb3RvdHlwZS52ZXJ0aWNhbEFsaWduU2V0dGVyPUIucHJvdG90eXBlLnNjYWxlWFNldHRlcj1CLnByb3RvdHlwZS5zY2FsZVlTZXR0ZXI9ZnVuY3Rpb24oYSxnKXt0aGlzW2ddPWE7dGhpcy5kb1RyYW5zZm9ybT0hMH07Qi5wcm90b3R5cGVbXCJzdHJva2Utd2lkdGhTZXR0ZXJcIl09Qi5wcm90b3R5cGUuc3Ryb2tlU2V0dGVyPWZ1bmN0aW9uKGEsZyxlKXt0aGlzW2ddPWE7dGhpcy5zdHJva2UmJnRoaXNbXCJzdHJva2Utd2lkdGhcIl0/KEIucHJvdG90eXBlLmZpbGxTZXR0ZXIuY2FsbCh0aGlzLHRoaXMuc3Ryb2tlLFwic3Ryb2tlXCIsZSksZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixcbnRoaXNbXCJzdHJva2Utd2lkdGhcIl0pLHRoaXMuaGFzU3Ryb2tlPSEwKTpcInN0cm9rZS13aWR0aFwiPT09ZyYmMD09PWEmJnRoaXMuaGFzU3Ryb2tlJiYoZS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHJva2VcIiksdGhpcy5oYXNTdHJva2U9ITEpfTtBPWEuU1ZHUmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtBLnByb3RvdHlwZT17RWxlbWVudDpCLFNWR19OUzpOLGluaXQ6ZnVuY3Rpb24oYSxnLGIsYyxoLEYpe3ZhciB2O2M9dGhpcy5jcmVhdGVFbGVtZW50KFwic3ZnXCIpLmF0dHIoe3ZlcnNpb246XCIxLjFcIixcImNsYXNzXCI6XCJoaWdoY2hhcnRzLXJvb3RcIn0pLmNzcyh0aGlzLmdldFN0eWxlKGMpKTt2PWMuZWxlbWVudDthLmFwcGVuZENoaWxkKHYpOy0xPT09YS5pbm5lckhUTUwuaW5kZXhPZihcInhtbG5zXCIpJiZyKHYsXCJ4bWxuc1wiLHRoaXMuU1ZHX05TKTt0aGlzLmlzU1ZHPSEwO3RoaXMuYm94PXY7dGhpcy5ib3hXcmFwcGVyPWM7dGhpcy5hbGlnbmVkT2JqZWN0cz1cbltdO3RoaXMudXJsPShlfHxtKSYmbi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJhc2VcIikubGVuZ3RoP08ubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLio/JC8sXCJcIikucmVwbGFjZSgvPFtePl0qPi9nLFwiXCIpLnJlcGxhY2UoLyhbXFwoJ1xcKV0pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvIC9nLFwiJTIwXCIpOlwiXCI7dGhpcy5jcmVhdGVFbGVtZW50KFwiZGVzY1wiKS5hZGQoKS5lbGVtZW50LmFwcGVuZENoaWxkKG4uY3JlYXRlVGV4dE5vZGUoXCJDcmVhdGVkIHdpdGggSGlnaGNoYXJ0cyA1LjAuMTBcIikpO3RoaXMuZGVmcz10aGlzLmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIpLmFkZCgpO3RoaXMuYWxsb3dIVE1MPUY7dGhpcy5mb3JFeHBvcnQ9aDt0aGlzLmdyYWRpZW50cz17fTt0aGlzLmNhY2hlPXt9O3RoaXMuY2FjaGVLZXlzPVtdO3RoaXMuaW1nQ291bnQ9MDt0aGlzLnNldFNpemUoZyxiLCExKTt2YXIgeDtlJiZhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGc9ZnVuY3Rpb24oKXtxKGEse2xlZnQ6MCx0b3A6MH0pO1xueD1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3EoYSx7bGVmdDpNYXRoLmNlaWwoeC5sZWZ0KS14LmxlZnQrXCJweFwiLHRvcDpNYXRoLmNlaWwoeC50b3ApLXgudG9wK1wicHhcIn0pfSxnKCksdGhpcy51blN1YlBpeGVsRml4PUgoTyxcInJlc2l6ZVwiLGcpKX0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3R5bGU9Yih7Zm9udEZhbWlseTonXCJMdWNpZGEgR3JhbmRlXCIsIFwiTHVjaWRhIFNhbnMgVW5pY29kZVwiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJyxmb250U2l6ZTpcIjEycHhcIn0sYSl9LHNldFN0eWxlOmZ1bmN0aW9uKGEpe3RoaXMuYm94V3JhcHBlci5jc3ModGhpcy5nZXRTdHlsZShhKSl9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuYm94V3JhcHBlci5nZXRCQm94KCkud2lkdGh9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRlZnM7dGhpcy5ib3g9bnVsbDt0aGlzLmJveFdyYXBwZXI9dGhpcy5ib3hXcmFwcGVyLmRlc3Ryb3koKTtjKHRoaXMuZ3JhZGllbnRzfHxcbnt9KTt0aGlzLmdyYWRpZW50cz1udWxsO2EmJih0aGlzLmRlZnM9YS5kZXN0cm95KCkpO3RoaXMudW5TdWJQaXhlbEZpeCYmdGhpcy51blN1YlBpeGVsRml4KCk7cmV0dXJuIHRoaXMuYWxpZ25lZE9iamVjdHM9bnVsbH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhKXt2YXIgZz1uZXcgdGhpcy5FbGVtZW50O2cuaW5pdCh0aGlzLGEpO3JldHVybiBnfSxkcmF3OkksZ2V0UmFkaWFsQXR0cjpmdW5jdGlvbihhLGcpe3JldHVybntjeDphWzBdLWFbMl0vMitnLmN4KmFbMl0sY3k6YVsxXS1hWzJdLzIrZy5jeSphWzJdLHI6Zy5yKmFbMl19fSxnZXRTcGFuV2lkdGg6ZnVuY3Rpb24oYSxnKXt2YXIgdj1hLmdldEJCb3goITApLndpZHRoOyFRJiZ0aGlzLmZvckV4cG9ydCYmKHY9dGhpcy5tZWFzdXJlU3BhbldpZHRoKGcuZmlyc3RDaGlsZC5kYXRhLGEuc3R5bGVzKSk7cmV0dXJuIHZ9LGFwcGx5RWxsaXBzaXM6ZnVuY3Rpb24oYSxnLGUsYil7dmFyIHY9dGhpcy5nZXRTcGFuV2lkdGgoYSxnKSxcbmM9dj5iLHY9ZSxoLG09MCxGPWUubGVuZ3RoLHg9ZnVuY3Rpb24oYSl7Zy5yZW1vdmVDaGlsZChnLmZpcnN0Q2hpbGQpO2EmJmcuYXBwZW5kQ2hpbGQobi5jcmVhdGVUZXh0Tm9kZShhKSl9O2lmKGMpe2Zvcig7bTw9RjspaD1NYXRoLmNlaWwoKG0rRikvMiksdj1lLnN1YnN0cmluZygwLGgpK1wiXFx1MjAyNlwiLHgodiksdj10aGlzLmdldFNwYW5XaWR0aChhLGcpLG09PT1GP209RisxOnY+Yj9GPWgtMTptPWg7MD09PUYmJngoXCJcIil9cmV0dXJuIGN9LGJ1aWxkVGV4dDpmdW5jdGlvbihhKXt2YXIgZz1hLmVsZW1lbnQsZT10aGlzLHY9ZS5mb3JFeHBvcnQsYj1LKGEudGV4dFN0cixcIlwiKS50b1N0cmluZygpLGM9LTEhPT1iLmluZGV4T2YoXCJcXHgzY1wiKSxtPWcuY2hpbGROb2RlcyxGLHgseSx0LGQ9cihnLFwieFwiKSxDPWEuc3R5bGVzLHA9YS50ZXh0V2lkdGgsaz1DJiZDLmxpbmVIZWlnaHQsdz1DJiZDLnRleHRPdXRsaW5lLHU9QyYmXCJlbGxpcHNpc1wiPT09Qy50ZXh0T3ZlcmZsb3csZj1DJiZcIm5vd3JhcFwiPT09XG5DLndoaXRlU3BhY2UsRT1DJiZDLmZvbnRTaXplLEQsSSxsPW0ubGVuZ3RoLEM9cCYmIWEuYWRkZWQmJnRoaXMuYm94LFA9ZnVuY3Rpb24oYSl7dmFyIHY7dj0vKHB4fGVtKSQvLnRlc3QoYSYmYS5zdHlsZS5mb250U2l6ZSk/YS5zdHlsZS5mb250U2l6ZTpFfHxlLnN0eWxlLmZvbnRTaXplfHwxMjtyZXR1cm4gaz9KKGspOmUuZm9udE1ldHJpY3ModixhLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpP2E6ZykuaH07RD1bYix1LGYsayx3LEUscF0uam9pbigpO2lmKEQhPT1hLnRleHRDYWNoZSl7Zm9yKGEudGV4dENhY2hlPUQ7bC0tOylnLnJlbW92ZUNoaWxkKG1bbF0pO2N8fHd8fHV8fHB8fC0xIT09Yi5pbmRleE9mKFwiIFwiKT8oRj0vPC4qY2xhc3M9XCIoW15cIl0rKVwiLio+Lyx4PS88LipzdHlsZT1cIihbXlwiXSspXCIuKj4vLHk9LzwuKmhyZWY9XCIoaHR0cFteXCJdKylcIi4qPi8sQyYmQy5hcHBlbmRDaGlsZChnKSxiPWM/Yi5yZXBsYWNlKC88KGJ8c3Ryb25nKT4vZywnXFx4M2NzcGFuIHN0eWxlXFx4M2RcImZvbnQtd2VpZ2h0OmJvbGRcIlxceDNlJykucmVwbGFjZSgvPChpfGVtKT4vZyxcbidcXHgzY3NwYW4gc3R5bGVcXHgzZFwiZm9udC1zdHlsZTppdGFsaWNcIlxceDNlJykucmVwbGFjZSgvPGEvZyxcIlxceDNjc3BhblwiKS5yZXBsYWNlKC88XFwvKGJ8c3Ryb25nfGl8ZW18YSk+L2csXCJcXHgzYy9zcGFuXFx4M2VcIikuc3BsaXQoLzxici4qPz4vZyk6W2JdLGI9aChiLGZ1bmN0aW9uKGEpe3JldHVyblwiXCIhPT1hfSkseihiLGZ1bmN0aW9uKGIsYyl7dmFyIG0saD0wO2I9Yi5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpLnJlcGxhY2UoLzxzcGFuL2csXCJ8fHxcXHgzY3NwYW5cIikucmVwbGFjZSgvPFxcL3NwYW4+L2csXCJcXHgzYy9zcGFuXFx4M2V8fHxcIik7bT1iLnNwbGl0KFwifHx8XCIpO3oobSxmdW5jdGlvbihiKXtpZihcIlwiIT09Ynx8MT09PW0ubGVuZ3RoKXt2YXIgQz17fSxrPW4uY3JlYXRlRWxlbWVudE5TKGUuU1ZHX05TLFwidHNwYW5cIiksdyxFO0YudGVzdChiKSYmKHc9Yi5tYXRjaChGKVsxXSxyKGssXCJjbGFzc1wiLHcpKTt4LnRlc3QoYikmJihFPWIubWF0Y2goeClbMV0ucmVwbGFjZSgvKDt8IHxeKWNvbG9yKFsgOl0pLyxcblwiJDFmaWxsJDJcIikscihrLFwic3R5bGVcIixFKSk7eS50ZXN0KGIpJiYhdiYmKHIoayxcIm9uY2xpY2tcIiwnbG9jYXRpb24uaHJlZlxceDNkXCInK2IubWF0Y2goeSlbMV0rJ1wiJykscShrLHtjdXJzb3I6XCJwb2ludGVyXCJ9KSk7Yj0oYi5yZXBsYWNlKC88KC58XFxuKSo/Pi9nLFwiXCIpfHxcIiBcIikucmVwbGFjZSgvJmx0Oy9nLFwiXFx4M2NcIikucmVwbGFjZSgvJmd0Oy9nLFwiXFx4M2VcIik7aWYoXCIgXCIhPT1iKXtrLmFwcGVuZENoaWxkKG4uY3JlYXRlVGV4dE5vZGUoYikpO2g/Qy5keD0wOmMmJm51bGwhPT1kJiYoQy54PWQpO3IoayxDKTtnLmFwcGVuZENoaWxkKGspOyFoJiZJJiYoIVEmJnYmJnEoayx7ZGlzcGxheTpcImJsb2NrXCJ9KSxyKGssXCJkeVwiLFAoaykpKTtpZihwKXtDPWIucmVwbGFjZSgvKFteXFxeXSktL2csXCIkMS0gXCIpLnNwbGl0KFwiIFwiKTt3PTE8bS5sZW5ndGh8fGN8fDE8Qy5sZW5ndGgmJiFmO3ZhciBEPVtdLE0sej1QKGspLGw9YS5yb3RhdGlvbjtmb3IodSYmKHQ9ZS5hcHBseUVsbGlwc2lzKGEsXG5rLGIscCkpOyF1JiZ3JiYoQy5sZW5ndGh8fEQubGVuZ3RoKTspYS5yb3RhdGlvbj0wLE09ZS5nZXRTcGFuV2lkdGgoYSxrKSxiPU0+cCx2b2lkIDA9PT10JiYodD1iKSxiJiYxIT09Qy5sZW5ndGg/KGsucmVtb3ZlQ2hpbGQoay5maXJzdENoaWxkKSxELnVuc2hpZnQoQy5wb3AoKSkpOihDPUQsRD1bXSxDLmxlbmd0aCYmIWYmJihrPW4uY3JlYXRlRWxlbWVudE5TKE4sXCJ0c3BhblwiKSxyKGsse2R5OnoseDpkfSksRSYmcihrLFwic3R5bGVcIixFKSxnLmFwcGVuZENoaWxkKGspKSxNPnAmJihwPU0pKSxDLmxlbmd0aCYmay5hcHBlbmRDaGlsZChuLmNyZWF0ZVRleHROb2RlKEMuam9pbihcIiBcIikucmVwbGFjZSgvLSAvZyxcIi1cIikpKTthLnJvdGF0aW9uPWx9aCsrfX19KTtJPUl8fGcuY2hpbGROb2Rlcy5sZW5ndGh9KSx0JiZhLmF0dHIoXCJ0aXRsZVwiLGEudGV4dFN0ciksQyYmQy5yZW1vdmVDaGlsZChnKSx3JiZhLmFwcGx5VGV4dE91dGxpbmUmJmEuYXBwbHlUZXh0T3V0bGluZSh3KSk6Zy5hcHBlbmRDaGlsZChuLmNyZWF0ZVRleHROb2RlKGIucmVwbGFjZSgvJmx0Oy9nLFxuXCJcXHgzY1wiKS5yZXBsYWNlKC8mZ3Q7L2csXCJcXHgzZVwiKSkpfX0sZ2V0Q29udHJhc3Q6ZnVuY3Rpb24oYSl7YT1sKGEpLnJnYmE7cmV0dXJuIDUxMDxhWzBdK2FbMV0rYVsyXT9cIiMwMDAwMDBcIjpcIiNGRkZGRkZcIn0sYnV0dG9uOmZ1bmN0aW9uKGEsZyxlLGMsbSxoLEYsQyx0KXt2YXIgdj10aGlzLmxhYmVsKGEsZyxlLHQsbnVsbCxudWxsLG51bGwsbnVsbCxcImJ1dHRvblwiKSxkPTA7di5hdHRyKHkoe3BhZGRpbmc6OCxyOjJ9LG0pKTt2YXIgcCxuLGssdzttPXkoe2ZpbGw6XCIjZjdmN2Y3XCIsc3Ryb2tlOlwiI2NjY2NjY1wiLFwic3Ryb2tlLXdpZHRoXCI6MSxzdHlsZTp7Y29sb3I6XCIjMzMzMzMzXCIsY3Vyc29yOlwicG9pbnRlclwiLGZvbnRXZWlnaHQ6XCJub3JtYWxcIn19LG0pO3A9bS5zdHlsZTtkZWxldGUgbS5zdHlsZTtoPXkobSx7ZmlsbDpcIiNlNmU2ZTZcIn0saCk7bj1oLnN0eWxlO2RlbGV0ZSBoLnN0eWxlO0Y9eShtLHtmaWxsOlwiI2U2ZWJmNVwiLHN0eWxlOntjb2xvcjpcIiMwMDAwMDBcIixmb250V2VpZ2h0OlwiYm9sZFwifX0sXG5GKTtrPUYuc3R5bGU7ZGVsZXRlIEYuc3R5bGU7Qz15KG0se3N0eWxlOntjb2xvcjpcIiNjY2NjY2NcIn19LEMpO3c9Qy5zdHlsZTtkZWxldGUgQy5zdHlsZTtIKHYuZWxlbWVudCx4P1wibW91c2VvdmVyXCI6XCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXszIT09ZCYmdi5zZXRTdGF0ZSgxKX0pO0godi5lbGVtZW50LHg/XCJtb3VzZW91dFwiOlwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7MyE9PWQmJnYuc2V0U3RhdGUoZCl9KTt2LnNldFN0YXRlPWZ1bmN0aW9uKGEpezEhPT1hJiYodi5zdGF0ZT1kPWEpO3YucmVtb3ZlQ2xhc3MoL2hpZ2hjaGFydHMtYnV0dG9uLShub3JtYWx8aG92ZXJ8cHJlc3NlZHxkaXNhYmxlZCkvKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtYnV0dG9uLVwiK1tcIm5vcm1hbFwiLFwiaG92ZXJcIixcInByZXNzZWRcIixcImRpc2FibGVkXCJdW2F8fDBdKTt2LmF0dHIoW20saCxGLENdW2F8fDBdKS5jc3MoW3AsbixrLHddW2F8fDBdKX07di5hdHRyKG0pLmNzcyhiKHtjdXJzb3I6XCJkZWZhdWx0XCJ9LFxucCkpO3JldHVybiB2Lm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXszIT09ZCYmYy5jYWxsKHYsYSl9KX0sY3Jpc3BMaW5lOmZ1bmN0aW9uKGEsZyl7YVsxXT09PWFbNF0mJihhWzFdPWFbNF09TWF0aC5yb3VuZChhWzFdKS1nJTIvMik7YVsyXT09PWFbNV0mJihhWzJdPWFbNV09TWF0aC5yb3VuZChhWzJdKStnJTIvMik7cmV0dXJuIGF9LHBhdGg6ZnVuY3Rpb24oYSl7dmFyIGc9e2ZpbGw6XCJub25lXCJ9O3coYSk/Zy5kPWE6QyhhKSYmYihnLGEpO3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIpLmF0dHIoZyl9LGNpcmNsZTpmdW5jdGlvbihhLGcsZSl7YT1DKGEpP2E6e3g6YSx5OmcscjplfTtnPXRoaXMuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiKTtnLnhTZXR0ZXI9Zy55U2V0dGVyPWZ1bmN0aW9uKGEsZyxlKXtlLnNldEF0dHJpYnV0ZShcImNcIitnLGEpfTtyZXR1cm4gZy5hdHRyKGEpfSxhcmM6ZnVuY3Rpb24oYSxnLGUsYixjLG0pe0MoYSk/KGI9YSxnPWIueSxlPWIucixhPWIueCk6XG5iPXtpbm5lclI6YixzdGFydDpjLGVuZDptfTthPXRoaXMuc3ltYm9sKFwiYXJjXCIsYSxnLGUsZSxiKTthLnI9ZTtyZXR1cm4gYX0scmVjdDpmdW5jdGlvbihhLGcsZSxiLGMsbSl7Yz1DKGEpP2EucjpjO3ZhciB2PXRoaXMuY3JlYXRlRWxlbWVudChcInJlY3RcIik7YT1DKGEpP2E6dm9pZCAwPT09YT97fTp7eDphLHk6Zyx3aWR0aDpNYXRoLm1heChlLDApLGhlaWdodDpNYXRoLm1heChiLDApfTt2b2lkIDAhPT1tJiYoYS5zdHJva2VXaWR0aD1tLGE9di5jcmlzcChhKSk7YS5maWxsPVwibm9uZVwiO2MmJihhLnI9Yyk7di5yU2V0dGVyPWZ1bmN0aW9uKGEsZyxlKXtyKGUse3J4OmEscnk6YX0pfTtyZXR1cm4gdi5hdHRyKGEpfSxzZXRTaXplOmZ1bmN0aW9uKGEsZyxlKXt2YXIgYj10aGlzLmFsaWduZWRPYmplY3RzLHY9Yi5sZW5ndGg7dGhpcy53aWR0aD1hO3RoaXMuaGVpZ2h0PWc7Zm9yKHRoaXMuYm94V3JhcHBlci5hbmltYXRlKHt3aWR0aDphLGhlaWdodDpnfSx7c3RlcDpmdW5jdGlvbigpe3RoaXMuYXR0cih7dmlld0JveDpcIjAgMCBcIitcbnRoaXMuYXR0cihcIndpZHRoXCIpK1wiIFwiK3RoaXMuYXR0cihcImhlaWdodFwiKX0pfSxkdXJhdGlvbjpLKGUsITApP3ZvaWQgMDowfSk7di0tOyliW3ZdLmFsaWduKCl9LGc6ZnVuY3Rpb24oYSl7dmFyIGc9dGhpcy5jcmVhdGVFbGVtZW50KFwiZ1wiKTtyZXR1cm4gYT9nLmF0dHIoe1wiY2xhc3NcIjpcImhpZ2hjaGFydHMtXCIrYX0pOmd9LGltYWdlOmZ1bmN0aW9uKGEsZyxlLGMsbSl7dmFyIHY9e3ByZXNlcnZlQXNwZWN0UmF0aW86XCJub25lXCJ9OzE8YXJndW1lbnRzLmxlbmd0aCYmYih2LHt4OmcseTplLHdpZHRoOmMsaGVpZ2h0Om19KTt2PXRoaXMuY3JlYXRlRWxlbWVudChcImltYWdlXCIpLmF0dHIodik7di5lbGVtZW50LnNldEF0dHJpYnV0ZU5TP3YuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImhyZWZcIixhKTp2LmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaGMtc3ZnLWhyZWZcIixhKTtyZXR1cm4gdn0sc3ltYm9sOmZ1bmN0aW9uKGEsZyxlLGMsbSxcbmgpe3ZhciB2PXRoaXMsRix4PXRoaXMuc3ltYm9sc1thXSx5PXUoZykmJngmJnRoaXMuc3ltYm9sc1thXShNYXRoLnJvdW5kKGcpLE1hdGgucm91bmQoZSksYyxtLGgpLEM9L151cmxcXCgoLio/KVxcKSQvLGQsdDt4PyhGPXRoaXMucGF0aCh5KSxGLmF0dHIoXCJmaWxsXCIsXCJub25lXCIpLGIoRix7c3ltYm9sTmFtZTphLHg6Zyx5OmUsd2lkdGg6YyxoZWlnaHQ6bX0pLGgmJmIoRixoKSk6Qy50ZXN0KGEpJiYoZD1hLm1hdGNoKEMpWzFdLEY9dGhpcy5pbWFnZShkKSxGLmltZ3dpZHRoPUsoUFtkXSYmUFtkXS53aWR0aCxoJiZoLndpZHRoKSxGLmltZ2hlaWdodD1LKFBbZF0mJlBbZF0uaGVpZ2h0LGgmJmguaGVpZ2h0KSx0PWZ1bmN0aW9uKCl7Ri5hdHRyKHt3aWR0aDpGLndpZHRoLGhlaWdodDpGLmhlaWdodH0pfSx6KFtcIndpZHRoXCIsXCJoZWlnaHRcIl0sZnVuY3Rpb24oYSl7RlthK1wiU2V0dGVyXCJdPWZ1bmN0aW9uKGEsZyl7dmFyIGU9e30sYj10aGlzW1wiaW1nXCIrZ10sdj1cIndpZHRoXCI9PT1nP1widHJhbnNsYXRlWFwiOlxuXCJ0cmFuc2xhdGVZXCI7dGhpc1tnXT1hO3UoYikmJih0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoZyxiKSx0aGlzLmFsaWduQnlUcmFuc2xhdGV8fChlW3ZdPSgodGhpc1tnXXx8MCktYikvMix0aGlzLmF0dHIoZSkpKX19KSx1KGcpJiZGLmF0dHIoe3g6Zyx5OmV9KSxGLmlzSW1nPSEwLHUoRi5pbWd3aWR0aCkmJnUoRi5pbWdoZWlnaHQpP3QoKTooRi5hdHRyKHt3aWR0aDowLGhlaWdodDowfSksayhcImltZ1wiLHtvbmxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1mW3YuY2hhcnRJbmRleF07MD09PXRoaXMud2lkdGgmJihxKHRoaXMse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItOTk5ZW1cIn0pLG4uYm9keS5hcHBlbmRDaGlsZCh0aGlzKSk7UFtkXT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9O0YuaW1nd2lkdGg9dGhpcy53aWR0aDtGLmltZ2hlaWdodD10aGlzLmhlaWdodDtGLmVsZW1lbnQmJnQoKTt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbnYuaW1nQ291bnQtLTtpZighdi5pbWdDb3VudCYmYSYmYS5vbmxvYWQpYS5vbmxvYWQoKX0sc3JjOmR9KSx0aGlzLmltZ0NvdW50KyspKTtyZXR1cm4gRn0sc3ltYm9sczp7Y2lyY2xlOmZ1bmN0aW9uKGEsZyxlLGIpe3JldHVybiB0aGlzLmFyYyhhK2UvMixnK2IvMixlLzIsYi8yLHtzdGFydDowLGVuZDoyKk1hdGguUEksb3BlbjohMX0pfSxzcXVhcmU6ZnVuY3Rpb24oYSxnLGUsYil7cmV0dXJuW1wiTVwiLGEsZyxcIkxcIixhK2UsZyxhK2UsZytiLGEsZytiLFwiWlwiXX0sdHJpYW5nbGU6ZnVuY3Rpb24oYSxnLGUsYil7cmV0dXJuW1wiTVwiLGErZS8yLGcsXCJMXCIsYStlLGcrYixhLGcrYixcIlpcIl19LFwidHJpYW5nbGUtZG93blwiOmZ1bmN0aW9uKGEsZyxlLGIpe3JldHVybltcIk1cIixhLGcsXCJMXCIsYStlLGcsYStlLzIsZytiLFwiWlwiXX0sZGlhbW9uZDpmdW5jdGlvbihhLGcsZSxiKXtyZXR1cm5bXCJNXCIsYStlLzIsZyxcIkxcIixhK2UsZytiLzIsYStlLzIsZytiLGEsZytiLzIsXCJaXCJdfSxhcmM6ZnVuY3Rpb24oYSxcbmcsZSxiLGMpe3ZhciB2PWMuc3RhcnQsbT1jLnJ8fGUsaD1jLnJ8fGJ8fGUsRj1jLmVuZC0uMDAxO2U9Yy5pbm5lclI7Yj1jLm9wZW47dmFyIHg9TWF0aC5jb3ModikseT1NYXRoLnNpbih2KSxDPU1hdGguY29zKEYpLEY9TWF0aC5zaW4oRik7Yz1jLmVuZC12PE1hdGguUEk/MDoxO209W1wiTVwiLGErbSp4LGcraCp5LFwiQVwiLG0saCwwLGMsMSxhK20qQyxnK2gqRl07dShlKSYmbS5wdXNoKGI/XCJNXCI6XCJMXCIsYStlKkMsZytlKkYsXCJBXCIsZSxlLDAsYywwLGErZSp4LGcrZSp5KTttLnB1c2goYj9cIlwiOlwiWlwiKTtyZXR1cm4gbX0sY2FsbG91dDpmdW5jdGlvbihhLGcsZSxiLGMpe3ZhciBtPU1hdGgubWluKGMmJmMucnx8MCxlLGIpLGg9bSs2LHY9YyYmYy5hbmNob3JYO2M9YyYmYy5hbmNob3JZO3ZhciBGO0Y9W1wiTVwiLGErbSxnLFwiTFwiLGErZS1tLGcsXCJDXCIsYStlLGcsYStlLGcsYStlLGcrbSxcIkxcIixhK2UsZytiLW0sXCJDXCIsYStlLGcrYixhK2UsZytiLGErZS1tLGcrYixcIkxcIixhK20sZytiLFwiQ1wiLFxuYSxnK2IsYSxnK2IsYSxnK2ItbSxcIkxcIixhLGcrbSxcIkNcIixhLGcsYSxnLGErbSxnXTt2JiZ2PmU/Yz5nK2gmJmM8ZytiLWg/Ri5zcGxpY2UoMTMsMyxcIkxcIixhK2UsYy02LGErZSs2LGMsYStlLGMrNixhK2UsZytiLW0pOkYuc3BsaWNlKDEzLDMsXCJMXCIsYStlLGIvMix2LGMsYStlLGIvMixhK2UsZytiLW0pOnYmJjA+dj9jPmcraCYmYzxnK2ItaD9GLnNwbGljZSgzMywzLFwiTFwiLGEsYys2LGEtNixjLGEsYy02LGEsZyttKTpGLnNwbGljZSgzMywzLFwiTFwiLGEsYi8yLHYsYyxhLGIvMixhLGcrbSk6YyYmYz5iJiZ2PmEraCYmdjxhK2UtaD9GLnNwbGljZSgyMywzLFwiTFwiLHYrNixnK2IsdixnK2IrNix2LTYsZytiLGErbSxnK2IpOmMmJjA+YyYmdj5hK2gmJnY8YStlLWgmJkYuc3BsaWNlKDMsMyxcIkxcIix2LTYsZyx2LGctNix2KzYsZyxlLW0sZyk7cmV0dXJuIEZ9fSxjbGlwUmVjdDpmdW5jdGlvbihnLGUsYixjKXt2YXIgbT1hLnVuaXF1ZUtleSgpLGg9dGhpcy5jcmVhdGVFbGVtZW50KFwiY2xpcFBhdGhcIikuYXR0cih7aWQ6bX0pLmFkZCh0aGlzLmRlZnMpO1xuZz10aGlzLnJlY3QoZyxlLGIsYywwKS5hZGQoaCk7Zy5pZD1tO2cuY2xpcFBhdGg9aDtnLmNvdW50PTA7cmV0dXJuIGd9LHRleHQ6ZnVuY3Rpb24oYSxnLGUsYil7dmFyIGM9IVEmJnRoaXMuZm9yRXhwb3J0LG09e307aWYoYiYmKHRoaXMuYWxsb3dIVE1MfHwhdGhpcy5mb3JFeHBvcnQpKXJldHVybiB0aGlzLmh0bWwoYSxnLGUpO20ueD1NYXRoLnJvdW5kKGd8fDApO2UmJihtLnk9TWF0aC5yb3VuZChlKSk7aWYoYXx8MD09PWEpbS50ZXh0PWE7YT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0XCIpLmF0dHIobSk7YyYmYS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIn0pO2J8fChhLnhTZXR0ZXI9ZnVuY3Rpb24oYSxnLGUpe3ZhciBiPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0c3BhblwiKSxjLG09ZS5nZXRBdHRyaWJ1dGUoZyksaDtmb3IoaD0wO2g8Yi5sZW5ndGg7aCsrKWM9YltoXSxjLmdldEF0dHJpYnV0ZShnKT09PW0mJmMuc2V0QXR0cmlidXRlKGcsYSk7ZS5zZXRBdHRyaWJ1dGUoZyxcbmEpfSk7cmV0dXJuIGF9LGZvbnRNZXRyaWNzOmZ1bmN0aW9uKGEsZyl7YT1hfHxnJiZnLnN0eWxlJiZnLnN0eWxlLmZvbnRTaXplfHx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvbnRTaXplO2E9L3B4Ly50ZXN0KGEpP0ooYSk6L2VtLy50ZXN0KGEpP3BhcnNlRmxvYXQoYSkqKGc/dGhpcy5mb250TWV0cmljcyhudWxsLGcucGFyZW50Tm9kZSkuZjoxNik6MTI7Zz0yND5hP2ErMzpNYXRoLnJvdW5kKDEuMiphKTtyZXR1cm57aDpnLGI6TWF0aC5yb3VuZCguOCpnKSxmOmF9fSxyb3RDb3JyOmZ1bmN0aW9uKGEsZyxlKXt2YXIgYj1hO2cmJmUmJihiPU1hdGgubWF4KGIqTWF0aC5jb3MoZypkKSw0KSk7cmV0dXJue3g6LWEvMypNYXRoLnNpbihnKmQpLHk6Yn19LGxhYmVsOmZ1bmN0aW9uKGUsYyxtLGgsRix4LEMsZCx0KXt2YXIgdj10aGlzLHA9di5nKFwiYnV0dG9uXCIhPT10JiZcImxhYmVsXCIpLG49cC50ZXh0PXYudGV4dChcIlwiLDAsMCxDKS5hdHRyKHt6SW5kZXg6MX0pLGssdyxFPTAsZj0zLFxuRD0wLEkscSxsLFEsTixLPXt9LEoscixNPS9edXJsXFwoKC4qPylcXCkkLy50ZXN0KGgpLFA9TSxSLFMsTyxVO3QmJnAuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLVwiK3QpO1A9TTtSPWZ1bmN0aW9uKCl7cmV0dXJuKEp8fDApJTIvMn07Uz1mdW5jdGlvbigpe3ZhciBhPW4uZWxlbWVudC5zdHlsZSxnPXt9O3c9KHZvaWQgMD09PUl8fHZvaWQgMD09PXF8fE4pJiZ1KG4udGV4dFN0cikmJm4uZ2V0QkJveCgpO3Aud2lkdGg9KEl8fHcud2lkdGh8fDApKzIqZitEO3AuaGVpZ2h0PShxfHx3LmhlaWdodHx8MCkrMipmO3I9Zit2LmZvbnRNZXRyaWNzKGEmJmEuZm9udFNpemUsbikuYjtQJiYoa3x8KHAuYm94PWs9di5zeW1ib2xzW2hdfHxNP3Yuc3ltYm9sKGgpOnYucmVjdCgpLGsuYWRkQ2xhc3MoKFwiYnV0dG9uXCI9PT10P1wiXCI6XCJoaWdoY2hhcnRzLWxhYmVsLWJveFwiKSsodD9cIiBoaWdoY2hhcnRzLVwiK3QrXCItYm94XCI6XCJcIikpLGsuYWRkKHApLGE9UigpLGcueD1hLGcueT0oZD8tcjowKSthKSxnLndpZHRoPVxuTWF0aC5yb3VuZChwLndpZHRoKSxnLmhlaWdodD1NYXRoLnJvdW5kKHAuaGVpZ2h0KSxrLmF0dHIoYihnLEspKSxLPXt9KX07Tz1mdW5jdGlvbigpe3ZhciBhPUQrZixnO2c9ZD8wOnI7dShJKSYmdyYmKFwiY2VudGVyXCI9PT1OfHxcInJpZ2h0XCI9PT1OKSYmKGErPXtjZW50ZXI6LjUscmlnaHQ6MX1bTl0qKEktdy53aWR0aCkpO2lmKGEhPT1uLnh8fGchPT1uLnkpbi5hdHRyKFwieFwiLGEpLHZvaWQgMCE9PWcmJm4uYXR0cihcInlcIixnKTtuLng9YTtuLnk9Z307VT1mdW5jdGlvbihhLGcpe2s/ay5hdHRyKGEsZyk6S1thXT1nfTtwLm9uQWRkPWZ1bmN0aW9uKCl7bi5hZGQocCk7cC5hdHRyKHt0ZXh0OmV8fDA9PT1lP2U6XCJcIix4OmMseTptfSk7ayYmdShGKSYmcC5hdHRyKHthbmNob3JYOkYsYW5jaG9yWTp4fSl9O3Aud2lkdGhTZXR0ZXI9ZnVuY3Rpb24oZyl7ST1hLmlzTnVtYmVyKGcpP2c6bnVsbH07cC5oZWlnaHRTZXR0ZXI9ZnVuY3Rpb24oYSl7cT1hfTtwW1widGV4dC1hbGlnblNldHRlclwiXT1cbmZ1bmN0aW9uKGEpe049YX07cC5wYWRkaW5nU2V0dGVyPWZ1bmN0aW9uKGEpe3UoYSkmJmEhPT1mJiYoZj1wLnBhZGRpbmc9YSxPKCkpfTtwLnBhZGRpbmdMZWZ0U2V0dGVyPWZ1bmN0aW9uKGEpe3UoYSkmJmEhPT1EJiYoRD1hLE8oKSl9O3AuYWxpZ25TZXR0ZXI9ZnVuY3Rpb24oYSl7YT17bGVmdDowLGNlbnRlcjouNSxyaWdodDoxfVthXTthIT09RSYmKEU9YSx3JiZwLmF0dHIoe3g6bH0pKX07cC50ZXh0U2V0dGVyPWZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEmJm4udGV4dFNldHRlcihhKTtTKCk7TygpfTtwW1wic3Ryb2tlLXdpZHRoU2V0dGVyXCJdPWZ1bmN0aW9uKGEsZyl7YSYmKFA9ITApO0o9dGhpc1tcInN0cm9rZS13aWR0aFwiXT1hO1UoZyxhKX07cC5zdHJva2VTZXR0ZXI9cC5maWxsU2V0dGVyPXAuclNldHRlcj1mdW5jdGlvbihhLGcpe1wiZmlsbFwiPT09ZyYmYSYmKFA9ITApO1UoZyxhKX07cC5hbmNob3JYU2V0dGVyPWZ1bmN0aW9uKGEsZyl7Rj1hO1UoZyxNYXRoLnJvdW5kKGEpLVxuUigpLWwpfTtwLmFuY2hvcllTZXR0ZXI9ZnVuY3Rpb24oYSxnKXt4PWE7VShnLGEtUSl9O3AueFNldHRlcj1mdW5jdGlvbihhKXtwLng9YTtFJiYoYS09RSooKEl8fHcud2lkdGgpKzIqZikpO2w9TWF0aC5yb3VuZChhKTtwLmF0dHIoXCJ0cmFuc2xhdGVYXCIsbCl9O3AueVNldHRlcj1mdW5jdGlvbihhKXtRPXAueT1NYXRoLnJvdW5kKGEpO3AuYXR0cihcInRyYW5zbGF0ZVlcIixRKX07dmFyIFc9cC5jc3M7cmV0dXJuIGIocCx7Y3NzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBnPXt9O2E9eShhKTt6KHAudGV4dFByb3BzLGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWFbZV0mJihnW2VdPWFbZV0sZGVsZXRlIGFbZV0pfSk7bi5jc3MoZyl9cmV0dXJuIFcuY2FsbChwLGEpfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOncud2lkdGgrMipmLGhlaWdodDp3LmhlaWdodCsyKmYseDp3LngtZix5OncueS1mfX0sc2hhZG93OmZ1bmN0aW9uKGEpe2EmJihTKCksayYmay5zaGFkb3coYSkpO3JldHVybiBwfSxcbmRlc3Ryb3k6ZnVuY3Rpb24oKXtnKHAuZWxlbWVudCxcIm1vdXNlZW50ZXJcIik7ZyhwLmVsZW1lbnQsXCJtb3VzZWxlYXZlXCIpO24mJihuPW4uZGVzdHJveSgpKTtrJiYoaz1rLmRlc3Ryb3koKSk7Qi5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHApO3A9dj1TPU89VT1udWxsfX0pfX07YS5SZW5kZXJlcj1BfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYXR0cixBPWEuY3JlYXRlRWxlbWVudCxIPWEuY3NzLEc9YS5kZWZpbmVkLHI9YS5lYWNoLGY9YS5leHRlbmQsbD1hLmlzRmlyZWZveCxxPWEuaXNNUyxrPWEuaXNXZWJLaXQsdT1hLnBJbnQsZD1hLlNWR1JlbmRlcmVyLGM9YS53aW4sbj1hLndyYXA7ZihhLlNWR0VsZW1lbnQucHJvdG90eXBlLHtodG1sQ3NzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtpZihiPWEmJlwiU1BBTlwiPT09Yi50YWdOYW1lJiZhLndpZHRoKWRlbGV0ZSBhLndpZHRoLHRoaXMudGV4dFdpZHRoPWIsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTthJiZcImVsbGlwc2lzXCI9PT1cbmEudGV4dE92ZXJmbG93JiYoYS53aGl0ZVNwYWNlPVwibm93cmFwXCIsYS5vdmVyZmxvdz1cImhpZGRlblwiKTt0aGlzLnN0eWxlcz1mKHRoaXMuc3R5bGVzLGEpO0godGhpcy5lbGVtZW50LGEpO3JldHVybiB0aGlzfSxodG1sR2V0QkJveDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDtcInRleHRcIj09PWEubm9kZU5hbWUmJihhLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIik7cmV0dXJue3g6YS5vZmZzZXRMZWZ0LHk6YS5vZmZzZXRUb3Asd2lkdGg6YS5vZmZzZXRXaWR0aCxoZWlnaHQ6YS5vZmZzZXRIZWlnaHR9fSxodG1sVXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRlZCl7dmFyIGE9dGhpcy5yZW5kZXJlcixiPXRoaXMuZWxlbWVudCxjPXRoaXMudHJhbnNsYXRlWHx8MCxoPXRoaXMudHJhbnNsYXRlWXx8MCxkPXRoaXMueHx8MCxuPXRoaXMueXx8MCx3PXRoaXMudGV4dEFsaWdufHxcImxlZnRcIixlPXtsZWZ0OjAsY2VudGVyOi41LHJpZ2h0OjF9W3ddLHg9dGhpcy5zdHlsZXM7XG5IKGIse21hcmdpbkxlZnQ6YyxtYXJnaW5Ub3A6aH0pO3RoaXMuc2hhZG93cyYmcih0aGlzLnNoYWRvd3MsZnVuY3Rpb24oYSl7SChhLHttYXJnaW5MZWZ0OmMrMSxtYXJnaW5Ub3A6aCsxfSl9KTt0aGlzLmludmVydGVkJiZyKGIuY2hpbGROb2RlcyxmdW5jdGlvbihlKXthLmludmVydENoaWxkKGUsYil9KTtpZihcIlNQQU5cIj09PWIudGFnTmFtZSl7dmFyIEM9dGhpcy5yb3RhdGlvbixmPXUodGhpcy50ZXh0V2lkdGgpLG09eCYmeC53aGl0ZVNwYWNlLHk9W0MsdyxiLmlubmVySFRNTCx0aGlzLnRleHRXaWR0aCx0aGlzLnRleHRBbGlnbl0uam9pbigpO3khPT10aGlzLmNUVCYmKHg9YS5mb250TWV0cmljcyhiLnN0eWxlLmZvbnRTaXplKS5iLEcoQykmJnRoaXMuc2V0U3BhblJvdGF0aW9uKEMsZSx4KSxIKGIse3dpZHRoOlwiXCIsd2hpdGVTcGFjZTptfHxcIm5vd3JhcFwifSksYi5vZmZzZXRXaWR0aD5mJiYvWyBcXC1dLy50ZXN0KGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0KSYmSChiLHt3aWR0aDpmK1xuXCJweFwiLGRpc3BsYXk6XCJibG9ja1wiLHdoaXRlU3BhY2U6bXx8XCJub3JtYWxcIn0pLHRoaXMuZ2V0U3BhbkNvcnJlY3Rpb24oYi5vZmZzZXRXaWR0aCx4LGUsQyx3KSk7SChiLHtsZWZ0OmQrKHRoaXMueENvcnJ8fDApK1wicHhcIix0b3A6bisodGhpcy55Q29ycnx8MCkrXCJweFwifSk7ayYmKHg9Yi5vZmZzZXRIZWlnaHQpO3RoaXMuY1RUPXl9fWVsc2UgdGhpcy5hbGlnbk9uQWRkPSEwfSxzZXRTcGFuUm90YXRpb246ZnVuY3Rpb24oYSxiLHApe3ZhciBoPXt9LGQ9cT9cIi1tcy10cmFuc2Zvcm1cIjprP1wiLXdlYmtpdC10cmFuc2Zvcm1cIjpsP1wiTW96VHJhbnNmb3JtXCI6Yy5vcGVyYT9cIi1vLXRyYW5zZm9ybVwiOlwiXCI7aFtkXT1oLnRyYW5zZm9ybT1cInJvdGF0ZShcIithK1wiZGVnKVwiO2hbZCsobD9cIk9yaWdpblwiOlwiLW9yaWdpblwiKV09aC50cmFuc2Zvcm1PcmlnaW49MTAwKmIrXCIlIFwiK3ArXCJweFwiO0godGhpcy5lbGVtZW50LGgpfSxnZXRTcGFuQ29ycmVjdGlvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy54Q29ycj1cbi1hKmM7dGhpcy55Q29ycj0tYn19KTtmKGQucHJvdG90eXBlLHtodG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgaD10aGlzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLGQ9aC5lbGVtZW50LHA9aC5yZW5kZXJlcixrPXAuaXNTVkcsZT1mdW5jdGlvbihhLGUpe3IoW1wib3BhY2l0eVwiLFwidmlzaWJpbGl0eVwiXSxmdW5jdGlvbihiKXtuKGEsYitcIlNldHRlclwiLGZ1bmN0aW9uKGEsYixjLGgpe2EuY2FsbCh0aGlzLGIsYyxoKTtlW2NdPWJ9KX0pfTtoLnRleHRTZXR0ZXI9ZnVuY3Rpb24oYSl7YSE9PWQuaW5uZXJIVE1MJiZkZWxldGUgdGhpcy5iQm94O2QuaW5uZXJIVE1MPXRoaXMudGV4dFN0cj1hO2guaHRtbFVwZGF0ZVRyYW5zZm9ybSgpfTtrJiZlKGgsaC5lbGVtZW50LnN0eWxlKTtoLnhTZXR0ZXI9aC55U2V0dGVyPWguYWxpZ25TZXR0ZXI9aC5yb3RhdGlvblNldHRlcj1mdW5jdGlvbihhLGUpe1wiYWxpZ25cIj09PWUmJihlPVwidGV4dEFsaWduXCIpO2hbZV09YTtoLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKX07XG5oLmF0dHIoe3RleHQ6YSx4Ok1hdGgucm91bmQoYikseTpNYXRoLnJvdW5kKGMpfSkuY3NzKHtmb250RmFtaWx5OnRoaXMuc3R5bGUuZm9udEZhbWlseSxmb250U2l6ZTp0aGlzLnN0eWxlLmZvbnRTaXplLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pO2Quc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiO2guY3NzPWguaHRtbENzcztrJiYoaC5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1wLmJveC5wYXJlbnROb2RlLG09W107aWYodGhpcy5wYXJlbnRHcm91cD1hKXtpZihiPWEuZGl2LCFiKXtmb3IoO2E7KW0ucHVzaChhKSxhPWEucGFyZW50R3JvdXA7cihtLnJldmVyc2UoKSxmdW5jdGlvbihhKXt2YXIgeCxkPUIoYS5lbGVtZW50LFwiY2xhc3NcIik7ZCYmKGQ9e2NsYXNzTmFtZTpkfSk7Yj1hLmRpdj1hLmRpdnx8QShcImRpdlwiLGQse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OihhLnRyYW5zbGF0ZVh8fDApK1wicHhcIix0b3A6KGEudHJhbnNsYXRlWXx8MCkrXCJweFwiLGRpc3BsYXk6YS5kaXNwbGF5LFxub3BhY2l0eTphLm9wYWNpdHkscG9pbnRlckV2ZW50czphLnN0eWxlcyYmYS5zdHlsZXMucG9pbnRlckV2ZW50c30sYnx8Yyk7eD1iLnN0eWxlO2YoYSx7b246ZnVuY3Rpb24oKXtoLm9uLmFwcGx5KHtlbGVtZW50Om1bMF0uZGl2fSxhcmd1bWVudHMpO3JldHVybiBhfSx0cmFuc2xhdGVYU2V0dGVyOmZ1bmN0aW9uKGUsZyl7eC5sZWZ0PWUrXCJweFwiO2FbZ109ZTthLmRvVHJhbnNmb3JtPSEwfSx0cmFuc2xhdGVZU2V0dGVyOmZ1bmN0aW9uKGUsZyl7eC50b3A9ZStcInB4XCI7YVtnXT1lO2EuZG9UcmFuc2Zvcm09ITB9fSk7ZShhLHgpfSl9fWVsc2UgYj1jO2IuYXBwZW5kQ2hpbGQoZCk7aC5hZGRlZD0hMDtoLmFsaWduT25BZGQmJmguaHRtbFVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiBofSk7cmV0dXJuIGh9fSl9KShMKTsoZnVuY3Rpb24oYSl7dmFyIEIsQSxIPWEuY3JlYXRlRWxlbWVudCxHPWEuY3NzLHI9YS5kZWZpbmVkLGY9YS5kZWcycmFkLGw9YS5kaXNjYXJkRWxlbWVudCxxPWEuZG9jLFxuaz1hLmVhY2gsdT1hLmVyYXNlLGQ9YS5leHRlbmQ7Qj1hLmV4dGVuZENsYXNzO3ZhciBjPWEuaXNBcnJheSxuPWEuaXNOdW1iZXIsej1hLmlzT2JqZWN0LGI9YS5tZXJnZTtBPWEubm9vcDt2YXIgcD1hLnBpY2ssaD1hLnBJbnQsdD1hLlNWR0VsZW1lbnQsRD1hLlNWR1JlbmRlcmVyLHc9YS53aW47YS5zdmd8fChBPXtkb2NNb2RlODpxJiY4PT09cS5kb2N1bWVudE1vZGUsaW5pdDpmdW5jdGlvbihhLGIpe3ZhciBlPVtcIlxceDNjXCIsYiwnIGZpbGxlZFxceDNkXCJmXCIgc3Ryb2tlZFxceDNkXCJmXCInXSxjPVtcInBvc2l0aW9uOiBcIixcImFic29sdXRlXCIsXCI7XCJdLG09XCJkaXZcIj09PWI7KFwic2hhcGVcIj09PWJ8fG0pJiZjLnB1c2goXCJsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7XCIpO2MucHVzaChcInZpc2liaWxpdHk6IFwiLG0/XCJoaWRkZW5cIjpcInZpc2libGVcIik7ZS5wdXNoKCcgc3R5bGVcXHgzZFwiJyxjLmpvaW4oXCJcIiksJ1wiL1xceDNlJyk7YiYmKGU9bXx8XCJzcGFuXCI9PT1ifHxcImltZ1wiPT09Yj9cbmUuam9pbihcIlwiKTphLnByZXBWTUwoZSksdGhpcy5lbGVtZW50PUgoZSkpO3RoaXMucmVuZGVyZXI9YX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMucmVuZGVyZXIsYj10aGlzLmVsZW1lbnQsYz1lLmJveCxtPWEmJmEuaW52ZXJ0ZWQsYz1hP2EuZWxlbWVudHx8YTpjO2EmJih0aGlzLnBhcmVudEdyb3VwPWEpO20mJmUuaW52ZXJ0Q2hpbGQoYixjKTtjLmFwcGVuZENoaWxkKGIpO3RoaXMuYWRkZWQ9ITA7dGhpcy5hbGlnbk9uQWRkJiYhdGhpcy5kZWZlclVwZGF0ZVRyYW5zZm9ybSYmdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtpZih0aGlzLm9uQWRkKXRoaXMub25BZGQoKTt0aGlzLmNsYXNzTmFtZSYmdGhpcy5hdHRyKFwiY2xhc3NcIix0aGlzLmNsYXNzTmFtZSk7cmV0dXJuIHRoaXN9LHVwZGF0ZVRyYW5zZm9ybTp0LnByb3RvdHlwZS5odG1sVXBkYXRlVHJhbnNmb3JtLHNldFNwYW5Sb3RhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucm90YXRpb24sYj1NYXRoLmNvcyhhKmYpLGM9XG5NYXRoLnNpbihhKmYpO0codGhpcy5lbGVtZW50LHtmaWx0ZXI6YT9bXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMVxceDNkXCIsYixcIiwgTTEyXFx4M2RcIiwtYyxcIiwgTTIxXFx4M2RcIixjLFwiLCBNMjJcXHgzZFwiLGIsXCIsIHNpemluZ01ldGhvZFxceDNkJ2F1dG8gZXhwYW5kJylcIl0uam9pbihcIlwiKTpcIm5vbmVcIn0pfSxnZXRTcGFuQ29ycmVjdGlvbjpmdW5jdGlvbihhLGIsYyxoLG0pe3ZhciBlPWg/TWF0aC5jb3MoaCpmKToxLHg9aD9NYXRoLnNpbihoKmYpOjAsZD1wKHRoaXMuZWxlbUhlaWdodCx0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0KSx0O3RoaXMueENvcnI9MD5lJiYtYTt0aGlzLnlDb3JyPTA+eCYmLWQ7dD0wPmUqeDt0aGlzLnhDb3JyKz14KmIqKHQ/MS1jOmMpO3RoaXMueUNvcnItPWUqYiooaD90P2M6MS1jOjEpO20mJlwibGVmdFwiIT09bSYmKHRoaXMueENvcnItPWEqYyooMD5lPy0xOjEpLGgmJih0aGlzLnlDb3JyLT1kKmMqKDA+eD8tMToxKSksRyh0aGlzLmVsZW1lbnQsXG57dGV4dEFsaWduOm19KSl9LHBhdGhUb1ZNTDpmdW5jdGlvbihhKXtmb3IodmFyIGU9YS5sZW5ndGgsYj1bXTtlLS07KW4oYVtlXSk/YltlXT1NYXRoLnJvdW5kKDEwKmFbZV0pLTU6XCJaXCI9PT1hW2VdP2JbZV09XCJ4XCI6KGJbZV09YVtlXSwhYS5pc0FyY3x8XCJ3YVwiIT09YVtlXSYmXCJhdFwiIT09YVtlXXx8KGJbZSs1XT09PWJbZSs3XSYmKGJbZSs3XSs9YVtlKzddPmFbZSs1XT8xOi0xKSxiW2UrNl09PT1iW2UrOF0mJihiW2UrOF0rPWFbZSs4XT5hW2UrNl0/MTotMSkpKTtyZXR1cm4gYi5qb2luKFwiIFwiKXx8XCJ4XCJ9LGNsaXA6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcyxiO2E/KGI9YS5tZW1iZXJzLHUoYixlKSxiLnB1c2goZSksZS5kZXN0cm95Q2xpcD1mdW5jdGlvbigpe3UoYixlKX0sYT1hLmdldENTUyhlKSk6KGUuZGVzdHJveUNsaXAmJmUuZGVzdHJveUNsaXAoKSxhPXtjbGlwOmUuZG9jTW9kZTg/XCJpbmhlcml0XCI6XCJyZWN0KGF1dG8pXCJ9KTtyZXR1cm4gZS5jc3MoYSl9LGNzczp0LnByb3RvdHlwZS5odG1sQ3NzLFxuc2FmZVJlbW92ZUNoaWxkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmbChhKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveUNsaXAmJnRoaXMuZGVzdHJveUNsaXAoKTtyZXR1cm4gdC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKX0sb246ZnVuY3Rpb24oYSxiKXt0aGlzLmVsZW1lbnRbXCJvblwiK2FdPWZ1bmN0aW9uKCl7dmFyIGE9dy5ldmVudDthLnRhcmdldD1hLnNyY0VsZW1lbnQ7YihhKX07cmV0dXJuIHRoaXN9LGN1dE9mZlBhdGg6ZnVuY3Rpb24oYSxiKXt2YXIgZTthPWEuc3BsaXQoL1sgLF0vKTtlPWEubGVuZ3RoO2lmKDk9PT1lfHwxMT09PWUpYVtlLTRdPWFbZS0yXT1oKGFbZS0yXSktMTAqYjtyZXR1cm4gYS5qb2luKFwiIFwiKX0sc2hhZG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1bXSxtLGQ9dGhpcy5lbGVtZW50LHQ9dGhpcy5yZW5kZXJlcix4LG49ZC5zdHlsZSxnLEY9ZC5wYXRoLGssQyx3LGY7RiYmXCJzdHJpbmdcIiE9PXR5cGVvZiBGLnZhbHVlJiYoRj1cblwieFwiKTtDPUY7aWYoYSl7dz1wKGEud2lkdGgsMyk7Zj0oYS5vcGFjaXR5fHwuMTUpL3c7Zm9yKG09MTszPj1tO20rKylrPTIqdysxLTIqbSxjJiYoQz10aGlzLmN1dE9mZlBhdGgoRi52YWx1ZSxrKy41KSksZz1bJ1xceDNjc2hhcGUgaXNTaGFkb3dcXHgzZFwidHJ1ZVwiIHN0cm9rZXdlaWdodFxceDNkXCInLGssJ1wiIGZpbGxlZFxceDNkXCJmYWxzZVwiIHBhdGhcXHgzZFwiJyxDLCdcIiBjb29yZHNpemVcXHgzZFwiMTAgMTBcIiBzdHlsZVxceDNkXCInLGQuc3R5bGUuY3NzVGV4dCwnXCIgL1xceDNlJ10seD1IKHQucHJlcFZNTChnKSxudWxsLHtsZWZ0Omgobi5sZWZ0KStwKGEub2Zmc2V0WCwxKSx0b3A6aChuLnRvcCkrcChhLm9mZnNldFksMSl9KSxjJiYoeC5jdXRPZmY9aysxKSxnPVsnXFx4M2NzdHJva2UgY29sb3JcXHgzZFwiJyxhLmNvbG9yfHxcIiMwMDAwMDBcIiwnXCIgb3BhY2l0eVxceDNkXCInLGYqbSwnXCIvXFx4M2UnXSxIKHQucHJlcFZNTChnKSxudWxsLG51bGwseCksYj9iLmVsZW1lbnQuYXBwZW5kQ2hpbGQoeCk6XG5kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHgsZCksZS5wdXNoKHgpO3RoaXMuc2hhZG93cz1lfXJldHVybiB0aGlzfSx1cGRhdGVTaGFkb3dzOkEsc2V0QXR0cjpmdW5jdGlvbihhLGIpe3RoaXMuZG9jTW9kZTg/dGhpcy5lbGVtZW50W2FdPWI6dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShhLGIpfSxjbGFzc1NldHRlcjpmdW5jdGlvbihhKXsodGhpcy5hZGRlZD90aGlzLmVsZW1lbnQ6dGhpcykuY2xhc3NOYW1lPWF9LGRhc2hzdHlsZVNldHRlcjpmdW5jdGlvbihhLGIsYyl7KGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF18fEgodGhpcy5yZW5kZXJlci5wcmVwVk1MKFtcIlxceDNjc3Ryb2tlL1xceDNlXCJdKSxudWxsLG51bGwsYykpW2JdPWF8fFwic29saWRcIjt0aGlzW2JdPWF9LGRTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuc2hhZG93czthPWF8fFtdO3RoaXMuZD1hLmpvaW4mJmEuam9pbihcIiBcIik7Yy5wYXRoPWE9dGhpcy5wYXRoVG9WTUwoYSk7aWYoZSlmb3IoYz1cbmUubGVuZ3RoO2MtLTspZVtjXS5wYXRoPWVbY10uY3V0T2ZmP3RoaXMuY3V0T2ZmUGF0aChhLGVbY10uY3V0T2ZmKTphO3RoaXMuc2V0QXR0cihiLGEpfSxmaWxsU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1jLm5vZGVOYW1lO1wiU1BBTlwiPT09ZT9jLnN0eWxlLmNvbG9yPWE6XCJJTUdcIiE9PWUmJihjLmZpbGxlZD1cIm5vbmVcIiE9PWEsdGhpcy5zZXRBdHRyKFwiZmlsbGNvbG9yXCIsdGhpcy5yZW5kZXJlci5jb2xvcihhLGMsYix0aGlzKSkpfSxcImZpbGwtb3BhY2l0eVNldHRlclwiOmZ1bmN0aW9uKGEsYixjKXtIKHRoaXMucmVuZGVyZXIucHJlcFZNTChbXCJcXHgzY1wiLGIuc3BsaXQoXCItXCIpWzBdLCcgb3BhY2l0eVxceDNkXCInLGEsJ1wiL1xceDNlJ10pLG51bGwsbnVsbCxjKX0sb3BhY2l0eVNldHRlcjpBLHJvdGF0aW9uU2V0dGVyOmZ1bmN0aW9uKGEsYixjKXtjPWMuc3R5bGU7dGhpc1tiXT1jW2JdPWE7Yy5sZWZ0PS1NYXRoLnJvdW5kKE1hdGguc2luKGEqZikrMSkrXCJweFwiO2MudG9wPU1hdGgucm91bmQoTWF0aC5jb3MoYSpcbmYpKStcInB4XCJ9LHN0cm9rZVNldHRlcjpmdW5jdGlvbihhLGIsYyl7dGhpcy5zZXRBdHRyKFwic3Ryb2tlY29sb3JcIix0aGlzLnJlbmRlcmVyLmNvbG9yKGEsYyxiLHRoaXMpKX0sXCJzdHJva2Utd2lkdGhTZXR0ZXJcIjpmdW5jdGlvbihhLGIsYyl7Yy5zdHJva2VkPSEhYTt0aGlzW2JdPWE7bihhKSYmKGErPVwicHhcIik7dGhpcy5zZXRBdHRyKFwic3Ryb2tld2VpZ2h0XCIsYSl9LHRpdGxlU2V0dGVyOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRBdHRyKGIsYSl9LHZpc2liaWxpdHlTZXR0ZXI6ZnVuY3Rpb24oYSxiLGMpe1wiaW5oZXJpdFwiPT09YSYmKGE9XCJ2aXNpYmxlXCIpO3RoaXMuc2hhZG93cyYmayh0aGlzLnNoYWRvd3MsZnVuY3Rpb24oZSl7ZS5zdHlsZVtiXT1hfSk7XCJESVZcIj09PWMubm9kZU5hbWUmJihhPVwiaGlkZGVuXCI9PT1hP1wiLTk5OWVtXCI6MCx0aGlzLmRvY01vZGU4fHwoYy5zdHlsZVtiXT1hP1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLGI9XCJ0b3BcIik7Yy5zdHlsZVtiXT1hfSx4U2V0dGVyOmZ1bmN0aW9uKGEsXG5iLGMpe3RoaXNbYl09YTtcInhcIj09PWI/Yj1cImxlZnRcIjpcInlcIj09PWImJihiPVwidG9wXCIpO3RoaXMudXBkYXRlQ2xpcHBpbmc/KHRoaXNbYl09YSx0aGlzLnVwZGF0ZUNsaXBwaW5nKCkpOmMuc3R5bGVbYl09YX0sekluZGV4U2V0dGVyOmZ1bmN0aW9uKGEsYixjKXtjLnN0eWxlW2JdPWF9fSxBW1wic3Ryb2tlLW9wYWNpdHlTZXR0ZXJcIl09QVtcImZpbGwtb3BhY2l0eVNldHRlclwiXSxhLlZNTEVsZW1lbnQ9QT1CKHQsQSksQS5wcm90b3R5cGUueVNldHRlcj1BLnByb3RvdHlwZS53aWR0aFNldHRlcj1BLnByb3RvdHlwZS5oZWlnaHRTZXR0ZXI9QS5wcm90b3R5cGUueFNldHRlcixBPXtFbGVtZW50OkEsaXNJRTg6LTE8dy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDguMFwiKSxpbml0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxtO3RoaXMuYWxpZ25lZE9iamVjdHM9W107ZT10aGlzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KTttPWUuZWxlbWVudDtcbmEuYXBwZW5kQ2hpbGQoZS5lbGVtZW50KTt0aGlzLmlzVk1MPSEwO3RoaXMuYm94PW07dGhpcy5ib3hXcmFwcGVyPWU7dGhpcy5ncmFkaWVudHM9e307dGhpcy5jYWNoZT17fTt0aGlzLmNhY2hlS2V5cz1bXTt0aGlzLmltZ0NvdW50PTA7dGhpcy5zZXRTaXplKGIsYywhMSk7aWYoIXEubmFtZXNwYWNlcy5oY3Ype3EubmFtZXNwYWNlcy5hZGQoXCJoY3ZcIixcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIpO3RyeXtxLmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0PVwiaGN2XFxcXDpmaWxsLCBoY3ZcXFxcOnBhdGgsIGhjdlxcXFw6c2hhcGUsIGhjdlxcXFw6c3Ryb2tleyBiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9IFwifWNhdGNoKHkpe3Euc3R5bGVTaGVldHNbMF0uY3NzVGV4dCs9XCJoY3ZcXFxcOmZpbGwsIGhjdlxcXFw6cGF0aCwgaGN2XFxcXDpzaGFwZSwgaGN2XFxcXDpzdHJva2V7IGJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gXCJ9fX0sXG5pc0hpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmJveC5vZmZzZXRXaWR0aH0sY2xpcFJlY3Q6ZnVuY3Rpb24oYSxiLGMsaCl7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50KCkscD16KGEpO3JldHVybiBkKGUse21lbWJlcnM6W10sY291bnQ6MCxsZWZ0OihwP2EueDphKSsxLHRvcDoocD9hLnk6YikrMSx3aWR0aDoocD9hLndpZHRoOmMpLTEsaGVpZ2h0OihwP2EuaGVpZ2h0OmgpLTEsZ2V0Q1NTOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWxlbWVudCxjPWIubm9kZU5hbWUsZz1hLmludmVydGVkLGU9dGhpcy50b3AtKFwic2hhcGVcIj09PWM/Yi5vZmZzZXRUb3A6MCksbT10aGlzLmxlZnQsYj1tK3RoaXMud2lkdGgsaD1lK3RoaXMuaGVpZ2h0LGU9e2NsaXA6XCJyZWN0KFwiK01hdGgucm91bmQoZz9tOmUpK1wicHgsXCIrTWF0aC5yb3VuZChnP2g6YikrXCJweCxcIitNYXRoLnJvdW5kKGc/YjpoKStcInB4LFwiK01hdGgucm91bmQoZz9lOm0pK1wicHgpXCJ9OyFnJiZhLmRvY01vZGU4JiZcIkRJVlwiPT09YyYmXG5kKGUse3dpZHRoOmIrXCJweFwiLGhlaWdodDpoK1wicHhcIn0pO3JldHVybiBlfSx1cGRhdGVDbGlwcGluZzpmdW5jdGlvbigpe2soZS5tZW1iZXJzLGZ1bmN0aW9uKGEpe2EuZWxlbWVudCYmYS5jc3MoZS5nZXRDU1MoYSkpfSl9fSl9LGNvbG9yOmZ1bmN0aW9uKGIsYyxoLGQpe3ZhciBlPXRoaXMscCx0PS9ecmdiYS8sbix4LGc9XCJub25lXCI7YiYmYi5saW5lYXJHcmFkaWVudD94PVwiZ3JhZGllbnRcIjpiJiZiLnJhZGlhbEdyYWRpZW50JiYoeD1cInBhdHRlcm5cIik7aWYoeCl7dmFyIEYsdyxmPWIubGluZWFyR3JhZGllbnR8fGIucmFkaWFsR3JhZGllbnQsQyx1LHYsRCxxLGw9XCJcIjtiPWIuc3RvcHM7dmFyIHosRT1bXSxyPWZ1bmN0aW9uKCl7bj1bJ1xceDNjZmlsbCBjb2xvcnNcXHgzZFwiJytFLmpvaW4oXCIsXCIpKydcIiBvcGFjaXR5XFx4M2RcIicsdiwnXCIgbzpvcGFjaXR5MlxceDNkXCInLHUsJ1wiIHR5cGVcXHgzZFwiJyx4LCdcIiAnLGwsJ2ZvY3VzXFx4M2RcIjEwMCVcIiBtZXRob2RcXHgzZFwiYW55XCIgL1xceDNlJ107XG5IKGUucHJlcFZNTChuKSxudWxsLG51bGwsYyl9O0M9YlswXTt6PWJbYi5sZW5ndGgtMV07MDxDWzBdJiZiLnVuc2hpZnQoWzAsQ1sxXV0pOzE+elswXSYmYi5wdXNoKFsxLHpbMV1dKTtrKGIsZnVuY3Rpb24oZyxiKXt0LnRlc3QoZ1sxXSk/KHA9YS5jb2xvcihnWzFdKSxGPXAuZ2V0KFwicmdiXCIpLHc9cC5nZXQoXCJhXCIpKTooRj1nWzFdLHc9MSk7RS5wdXNoKDEwMCpnWzBdK1wiJSBcIitGKTtiPyh2PXcsRD1GKToodT13LHE9Ril9KTtpZihcImZpbGxcIj09PWgpaWYoXCJncmFkaWVudFwiPT09eCloPWYueDF8fGZbMF18fDAsYj1mLnkxfHxmWzFdfHwwLEM9Zi54Mnx8ZlsyXXx8MCxmPWYueTJ8fGZbM118fDAsbD0nYW5nbGVcXHgzZFwiJysoOTAtMTgwKk1hdGguYXRhbigoZi1iKS8oQy1oKSkvTWF0aC5QSSkrJ1wiJyxyKCk7ZWxzZXt2YXIgZz1mLnIsQT0yKmcsQj0yKmcsRz1mLmN4LFY9Zi5jeSxMPWMucmFkaWFsUmVmZXJlbmNlLFQsZz1mdW5jdGlvbigpe0wmJihUPWQuZ2V0QkJveCgpLEcrPShMWzBdLVxuVC54KS9ULndpZHRoLS41LFYrPShMWzFdLVQueSkvVC5oZWlnaHQtLjUsQSo9TFsyXS9ULndpZHRoLEIqPUxbMl0vVC5oZWlnaHQpO2w9J3NyY1xceDNkXCInK2EuZ2V0T3B0aW9ucygpLmdsb2JhbC5WTUxSYWRpYWxHcmFkaWVudFVSTCsnXCIgc2l6ZVxceDNkXCInK0ErXCIsXCIrQisnXCIgb3JpZ2luXFx4M2RcIjAuNSwwLjVcIiBwb3NpdGlvblxceDNkXCInK0crXCIsXCIrVisnXCIgY29sb3IyXFx4M2RcIicrcSsnXCIgJztyKCl9O2QuYWRkZWQ/ZygpOmQub25BZGQ9ZztnPUR9ZWxzZSBnPUZ9ZWxzZSB0LnRlc3QoYikmJlwiSU1HXCIhPT1jLnRhZ05hbWU/KHA9YS5jb2xvcihiKSxkW2grXCItb3BhY2l0eVNldHRlclwiXShwLmdldChcImFcIiksaCxjKSxnPXAuZ2V0KFwicmdiXCIpKTooZz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKGgpLGcubGVuZ3RoJiYoZ1swXS5vcGFjaXR5PTEsZ1swXS50eXBlPVwic29saWRcIiksZz1iKTtyZXR1cm4gZ30scHJlcFZNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzSUU4O2E9YS5qb2luKFwiXCIpO1xuYj8oYT1hLnJlcGxhY2UoXCIvXFx4M2VcIiwnIHhtbG5zXFx4M2RcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIgL1xceDNlJyksYT0tMT09PWEuaW5kZXhPZignc3R5bGVcXHgzZFwiJyk/YS5yZXBsYWNlKFwiL1xceDNlXCIsJyBzdHlsZVxceDNkXCJkaXNwbGF5OmlubGluZS1ibG9jaztiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTtcIiAvXFx4M2UnKTphLnJlcGxhY2UoJ3N0eWxlXFx4M2RcIicsJ3N0eWxlXFx4M2RcImRpc3BsYXk6aW5saW5lLWJsb2NrO2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOycpKTphPWEucmVwbGFjZShcIlxceDNjXCIsXCJcXHgzY2hjdjpcIik7cmV0dXJuIGF9LHRleHQ6RC5wcm90b3R5cGUuaHRtbCxwYXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXtjb29yZHNpemU6XCIxMCAxMFwifTtjKGEpP2IuZD1hOnooYSkmJmQoYixhKTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50KFwic2hhcGVcIikuYXR0cihiKX0sY2lyY2xlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLnN5bWJvbChcImNpcmNsZVwiKTtcbnooYSkmJihjPWEucixiPWEueSxhPWEueCk7ZS5pc0NpcmNsZT0hMDtlLnI9YztyZXR1cm4gZS5hdHRyKHt4OmEseTpifSl9LGc6ZnVuY3Rpb24oYSl7dmFyIGI7YSYmKGI9e2NsYXNzTmFtZTpcImhpZ2hjaGFydHMtXCIrYSxcImNsYXNzXCI6XCJoaWdoY2hhcnRzLVwiK2F9KTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLmF0dHIoYil9LGltYWdlOmZ1bmN0aW9uKGEsYixjLGgsbSl7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLmF0dHIoe3NyYzphfSk7MTxhcmd1bWVudHMubGVuZ3RoJiZlLmF0dHIoe3g6Yix5OmMsd2lkdGg6aCxoZWlnaHQ6bX0pO3JldHVybiBlfSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVyblwicmVjdFwiPT09YT90aGlzLnN5bWJvbChhKTpELnByb3RvdHlwZS5jcmVhdGVFbGVtZW50LmNhbGwodGhpcyxhKX0saW52ZXJ0Q2hpbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2I9Yi5zdHlsZTt2YXIgZT1cIklNR1wiPT09YS50YWdOYW1lJiZhLnN0eWxlO1xuRyhhLHtmbGlwOlwieFwiLGxlZnQ6aChiLndpZHRoKS0oZT9oKGUudG9wKToxKSx0b3A6aChiLmhlaWdodCktKGU/aChlLmxlZnQpOjEpLHJvdGF0aW9uOi05MH0pO2soYS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGIpe2MuaW52ZXJ0Q2hpbGQoYixhKX0pfSxzeW1ib2xzOnthcmM6ZnVuY3Rpb24oYSxiLGMsaCxtKXt2YXIgZT1tLnN0YXJ0LGQ9bS5lbmQscD1tLnJ8fGN8fGg7Yz1tLmlubmVyUjtoPU1hdGguY29zKGUpO3ZhciB0PU1hdGguc2luKGUpLGc9TWF0aC5jb3MoZCksRj1NYXRoLnNpbihkKTtpZigwPT09ZC1lKXJldHVybltcInhcIl07ZT1bXCJ3YVwiLGEtcCxiLXAsYStwLGIrcCxhK3AqaCxiK3AqdCxhK3AqZyxiK3AqRl07bS5vcGVuJiYhYyYmZS5wdXNoKFwiZVwiLFwiTVwiLGEsYik7ZS5wdXNoKFwiYXRcIixhLWMsYi1jLGErYyxiK2MsYStjKmcsYitjKkYsYStjKmgsYitjKnQsXCJ4XCIsXCJlXCIpO2UuaXNBcmM9ITA7cmV0dXJuIGV9LGNpcmNsZTpmdW5jdGlvbihhLGIsYyxoLG0pe20mJnIobS5yKSYmXG4oYz1oPTIqbS5yKTttJiZtLmlzQ2lyY2xlJiYoYS09Yy8yLGItPWgvMik7cmV0dXJuW1wid2FcIixhLGIsYStjLGIraCxhK2MsYitoLzIsYStjLGIraC8yLFwiZVwiXX0scmVjdDpmdW5jdGlvbihhLGIsYyxoLG0pe3JldHVybiBELnByb3RvdHlwZS5zeW1ib2xzW3IobSkmJm0ucj9cImNhbGxvdXRcIjpcInNxdWFyZVwiXS5jYWxsKDAsYSxiLGMsaCxtKX19fSxhLlZNTFJlbmRlcmVyPUI9ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxCLnByb3RvdHlwZT1iKEQucHJvdG90eXBlLEEpLGEuUmVuZGVyZXI9Qik7RC5wcm90b3R5cGUubWVhc3VyZVNwYW5XaWR0aD1mdW5jdGlvbihhLGIpe3ZhciBjPXEuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YT1xLmNyZWF0ZVRleHROb2RlKGEpO2MuYXBwZW5kQ2hpbGQoYSk7RyhjLGIpO3RoaXMuYm94LmFwcGVuZENoaWxkKGMpO2I9Yy5vZmZzZXRXaWR0aDtsKGMpO3JldHVybiBifX0pKEwpOyhmdW5jdGlvbihhKXtmdW5jdGlvbiBCKCl7dmFyIGs9XG5hLmRlZmF1bHRPcHRpb25zLmdsb2JhbCxmPXEubW9tZW50O2lmKGsudGltZXpvbmUpe2lmKGYpcmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybi1mLnR6KGEsay50aW1lem9uZSkudXRjT2Zmc2V0KCl9O2EuZXJyb3IoMjUpfXJldHVybiBrLnVzZVVUQyYmay5nZXRUaW1lem9uZU9mZnNldH1mdW5jdGlvbiBBKCl7dmFyIGs9YS5kZWZhdWx0T3B0aW9ucy5nbG9iYWwsZixkPWsudXNlVVRDLGM9ZD9cImdldFVUQ1wiOlwiZ2V0XCIsbj1kP1wic2V0VVRDXCI6XCJzZXRcIjthLkRhdGU9Zj1rLkRhdGV8fHEuRGF0ZTtmLmhjVGltZXpvbmVPZmZzZXQ9ZCYmay50aW1lem9uZU9mZnNldDtmLmhjR2V0VGltZXpvbmVPZmZzZXQ9QigpO2YuaGNNYWtlVGltZT1mdW5jdGlvbihhLGIsYyxoLHQsbil7dmFyIHA7ZD8ocD1mLlVUQy5hcHBseSgwLGFyZ3VtZW50cykscCs9cihwKSk6cD0obmV3IGYoYSxiLGwoYywxKSxsKGgsMCksbCh0LDApLGwobiwwKSkpLmdldFRpbWUoKTtyZXR1cm4gcH07RyhcIk1pbnV0ZXMgSG91cnMgRGF5IERhdGUgTW9udGggRnVsbFllYXJcIi5zcGxpdChcIiBcIiksXG5mdW5jdGlvbihhKXtmW1wiaGNHZXRcIithXT1jK2F9KTtHKFwiTWlsbGlzZWNvbmRzIFNlY29uZHMgTWludXRlcyBIb3VycyBEYXRlIE1vbnRoIEZ1bGxZZWFyXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2ZbXCJoY1NldFwiK2FdPW4rYX0pfXZhciBIPWEuY29sb3IsRz1hLmVhY2gscj1hLmdldFRaT2Zmc2V0LGY9YS5tZXJnZSxsPWEucGljayxxPWEud2luO2EuZGVmYXVsdE9wdGlvbnM9e2NvbG9yczpcIiM3Y2I1ZWMgIzQzNDM0OCAjOTBlZDdkICNmN2EzNWMgIzgwODVlOSAjZjE1YzgwICNlNGQzNTQgIzJiOTA4ZiAjZjQ1YjViICM5MWU4ZTFcIi5zcGxpdChcIiBcIiksc3ltYm9sczpbXCJjaXJjbGVcIixcImRpYW1vbmRcIixcInNxdWFyZVwiLFwidHJpYW5nbGVcIixcInRyaWFuZ2xlLWRvd25cIl0sbGFuZzp7bG9hZGluZzpcIkxvYWRpbmcuLi5cIixtb250aHM6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLFxuc2hvcnRNb250aHM6XCJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlY1wiLnNwbGl0KFwiIFwiKSx3ZWVrZGF5czpcIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5XCIuc3BsaXQoXCIgXCIpLGRlY2ltYWxQb2ludDpcIi5cIixudW1lcmljU3ltYm9sczpcImtNR1RQRVwiLnNwbGl0KFwiXCIpLHJlc2V0Wm9vbTpcIlJlc2V0IHpvb21cIixyZXNldFpvb21UaXRsZTpcIlJlc2V0IHpvb20gbGV2ZWwgMToxXCIsdGhvdXNhbmRzU2VwOlwiIFwifSxnbG9iYWw6e3VzZVVUQzohMCxWTUxSYWRpYWxHcmFkaWVudFVSTDpcImh0dHA6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLzUuMC4xMC9nZngvdm1sLXJhZGlhbC1ncmFkaWVudC5wbmdcIn0sY2hhcnQ6e2JvcmRlclJhZGl1czowLGRlZmF1bHRTZXJpZXNUeXBlOlwibGluZVwiLGlnbm9yZUhpZGRlblNlcmllczohMCxzcGFjaW5nOlsxMCwxMCwxNSwxMF0scmVzZXRab29tQnV0dG9uOnt0aGVtZTp7ekluZGV4OjIwfSxcbnBvc2l0aW9uOnthbGlnbjpcInJpZ2h0XCIseDotMTAseToxMH19LHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsYm9yZGVyQ29sb3I6XCIjMzM1Y2FkXCIsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwiLHBsb3RCb3JkZXJDb2xvcjpcIiNjY2NjY2NcIn0sdGl0bGU6e3RleHQ6XCJDaGFydCB0aXRsZVwiLGFsaWduOlwiY2VudGVyXCIsbWFyZ2luOjE1LHdpZHRoQWRqdXN0Oi00NH0sc3VidGl0bGU6e3RleHQ6XCJcIixhbGlnbjpcImNlbnRlclwiLHdpZHRoQWRqdXN0Oi00NH0scGxvdE9wdGlvbnM6e30sbGFiZWxzOntzdHlsZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGNvbG9yOlwiIzMzMzMzM1wifX0sbGVnZW5kOntlbmFibGVkOiEwLGFsaWduOlwiY2VudGVyXCIsbGF5b3V0OlwiaG9yaXpvbnRhbFwiLGxhYmVsRm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sYm9yZGVyQ29sb3I6XCIjOTk5OTk5XCIsYm9yZGVyUmFkaXVzOjAsbmF2aWdhdGlvbjp7YWN0aXZlQ29sb3I6XCIjMDAzMzk5XCIsaW5hY3RpdmVDb2xvcjpcIiNjY2NjY2NcIn0sXG5pdGVtU3R5bGU6e2NvbG9yOlwiIzMzMzMzM1wiLGZvbnRTaXplOlwiMTJweFwiLGZvbnRXZWlnaHQ6XCJib2xkXCJ9LGl0ZW1Ib3ZlclN0eWxlOntjb2xvcjpcIiMwMDAwMDBcIn0saXRlbUhpZGRlblN0eWxlOntjb2xvcjpcIiNjY2NjY2NcIn0sc2hhZG93OiExLGl0ZW1DaGVja2JveFN0eWxlOntwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxM3B4XCIsaGVpZ2h0OlwiMTNweFwifSxzcXVhcmVTeW1ib2w6ITAsc3ltYm9sUGFkZGluZzo1LHZlcnRpY2FsQWxpZ246XCJib3R0b21cIix4OjAseTowLHRpdGxlOntzdHlsZTp7Zm9udFdlaWdodDpcImJvbGRcIn19fSxsb2FkaW5nOntsYWJlbFN0eWxlOntmb250V2VpZ2h0OlwiYm9sZFwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6XCI0NSVcIn0sc3R5bGU6e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixiYWNrZ3JvdW5kQ29sb3I6XCIjZmZmZmZmXCIsb3BhY2l0eTouNSx0ZXh0QWxpZ246XCJjZW50ZXJcIn19LHRvb2x0aXA6e2VuYWJsZWQ6ITAsYW5pbWF0aW9uOmEuc3ZnLGJvcmRlclJhZGl1czozLFxuZGF0ZVRpbWVMYWJlbEZvcm1hdHM6e21pbGxpc2Vjb25kOlwiJUEsICViICVlLCAlSDolTTolUy4lTFwiLHNlY29uZDpcIiVBLCAlYiAlZSwgJUg6JU06JVNcIixtaW51dGU6XCIlQSwgJWIgJWUsICVIOiVNXCIsaG91cjpcIiVBLCAlYiAlZSwgJUg6JU1cIixkYXk6XCIlQSwgJWIgJWUsICVZXCIsd2VlazpcIldlZWsgZnJvbSAlQSwgJWIgJWUsICVZXCIsbW9udGg6XCIlQiAlWVwiLHllYXI6XCIlWVwifSxmb290ZXJGb3JtYXQ6XCJcIixwYWRkaW5nOjgsc25hcDphLmlzVG91Y2hEZXZpY2U/MjU6MTAsYmFja2dyb3VuZENvbG9yOkgoXCIjZjdmN2Y3XCIpLnNldE9wYWNpdHkoLjg1KS5nZXQoKSxib3JkZXJXaWR0aDoxLGhlYWRlckZvcm1hdDonXFx4M2NzcGFuIHN0eWxlXFx4M2RcImZvbnQtc2l6ZTogMTBweFwiXFx4M2V7cG9pbnQua2V5fVxceDNjL3NwYW5cXHgzZVxceDNjYnIvXFx4M2UnLHBvaW50Rm9ybWF0OidcXHgzY3NwYW4gc3R5bGVcXHgzZFwiY29sb3I6e3BvaW50LmNvbG9yfVwiXFx4M2VcXHUyNWNmXFx4M2Mvc3BhblxceDNlIHtzZXJpZXMubmFtZX06IFxceDNjYlxceDNle3BvaW50Lnl9XFx4M2MvYlxceDNlXFx4M2Nici9cXHgzZScsXG5zaGFkb3c6ITAsc3R5bGU6e2NvbG9yOlwiIzMzMzMzM1wiLGN1cnNvcjpcImRlZmF1bHRcIixmb250U2l6ZTpcIjEycHhcIixwb2ludGVyRXZlbnRzOlwibm9uZVwiLHdoaXRlU3BhY2U6XCJub3dyYXBcIn19LGNyZWRpdHM6e2VuYWJsZWQ6ITAsaHJlZjpcImh0dHA6Ly93d3cuaGlnaGNoYXJ0cy5jb21cIixwb3NpdGlvbjp7YWxpZ246XCJyaWdodFwiLHg6LTEwLHZlcnRpY2FsQWxpZ246XCJib3R0b21cIix5Oi01fSxzdHlsZTp7Y3Vyc29yOlwicG9pbnRlclwiLGNvbG9yOlwiIzk5OTk5OVwiLGZvbnRTaXplOlwiOXB4XCJ9LHRleHQ6XCJIaWdoY2hhcnRzLmNvbVwifX07YS5zZXRPcHRpb25zPWZ1bmN0aW9uKGspe2EuZGVmYXVsdE9wdGlvbnM9ZighMCxhLmRlZmF1bHRPcHRpb25zLGspO0EoKTtyZXR1cm4gYS5kZWZhdWx0T3B0aW9uc307YS5nZXRPcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdE9wdGlvbnN9O2EuZGVmYXVsdFBsb3RPcHRpb25zPWEuZGVmYXVsdE9wdGlvbnMucGxvdE9wdGlvbnM7QSgpfSkoTCk7XG4oZnVuY3Rpb24oYSl7dmFyIEI9YS5hcnJheU1heCxBPWEuYXJyYXlNaW4sSD1hLmRlZmluZWQsRz1hLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzLHI9YS5lYWNoLGY9YS5lcmFzZSxsPWEubWVyZ2UscT1hLnBpY2s7YS5QbG90TGluZU9yQmFuZD1mdW5jdGlvbihhLGYpe3RoaXMuYXhpcz1hO2YmJih0aGlzLm9wdGlvbnM9Zix0aGlzLmlkPWYuaWQpfTthLlBsb3RMaW5lT3JCYW5kLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxmPWEuYXhpcyxkPWYuaG9yaXosYz1hLm9wdGlvbnMsbj1jLmxhYmVsLHo9YS5sYWJlbCxiPWMudG8scD1jLmZyb20saD1jLnZhbHVlLHQ9SChwKSYmSChiKSxEPUgoaCksdz1hLnN2Z0VsZW0sZT0hdyx4PVtdLEMsRT1jLmNvbG9yLG09cShjLnpJbmRleCwwKSx5PWMuZXZlbnRzLHg9e1wiY2xhc3NcIjpcImhpZ2hjaGFydHMtcGxvdC1cIisodD9cImJhbmQgXCI6XCJsaW5lIFwiKSsoYy5jbGFzc05hbWV8fFwiXCIpfSxJPXt9LHI9Zi5jaGFydC5yZW5kZXJlcixcbko9dD9cImJhbmRzXCI6XCJsaW5lc1wiLGc9Zi5sb2cybGluO2YuaXNMb2cmJihwPWcocCksYj1nKGIpLGg9ZyhoKSk7RD8oeD17c3Ryb2tlOkUsXCJzdHJva2Utd2lkdGhcIjpjLndpZHRofSxjLmRhc2hTdHlsZSYmKHguZGFzaHN0eWxlPWMuZGFzaFN0eWxlKSk6dCYmKEUmJih4LmZpbGw9RSksYy5ib3JkZXJXaWR0aCYmKHguc3Ryb2tlPWMuYm9yZGVyQ29sb3IseFtcInN0cm9rZS13aWR0aFwiXT1jLmJvcmRlcldpZHRoKSk7SS56SW5kZXg9bTtKKz1cIi1cIittOyhFPWYucGxvdExpbmVzQW5kQmFuZHNHcm91cHNbSl0pfHwoZi5wbG90TGluZXNBbmRCYW5kc0dyb3Vwc1tKXT1FPXIuZyhcInBsb3QtXCIrSikuYXR0cihJKS5hZGQoKSk7ZSYmKGEuc3ZnRWxlbT13PXIucGF0aCgpLmF0dHIoeCkuYWRkKEUpKTtpZihEKXg9Zi5nZXRQbG90TGluZVBhdGgoaCx3LnN0cm9rZVdpZHRoKCkpO2Vsc2UgaWYodCl4PWYuZ2V0UGxvdEJhbmRQYXRoKHAsYixjKTtlbHNlIHJldHVybjtpZihlJiZ4JiZ4Lmxlbmd0aCl7aWYody5hdHRyKHtkOnh9KSxcbnkpZm9yKEMgaW4gYz1mdW5jdGlvbihnKXt3Lm9uKGcsZnVuY3Rpb24oYil7eVtnXS5hcHBseShhLFtiXSl9KX0seSljKEMpfWVsc2UgdyYmKHg/KHcuc2hvdygpLHcuYW5pbWF0ZSh7ZDp4fSkpOih3LmhpZGUoKSx6JiYoYS5sYWJlbD16PXouZGVzdHJveSgpKSkpO24mJkgobi50ZXh0KSYmeCYmeC5sZW5ndGgmJjA8Zi53aWR0aCYmMDxmLmhlaWdodCYmIXguZmxhdD8obj1sKHthbGlnbjpkJiZ0JiZcImNlbnRlclwiLHg6ZD8hdCYmNDoxMCx2ZXJ0aWNhbEFsaWduOiFkJiZ0JiZcIm1pZGRsZVwiLHk6ZD90PzE2OjEwOnQ/NjotNCxyb3RhdGlvbjpkJiYhdCYmOTB9LG4pLHRoaXMucmVuZGVyTGFiZWwobix4LHQsbSkpOnomJnouaGlkZSgpO3JldHVybiBhfSxyZW5kZXJMYWJlbDpmdW5jdGlvbihhLGYsZCxjKXt2YXIgbj10aGlzLmxhYmVsLGs9dGhpcy5heGlzLmNoYXJ0LnJlbmRlcmVyO258fChuPXthbGlnbjphLnRleHRBbGlnbnx8YS5hbGlnbixyb3RhdGlvbjphLnJvdGF0aW9uLFwiY2xhc3NcIjpcImhpZ2hjaGFydHMtcGxvdC1cIitcbihkP1wiYmFuZFwiOlwibGluZVwiKStcIi1sYWJlbCBcIisoYS5jbGFzc05hbWV8fFwiXCIpfSxuLnpJbmRleD1jLHRoaXMubGFiZWw9bj1rLnRleHQoYS50ZXh0LDAsMCxhLnVzZUhUTUwpLmF0dHIobikuYWRkKCksbi5jc3MoYS5zdHlsZSkpO2M9W2ZbMV0sZls0XSxkP2ZbNl06ZlsxXV07Zj1bZlsyXSxmWzVdLGQ/Zls3XTpmWzJdXTtkPUEoYyk7az1BKGYpO24uYWxpZ24oYSwhMSx7eDpkLHk6ayx3aWR0aDpCKGMpLWQsaGVpZ2h0OkIoZikta30pO24uc2hvdygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zih0aGlzLmF4aXMucGxvdExpbmVzQW5kQmFuZHMsdGhpcyk7ZGVsZXRlIHRoaXMuYXhpcztHKHRoaXMpfX07YS5BeGlzUGxvdExpbmVPckJhbmRFeHRlbnNpb249e2dldFBsb3RCYW5kUGF0aDpmdW5jdGlvbihhLGYpe3ZhciBkPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGYsbnVsbCxudWxsLCEwKSxjPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGEsbnVsbCxudWxsLCEwKSxuPXRoaXMuaG9yaXosaz0xO2E9XG5hPHRoaXMubWluJiZmPHRoaXMubWlufHxhPnRoaXMubWF4JiZmPnRoaXMubWF4O2MmJmQ/KGEmJihjLmZsYXQ9Yy50b1N0cmluZygpPT09ZC50b1N0cmluZygpLGs9MCksYy5wdXNoKG4mJmRbNF09PT1jWzRdP2RbNF0razpkWzRdLG58fGRbNV0hPT1jWzVdP2RbNV06ZFs1XStrLG4mJmRbMV09PT1jWzFdP2RbMV0razpkWzFdLG58fGRbMl0hPT1jWzJdP2RbMl06ZFsyXStrKSk6Yz1udWxsO3JldHVybiBjfSxhZGRQbG90QmFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGRQbG90QmFuZE9yTGluZShhLFwicGxvdEJhbmRzXCIpfSxhZGRQbG90TGluZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGRQbG90QmFuZE9yTGluZShhLFwicGxvdExpbmVzXCIpfSxhZGRQbG90QmFuZE9yTGluZTpmdW5jdGlvbihmLHEpe3ZhciBkPShuZXcgYS5QbG90TGluZU9yQmFuZCh0aGlzLGYpKS5yZW5kZXIoKSxjPXRoaXMudXNlck9wdGlvbnM7ZCYmKHEmJihjW3FdPWNbcV18fFtdLGNbcV0ucHVzaChmKSksXG50aGlzLnBsb3RMaW5lc0FuZEJhbmRzLnB1c2goZCkpO3JldHVybiBkfSxyZW1vdmVQbG90QmFuZE9yTGluZTpmdW5jdGlvbihhKXtmb3IodmFyIGs9dGhpcy5wbG90TGluZXNBbmRCYW5kcyxkPXRoaXMub3B0aW9ucyxjPXRoaXMudXNlck9wdGlvbnMsbj1rLmxlbmd0aDtuLS07KWtbbl0uaWQ9PT1hJiZrW25dLmRlc3Ryb3koKTtyKFtkLnBsb3RMaW5lc3x8W10sYy5wbG90TGluZXN8fFtdLGQucGxvdEJhbmRzfHxbXSxjLnBsb3RCYW5kc3x8W11dLGZ1bmN0aW9uKGMpe2ZvcihuPWMubGVuZ3RoO24tLTspY1tuXS5pZD09PWEmJmYoYyxjW25dKX0pfX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5jb3JyZWN0RmxvYXQsQT1hLmRlZmluZWQsSD1hLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzLEc9YS5pc051bWJlcixyPWEubWVyZ2UsZj1hLnBpY2ssbD1hLmRlZzJyYWQ7YS5UaWNrPWZ1bmN0aW9uKGEsZixsLGQpe3RoaXMuYXhpcz1hO3RoaXMucG9zPWY7dGhpcy50eXBlPWx8fFwiXCI7dGhpcy5pc05ldz1cbiEwO2x8fGR8fHRoaXMuYWRkTGFiZWwoKX07YS5UaWNrLnByb3RvdHlwZT17YWRkTGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF4aXMsaz1hLm9wdGlvbnMsbD1hLmNoYXJ0LGQ9YS5jYXRlZ29yaWVzLGM9YS5uYW1lcyxuPXRoaXMucG9zLHo9ay5sYWJlbHMsYj1hLnRpY2tQb3NpdGlvbnMscD1uPT09YlswXSxoPW49PT1iW2IubGVuZ3RoLTFdLGM9ZD9mKGRbbl0sY1tuXSxuKTpuLGQ9dGhpcy5sYWJlbCxiPWIuaW5mbyx0O2EuaXNEYXRldGltZUF4aXMmJmImJih0PWsuZGF0ZVRpbWVMYWJlbEZvcm1hdHNbYi5oaWdoZXJSYW5rc1tuXXx8Yi51bml0TmFtZV0pO3RoaXMuaXNGaXJzdD1wO3RoaXMuaXNMYXN0PWg7az1hLmxhYmVsRm9ybWF0dGVyLmNhbGwoe2F4aXM6YSxjaGFydDpsLGlzRmlyc3Q6cCxpc0xhc3Q6aCxkYXRlVGltZUxhYmVsRm9ybWF0OnQsdmFsdWU6YS5pc0xvZz9CKGEubGluMmxvZyhjKSk6Y30pO0EoZCk/ZCYmZC5hdHRyKHt0ZXh0Omt9KToodGhpcy5sYWJlbExlbmd0aD1cbih0aGlzLmxhYmVsPWQ9QShrKSYmei5lbmFibGVkP2wucmVuZGVyZXIudGV4dChrLDAsMCx6LnVzZUhUTUwpLmNzcyhyKHouc3R5bGUpKS5hZGQoYS5sYWJlbEdyb3VwKTpudWxsKSYmZC5nZXRCQm94KCkud2lkdGgsdGhpcy5yb3RhdGlvbj0wKX0sZ2V0TGFiZWxTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWw/dGhpcy5sYWJlbC5nZXRCQm94KClbdGhpcy5heGlzLmhvcml6P1wiaGVpZ2h0XCI6XCJ3aWR0aFwiXTowfSxoYW5kbGVPdmVyZmxvdzpmdW5jdGlvbihhKXt2YXIgaz10aGlzLmF4aXMscT1hLngsZD1rLmNoYXJ0LmNoYXJ0V2lkdGgsYz1rLmNoYXJ0LnNwYWNpbmcsbj1mKGsubGFiZWxMZWZ0LE1hdGgubWluKGsucG9zLGNbM10pKSxjPWYoay5sYWJlbFJpZ2h0LE1hdGgubWF4KGsucG9zK2subGVuLGQtY1sxXSkpLHo9dGhpcy5sYWJlbCxiPXRoaXMucm90YXRpb24scD17bGVmdDowLGNlbnRlcjouNSxyaWdodDoxfVtrLmxhYmVsQWxpZ25dLGg9ei5nZXRCQm94KCkud2lkdGgsXG50PWsuZ2V0U2xvdFdpZHRoKCksRD10LHc9MSxlLHg9e307aWYoYikwPmImJnEtcCpoPG4/ZT1NYXRoLnJvdW5kKHEvTWF0aC5jb3MoYipsKS1uKTowPGImJnErcCpoPmMmJihlPU1hdGgucm91bmQoKGQtcSkvTWF0aC5jb3MoYipsKSkpO2Vsc2UgaWYoZD1xKygxLXApKmgscS1wKmg8bj9EPWEueCtEKigxLXApLW46ZD5jJiYoRD1jLWEueCtEKnAsdz0tMSksRD1NYXRoLm1pbih0LEQpLEQ8dCYmXCJjZW50ZXJcIj09PWsubGFiZWxBbGlnbiYmKGEueCs9dyoodC1ELXAqKHQtTWF0aC5taW4oaCxEKSkpKSxoPkR8fGsuYXV0b1JvdGF0aW9uJiYoei5zdHlsZXN8fHt9KS53aWR0aCllPUQ7ZSYmKHgud2lkdGg9ZSwoay5vcHRpb25zLmxhYmVscy5zdHlsZXx8e30pLnRleHRPdmVyZmxvd3x8KHgudGV4dE92ZXJmbG93PVwiZWxsaXBzaXNcIiksei5jc3MoeCkpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhLGYsbCxkKXt2YXIgYz10aGlzLmF4aXMsbj1jLmNoYXJ0LGs9ZCYmbi5vbGRDaGFydEhlaWdodHx8XG5uLmNoYXJ0SGVpZ2h0O3JldHVybnt4OmE/Yy50cmFuc2xhdGUoZitsLG51bGwsbnVsbCxkKStjLnRyYW5zQjpjLmxlZnQrYy5vZmZzZXQrKGMub3Bwb3NpdGU/KGQmJm4ub2xkQ2hhcnRXaWR0aHx8bi5jaGFydFdpZHRoKS1jLnJpZ2h0LWMubGVmdDowKSx5OmE/ay1jLmJvdHRvbStjLm9mZnNldC0oYy5vcHBvc2l0ZT9jLmhlaWdodDowKTprLWMudHJhbnNsYXRlKGYrbCxudWxsLG51bGwsZCktYy50cmFuc0J9fSxnZXRMYWJlbFBvc2l0aW9uOmZ1bmN0aW9uKGEsZix1LGQsYyxuLHosYil7dmFyIHA9dGhpcy5heGlzLGg9cC50cmFuc0EsdD1wLnJldmVyc2VkLGs9cC5zdGFnZ2VyTGluZXMsdz1wLnRpY2tSb3RDb3JyfHx7eDowLHk6MH0sZT1jLnk7QShlKXx8KGU9MD09PXAuc2lkZT91LnJvdGF0aW9uPy04Oi11LmdldEJCb3goKS5oZWlnaHQ6Mj09PXAuc2lkZT93LnkrODpNYXRoLmNvcyh1LnJvdGF0aW9uKmwpKih3LnktdS5nZXRCQm94KCExLDApLmhlaWdodC8yKSk7YT1hK2MueCtcbncueC0obiYmZD9uKmgqKHQ/LTE6MSk6MCk7Zj1mK2UtKG4mJiFkP24qaCoodD8xOi0xKTowKTtrJiYodT16LyhifHwxKSVrLHAub3Bwb3NpdGUmJih1PWstdS0xKSxmKz1wLmxhYmVsT2Zmc2V0L2sqdSk7cmV0dXJue3g6YSx5Ok1hdGgucm91bmQoZil9fSxnZXRNYXJrUGF0aDpmdW5jdGlvbihhLGYsbCxkLGMsbil7cmV0dXJuIG4uY3Jpc3BMaW5lKFtcIk1cIixhLGYsXCJMXCIsYSsoYz8wOi1sKSxmKyhjP2w6MCldLGQpfSxyZW5kZXJHcmlkTGluZTpmdW5jdGlvbihhLGYsbCl7dmFyIGQ9dGhpcy5heGlzLGM9ZC5vcHRpb25zLG49dGhpcy5ncmlkTGluZSxrPXt9LGI9dGhpcy5wb3MscD10aGlzLnR5cGUsaD1kLnRpY2ttYXJrT2Zmc2V0LHQ9ZC5jaGFydC5yZW5kZXJlcixEPXA/cCtcIkdyaWRcIjpcImdyaWRcIix3PWNbRCtcIkxpbmVXaWR0aFwiXSxlPWNbRCtcIkxpbmVDb2xvclwiXSxjPWNbRCtcIkxpbmVEYXNoU3R5bGVcIl07bnx8KGsuc3Ryb2tlPWUsa1tcInN0cm9rZS13aWR0aFwiXT13LGMmJihrLmRhc2hzdHlsZT1cbmMpLHB8fChrLnpJbmRleD0xKSxhJiYoay5vcGFjaXR5PTApLHRoaXMuZ3JpZExpbmU9bj10LnBhdGgoKS5hdHRyKGspLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIisocD9wK1wiLVwiOlwiXCIpK1wiZ3JpZC1saW5lXCIpLmFkZChkLmdyaWRHcm91cCkpO2lmKCFhJiZuJiYoYT1kLmdldFBsb3RMaW5lUGF0aChiK2gsbi5zdHJva2VXaWR0aCgpKmwsYSwhMCkpKW5bdGhpcy5pc05ldz9cImF0dHJcIjpcImFuaW1hdGVcIl0oe2Q6YSxvcGFjaXR5OmZ9KX0scmVuZGVyTWFyazpmdW5jdGlvbihhLGssbCl7dmFyIGQ9dGhpcy5heGlzLGM9ZC5vcHRpb25zLG49ZC5jaGFydC5yZW5kZXJlcixxPXRoaXMudHlwZSxiPXE/cStcIlRpY2tcIjpcInRpY2tcIixwPWQudGlja1NpemUoYiksaD10aGlzLm1hcmssdD0haCxEPWEueDthPWEueTt2YXIgdz1mKGNbYitcIldpZHRoXCJdLCFxJiZkLmlzWEF4aXM/MTowKSxjPWNbYitcIkNvbG9yXCJdO3AmJihkLm9wcG9zaXRlJiYocFswXT0tcFswXSksdCYmKHRoaXMubWFyaz1oPW4ucGF0aCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIitcbihxP3ErXCItXCI6XCJcIikrXCJ0aWNrXCIpLmFkZChkLmF4aXNHcm91cCksaC5hdHRyKHtzdHJva2U6YyxcInN0cm9rZS13aWR0aFwiOnd9KSksaFt0P1wiYXR0clwiOlwiYW5pbWF0ZVwiXSh7ZDp0aGlzLmdldE1hcmtQYXRoKEQsYSxwWzBdLGguc3Ryb2tlV2lkdGgoKSpsLGQuaG9yaXosbiksb3BhY2l0eTprfSkpfSxyZW5kZXJMYWJlbDpmdW5jdGlvbihhLGssbCxkKXt2YXIgYz10aGlzLmF4aXMsbj1jLmhvcml6LHE9Yy5vcHRpb25zLGI9dGhpcy5sYWJlbCxwPXEubGFiZWxzLGg9cC5zdGVwLHQ9Yy50aWNrbWFya09mZnNldCxEPSEwLHc9YS54O2E9YS55O2ImJkcodykmJihiLnh5PWE9dGhpcy5nZXRMYWJlbFBvc2l0aW9uKHcsYSxiLG4scCx0LGQsaCksdGhpcy5pc0ZpcnN0JiYhdGhpcy5pc0xhc3QmJiFmKHEuc2hvd0ZpcnN0TGFiZWwsMSl8fHRoaXMuaXNMYXN0JiYhdGhpcy5pc0ZpcnN0JiYhZihxLnNob3dMYXN0TGFiZWwsMSk/RD0hMTohbnx8Yy5pc1JhZGlhbHx8cC5zdGVwfHxwLnJvdGF0aW9ufHxcbmt8fDA9PT1sfHx0aGlzLmhhbmRsZU92ZXJmbG93KGEpLGgmJmQlaCYmKEQ9ITEpLEQmJkcoYS55KT8oYS5vcGFjaXR5PWwsYlt0aGlzLmlzTmV3P1wiYXR0clwiOlwiYW5pbWF0ZVwiXShhKSk6Yi5hdHRyKFwieVwiLC05OTk5KSx0aGlzLmlzTmV3PSExKX0scmVuZGVyOmZ1bmN0aW9uKGEsayxsKXt2YXIgZD10aGlzLmF4aXMsYz1kLmhvcml6LG49dGhpcy5nZXRQb3NpdGlvbihjLHRoaXMucG9zLGQudGlja21hcmtPZmZzZXQsaykscT1uLngsYj1uLnksZD1jJiZxPT09ZC5wb3MrZC5sZW58fCFjJiZiPT09ZC5wb3M/LTE6MTtsPWYobCwxKTt0aGlzLmlzQWN0aXZlPSEwO3RoaXMucmVuZGVyR3JpZExpbmUoayxsLGQpO3RoaXMucmVuZGVyTWFyayhuLGwsZCk7dGhpcy5yZW5kZXJMYWJlbChuLGssbCxhKX0sZGVzdHJveTpmdW5jdGlvbigpe0godGhpcyx0aGlzLmF4aXMpfX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5hZGRFdmVudCxBPWEuYW5pbU9iamVjdCxIPWEuYXJyYXlNYXgsRz1hLmFycmF5TWluLFxucj1hLkF4aXNQbG90TGluZU9yQmFuZEV4dGVuc2lvbixmPWEuY29sb3IsbD1hLmNvcnJlY3RGbG9hdCxxPWEuZGVmYXVsdE9wdGlvbnMsaz1hLmRlZmluZWQsdT1hLmRlZzJyYWQsZD1hLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzLGM9YS5lYWNoLG49YS5leHRlbmQsej1hLmZpcmVFdmVudCxiPWEuZm9ybWF0LHA9YS5nZXRNYWduaXR1ZGUsaD1hLmdyZXAsdD1hLmluQXJyYXksRD1hLmlzQXJyYXksdz1hLmlzTnVtYmVyLGU9YS5pc1N0cmluZyx4PWEubWVyZ2UsQz1hLm5vcm1hbGl6ZVRpY2tJbnRlcnZhbCxFPWEucGljayxtPWEuUGxvdExpbmVPckJhbmQseT1hLnJlbW92ZUV2ZW50LEk9YS5zcGxhdCxLPWEuc3luY1RpbWVvdXQsSj1hLlRpY2s7YS5BeGlzPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YS5BeGlzLnByb3RvdHlwZT17ZGVmYXVsdE9wdGlvbnM6e2RhdGVUaW1lTGFiZWxGb3JtYXRzOnttaWxsaXNlY29uZDpcIiVIOiVNOiVTLiVMXCIsc2Vjb25kOlwiJUg6JU06JVNcIixcbm1pbnV0ZTpcIiVIOiVNXCIsaG91cjpcIiVIOiVNXCIsZGF5OlwiJWUuICViXCIsd2VlazpcIiVlLiAlYlwiLG1vbnRoOlwiJWIgJyV5XCIseWVhcjpcIiVZXCJ9LGVuZE9uVGljazohMSxsYWJlbHM6e2VuYWJsZWQ6ITAsc3R5bGU6e2NvbG9yOlwiIzY2NjY2NlwiLGN1cnNvcjpcImRlZmF1bHRcIixmb250U2l6ZTpcIjExcHhcIn0seDowfSxtaW5QYWRkaW5nOi4wMSxtYXhQYWRkaW5nOi4wMSxtaW5vclRpY2tMZW5ndGg6MixtaW5vclRpY2tQb3NpdGlvbjpcIm91dHNpZGVcIixzdGFydE9mV2VlazoxLHN0YXJ0T25UaWNrOiExLHRpY2tMZW5ndGg6MTAsdGlja21hcmtQbGFjZW1lbnQ6XCJiZXR3ZWVuXCIsdGlja1BpeGVsSW50ZXJ2YWw6MTAwLHRpY2tQb3NpdGlvbjpcIm91dHNpZGVcIix0aXRsZTp7YWxpZ246XCJtaWRkbGVcIixzdHlsZTp7Y29sb3I6XCIjNjY2NjY2XCJ9fSx0eXBlOlwibGluZWFyXCIsbWlub3JHcmlkTGluZUNvbG9yOlwiI2YyZjJmMlwiLG1pbm9yR3JpZExpbmVXaWR0aDoxLG1pbm9yVGlja0NvbG9yOlwiIzk5OTk5OVwiLFxubGluZUNvbG9yOlwiI2NjZDZlYlwiLGxpbmVXaWR0aDoxLGdyaWRMaW5lQ29sb3I6XCIjZTZlNmU2XCIsdGlja0NvbG9yOlwiI2NjZDZlYlwifSxkZWZhdWx0WUF4aXNPcHRpb25zOntlbmRPblRpY2s6ITAsdGlja1BpeGVsSW50ZXJ2YWw6NzIsc2hvd0xhc3RMYWJlbDohMCxsYWJlbHM6e3g6LTh9LG1heFBhZGRpbmc6LjA1LG1pblBhZGRpbmc6LjA1LHN0YXJ0T25UaWNrOiEwLHRpdGxlOntyb3RhdGlvbjoyNzAsdGV4dDpcIlZhbHVlc1wifSxzdGFja0xhYmVsczp7ZW5hYmxlZDohMSxmb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5udW1iZXJGb3JtYXQodGhpcy50b3RhbCwtMSl9LHN0eWxlOntmb250U2l6ZTpcIjExcHhcIixmb250V2VpZ2h0OlwiYm9sZFwiLGNvbG9yOlwiIzAwMDAwMFwiLHRleHRPdXRsaW5lOlwiMXB4IGNvbnRyYXN0XCJ9fSxncmlkTGluZVdpZHRoOjEsbGluZVdpZHRoOjB9LGRlZmF1bHRMZWZ0QXhpc09wdGlvbnM6e2xhYmVsczp7eDotMTV9LHRpdGxlOntyb3RhdGlvbjoyNzB9fSxcbmRlZmF1bHRSaWdodEF4aXNPcHRpb25zOntsYWJlbHM6e3g6MTV9LHRpdGxlOntyb3RhdGlvbjo5MH19LGRlZmF1bHRCb3R0b21BeGlzT3B0aW9uczp7bGFiZWxzOnthdXRvUm90YXRpb246Wy00NV0seDowfSx0aXRsZTp7cm90YXRpb246MH19LGRlZmF1bHRUb3BBeGlzT3B0aW9uczp7bGFiZWxzOnthdXRvUm90YXRpb246Wy00NV0seDowfSx0aXRsZTp7cm90YXRpb246MH19LGluaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZz1iLmlzWDt0aGlzLmNoYXJ0PWE7dGhpcy5ob3Jpej1hLmludmVydGVkPyFnOmc7dGhpcy5pc1hBeGlzPWc7dGhpcy5jb2xsPXRoaXMuY29sbHx8KGc/XCJ4QXhpc1wiOlwieUF4aXNcIik7dGhpcy5vcHBvc2l0ZT1iLm9wcG9zaXRlO3RoaXMuc2lkZT1iLnNpZGV8fCh0aGlzLmhvcml6P3RoaXMub3Bwb3NpdGU/MDoyOnRoaXMub3Bwb3NpdGU/MTozKTt0aGlzLnNldE9wdGlvbnMoYik7dmFyIGM9dGhpcy5vcHRpb25zLGU9Yy50eXBlO3RoaXMubGFiZWxGb3JtYXR0ZXI9Yy5sYWJlbHMuZm9ybWF0dGVyfHxcbnRoaXMuZGVmYXVsdExhYmVsRm9ybWF0dGVyO3RoaXMudXNlck9wdGlvbnM9Yjt0aGlzLm1pblBpeGVsUGFkZGluZz0wO3RoaXMucmV2ZXJzZWQ9Yy5yZXZlcnNlZDt0aGlzLnZpc2libGU9ITEhPT1jLnZpc2libGU7dGhpcy56b29tRW5hYmxlZD0hMSE9PWMuem9vbUVuYWJsZWQ7dGhpcy5oYXNOYW1lcz1cImNhdGVnb3J5XCI9PT1lfHwhMD09PWMuY2F0ZWdvcmllczt0aGlzLmNhdGVnb3JpZXM9Yy5jYXRlZ29yaWVzfHx0aGlzLmhhc05hbWVzO3RoaXMubmFtZXM9dGhpcy5uYW1lc3x8W107dGhpcy5wbG90TGluZXNBbmRCYW5kc0dyb3Vwcz17fTt0aGlzLmlzTG9nPVwibG9nYXJpdGhtaWNcIj09PWU7dGhpcy5pc0RhdGV0aW1lQXhpcz1cImRhdGV0aW1lXCI9PT1lO3RoaXMucG9zaXRpdmVWYWx1ZXNPbmx5PXRoaXMuaXNMb2cmJiF0aGlzLmFsbG93TmVnYXRpdmVMb2c7dGhpcy5pc0xpbmtlZD1rKGMubGlua2VkVG8pO3RoaXMudGlja3M9e307dGhpcy5sYWJlbEVkZ2U9W107dGhpcy5taW5vclRpY2tzPVxue307dGhpcy5wbG90TGluZXNBbmRCYW5kcz1bXTt0aGlzLmFsdGVybmF0ZUJhbmRzPXt9O3RoaXMubGVuPTA7dGhpcy5taW5SYW5nZT10aGlzLnVzZXJNaW5SYW5nZT1jLm1pblJhbmdlfHxjLm1heFpvb207dGhpcy5yYW5nZT1jLnJhbmdlO3RoaXMub2Zmc2V0PWMub2Zmc2V0fHwwO3RoaXMuc3RhY2tzPXt9O3RoaXMub2xkU3RhY2tzPXt9O3RoaXMuc3RhY2tzVG91Y2hlZD0wO3RoaXMubWluPXRoaXMubWF4PW51bGw7dGhpcy5jcm9zc2hhaXI9RShjLmNyb3NzaGFpcixJKGEub3B0aW9ucy50b29sdGlwLmNyb3NzaGFpcnMpW2c/MDoxXSwhMSk7dmFyIGg7Yj10aGlzLm9wdGlvbnMuZXZlbnRzOy0xPT09dCh0aGlzLGEuYXhlcykmJihnP2EuYXhlcy5zcGxpY2UoYS54QXhpcy5sZW5ndGgsMCx0aGlzKTphLmF4ZXMucHVzaCh0aGlzKSxhW3RoaXMuY29sbF0ucHVzaCh0aGlzKSk7dGhpcy5zZXJpZXM9dGhpcy5zZXJpZXN8fFtdO2EuaW52ZXJ0ZWQmJmcmJnZvaWQgMD09PXRoaXMucmV2ZXJzZWQmJlxuKHRoaXMucmV2ZXJzZWQ9ITApO3RoaXMucmVtb3ZlUGxvdExpbmU9dGhpcy5yZW1vdmVQbG90QmFuZD10aGlzLnJlbW92ZVBsb3RCYW5kT3JMaW5lO2ZvcihoIGluIGIpQih0aGlzLGgsYltoXSk7dGhpcy5saW4ybG9nPWMubGluZWFyVG9Mb2dDb252ZXJ0ZXJ8fHRoaXMubGluMmxvZzt0aGlzLmlzTG9nJiYodGhpcy52YWwybGluPXRoaXMubG9nMmxpbix0aGlzLmxpbjJ2YWw9dGhpcy5saW4ybG9nKX0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9eCh0aGlzLmRlZmF1bHRPcHRpb25zLFwieUF4aXNcIj09PXRoaXMuY29sbCYmdGhpcy5kZWZhdWx0WUF4aXNPcHRpb25zLFt0aGlzLmRlZmF1bHRUb3BBeGlzT3B0aW9ucyx0aGlzLmRlZmF1bHRSaWdodEF4aXNPcHRpb25zLHRoaXMuZGVmYXVsdEJvdHRvbUF4aXNPcHRpb25zLHRoaXMuZGVmYXVsdExlZnRBeGlzT3B0aW9uc11bdGhpcy5zaWRlXSx4KHFbdGhpcy5jb2xsXSxhKSl9LGRlZmF1bHRMYWJlbEZvcm1hdHRlcjpmdW5jdGlvbigpe3ZhciBnPVxudGhpcy5heGlzLGM9dGhpcy52YWx1ZSxlPWcuY2F0ZWdvcmllcyxoPXRoaXMuZGF0ZVRpbWVMYWJlbEZvcm1hdCxtPXEubGFuZyxkPW0ubnVtZXJpY1N5bWJvbHMsbT1tLm51bWVyaWNTeW1ib2xNYWduaXR1ZGV8fDFFMyx2PWQmJmQubGVuZ3RoLHAsdD1nLm9wdGlvbnMubGFiZWxzLmZvcm1hdCxnPWcuaXNMb2c/TWF0aC5hYnMoYyk6Zy50aWNrSW50ZXJ2YWw7aWYodClwPWIodCx0aGlzKTtlbHNlIGlmKGUpcD1jO2Vsc2UgaWYoaClwPWEuZGF0ZUZvcm1hdChoLGMpO2Vsc2UgaWYodiYmMUUzPD1nKWZvcig7di0tJiZ2b2lkIDA9PT1wOyllPU1hdGgucG93KG0sdisxKSxnPj1lJiYwPT09MTAqYyVlJiZudWxsIT09ZFt2XSYmMCE9PWMmJihwPWEubnVtYmVyRm9ybWF0KGMvZSwtMSkrZFt2XSk7dm9pZCAwPT09cCYmKHA9MUU0PD1NYXRoLmFicyhjKT9hLm51bWJlckZvcm1hdChjLC0xKTphLm51bWJlckZvcm1hdChjLC0xLHZvaWQgMCxcIlwiKSk7cmV0dXJuIHB9LGdldFNlcmllc0V4dHJlbWVzOmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLGI9YS5jaGFydDthLmhhc1Zpc2libGVTZXJpZXM9ITE7YS5kYXRhTWluPWEuZGF0YU1heD1hLnRocmVzaG9sZD1udWxsO2Euc29mdFRocmVzaG9sZD0hYS5pc1hBeGlzO2EuYnVpbGRTdGFja3MmJmEuYnVpbGRTdGFja3MoKTtjKGEuc2VyaWVzLGZ1bmN0aW9uKGcpe2lmKGcudmlzaWJsZXx8IWIub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMpe3ZhciBjPWcub3B0aW9ucyxlPWMudGhyZXNob2xkLG07YS5oYXNWaXNpYmxlU2VyaWVzPSEwO2EucG9zaXRpdmVWYWx1ZXNPbmx5JiYwPj1lJiYoZT1udWxsKTtpZihhLmlzWEF4aXMpYz1nLnhEYXRhLGMubGVuZ3RoJiYoZz1HKGMpLHcoZyl8fGcgaW5zdGFuY2VvZiBEYXRlfHwoYz1oKGMsZnVuY3Rpb24oYSl7cmV0dXJuIHcoYSl9KSxnPUcoYykpLGEuZGF0YU1pbj1NYXRoLm1pbihFKGEuZGF0YU1pbixjWzBdKSxnKSxhLmRhdGFNYXg9TWF0aC5tYXgoRShhLmRhdGFNYXgsY1swXSksSChjKSkpO2Vsc2UgaWYoZy5nZXRFeHRyZW1lcygpLFxubT1nLmRhdGFNYXgsZz1nLmRhdGFNaW4sayhnKSYmayhtKSYmKGEuZGF0YU1pbj1NYXRoLm1pbihFKGEuZGF0YU1pbixnKSxnKSxhLmRhdGFNYXg9TWF0aC5tYXgoRShhLmRhdGFNYXgsbSksbSkpLGsoZSkmJihhLnRocmVzaG9sZD1lKSwhYy5zb2Z0VGhyZXNob2xkfHxhLnBvc2l0aXZlVmFsdWVzT25seSlhLnNvZnRUaHJlc2hvbGQ9ITF9fSl9LHRyYW5zbGF0ZTpmdW5jdGlvbihhLGIsYyxlLGgsbSl7dmFyIGc9dGhpcy5saW5rZWRQYXJlbnR8fHRoaXMsRj0xLHA9MCxkPWU/Zy5vbGRUcmFuc0E6Zy50cmFuc0E7ZT1lP2cub2xkTWluOmcubWluO3ZhciB0PWcubWluUGl4ZWxQYWRkaW5nO2g9KGcuaXNPcmRpbmFsfHxnLmlzQnJva2VufHxnLmlzTG9nJiZoKSYmZy5saW4ydmFsO2R8fChkPWcudHJhbnNBKTtjJiYoRio9LTEscD1nLmxlbik7Zy5yZXZlcnNlZCYmKEYqPS0xLHAtPUYqKGcuc2VjdG9yfHxnLmxlbikpO2I/KGE9KGEqRitwLXQpL2QrZSxoJiYoYT1nLmxpbjJ2YWwoYSkpKTpcbihoJiYoYT1nLnZhbDJsaW4oYSkpLGE9RiooYS1lKSpkK3ArRip0Kyh3KG0pP2QqbTowKSk7cmV0dXJuIGF9LHRvUGl4ZWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudHJhbnNsYXRlKGEsITEsIXRoaXMuaG9yaXosbnVsbCwhMCkrKGI/MDp0aGlzLnBvcyl9LHRvVmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50cmFuc2xhdGUoYS0oYj8wOnRoaXMucG9zKSwhMCwhdGhpcy5ob3JpeixudWxsLCEwKX0sZ2V0UGxvdExpbmVQYXRoOmZ1bmN0aW9uKGEsYixjLGUsaCl7dmFyIGc9dGhpcy5jaGFydCxtPXRoaXMubGVmdCxGPXRoaXMudG9wLHAsZCx0PWMmJmcub2xkQ2hhcnRIZWlnaHR8fGcuY2hhcnRIZWlnaHQsZj1jJiZnLm9sZENoYXJ0V2lkdGh8fGcuY2hhcnRXaWR0aCxuO3A9dGhpcy50cmFuc0I7dmFyIHk9ZnVuY3Rpb24oYSxiLGcpe2lmKGE8Ynx8YT5nKWU/YT1NYXRoLm1pbihNYXRoLm1heChiLGEpLGcpOm49ITA7cmV0dXJuIGF9O2g9RShoLHRoaXMudHJhbnNsYXRlKGEsXG5udWxsLG51bGwsYykpO2E9Yz1NYXRoLnJvdW5kKGgrcCk7cD1kPU1hdGgucm91bmQodC1oLXApO3coaCk/dGhpcy5ob3Jpej8ocD1GLGQ9dC10aGlzLmJvdHRvbSxhPWM9eShhLG0sbSt0aGlzLndpZHRoKSk6KGE9bSxjPWYtdGhpcy5yaWdodCxwPWQ9eShwLEYsRit0aGlzLmhlaWdodCkpOm49ITA7cmV0dXJuIG4mJiFlP251bGw6Zy5yZW5kZXJlci5jcmlzcExpbmUoW1wiTVwiLGEscCxcIkxcIixjLGRdLGJ8fDEpfSxnZXRMaW5lYXJUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxlPWwoTWF0aC5mbG9vcihiL2EpKmEpO2M9bChNYXRoLmNlaWwoYy9hKSphKTt2YXIgaD1bXTtpZih0aGlzLnNpbmdsZSlyZXR1cm5bYl07Zm9yKGI9ZTtiPD1jOyl7aC5wdXNoKGIpO2I9bChiK2EpO2lmKGI9PT1nKWJyZWFrO2c9Yn1yZXR1cm4gaH0sZ2V0TWlub3JUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucyxlPWEudGlja1Bvc2l0aW9ucyxoPWEubWlub3JUaWNrSW50ZXJ2YWwsXG5tPVtdLHA9YS5wb2ludFJhbmdlUGFkZGluZ3x8MCx2PWEubWluLXAscD1hLm1heCtwLGQ9cC12O2lmKGQmJmQvaDxhLmxlbi8zKWlmKGEuaXNMb2cpYyh0aGlzLnBhZGRlZFRpY2tzLGZ1bmN0aW9uKGIsZyxjKXtnJiZtLnB1c2guYXBwbHkobSxhLmdldExvZ1RpY2tQb3NpdGlvbnMoaCxjW2ctMV0sY1tnXSwhMCkpfSk7ZWxzZSBpZihhLmlzRGF0ZXRpbWVBeGlzJiZcImF1dG9cIj09PWIubWlub3JUaWNrSW50ZXJ2YWwpbT1tLmNvbmNhdChhLmdldFRpbWVUaWNrcyhhLm5vcm1hbGl6ZVRpbWVUaWNrSW50ZXJ2YWwoaCksdixwLGIuc3RhcnRPZldlZWspKTtlbHNlIGZvcihiPXYrKGVbMF0tdiklaDtiPD1wJiZiIT09bVswXTtiKz1oKW0ucHVzaChiKTswIT09bS5sZW5ndGgmJmEudHJpbVRpY2tzKG0pO3JldHVybiBtfSxhZGp1c3RGb3JNaW5SYW5nZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMubWluLGU9dGhpcy5tYXgsaCxtPXRoaXMuZGF0YU1heC10aGlzLmRhdGFNaW4+PVxudGhpcy5taW5SYW5nZSxwLHYsZCx0LGYsbjt0aGlzLmlzWEF4aXMmJnZvaWQgMD09PXRoaXMubWluUmFuZ2UmJiF0aGlzLmlzTG9nJiYoayhhLm1pbil8fGsoYS5tYXgpP3RoaXMubWluUmFuZ2U9bnVsbDooYyh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXt0PWEueERhdGE7Zm9yKHY9Zj1hLnhJbmNyZW1lbnQ/MTp0Lmxlbmd0aC0xOzA8djt2LS0paWYoZD10W3ZdLXRbdi0xXSx2b2lkIDA9PT1wfHxkPHApcD1kfSksdGhpcy5taW5SYW5nZT1NYXRoLm1pbig1KnAsdGhpcy5kYXRhTWF4LXRoaXMuZGF0YU1pbikpKTtlLWI8dGhpcy5taW5SYW5nZSYmKG49dGhpcy5taW5SYW5nZSxoPShuLWUrYikvMixoPVtiLWgsRShhLm1pbixiLWgpXSxtJiYoaFsyXT10aGlzLmlzTG9nP3RoaXMubG9nMmxpbih0aGlzLmRhdGFNaW4pOnRoaXMuZGF0YU1pbiksYj1IKGgpLGU9W2IrbixFKGEubWF4LGIrbildLG0mJihlWzJdPXRoaXMuaXNMb2c/dGhpcy5sb2cybGluKHRoaXMuZGF0YU1heCk6dGhpcy5kYXRhTWF4KSxcbmU9RyhlKSxlLWI8biYmKGhbMF09ZS1uLGhbMV09RShhLm1pbixlLW4pLGI9SChoKSkpO3RoaXMubWluPWI7dGhpcy5tYXg9ZX0sZ2V0Q2xvc2VzdDpmdW5jdGlvbigpe3ZhciBhO3RoaXMuY2F0ZWdvcmllcz9hPTE6Yyh0aGlzLnNlcmllcyxmdW5jdGlvbihiKXt2YXIgZz1iLmNsb3Nlc3RQb2ludFJhbmdlLGM9Yi52aXNpYmxlfHwhYi5jaGFydC5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllczshYi5ub1NoYXJlZFRvb2x0aXAmJmsoZykmJmMmJihhPWsoYSk/TWF0aC5taW4oYSxnKTpnKX0pO3JldHVybiBhfSxuYW1lVG9YOmZ1bmN0aW9uKGEpe3ZhciBiPUQodGhpcy5jYXRlZ29yaWVzKSxnPWI/dGhpcy5jYXRlZ29yaWVzOnRoaXMubmFtZXMsYz1hLm9wdGlvbnMueCxlO2Euc2VyaWVzLnJlcXVpcmVTb3J0aW5nPSExO2soYyl8fChjPSExPT09dGhpcy5vcHRpb25zLnVuaXF1ZU5hbWVzP2Euc2VyaWVzLmF1dG9JbmNyZW1lbnQoKTp0KGEubmFtZSxnKSk7LTE9PT1jP2J8fFxuKGU9Zy5sZW5ndGgpOmU9Yzt2b2lkIDAhPT1lJiYodGhpcy5uYW1lc1tlXT1hLm5hbWUpO3JldHVybiBlfSx1cGRhdGVOYW1lczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7MDx0aGlzLm5hbWVzLmxlbmd0aCYmKHRoaXMubmFtZXMubGVuZ3RoPTAsdGhpcy5taW5SYW5nZT12b2lkIDAsYyh0aGlzLnNlcmllc3x8W10sZnVuY3Rpb24oYil7Yi54SW5jcmVtZW50PW51bGw7aWYoIWIucG9pbnRzfHxiLmlzRGlydHlEYXRhKWIucHJvY2Vzc0RhdGEoKSxiLmdlbmVyYXRlUG9pbnRzKCk7YyhiLnBvaW50cyxmdW5jdGlvbihnLGMpe3ZhciBlO2cub3B0aW9ucyYmKGU9YS5uYW1lVG9YKGcpLHZvaWQgMCE9PWUmJmUhPT1nLngmJihnLng9ZSxiLnhEYXRhW2NdPWUpKX0pfSkpfSxzZXRBeGlzVHJhbnNsYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxnPWIubWF4LWIubWluLGg9Yi5heGlzUG9pbnRSYW5nZXx8MCxtLHA9MCx2PTAsZD1iLmxpbmtlZFBhcmVudCx0PSEhYi5jYXRlZ29yaWVzLGY9XG5iLnRyYW5zQSxuPWIuaXNYQXhpcztpZihufHx0fHxoKW09Yi5nZXRDbG9zZXN0KCksZD8ocD1kLm1pblBvaW50T2Zmc2V0LHY9ZC5wb2ludFJhbmdlUGFkZGluZyk6YyhiLnNlcmllcyxmdW5jdGlvbihhKXt2YXIgZz10PzE6bj9FKGEub3B0aW9ucy5wb2ludFJhbmdlLG0sMCk6Yi5heGlzUG9pbnRSYW5nZXx8MDthPWEub3B0aW9ucy5wb2ludFBsYWNlbWVudDtoPU1hdGgubWF4KGgsZyk7Yi5zaW5nbGV8fChwPU1hdGgubWF4KHAsZShhKT8wOmcvMiksdj1NYXRoLm1heCh2LFwib25cIj09PWE/MDpnKSl9KSxkPWIub3JkaW5hbFNsb3BlJiZtP2Iub3JkaW5hbFNsb3BlL206MSxiLm1pblBvaW50T2Zmc2V0PXAqPWQsYi5wb2ludFJhbmdlUGFkZGluZz12Kj1kLGIucG9pbnRSYW5nZT1NYXRoLm1pbihoLGcpLG4mJihiLmNsb3Nlc3RQb2ludFJhbmdlPW0pO2EmJihiLm9sZFRyYW5zQT1mKTtiLnRyYW5zbGF0aW9uU2xvcGU9Yi50cmFuc0E9Zj1iLm9wdGlvbnMuc3RhdGljU2NhbGV8fGIubGVuL1xuKGcrdnx8MSk7Yi50cmFuc0I9Yi5ob3Jpej9iLmxlZnQ6Yi5ib3R0b207Yi5taW5QaXhlbFBhZGRpbmc9ZipwfSxtaW5Gcm9tUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXgtdGhpcy5yYW5nZX0sc2V0VGlja0ludGVydmFsOmZ1bmN0aW9uKGIpe3ZhciBnPXRoaXMsZT1nLmNoYXJ0LGg9Zy5vcHRpb25zLG09Zy5pc0xvZyxkPWcubG9nMmxpbix2PWcuaXNEYXRldGltZUF4aXMsdD1nLmlzWEF4aXMsZj1nLmlzTGlua2VkLG49aC5tYXhQYWRkaW5nLHk9aC5taW5QYWRkaW5nLHg9aC50aWNrSW50ZXJ2YWwsRD1oLnRpY2tQaXhlbEludGVydmFsLEk9Zy5jYXRlZ29yaWVzLHE9Zy50aHJlc2hvbGQsdT1nLnNvZnRUaHJlc2hvbGQscixLLEosQTt2fHxJfHxmfHx0aGlzLmdldFRpY2tBbW91bnQoKTtKPUUoZy51c2VyTWluLGgubWluKTtBPUUoZy51c2VyTWF4LGgubWF4KTtmPyhnLmxpbmtlZFBhcmVudD1lW2cuY29sbF1baC5saW5rZWRUb10sZT1nLmxpbmtlZFBhcmVudC5nZXRFeHRyZW1lcygpLFxuZy5taW49RShlLm1pbixlLmRhdGFNaW4pLGcubWF4PUUoZS5tYXgsZS5kYXRhTWF4KSxoLnR5cGUhPT1nLmxpbmtlZFBhcmVudC5vcHRpb25zLnR5cGUmJmEuZXJyb3IoMTEsMSkpOighdSYmayhxKSYmKGcuZGF0YU1pbj49cT8ocj1xLHk9MCk6Zy5kYXRhTWF4PD1xJiYoSz1xLG49MCkpLGcubWluPUUoSixyLGcuZGF0YU1pbiksZy5tYXg9RShBLEssZy5kYXRhTWF4KSk7bSYmKGcucG9zaXRpdmVWYWx1ZXNPbmx5JiYhYiYmMD49TWF0aC5taW4oZy5taW4sRShnLmRhdGFNaW4sZy5taW4pKSYmYS5lcnJvcigxMCwxKSxnLm1pbj1sKGQoZy5taW4pLDE1KSxnLm1heD1sKGQoZy5tYXgpLDE1KSk7Zy5yYW5nZSYmayhnLm1heCkmJihnLnVzZXJNaW49Zy5taW49Sj1NYXRoLm1heChnLm1pbixnLm1pbkZyb21SYW5nZSgpKSxnLnVzZXJNYXg9QT1nLm1heCxnLnJhbmdlPW51bGwpO3ooZyxcImZvdW5kRXh0cmVtZXNcIik7Zy5iZWZvcmVQYWRkaW5nJiZnLmJlZm9yZVBhZGRpbmcoKTtnLmFkanVzdEZvck1pblJhbmdlKCk7XG4hKEl8fGcuYXhpc1BvaW50UmFuZ2V8fGcudXNlUGVyY2VudGFnZXx8ZikmJmsoZy5taW4pJiZrKGcubWF4KSYmKGQ9Zy5tYXgtZy5taW4pJiYoIWsoSikmJnkmJihnLm1pbi09ZCp5KSwhayhBKSYmbiYmKGcubWF4Kz1kKm4pKTt3KGguc29mdE1pbikmJihnLm1pbj1NYXRoLm1pbihnLm1pbixoLnNvZnRNaW4pKTt3KGguc29mdE1heCkmJihnLm1heD1NYXRoLm1heChnLm1heCxoLnNvZnRNYXgpKTt3KGguZmxvb3IpJiYoZy5taW49TWF0aC5tYXgoZy5taW4saC5mbG9vcikpO3coaC5jZWlsaW5nKSYmKGcubWF4PU1hdGgubWluKGcubWF4LGguY2VpbGluZykpO3UmJmsoZy5kYXRhTWluKSYmKHE9cXx8MCwhayhKKSYmZy5taW48cSYmZy5kYXRhTWluPj1xP2cubWluPXE6IWsoQSkmJmcubWF4PnEmJmcuZGF0YU1heDw9cSYmKGcubWF4PXEpKTtnLnRpY2tJbnRlcnZhbD1nLm1pbj09PWcubWF4fHx2b2lkIDA9PT1nLm1pbnx8dm9pZCAwPT09Zy5tYXg/MTpmJiYheCYmRD09PWcubGlua2VkUGFyZW50Lm9wdGlvbnMudGlja1BpeGVsSW50ZXJ2YWw/XG54PWcubGlua2VkUGFyZW50LnRpY2tJbnRlcnZhbDpFKHgsdGhpcy50aWNrQW1vdW50PyhnLm1heC1nLm1pbikvTWF0aC5tYXgodGhpcy50aWNrQW1vdW50LTEsMSk6dm9pZCAwLEk/MTooZy5tYXgtZy5taW4pKkQvTWF0aC5tYXgoZy5sZW4sRCkpO3QmJiFiJiZjKGcuc2VyaWVzLGZ1bmN0aW9uKGEpe2EucHJvY2Vzc0RhdGEoZy5taW4hPT1nLm9sZE1pbnx8Zy5tYXghPT1nLm9sZE1heCl9KTtnLnNldEF4aXNUcmFuc2xhdGlvbighMCk7Zy5iZWZvcmVTZXRUaWNrUG9zaXRpb25zJiZnLmJlZm9yZVNldFRpY2tQb3NpdGlvbnMoKTtnLnBvc3RQcm9jZXNzVGlja0ludGVydmFsJiYoZy50aWNrSW50ZXJ2YWw9Zy5wb3N0UHJvY2Vzc1RpY2tJbnRlcnZhbChnLnRpY2tJbnRlcnZhbCkpO2cucG9pbnRSYW5nZSYmIXgmJihnLnRpY2tJbnRlcnZhbD1NYXRoLm1heChnLnBvaW50UmFuZ2UsZy50aWNrSW50ZXJ2YWwpKTtiPUUoaC5taW5UaWNrSW50ZXJ2YWwsZy5pc0RhdGV0aW1lQXhpcyYmZy5jbG9zZXN0UG9pbnRSYW5nZSk7XG4heCYmZy50aWNrSW50ZXJ2YWw8YiYmKGcudGlja0ludGVydmFsPWIpO3Z8fG18fHh8fChnLnRpY2tJbnRlcnZhbD1DKGcudGlja0ludGVydmFsLG51bGwscChnLnRpY2tJbnRlcnZhbCksRShoLmFsbG93RGVjaW1hbHMsISguNTxnLnRpY2tJbnRlcnZhbCYmNT5nLnRpY2tJbnRlcnZhbCYmMUUzPGcubWF4JiY5OTk5PmcubWF4KSksISF0aGlzLnRpY2tBbW91bnQpKTt0aGlzLnRpY2tBbW91bnR8fChnLnRpY2tJbnRlcnZhbD1nLnVuc3F1aXNoKCkpO3RoaXMuc2V0VGlja1Bvc2l0aW9ucygpfSxzZXRUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGIsYz1hLnRpY2tQb3NpdGlvbnMsZT1hLnRpY2tQb3NpdGlvbmVyLGg9YS5zdGFydE9uVGljayxtPWEuZW5kT25UaWNrO3RoaXMudGlja21hcmtPZmZzZXQ9dGhpcy5jYXRlZ29yaWVzJiZcImJldHdlZW5cIj09PWEudGlja21hcmtQbGFjZW1lbnQmJjE9PT10aGlzLnRpY2tJbnRlcnZhbD8uNTowO3RoaXMubWlub3JUaWNrSW50ZXJ2YWw9XG5cImF1dG9cIj09PWEubWlub3JUaWNrSW50ZXJ2YWwmJnRoaXMudGlja0ludGVydmFsP3RoaXMudGlja0ludGVydmFsLzU6YS5taW5vclRpY2tJbnRlcnZhbDt0aGlzLnNpbmdsZT10aGlzLm1pbj09PXRoaXMubWF4JiZrKHRoaXMubWluKSYmIXRoaXMudGlja0Ftb3VudCYmITEhPT1hLmFsbG93RGVjaW1hbHM7dGhpcy50aWNrUG9zaXRpb25zPWI9YyYmYy5zbGljZSgpOyFiJiYoYj10aGlzLmlzRGF0ZXRpbWVBeGlzP3RoaXMuZ2V0VGltZVRpY2tzKHRoaXMubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbCh0aGlzLnRpY2tJbnRlcnZhbCxhLnVuaXRzKSx0aGlzLm1pbix0aGlzLm1heCxhLnN0YXJ0T2ZXZWVrLHRoaXMub3JkaW5hbFBvc2l0aW9ucyx0aGlzLmNsb3Nlc3RQb2ludFJhbmdlLCEwKTp0aGlzLmlzTG9nP3RoaXMuZ2V0TG9nVGlja1Bvc2l0aW9ucyh0aGlzLnRpY2tJbnRlcnZhbCx0aGlzLm1pbix0aGlzLm1heCk6dGhpcy5nZXRMaW5lYXJUaWNrUG9zaXRpb25zKHRoaXMudGlja0ludGVydmFsLFxudGhpcy5taW4sdGhpcy5tYXgpLGIubGVuZ3RoPnRoaXMubGVuJiYoYj1bYlswXSxiLnBvcCgpXSksdGhpcy50aWNrUG9zaXRpb25zPWIsZSYmKGU9ZS5hcHBseSh0aGlzLFt0aGlzLm1pbix0aGlzLm1heF0pKSkmJih0aGlzLnRpY2tQb3NpdGlvbnM9Yj1lKTt0aGlzLnBhZGRlZFRpY2tzPWIuc2xpY2UoMCk7dGhpcy50cmltVGlja3MoYixoLG0pO3RoaXMuaXNMaW5rZWR8fCh0aGlzLnNpbmdsZSYmKHRoaXMubWluLT0uNSx0aGlzLm1heCs9LjUpLGN8fGV8fHRoaXMuYWRqdXN0VGlja0Ftb3VudCgpKX0sdHJpbVRpY2tzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZz1hWzBdLGU9YVthLmxlbmd0aC0xXSxoPXRoaXMubWluUG9pbnRPZmZzZXR8fDA7aWYoIXRoaXMuaXNMaW5rZWQpe2lmKGImJi1JbmZpbml0eSE9PWcpdGhpcy5taW49ZztlbHNlIGZvcig7dGhpcy5taW4taD5hWzBdOylhLnNoaWZ0KCk7aWYoYyl0aGlzLm1heD1lO2Vsc2UgZm9yKDt0aGlzLm1heCtoPGFbYS5sZW5ndGgtMV07KWEucG9wKCk7XG4wPT09YS5sZW5ndGgmJmsoZykmJmEucHVzaCgoZStnKS8yKX19LGFsaWduVG9PdGhlcnM6ZnVuY3Rpb24oKXt2YXIgYT17fSxiLGU9dGhpcy5vcHRpb25zOyExPT09dGhpcy5jaGFydC5vcHRpb25zLmNoYXJ0LmFsaWduVGlja3N8fCExPT09ZS5hbGlnblRpY2tzfHx0aGlzLmlzTG9nfHxjKHRoaXMuY2hhcnRbdGhpcy5jb2xsXSxmdW5jdGlvbihnKXt2YXIgYz1nLm9wdGlvbnMsYz1bZy5ob3Jpej9jLmxlZnQ6Yy50b3AsYy53aWR0aCxjLmhlaWdodCxjLnBhbmVdLmpvaW4oKTtnLnNlcmllcy5sZW5ndGgmJihhW2NdP2I9ITA6YVtjXT0xKX0pO3JldHVybiBifSxnZXRUaWNrQW1vdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9YS50aWNrQW1vdW50LGM9YS50aWNrUGl4ZWxJbnRlcnZhbDshayhhLnRpY2tJbnRlcnZhbCkmJnRoaXMubGVuPGMmJiF0aGlzLmlzUmFkaWFsJiYhdGhpcy5pc0xvZyYmYS5zdGFydE9uVGljayYmYS5lbmRPblRpY2smJihiPTIpOyFiJiZ0aGlzLmFsaWduVG9PdGhlcnMoKSYmXG4oYj1NYXRoLmNlaWwodGhpcy5sZW4vYykrMSk7ND5iJiYodGhpcy5maW5hbFRpY2tBbXQ9YixiPTUpO3RoaXMudGlja0Ftb3VudD1ifSxhZGp1c3RUaWNrQW1vdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aWNrSW50ZXJ2YWwsYj10aGlzLnRpY2tQb3NpdGlvbnMsYz10aGlzLnRpY2tBbW91bnQsZT10aGlzLmZpbmFsVGlja0FtdCxoPWImJmIubGVuZ3RoO2lmKGg8Yyl7Zm9yKDtiLmxlbmd0aDxjOyliLnB1c2gobChiW2IubGVuZ3RoLTFdK2EpKTt0aGlzLnRyYW5zQSo9KGgtMSkvKGMtMSk7dGhpcy5tYXg9YltiLmxlbmd0aC0xXX1lbHNlIGg+YyYmKHRoaXMudGlja0ludGVydmFsKj0yLHRoaXMuc2V0VGlja1Bvc2l0aW9ucygpKTtpZihrKGUpKXtmb3IoYT1jPWIubGVuZ3RoO2EtLTspKDM9PT1lJiYxPT09YSUyfHwyPj1lJiYwPGEmJmE8Yy0xKSYmYi5zcGxpY2UoYSwxKTt0aGlzLmZpbmFsVGlja0FtdD12b2lkIDB9fSxzZXRTY2FsZTpmdW5jdGlvbigpe3ZhciBhLGI7dGhpcy5vbGRNaW49XG50aGlzLm1pbjt0aGlzLm9sZE1heD10aGlzLm1heDt0aGlzLm9sZEF4aXNMZW5ndGg9dGhpcy5sZW47dGhpcy5zZXRBeGlzU2l6ZSgpO2I9dGhpcy5sZW4hPT10aGlzLm9sZEF4aXNMZW5ndGg7Yyh0aGlzLnNlcmllcyxmdW5jdGlvbihiKXtpZihiLmlzRGlydHlEYXRhfHxiLmlzRGlydHl8fGIueEF4aXMuaXNEaXJ0eSlhPSEwfSk7Ynx8YXx8dGhpcy5pc0xpbmtlZHx8dGhpcy5mb3JjZVJlZHJhd3x8dGhpcy51c2VyTWluIT09dGhpcy5vbGRVc2VyTWlufHx0aGlzLnVzZXJNYXghPT10aGlzLm9sZFVzZXJNYXh8fHRoaXMuYWxpZ25Ub090aGVycygpPyh0aGlzLnJlc2V0U3RhY2tzJiZ0aGlzLnJlc2V0U3RhY2tzKCksdGhpcy5mb3JjZVJlZHJhdz0hMSx0aGlzLmdldFNlcmllc0V4dHJlbWVzKCksdGhpcy5zZXRUaWNrSW50ZXJ2YWwoKSx0aGlzLm9sZFVzZXJNaW49dGhpcy51c2VyTWluLHRoaXMub2xkVXNlck1heD10aGlzLnVzZXJNYXgsdGhpcy5pc0RpcnR5fHwodGhpcy5pc0RpcnR5PVxuYnx8dGhpcy5taW4hPT10aGlzLm9sZE1pbnx8dGhpcy5tYXghPT10aGlzLm9sZE1heCkpOnRoaXMuY2xlYW5TdGFja3MmJnRoaXMuY2xlYW5TdGFja3MoKX0sc2V0RXh0cmVtZXM6ZnVuY3Rpb24oYSxiLGUsaCxtKXt2YXIgZz10aGlzLHA9Zy5jaGFydDtlPUUoZSwhMCk7YyhnLnNlcmllcyxmdW5jdGlvbihhKXtkZWxldGUgYS5rZFRyZWV9KTttPW4obSx7bWluOmEsbWF4OmJ9KTt6KGcsXCJzZXRFeHRyZW1lc1wiLG0sZnVuY3Rpb24oKXtnLnVzZXJNaW49YTtnLnVzZXJNYXg9YjtnLmV2ZW50QXJncz1tO2UmJnAucmVkcmF3KGgpfSl9LHpvb206ZnVuY3Rpb24oYSxiKXt2YXIgZz10aGlzLmRhdGFNaW4sYz10aGlzLmRhdGFNYXgsZT10aGlzLm9wdGlvbnMsaD1NYXRoLm1pbihnLEUoZS5taW4sZykpLGU9TWF0aC5tYXgoYyxFKGUubWF4LGMpKTtpZihhIT09dGhpcy5taW58fGIhPT10aGlzLm1heCl0aGlzLmFsbG93Wm9vbU91dHNpZGV8fChrKGcpJiYoYTxoJiYoYT1oKSxhPmUmJihhPWUpKSxcbmsoYykmJihiPGgmJihiPWgpLGI+ZSYmKGI9ZSkpKSx0aGlzLmRpc3BsYXlCdG49dm9pZCAwIT09YXx8dm9pZCAwIT09Yix0aGlzLnNldEV4dHJlbWVzKGEsYiwhMSx2b2lkIDAse3RyaWdnZXI6XCJ6b29tXCJ9KTtyZXR1cm4hMH0sc2V0QXhpc1NpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5vcHRpb25zLGM9Yi5vZmZzZXRzfHxbMCwwLDAsMF0sZT10aGlzLmhvcml6LGg9RShiLndpZHRoLGEucGxvdFdpZHRoLWNbM10rY1sxXSksbT1FKGIuaGVpZ2h0LGEucGxvdEhlaWdodC1jWzBdK2NbMl0pLHA9RShiLnRvcCxhLnBsb3RUb3ArY1swXSksYj1FKGIubGVmdCxhLnBsb3RMZWZ0K2NbM10pLGM9LyUkLztjLnRlc3QobSkmJihtPU1hdGgucm91bmQocGFyc2VGbG9hdChtKS8xMDAqYS5wbG90SGVpZ2h0KSk7Yy50ZXN0KHApJiYocD1NYXRoLnJvdW5kKHBhcnNlRmxvYXQocCkvMTAwKmEucGxvdEhlaWdodCthLnBsb3RUb3ApKTt0aGlzLmxlZnQ9Yjt0aGlzLnRvcD1wO1xudGhpcy53aWR0aD1oO3RoaXMuaGVpZ2h0PW07dGhpcy5ib3R0b209YS5jaGFydEhlaWdodC1tLXA7dGhpcy5yaWdodD1hLmNoYXJ0V2lkdGgtaC1iO3RoaXMubGVuPU1hdGgubWF4KGU/aDptLDApO3RoaXMucG9zPWU/YjpwfSxnZXRFeHRyZW1lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaXNMb2csYj10aGlzLmxpbjJsb2c7cmV0dXJue21pbjphP2woYih0aGlzLm1pbikpOnRoaXMubWluLG1heDphP2woYih0aGlzLm1heCkpOnRoaXMubWF4LGRhdGFNaW46dGhpcy5kYXRhTWluLGRhdGFNYXg6dGhpcy5kYXRhTWF4LHVzZXJNaW46dGhpcy51c2VyTWluLHVzZXJNYXg6dGhpcy51c2VyTWF4fX0sZ2V0VGhyZXNob2xkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNMb2csZz10aGlzLmxpbjJsb2csYz1iP2codGhpcy5taW4pOnRoaXMubWluLGI9Yj9nKHRoaXMubWF4KTp0aGlzLm1heDtudWxsPT09YT9hPWM6Yz5hP2E9YzpiPGEmJihhPWIpO3JldHVybiB0aGlzLnRyYW5zbGF0ZShhLDAsXG4xLDAsMSl9LGF1dG9MYWJlbEFsaWduOmZ1bmN0aW9uKGEpe2E9KEUoYSwwKS05MCp0aGlzLnNpZGUrNzIwKSUzNjA7cmV0dXJuIDE1PGEmJjE2NT5hP1wicmlnaHRcIjoxOTU8YSYmMzQ1PmE/XCJsZWZ0XCI6XCJjZW50ZXJcIn0sdGlja1NpemU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGc9YlthK1wiTGVuZ3RoXCJdLGM9RShiW2ErXCJXaWR0aFwiXSxcInRpY2tcIj09PWEmJnRoaXMuaXNYQXhpcz8xOjApO2lmKGMmJmcpcmV0dXJuXCJpbnNpZGVcIj09PWJbYStcIlBvc2l0aW9uXCJdJiYoZz0tZyksW2csY119LGxhYmVsTWV0cmljczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LnJlbmRlcmVyLmZvbnRNZXRyaWNzKHRoaXMub3B0aW9ucy5sYWJlbHMuc3R5bGUmJnRoaXMub3B0aW9ucy5sYWJlbHMuc3R5bGUuZm9udFNpemUsdGhpcy50aWNrc1swXSYmdGhpcy50aWNrc1swXS5sYWJlbCl9LHVuc3F1aXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmxhYmVscyxiPXRoaXMuaG9yaXosXG5lPXRoaXMudGlja0ludGVydmFsLGg9ZSxtPXRoaXMubGVuLygoKHRoaXMuY2F0ZWdvcmllcz8xOjApK3RoaXMubWF4LXRoaXMubWluKS9lKSxwLGQ9YS5yb3RhdGlvbix0PXRoaXMubGFiZWxNZXRyaWNzKCksZixuPU51bWJlci5NQVhfVkFMVUUseSx3PWZ1bmN0aW9uKGEpe2EvPW18fDE7YT0xPGE/TWF0aC5jZWlsKGEpOjE7cmV0dXJuIGEqZX07Yj8oeT0hYS5zdGFnZ2VyTGluZXMmJiFhLnN0ZXAmJihrKGQpP1tkXTptPEUoYS5hdXRvUm90YXRpb25MaW1pdCw4MCkmJmEuYXV0b1JvdGF0aW9uKSkmJmMoeSxmdW5jdGlvbihhKXt2YXIgYjtpZihhPT09ZHx8YSYmLTkwPD1hJiY5MD49YSlmPXcoTWF0aC5hYnModC5oL01hdGguc2luKHUqYSkpKSxiPWYrTWF0aC5hYnMoYS8zNjApLGI8biYmKG49YixwPWEsaD1mKX0pOmEuc3RlcHx8KGg9dyh0LmgpKTt0aGlzLmF1dG9Sb3RhdGlvbj15O3RoaXMubGFiZWxSb3RhdGlvbj1FKHAsZCk7cmV0dXJuIGh9LGdldFNsb3RXaWR0aDpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5jaGFydCxiPXRoaXMuaG9yaXosYz10aGlzLm9wdGlvbnMubGFiZWxzLGU9TWF0aC5tYXgodGhpcy50aWNrUG9zaXRpb25zLmxlbmd0aC0odGhpcy5jYXRlZ29yaWVzPzA6MSksMSksaD1hLm1hcmdpblszXTtyZXR1cm4gYiYmMj4oYy5zdGVwfHwwKSYmIWMucm90YXRpb24mJih0aGlzLnN0YWdnZXJMaW5lc3x8MSkqdGhpcy5sZW4vZXx8IWImJihoJiZoLWEuc3BhY2luZ1szXXx8LjMzKmEuY2hhcnRXaWR0aCl9LHJlbmRlclVuc3F1aXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPWEucmVuZGVyZXIsaD10aGlzLnRpY2tQb3NpdGlvbnMsbT10aGlzLnRpY2tzLHA9dGhpcy5vcHRpb25zLmxhYmVscyxkPXRoaXMuaG9yaXosdj10aGlzLmdldFNsb3RXaWR0aCgpLHQ9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHYtMioocC5wYWRkaW5nfHw1KSkpLGY9e30sbj10aGlzLmxhYmVsTWV0cmljcygpLHk9cC5zdHlsZSYmcC5zdHlsZS50ZXh0T3ZlcmZsb3csayx3PTAsRCxsO2UocC5yb3RhdGlvbil8fFxuKGYucm90YXRpb249cC5yb3RhdGlvbnx8MCk7YyhoLGZ1bmN0aW9uKGEpeyhhPW1bYV0pJiZhLmxhYmVsTGVuZ3RoPncmJih3PWEubGFiZWxMZW5ndGgpfSk7dGhpcy5tYXhMYWJlbExlbmd0aD13O2lmKHRoaXMuYXV0b1JvdGF0aW9uKXc+dCYmdz5uLmg/Zi5yb3RhdGlvbj10aGlzLmxhYmVsUm90YXRpb246dGhpcy5sYWJlbFJvdGF0aW9uPTA7ZWxzZSBpZih2JiYoaz17d2lkdGg6dCtcInB4XCJ9LCF5KSlmb3Ioay50ZXh0T3ZlcmZsb3c9XCJjbGlwXCIsRD1oLmxlbmd0aDshZCYmRC0tOylpZihsPWhbRF0sdD1tW2xdLmxhYmVsKXQuc3R5bGVzJiZcImVsbGlwc2lzXCI9PT10LnN0eWxlcy50ZXh0T3ZlcmZsb3c/dC5jc3Moe3RleHRPdmVyZmxvdzpcImNsaXBcIn0pOm1bbF0ubGFiZWxMZW5ndGg+diYmdC5jc3Moe3dpZHRoOnYrXCJweFwifSksdC5nZXRCQm94KCkuaGVpZ2h0PnRoaXMubGVuL2gubGVuZ3RoLShuLmgtbi5mKSYmKHQuc3BlY0Nzcz17dGV4dE92ZXJmbG93OlwiZWxsaXBzaXNcIn0pO2Yucm90YXRpb24mJlxuKGs9e3dpZHRoOih3Pi41KmEuY2hhcnRIZWlnaHQ/LjMzKmEuY2hhcnRIZWlnaHQ6YS5jaGFydEhlaWdodCkrXCJweFwifSx5fHwoay50ZXh0T3ZlcmZsb3c9XCJlbGxpcHNpc1wiKSk7aWYodGhpcy5sYWJlbEFsaWduPXAuYWxpZ258fHRoaXMuYXV0b0xhYmVsQWxpZ24odGhpcy5sYWJlbFJvdGF0aW9uKSlmLmFsaWduPXRoaXMubGFiZWxBbGlnbjtjKGgsZnVuY3Rpb24oYSl7dmFyIGI9KGE9bVthXSkmJmEubGFiZWw7YiYmKGIuYXR0cihmKSxrJiZiLmNzcyh4KGssYi5zcGVjQ3NzKSksZGVsZXRlIGIuc3BlY0NzcyxhLnJvdGF0aW9uPWYucm90YXRpb24pfSk7dGhpcy50aWNrUm90Q29ycj1iLnJvdENvcnIobi5iLHRoaXMubGFiZWxSb3RhdGlvbnx8MCwwIT09dGhpcy5zaWRlKX0saGFzRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1Zpc2libGVTZXJpZXN8fGsodGhpcy5taW4pJiZrKHRoaXMubWF4KSYmISF0aGlzLnRpY2tQb3NpdGlvbnN9LGFkZFRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPVxudGhpcy5jaGFydC5yZW5kZXJlcixjPXRoaXMuaG9yaXosZz10aGlzLm9wcG9zaXRlLGU9dGhpcy5vcHRpb25zLnRpdGxlLGg7dGhpcy5heGlzVGl0bGV8fCgoaD1lLnRleHRBbGlnbil8fChoPShjP3tsb3c6XCJsZWZ0XCIsbWlkZGxlOlwiY2VudGVyXCIsaGlnaDpcInJpZ2h0XCJ9Ontsb3c6Zz9cInJpZ2h0XCI6XCJsZWZ0XCIsbWlkZGxlOlwiY2VudGVyXCIsaGlnaDpnP1wibGVmdFwiOlwicmlnaHRcIn0pW2UuYWxpZ25dKSx0aGlzLmF4aXNUaXRsZT1iLnRleHQoZS50ZXh0LDAsMCxlLnVzZUhUTUwpLmF0dHIoe3pJbmRleDo3LHJvdGF0aW9uOmUucm90YXRpb258fDAsYWxpZ246aH0pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1heGlzLXRpdGxlXCIpLmNzcyhlLnN0eWxlKS5hZGQodGhpcy5heGlzR3JvdXApLHRoaXMuYXhpc1RpdGxlLmlzTmV3PSEwKTt0aGlzLmF4aXNUaXRsZVthP1wic2hvd1wiOlwiaGlkZVwiXSghMCl9LGdlbmVyYXRlVGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRpY2tzO2JbYV0/YlthXS5hZGRMYWJlbCgpOlxuYlthXT1uZXcgSih0aGlzLGEpfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydCxlPWIucmVuZGVyZXIsaD1hLm9wdGlvbnMsbT1hLnRpY2tQb3NpdGlvbnMscD1hLnRpY2tzLGQ9YS5ob3Jpeix0PWEuc2lkZSxmPWIuaW52ZXJ0ZWQ/WzEsMCwzLDJdW3RdOnQsbix5LHc9MCx4LEQ9MCxsPWgudGl0bGUsQz1oLmxhYmVscyxxPTAsST1iLmF4aXNPZmZzZXQsYj1iLmNsaXBPZmZzZXQsdT1bLTEsMSwxLC0xXVt0XSx6LHI9aC5jbGFzc05hbWUsSz1hLmF4aXNQYXJlbnQsSj10aGlzLnRpY2tTaXplKFwidGlja1wiKTtuPWEuaGFzRGF0YSgpO2Euc2hvd0F4aXM9eT1ufHxFKGguc2hvd0VtcHR5LCEwKTthLnN0YWdnZXJMaW5lcz1hLmhvcml6JiZDLnN0YWdnZXJMaW5lczthLmF4aXNHcm91cHx8KGEuZ3JpZEdyb3VwPWUuZyhcImdyaWRcIikuYXR0cih7ekluZGV4OmguZ3JpZFpJbmRleHx8MX0pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIit0aGlzLmNvbGwudG9Mb3dlckNhc2UoKStcblwiLWdyaWQgXCIrKHJ8fFwiXCIpKS5hZGQoSyksYS5heGlzR3JvdXA9ZS5nKFwiYXhpc1wiKS5hdHRyKHt6SW5kZXg6aC56SW5kZXh8fDJ9KS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtXCIrdGhpcy5jb2xsLnRvTG93ZXJDYXNlKCkrXCIgXCIrKHJ8fFwiXCIpKS5hZGQoSyksYS5sYWJlbEdyb3VwPWUuZyhcImF4aXMtbGFiZWxzXCIpLmF0dHIoe3pJbmRleDpDLnpJbmRleHx8N30pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIithLmNvbGwudG9Mb3dlckNhc2UoKStcIi1sYWJlbHMgXCIrKHJ8fFwiXCIpKS5hZGQoSykpO2lmKG58fGEuaXNMaW5rZWQpYyhtLGZ1bmN0aW9uKGIsYyl7YS5nZW5lcmF0ZVRpY2soYixjKX0pLGEucmVuZGVyVW5zcXVpc2goKSwhMT09PUMucmVzZXJ2ZVNwYWNlfHwwIT09dCYmMiE9PXQmJnsxOlwibGVmdFwiLDM6XCJyaWdodFwifVt0XSE9PWEubGFiZWxBbGlnbiYmXCJjZW50ZXJcIiE9PWEubGFiZWxBbGlnbnx8YyhtLGZ1bmN0aW9uKGEpe3E9TWF0aC5tYXgocFthXS5nZXRMYWJlbFNpemUoKSxxKX0pLFxuYS5zdGFnZ2VyTGluZXMmJihxKj1hLnN0YWdnZXJMaW5lcyxhLmxhYmVsT2Zmc2V0PXEqKGEub3Bwb3NpdGU/LTE6MSkpO2Vsc2UgZm9yKHogaW4gcClwW3pdLmRlc3Ryb3koKSxkZWxldGUgcFt6XTtsJiZsLnRleHQmJiExIT09bC5lbmFibGVkJiYoYS5hZGRUaXRsZSh5KSx5JiYodz1hLmF4aXNUaXRsZS5nZXRCQm94KClbZD9cImhlaWdodFwiOlwid2lkdGhcIl0seD1sLm9mZnNldCxEPWsoeCk/MDpFKGwubWFyZ2luLGQ/NToxMCkpKTthLnJlbmRlckxpbmUoKTthLm9mZnNldD11KkUoaC5vZmZzZXQsSVt0XSk7YS50aWNrUm90Q29ycj1hLnRpY2tSb3RDb3JyfHx7eDowLHk6MH07ZT0wPT09dD8tYS5sYWJlbE1ldHJpY3MoKS5oOjI9PT10P2EudGlja1JvdENvcnIueTowO0Q9TWF0aC5hYnMocSkrRDtxJiYoRD1ELWUrdSooZD9FKEMueSxhLnRpY2tSb3RDb3JyLnkrOCp1KTpDLngpKTthLmF4aXNUaXRsZU1hcmdpbj1FKHgsRCk7SVt0XT1NYXRoLm1heChJW3RdLGEuYXhpc1RpdGxlTWFyZ2luK1xudyt1KmEub2Zmc2V0LEQsbiYmbS5sZW5ndGgmJko/SlswXSt1KmEub2Zmc2V0OjApO2g9aC5vZmZzZXQ/MDoyKk1hdGguZmxvb3IoYS5heGlzTGluZS5zdHJva2VXaWR0aCgpLzIpO2JbZl09TWF0aC5tYXgoYltmXSxoKX0sZ2V0TGluZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMub3Bwb3NpdGUsZz10aGlzLm9mZnNldCxlPXRoaXMuaG9yaXosaD10aGlzLmxlZnQrKGM/dGhpcy53aWR0aDowKStnLGc9Yi5jaGFydEhlaWdodC10aGlzLmJvdHRvbS0oYz90aGlzLmhlaWdodDowKStnO2MmJihhKj0tMSk7cmV0dXJuIGIucmVuZGVyZXIuY3Jpc3BMaW5lKFtcIk1cIixlP3RoaXMubGVmdDpoLGU/Zzp0aGlzLnRvcCxcIkxcIixlP2IuY2hhcnRXaWR0aC10aGlzLnJpZ2h0OmgsZT9nOmIuY2hhcnRIZWlnaHQtdGhpcy5ib3R0b21dLGEpfSxyZW5kZXJMaW5lOmZ1bmN0aW9uKCl7dGhpcy5heGlzTGluZXx8KHRoaXMuYXhpc0xpbmU9dGhpcy5jaGFydC5yZW5kZXJlci5wYXRoKCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWF4aXMtbGluZVwiKS5hZGQodGhpcy5heGlzR3JvdXApLFxudGhpcy5heGlzTGluZS5hdHRyKHtzdHJva2U6dGhpcy5vcHRpb25zLmxpbmVDb2xvcixcInN0cm9rZS13aWR0aFwiOnRoaXMub3B0aW9ucy5saW5lV2lkdGgsekluZGV4Ojd9KSl9LGdldFRpdGxlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhvcml6LGI9dGhpcy5sZWZ0LGM9dGhpcy50b3AsZT10aGlzLmxlbixoPXRoaXMub3B0aW9ucy50aXRsZSxtPWE/YjpjLHA9dGhpcy5vcHBvc2l0ZSxkPXRoaXMub2Zmc2V0LHQ9aC54fHwwLGY9aC55fHwwLG49dGhpcy5jaGFydC5yZW5kZXJlci5mb250TWV0cmljcyhoLnN0eWxlJiZoLnN0eWxlLmZvbnRTaXplLHRoaXMuYXhpc1RpdGxlKS5mLGU9e2xvdzptKyhhPzA6ZSksbWlkZGxlOm0rZS8yLGhpZ2g6bSsoYT9lOjApfVtoLmFsaWduXSxiPShhP2MrdGhpcy5oZWlnaHQ6YikrKGE/MTotMSkqKHA/LTE6MSkqdGhpcy5heGlzVGl0bGVNYXJnaW4rKDI9PT10aGlzLnNpZGU/bjowKTtyZXR1cm57eDphP2UrdDpiKyhwP3RoaXMud2lkdGg6XG4wKStkK3QseTphP2IrZi0ocD90aGlzLmhlaWdodDowKStkOmUrZn19LHJlbmRlck1pbm9yVGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0Lmhhc1JlbmRlcmVkJiZ3KHRoaXMub2xkTWluKSxjPXRoaXMubWlub3JUaWNrcztjW2FdfHwoY1thXT1uZXcgSih0aGlzLGEsXCJtaW5vclwiKSk7YiYmY1thXS5pc05ldyYmY1thXS5yZW5kZXIobnVsbCwhMCk7Y1thXS5yZW5kZXIobnVsbCwhMSwxKX0scmVuZGVyVGljazpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaXNMaW5rZWQsZz10aGlzLnRpY2tzLGU9dGhpcy5jaGFydC5oYXNSZW5kZXJlZCYmdyh0aGlzLm9sZE1pbik7aWYoIWN8fGE+PXRoaXMubWluJiZhPD10aGlzLm1heClnW2FdfHwoZ1thXT1uZXcgSih0aGlzLGEpKSxlJiZnW2FdLmlzTmV3JiZnW2FdLnJlbmRlcihiLCEwLC4xKSxnW2FdLnJlbmRlcihiKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQsZT1hLm9wdGlvbnMsaD1hLmlzTG9nLHA9YS5saW4ybG9nLFxuZD1hLmlzTGlua2VkLHQ9YS50aWNrUG9zaXRpb25zLGY9YS5heGlzVGl0bGUsbj1hLnRpY2tzLHk9YS5taW5vclRpY2tzLGs9YS5hbHRlcm5hdGVCYW5kcyx3PWUuc3RhY2tMYWJlbHMseD1lLmFsdGVybmF0ZUdyaWRDb2xvcixEPWEudGlja21hcmtPZmZzZXQsbD1hLmF4aXNMaW5lLEM9YS5zaG93QXhpcyxxPUEoYi5yZW5kZXJlci5nbG9iYWxBbmltYXRpb24pLEksRTthLmxhYmVsRWRnZS5sZW5ndGg9MDthLm92ZXJsYXA9ITE7Yyhbbix5LGtdLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWFbYl0uaXNBY3RpdmU9ITF9KTtpZihhLmhhc0RhdGEoKXx8ZClhLm1pbm9yVGlja0ludGVydmFsJiYhYS5jYXRlZ29yaWVzJiZjKGEuZ2V0TWlub3JUaWNrUG9zaXRpb25zKCksZnVuY3Rpb24oYil7YS5yZW5kZXJNaW5vclRpY2soYil9KSx0Lmxlbmd0aCYmKGModCxmdW5jdGlvbihiLGMpe2EucmVuZGVyVGljayhiLGMpfSksRCYmKDA9PT1hLm1pbnx8YS5zaW5nbGUpJiYoblstMV18fChuWy0xXT1cbm5ldyBKKGEsLTEsbnVsbCwhMCkpLG5bLTFdLnJlbmRlcigtMSkpKSx4JiZjKHQsZnVuY3Rpb24oYyxlKXtFPXZvaWQgMCE9PXRbZSsxXT90W2UrMV0rRDphLm1heC1EOzA9PT1lJTImJmM8YS5tYXgmJkU8PWEubWF4KyhiLnBvbGFyPy1EOkQpJiYoa1tjXXx8KGtbY109bmV3IG0oYSkpLEk9YytELGtbY10ub3B0aW9ucz17ZnJvbTpoP3AoSSk6SSx0bzpoP3AoRSk6RSxjb2xvcjp4fSxrW2NdLnJlbmRlcigpLGtbY10uaXNBY3RpdmU9ITApfSksYS5fYWRkZWRQbG90TEJ8fChjKChlLnBsb3RMaW5lc3x8W10pLmNvbmNhdChlLnBsb3RCYW5kc3x8W10pLGZ1bmN0aW9uKGIpe2EuYWRkUGxvdEJhbmRPckxpbmUoYil9KSxhLl9hZGRlZFBsb3RMQj0hMCk7Yyhbbix5LGtdLGZ1bmN0aW9uKGEpe3ZhciBjLGUsZz1bXSxoPXEuZHVyYXRpb247Zm9yKGMgaW4gYSlhW2NdLmlzQWN0aXZlfHwoYVtjXS5yZW5kZXIoYywhMSwwKSxhW2NdLmlzQWN0aXZlPSExLGcucHVzaChjKSk7SyhmdW5jdGlvbigpe2ZvcihlPVxuZy5sZW5ndGg7ZS0tOylhW2dbZV1dJiYhYVtnW2VdXS5pc0FjdGl2ZSYmKGFbZ1tlXV0uZGVzdHJveSgpLGRlbGV0ZSBhW2dbZV1dKX0sYSE9PWsmJmIuaGFzUmVuZGVyZWQmJmg/aDowKX0pO2wmJihsW2wuaXNQbGFjZWQ/XCJhbmltYXRlXCI6XCJhdHRyXCJdKHtkOnRoaXMuZ2V0TGluZVBhdGgobC5zdHJva2VXaWR0aCgpKX0pLGwuaXNQbGFjZWQ9ITAsbFtDP1wic2hvd1wiOlwiaGlkZVwiXSghMCkpO2YmJkMmJihmW2YuaXNOZXc/XCJhdHRyXCI6XCJhbmltYXRlXCJdKGEuZ2V0VGl0bGVQb3NpdGlvbigpKSxmLmlzTmV3PSExKTt3JiZ3LmVuYWJsZWQmJmEucmVuZGVyU3RhY2tUb3RhbHMoKTthLmlzRGlydHk9ITF9LHJlZHJhdzpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSYmKHRoaXMucmVuZGVyKCksYyh0aGlzLnBsb3RMaW5lc0FuZEJhbmRzLGZ1bmN0aW9uKGEpe2EucmVuZGVyKCl9KSk7Yyh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLmlzRGlydHk9ITB9KX0sa2VlcFByb3BzOlwiZXh0S2V5IGhjRXZlbnRzIG5hbWVzIHNlcmllcyB1c2VyTWF4IHVzZXJNaW5cIi5zcGxpdChcIiBcIiksXG5kZXN0cm95OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZT1iLnN0YWNrcyxnLGg9Yi5wbG90TGluZXNBbmRCYW5kcyxtLHA7YXx8eShiKTtmb3IoZyBpbiBlKWQoZVtnXSksZVtnXT1udWxsO2MoW2IudGlja3MsYi5taW5vclRpY2tzLGIuYWx0ZXJuYXRlQmFuZHNdLGZ1bmN0aW9uKGEpe2QoYSl9KTtpZihoKWZvcihhPWgubGVuZ3RoO2EtLTspaFthXS5kZXN0cm95KCk7YyhcInN0YWNrVG90YWxHcm91cCBheGlzTGluZSBheGlzVGl0bGUgYXhpc0dyb3VwIGdyaWRHcm91cCBsYWJlbEdyb3VwIGNyb3NzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2JbYV0mJihiW2FdPWJbYV0uZGVzdHJveSgpKX0pO2ZvcihtIGluIGIucGxvdExpbmVzQW5kQmFuZHNHcm91cHMpYi5wbG90TGluZXNBbmRCYW5kc0dyb3Vwc1ttXT1iLnBsb3RMaW5lc0FuZEJhbmRzR3JvdXBzW21dLmRlc3Ryb3koKTtmb3IocCBpbiBiKWIuaGFzT3duUHJvcGVydHkocCkmJi0xPT09dChwLGIua2VlcFByb3BzKSYmZGVsZXRlIGJbcF19LFxuZHJhd0Nyb3NzaGFpcjpmdW5jdGlvbihhLGIpe3ZhciBjLGU9dGhpcy5jcm9zc2hhaXIsZz1FKGUuc25hcCwhMCksaCxtPXRoaXMuY3Jvc3M7YXx8KGE9dGhpcy5jcm9zcyYmdGhpcy5jcm9zcy5lKTt0aGlzLmNyb3NzaGFpciYmITEhPT0oayhiKXx8IWcpPyhnP2soYikmJihoPXRoaXMuaXNYQXhpcz9iLnBsb3RYOnRoaXMubGVuLWIucGxvdFkpOmg9YSYmKHRoaXMuaG9yaXo/YS5jaGFydFgtdGhpcy5wb3M6dGhpcy5sZW4tYS5jaGFydFkrdGhpcy5wb3MpLGsoaCkmJihjPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGImJih0aGlzLmlzWEF4aXM/Yi54OkUoYi5zdGFja1ksYi55KSksbnVsbCxudWxsLG51bGwsaCl8fG51bGwpLGsoYyk/KGI9dGhpcy5jYXRlZ29yaWVzJiYhdGhpcy5pc1JhZGlhbCxtfHwodGhpcy5jcm9zcz1tPXRoaXMuY2hhcnQucmVuZGVyZXIucGF0aCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1jcm9zc2hhaXIgaGlnaGNoYXJ0cy1jcm9zc2hhaXItXCIrKGI/XCJjYXRlZ29yeSBcIjpcblwidGhpbiBcIikrZS5jbGFzc05hbWUpLmF0dHIoe3pJbmRleDpFKGUuekluZGV4LDIpfSkuYWRkKCksbS5hdHRyKHtzdHJva2U6ZS5jb2xvcnx8KGI/ZihcIiNjY2Q2ZWJcIikuc2V0T3BhY2l0eSguMjUpLmdldCgpOlwiI2NjY2NjY1wiKSxcInN0cm9rZS13aWR0aFwiOkUoZS53aWR0aCwxKX0pLGUuZGFzaFN0eWxlJiZtLmF0dHIoe2Rhc2hzdHlsZTplLmRhc2hTdHlsZX0pKSxtLnNob3coKS5hdHRyKHtkOmN9KSxiJiYhZS53aWR0aCYmbS5hdHRyKHtcInN0cm9rZS13aWR0aFwiOnRoaXMudHJhbnNBfSksdGhpcy5jcm9zcy5lPWEpOnRoaXMuaGlkZUNyb3NzaGFpcigpKTp0aGlzLmhpZGVDcm9zc2hhaXIoKX0saGlkZUNyb3NzaGFpcjpmdW5jdGlvbigpe3RoaXMuY3Jvc3MmJnRoaXMuY3Jvc3MuaGlkZSgpfX07bihhLkF4aXMucHJvdG90eXBlLHIpfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuQXhpcyxBPWEuRGF0ZSxIPWEuZGF0ZUZvcm1hdCxHPWEuZGVmYXVsdE9wdGlvbnMscj1hLmRlZmluZWQsXG5mPWEuZWFjaCxsPWEuZXh0ZW5kLHE9YS5nZXRNYWduaXR1ZGUsaz1hLmdldFRaT2Zmc2V0LHU9YS5ub3JtYWxpemVUaWNrSW50ZXJ2YWwsZD1hLnBpY2ssYz1hLnRpbWVVbml0cztCLnByb3RvdHlwZS5nZXRUaW1lVGlja3M9ZnVuY3Rpb24oYSxxLGIscCl7dmFyIGg9W10sdD17fSxuPUcuZ2xvYmFsLnVzZVVUQyx3LGU9bmV3IEEocS1NYXRoLmFicyhrKHEpKSkseD1BLmhjTWFrZVRpbWUsQz1hLnVuaXRSYW5nZSxFPWEuY291bnQsbTtpZihyKHEpKXtlW0EuaGNTZXRNaWxsaXNlY29uZHNdKEM+PWMuc2Vjb25kPzA6RSpNYXRoLmZsb29yKGUuZ2V0TWlsbGlzZWNvbmRzKCkvRSkpO2lmKEM+PWMuc2Vjb25kKWVbQS5oY1NldFNlY29uZHNdKEM+PWMubWludXRlPzA6RSpNYXRoLmZsb29yKGUuZ2V0U2Vjb25kcygpL0UpKTtpZihDPj1jLm1pbnV0ZSllW0EuaGNTZXRNaW51dGVzXShDPj1jLmhvdXI/MDpFKk1hdGguZmxvb3IoZVtBLmhjR2V0TWludXRlc10oKS9FKSk7aWYoQz49Yy5ob3VyKWVbQS5oY1NldEhvdXJzXShDPj1cbmMuZGF5PzA6RSpNYXRoLmZsb29yKGVbQS5oY0dldEhvdXJzXSgpL0UpKTtpZihDPj1jLmRheSllW0EuaGNTZXREYXRlXShDPj1jLm1vbnRoPzE6RSpNYXRoLmZsb29yKGVbQS5oY0dldERhdGVdKCkvRSkpO0M+PWMubW9udGgmJihlW0EuaGNTZXRNb250aF0oQz49Yy55ZWFyPzA6RSpNYXRoLmZsb29yKGVbQS5oY0dldE1vbnRoXSgpL0UpKSx3PWVbQS5oY0dldEZ1bGxZZWFyXSgpKTtpZihDPj1jLnllYXIpZVtBLmhjU2V0RnVsbFllYXJdKHctdyVFKTtpZihDPT09Yy53ZWVrKWVbQS5oY1NldERhdGVdKGVbQS5oY0dldERhdGVdKCktZVtBLmhjR2V0RGF5XSgpK2QocCwxKSk7dz1lW0EuaGNHZXRGdWxsWWVhcl0oKTtwPWVbQS5oY0dldE1vbnRoXSgpO3ZhciB5PWVbQS5oY0dldERhdGVdKCksST1lW0EuaGNHZXRIb3Vyc10oKTtpZihBLmhjVGltZXpvbmVPZmZzZXR8fEEuaGNHZXRUaW1lem9uZU9mZnNldCltPSghbnx8ISFBLmhjR2V0VGltZXpvbmVPZmZzZXQpJiYoYi1xPjQqYy5tb250aHx8XG5rKHEpIT09ayhiKSksZT1lLmdldFRpbWUoKSxlPW5ldyBBKGUrayhlKSk7bj1lLmdldFRpbWUoKTtmb3IocT0xO248YjspaC5wdXNoKG4pLG49Qz09PWMueWVhcj94KHcrcSpFLDApOkM9PT1jLm1vbnRoP3godyxwK3EqRSk6IW18fEMhPT1jLmRheSYmQyE9PWMud2Vlaz9tJiZDPT09Yy5ob3VyP3godyxwLHksSStxKkUpOm4rQypFOngodyxwLHkrcSpFKihDPT09Yy5kYXk/MTo3KSkscSsrO2gucHVzaChuKTtDPD1jLmhvdXImJjFFND5oLmxlbmd0aCYmZihoLGZ1bmN0aW9uKGEpezA9PT1hJTE4RTUmJlwiMDAwMDAwMDAwXCI9PT1IKFwiJUglTSVTJUxcIixhKSYmKHRbYV09XCJkYXlcIil9KX1oLmluZm89bChhLHtoaWdoZXJSYW5rczp0LHRvdGFsUmFuZ2U6QypFfSk7cmV0dXJuIGh9O0IucHJvdG90eXBlLm5vcm1hbGl6ZVRpbWVUaWNrSW50ZXJ2YWw9ZnVuY3Rpb24oYSxkKXt2YXIgYj1kfHxbW1wibWlsbGlzZWNvbmRcIixbMSwyLDUsMTAsMjAsMjUsNTAsMTAwLDIwMCw1MDBdXSxbXCJzZWNvbmRcIixcblsxLDIsNSwxMCwxNSwzMF1dLFtcIm1pbnV0ZVwiLFsxLDIsNSwxMCwxNSwzMF1dLFtcImhvdXJcIixbMSwyLDMsNCw2LDgsMTJdXSxbXCJkYXlcIixbMSwyXV0sW1wid2Vla1wiLFsxLDJdXSxbXCJtb250aFwiLFsxLDIsMyw0LDZdXSxbXCJ5ZWFyXCIsbnVsbF1dO2Q9YltiLmxlbmd0aC0xXTt2YXIgcD1jW2RbMF1dLGg9ZFsxXSx0O2Zvcih0PTA7dDxiLmxlbmd0aCYmIShkPWJbdF0scD1jW2RbMF1dLGg9ZFsxXSxiW3QrMV0mJmE8PShwKmhbaC5sZW5ndGgtMV0rY1tiW3QrMV1bMF1dKS8yKTt0KyspO3A9PT1jLnllYXImJmE8NSpwJiYoaD1bMSwyLDVdKTthPXUoYS9wLGgsXCJ5ZWFyXCI9PT1kWzBdP01hdGgubWF4KHEoYS9wKSwxKToxKTtyZXR1cm57dW5pdFJhbmdlOnAsY291bnQ6YSx1bml0TmFtZTpkWzBdfX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5BeGlzLEE9YS5nZXRNYWduaXR1ZGUsSD1hLm1hcCxHPWEubm9ybWFsaXplVGlja0ludGVydmFsLHI9YS5waWNrO0IucHJvdG90eXBlLmdldExvZ1RpY2tQb3NpdGlvbnM9XG5mdW5jdGlvbihhLGwscSxrKXt2YXIgZj10aGlzLm9wdGlvbnMsZD10aGlzLmxlbixjPXRoaXMubGluMmxvZyxuPXRoaXMubG9nMmxpbix6PVtdO2t8fCh0aGlzLl9taW5vckF1dG9JbnRlcnZhbD1udWxsKTtpZiguNTw9YSlhPU1hdGgucm91bmQoYSksej10aGlzLmdldExpbmVhclRpY2tQb3NpdGlvbnMoYSxsLHEpO2Vsc2UgaWYoLjA4PD1hKWZvcih2YXIgZD1NYXRoLmZsb29yKGwpLGIscCxoLHQsRCxmPS4zPGE/WzEsMiw0XTouMTU8YT9bMSwyLDQsNiw4XTpbMSwyLDMsNCw1LDYsNyw4LDldO2Q8cSsxJiYhRDtkKyspZm9yKHA9Zi5sZW5ndGgsYj0wO2I8cCYmIUQ7YisrKWg9bihjKGQpKmZbYl0pLGg+bCYmKCFrfHx0PD1xKSYmdm9pZCAwIT09dCYmei5wdXNoKHQpLHQ+cSYmKEQ9ITApLHQ9aDtlbHNlIGw9YyhsKSxxPWMocSksYT1mW2s/XCJtaW5vclRpY2tJbnRlcnZhbFwiOlwidGlja0ludGVydmFsXCJdLGE9cihcImF1dG9cIj09PWE/bnVsbDphLHRoaXMuX21pbm9yQXV0b0ludGVydmFsLFxuZi50aWNrUGl4ZWxJbnRlcnZhbC8oaz81OjEpKihxLWwpLygoaz9kL3RoaXMudGlja1Bvc2l0aW9ucy5sZW5ndGg6ZCl8fDEpKSxhPUcoYSxudWxsLEEoYSkpLHo9SCh0aGlzLmdldExpbmVhclRpY2tQb3NpdGlvbnMoYSxsLHEpLG4pLGt8fCh0aGlzLl9taW5vckF1dG9JbnRlcnZhbD1hLzUpO2t8fCh0aGlzLnRpY2tJbnRlcnZhbD1hKTtyZXR1cm4gen07Qi5wcm90b3R5cGUubG9nMmxpbj1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5sb2coYSkvTWF0aC5MTjEwfTtCLnByb3RvdHlwZS5saW4ybG9nPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnBvdygxMCxhKX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5kYXRlRm9ybWF0LEE9YS5lYWNoLEg9YS5leHRlbmQsRz1hLmZvcm1hdCxyPWEuaXNOdW1iZXIsZj1hLm1hcCxsPWEubWVyZ2UscT1hLnBpY2ssaz1hLnNwbGF0LHU9YS5zeW5jVGltZW91dCxkPWEudGltZVVuaXRzO2EuVG9vbHRpcD1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX07YS5Ub29sdGlwLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLGQpe3RoaXMuY2hhcnQ9YTt0aGlzLm9wdGlvbnM9ZDt0aGlzLmNyb3NzaGFpcnM9W107dGhpcy5ub3c9e3g6MCx5OjB9O3RoaXMuaXNIaWRkZW49ITA7dGhpcy5zcGxpdD1kLnNwbGl0JiYhYS5pbnZlcnRlZDt0aGlzLnNoYXJlZD1kLnNoYXJlZHx8dGhpcy5zcGxpdH0sY2xlYW5TcGxpdDpmdW5jdGlvbihhKXtBKHRoaXMuY2hhcnQuc2VyaWVzLGZ1bmN0aW9uKGMpe3ZhciBkPWMmJmMudHQ7ZCYmKCFkLmlzQWN0aXZlfHxhP2MudHQ9ZC5kZXN0cm95KCk6ZC5pc0FjdGl2ZT0hMSl9KX0sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LnJlbmRlcmVyLGQ9dGhpcy5vcHRpb25zO3RoaXMubGFiZWx8fCh0aGlzLnNwbGl0P3RoaXMubGFiZWw9YS5nKFwidG9vbHRpcFwiKToodGhpcy5sYWJlbD1hLmxhYmVsKFwiXCIsMCwwLGQuc2hhcGV8fFwiY2FsbG91dFwiLG51bGwsbnVsbCxkLnVzZUhUTUwsXG5udWxsLFwidG9vbHRpcFwiKS5hdHRyKHtwYWRkaW5nOmQucGFkZGluZyxyOmQuYm9yZGVyUmFkaXVzfSksdGhpcy5sYWJlbC5hdHRyKHtmaWxsOmQuYmFja2dyb3VuZENvbG9yLFwic3Ryb2tlLXdpZHRoXCI6ZC5ib3JkZXJXaWR0aH0pLmNzcyhkLnN0eWxlKS5zaGFkb3coZC5zaGFkb3cpKSx0aGlzLmxhYmVsLmF0dHIoe3pJbmRleDo4fSkuYWRkKCkpO3JldHVybiB0aGlzLmxhYmVsfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5kZXN0cm95KCk7dGhpcy5pbml0KHRoaXMuY2hhcnQsbCghMCx0aGlzLm9wdGlvbnMsYSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5sYWJlbCYmKHRoaXMubGFiZWw9dGhpcy5sYWJlbC5kZXN0cm95KCkpO3RoaXMuc3BsaXQmJnRoaXMudHQmJih0aGlzLmNsZWFuU3BsaXQodGhpcy5jaGFydCwhMCksdGhpcy50dD10aGlzLnR0LmRlc3Ryb3koKSk7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKTtjbGVhclRpbWVvdXQodGhpcy50b29sdGlwVGltZW91dCl9LFxubW92ZTpmdW5jdGlvbihhLGQsZixiKXt2YXIgYz10aGlzLGg9Yy5ub3csdD0hMSE9PWMub3B0aW9ucy5hbmltYXRpb24mJiFjLmlzSGlkZGVuJiYoMTxNYXRoLmFicyhhLWgueCl8fDE8TWF0aC5hYnMoZC1oLnkpKSxuPWMuZm9sbG93UG9pbnRlcnx8MTxjLmxlbjtIKGgse3g6dD8oMipoLngrYSkvMzphLHk6dD8oaC55K2QpLzI6ZCxhbmNob3JYOm4/dm9pZCAwOnQ/KDIqaC5hbmNob3JYK2YpLzM6ZixhbmNob3JZOm4/dm9pZCAwOnQ/KGguYW5jaG9yWStiKS8yOmJ9KTtjLmdldExhYmVsKCkuYXR0cihoKTt0JiYoY2xlYXJUaW1lb3V0KHRoaXMudG9vbHRpcFRpbWVvdXQpLHRoaXMudG9vbHRpcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2MmJmMubW92ZShhLGQsZixiKX0sMzIpKX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzO2NsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lcik7YT1xKGEsdGhpcy5vcHRpb25zLmhpZGVEZWxheSw1MDApO3RoaXMuaXNIaWRkZW58fCh0aGlzLmhpZGVUaW1lcj1cbnUoZnVuY3Rpb24oKXtjLmdldExhYmVsKClbYT9cImZhZGVPdXRcIjpcImhpZGVcIl0oKTtjLmlzSGlkZGVuPSEwfSxhKSl9LGdldEFuY2hvcjpmdW5jdGlvbihhLGQpe3ZhciBjLGI9dGhpcy5jaGFydCxwPWIuaW52ZXJ0ZWQsaD1iLnBsb3RUb3AsdD1iLnBsb3RMZWZ0LG49MCx3PTAsZSx4O2E9ayhhKTtjPWFbMF0udG9vbHRpcFBvczt0aGlzLmZvbGxvd1BvaW50ZXImJmQmJih2b2lkIDA9PT1kLmNoYXJ0WCYmKGQ9Yi5wb2ludGVyLm5vcm1hbGl6ZShkKSksYz1bZC5jaGFydFgtYi5wbG90TGVmdCxkLmNoYXJ0WS1oXSk7Y3x8KEEoYSxmdW5jdGlvbihhKXtlPWEuc2VyaWVzLnlBeGlzO3g9YS5zZXJpZXMueEF4aXM7bis9YS5wbG90WCsoIXAmJng/eC5sZWZ0LXQ6MCk7dys9KGEucGxvdExvdz8oYS5wbG90TG93K2EucGxvdEhpZ2gpLzI6YS5wbG90WSkrKCFwJiZlP2UudG9wLWg6MCl9KSxuLz1hLmxlbmd0aCx3Lz1hLmxlbmd0aCxjPVtwP2IucGxvdFdpZHRoLXc6bix0aGlzLnNoYXJlZCYmXG4hcCYmMTxhLmxlbmd0aCYmZD9kLmNoYXJ0WS1oOnA/Yi5wbG90SGVpZ2h0LW46d10pO3JldHVybiBmKGMsTWF0aC5yb3VuZCl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEsZCxmKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5kaXN0YW5jZSxoPXt9LHQ9Zi5ofHwwLG4saz1bXCJ5XCIsYi5jaGFydEhlaWdodCxkLGYucGxvdFkrYi5wbG90VG9wLGIucGxvdFRvcCxiLnBsb3RUb3ArYi5wbG90SGVpZ2h0XSxlPVtcInhcIixiLmNoYXJ0V2lkdGgsYSxmLnBsb3RYK2IucGxvdExlZnQsYi5wbG90TGVmdCxiLnBsb3RMZWZ0K2IucGxvdFdpZHRoXSx4PSF0aGlzLmZvbGxvd1BvaW50ZXImJnEoZi50dEJlbG93LCFiLmludmVydGVkPT09ISFmLm5lZ2F0aXZlKSxsPWZ1bmN0aW9uKGEsYixlLGcsbSxkKXt2YXIgcD1lPGctYyxmPWcrYytlPGIsbj1nLWMtZTtnKz1jO2lmKHgmJmYpaFthXT1nO2Vsc2UgaWYoIXgmJnApaFthXT1uO2Vsc2UgaWYocCloW2FdPU1hdGgubWluKGQtZSwwPm4tdD9uOm4tdCk7XG5lbHNlIGlmKGYpaFthXT1NYXRoLm1heChtLGcrdCtlPmI/ZzpnK3QpO2Vsc2UgcmV0dXJuITF9LEU9ZnVuY3Rpb24oYSxiLGUsZyl7dmFyIG07ZzxjfHxnPmItYz9tPSExOmhbYV09ZzxlLzI/MTpnPmItZS8yP2ItZS0yOmctZS8yO3JldHVybiBtfSxtPWZ1bmN0aW9uKGEpe3ZhciBiPWs7az1lO2U9YjtuPWF9LHk9ZnVuY3Rpb24oKXshMSE9PWwuYXBwbHkoMCxrKT8hMSE9PUUuYXBwbHkoMCxlKXx8bnx8KG0oITApLHkoKSk6bj9oLng9aC55PTA6KG0oITApLHkoKSl9OyhiLmludmVydGVkfHwxPHRoaXMubGVuKSYmbSgpO3koKTtyZXR1cm4gaH0sZGVmYXVsdEZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnBvaW50c3x8ayh0aGlzKSxkO2Q9W2EudG9vbHRpcEZvb3RlckhlYWRlckZvcm1hdHRlcihjWzBdKV07ZD1kLmNvbmNhdChhLmJvZHlGb3JtYXR0ZXIoYykpO2QucHVzaChhLnRvb2x0aXBGb290ZXJIZWFkZXJGb3JtYXR0ZXIoY1swXSwhMCkpO3JldHVybiBkfSxyZWZyZXNoOmZ1bmN0aW9uKGEsXG5kKXt2YXIgYyxiPXRoaXMub3B0aW9ucyxwLGg9YSx0LGY9e30sbj1bXTtjPWIuZm9ybWF0dGVyfHx0aGlzLmRlZmF1bHRGb3JtYXR0ZXI7dmFyIGY9dGhpcy5zaGFyZWQsZTtjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpO3RoaXMuZm9sbG93UG9pbnRlcj1rKGgpWzBdLnNlcmllcy50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyO3Q9dGhpcy5nZXRBbmNob3IoaCxkKTtkPXRbMF07cD10WzFdOyFmfHxoLnNlcmllcyYmaC5zZXJpZXMubm9TaGFyZWRUb29sdGlwP2Y9aC5nZXRMYWJlbENvbmZpZygpOihBKGgsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZShcImhvdmVyXCIpO24ucHVzaChhLmdldExhYmVsQ29uZmlnKCkpfSksZj17eDpoWzBdLmNhdGVnb3J5LHk6aFswXS55fSxmLnBvaW50cz1uLGg9aFswXSk7dGhpcy5sZW49bi5sZW5ndGg7Zj1jLmNhbGwoZix0aGlzKTtlPWguc2VyaWVzO3RoaXMuZGlzdGFuY2U9cShlLnRvb2x0aXBPcHRpb25zLmRpc3RhbmNlLDE2KTshMT09PWY/dGhpcy5oaWRlKCk6XG4oYz10aGlzLmdldExhYmVsKCksdGhpcy5pc0hpZGRlbiYmYy5hdHRyKHtvcGFjaXR5OjF9KS5zaG93KCksdGhpcy5zcGxpdD90aGlzLnJlbmRlclNwbGl0KGYsYSk6KGMuYXR0cih7dGV4dDpmJiZmLmpvaW4/Zi5qb2luKFwiXCIpOmZ9KSxjLnJlbW92ZUNsYXNzKC9oaWdoY2hhcnRzLWNvbG9yLVtcXGRdKy9nKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtY29sb3ItXCIrcShoLmNvbG9ySW5kZXgsZS5jb2xvckluZGV4KSksYy5hdHRyKHtzdHJva2U6Yi5ib3JkZXJDb2xvcnx8aC5jb2xvcnx8ZS5jb2xvcnx8XCIjNjY2NjY2XCJ9KSx0aGlzLnVwZGF0ZVBvc2l0aW9uKHtwbG90WDpkLHBsb3RZOnAsbmVnYXRpdmU6aC5uZWdhdGl2ZSx0dEJlbG93OmgudHRCZWxvdyxoOnRbMl18fDB9KSksdGhpcy5pc0hpZGRlbj0hMSl9LHJlbmRlclNwbGl0OmZ1bmN0aW9uKGMsZCl7dmFyIGY9dGhpcyxiPVtdLHA9dGhpcy5jaGFydCxoPXAucmVuZGVyZXIsdD0hMCxuPXRoaXMub3B0aW9ucyxrLGU9dGhpcy5nZXRMYWJlbCgpO1xuQShjLnNsaWNlKDAsZC5sZW5ndGgrMSksZnVuY3Rpb24oYSxjKXtjPWRbYy0xXXx8e2lzSGVhZGVyOiEwLHBsb3RYOmRbMF0ucGxvdFh9O3ZhciB3PWMuc2VyaWVzfHxmLG09dy50dCx5PWMuc2VyaWVzfHx7fSx4PVwiaGlnaGNoYXJ0cy1jb2xvci1cIitxKGMuY29sb3JJbmRleCx5LmNvbG9ySW5kZXgsXCJub25lXCIpO218fCh3LnR0PW09aC5sYWJlbChudWxsLG51bGwsbnVsbCxcImNhbGxvdXRcIikuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXRvb2x0aXAtYm94IFwiK3gpLmF0dHIoe3BhZGRpbmc6bi5wYWRkaW5nLHI6bi5ib3JkZXJSYWRpdXMsZmlsbDpuLmJhY2tncm91bmRDb2xvcixzdHJva2U6Yy5jb2xvcnx8eS5jb2xvcnx8XCIjMzMzMzMzXCIsXCJzdHJva2Utd2lkdGhcIjpuLmJvcmRlcldpZHRofSkuYWRkKGUpKTttLmlzQWN0aXZlPSEwO20uYXR0cih7dGV4dDphfSk7bS5jc3Mobi5zdHlsZSk7YT1tLmdldEJCb3goKTt5PWEud2lkdGgrbS5zdHJva2VXaWR0aCgpO2MuaXNIZWFkZXI/KGs9YS5oZWlnaHQsXG55PU1hdGgubWF4KDAsTWF0aC5taW4oYy5wbG90WCtwLnBsb3RMZWZ0LXkvMixwLmNoYXJ0V2lkdGgteSkpKTp5PWMucGxvdFgrcC5wbG90TGVmdC1xKG4uZGlzdGFuY2UsMTYpLXk7MD55JiYodD0hMSk7YT0oYy5zZXJpZXMmJmMuc2VyaWVzLnlBeGlzJiZjLnNlcmllcy55QXhpcy5wb3MpKyhjLnBsb3RZfHwwKTthLT1wLnBsb3RUb3A7Yi5wdXNoKHt0YXJnZXQ6Yy5pc0hlYWRlcj9wLnBsb3RIZWlnaHQrazphLHJhbms6Yy5pc0hlYWRlcj8xOjAsc2l6ZTp3LnR0LmdldEJCb3goKS5oZWlnaHQrMSxwb2ludDpjLHg6eSx0dDptfSl9KTt0aGlzLmNsZWFuU3BsaXQoKTthLmRpc3RyaWJ1dGUoYixwLnBsb3RIZWlnaHQrayk7QShiLGZ1bmN0aW9uKGEpe3ZhciBiPWEucG9pbnQsYz1iLnNlcmllczthLnR0LmF0dHIoe3Zpc2liaWxpdHk6dm9pZCAwPT09YS5wb3M/XCJoaWRkZW5cIjpcImluaGVyaXRcIix4OnR8fGIuaXNIZWFkZXI/YS54OmIucGxvdFgrcC5wbG90TGVmdCtxKG4uZGlzdGFuY2UsXG4xNikseTphLnBvcytwLnBsb3RUb3AsYW5jaG9yWDpiLmlzSGVhZGVyP2IucGxvdFgrcC5wbG90TGVmdDpiLnBsb3RYK2MueEF4aXMucG9zLGFuY2hvclk6Yi5pc0hlYWRlcj9hLnBvcytwLnBsb3RUb3AtMTU6Yi5wbG90WStjLnlBeGlzLnBvc30pfSl9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuY2hhcnQsZD10aGlzLmdldExhYmVsKCksZD0odGhpcy5vcHRpb25zLnBvc2l0aW9uZXJ8fHRoaXMuZ2V0UG9zaXRpb24pLmNhbGwodGhpcyxkLndpZHRoLGQuaGVpZ2h0LGEpO3RoaXMubW92ZShNYXRoLnJvdW5kKGQueCksTWF0aC5yb3VuZChkLnl8fDApLGEucGxvdFgrYy5wbG90TGVmdCxhLnBsb3RZK2MucGxvdFRvcCl9LGdldERhdGVGb3JtYXQ6ZnVuY3Rpb24oYSxmLGssYil7dmFyIGM9QihcIiVtLSVkICVIOiVNOiVTLiVMXCIsZiksaCx0LG49e21pbGxpc2Vjb25kOjE1LHNlY29uZDoxMixtaW51dGU6OSxob3VyOjYsZGF5OjN9LHc9XCJtaWxsaXNlY29uZFwiO2Zvcih0IGluIGQpe2lmKGE9PT1cbmQud2VlayYmK0IoXCIld1wiLGYpPT09ayYmXCIwMDowMDowMC4wMDBcIj09PWMuc3Vic3RyKDYpKXt0PVwid2Vla1wiO2JyZWFrfWlmKGRbdF0+YSl7dD13O2JyZWFrfWlmKG5bdF0mJmMuc3Vic3RyKG5bdF0pIT09XCIwMS0wMSAwMDowMDowMC4wMDBcIi5zdWJzdHIoblt0XSkpYnJlYWs7XCJ3ZWVrXCIhPT10JiYodz10KX10JiYoaD1iW3RdKTtyZXR1cm4gaH0sZ2V0WERhdGVGb3JtYXQ6ZnVuY3Rpb24oYSxkLGYpe2Q9ZC5kYXRlVGltZUxhYmVsRm9ybWF0czt2YXIgYj1mJiZmLmNsb3Nlc3RQb2ludFJhbmdlO3JldHVybihiP3RoaXMuZ2V0RGF0ZUZvcm1hdChiLGEueCxmLm9wdGlvbnMuc3RhcnRPZldlZWssZCk6ZC5kYXkpfHxkLnllYXJ9LHRvb2x0aXBGb290ZXJIZWFkZXJGb3JtYXR0ZXI6ZnVuY3Rpb24oYSxkKXt2YXIgYz1kP1wiZm9vdGVyXCI6XCJoZWFkZXJcIjtkPWEuc2VyaWVzO3ZhciBiPWQudG9vbHRpcE9wdGlvbnMscD1iLnhEYXRlRm9ybWF0LGg9ZC54QXhpcyx0PWgmJlwiZGF0ZXRpbWVcIj09PVxuaC5vcHRpb25zLnR5cGUmJnIoYS5rZXkpLGM9YltjK1wiRm9ybWF0XCJdO3QmJiFwJiYocD10aGlzLmdldFhEYXRlRm9ybWF0KGEsYixoKSk7dCYmcCYmKGM9Yy5yZXBsYWNlKFwie3BvaW50LmtleX1cIixcIntwb2ludC5rZXk6XCIrcCtcIn1cIikpO3JldHVybiBHKGMse3BvaW50OmEsc2VyaWVzOmR9KX0sYm9keUZvcm1hdHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gZihhLGZ1bmN0aW9uKGEpe3ZhciBjPWEuc2VyaWVzLnRvb2x0aXBPcHRpb25zO3JldHVybihjLnBvaW50Rm9ybWF0dGVyfHxhLnBvaW50LnRvb2x0aXBGb3JtYXR0ZXIpLmNhbGwoYS5wb2ludCxjLnBvaW50Rm9ybWF0KX0pfX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5hZGRFdmVudCxBPWEuYXR0cixIPWEuY2hhcnRzLEc9YS5jb2xvcixyPWEuY3NzLGY9YS5kZWZpbmVkLGw9YS5kb2MscT1hLmVhY2gsaz1hLmV4dGVuZCx1PWEuZmlyZUV2ZW50LGQ9YS5vZmZzZXQsYz1hLnBpY2ssbj1hLnJlbW92ZUV2ZW50LHo9YS5zcGxhdCxcbmI9YS5Ub29sdGlwLHA9YS53aW47YS5Qb2ludGVyPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0KGEsYil9O2EuUG9pbnRlci5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxkKXt0aGlzLm9wdGlvbnM9ZDt0aGlzLmNoYXJ0PWE7dGhpcy5ydW5DaGFydENsaWNrPWQuY2hhcnQuZXZlbnRzJiYhIWQuY2hhcnQuZXZlbnRzLmNsaWNrO3RoaXMucGluY2hEb3duPVtdO3RoaXMubGFzdFZhbGlkVG91Y2g9e307YiYmZC50b29sdGlwLmVuYWJsZWQmJihhLnRvb2x0aXA9bmV3IGIoYSxkLnRvb2x0aXApLHRoaXMuZm9sbG93VG91Y2hNb3ZlPWMoZC50b29sdGlwLmZvbGxvd1RvdWNoTW92ZSwhMCkpO3RoaXMuc2V0RE9NRXZlbnRzKCl9LHpvb21PcHRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxoPWIub3B0aW9ucy5jaGFydCxkPWguem9vbVR5cGV8fFwiXCIsYj1iLmludmVydGVkOy90b3VjaC8udGVzdChhLnR5cGUpJiYoZD1jKGgucGluY2hUeXBlLGQpKTt0aGlzLnpvb21YPWE9L3gvLnRlc3QoZCk7XG50aGlzLnpvb21ZPWQ9L3kvLnRlc3QoZCk7dGhpcy56b29tSG9yPWEmJiFifHxkJiZiO3RoaXMuem9vbVZlcnQ9ZCYmIWJ8fGEmJmI7dGhpcy5oYXNab29tPWF8fGR9LG5vcm1hbGl6ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGg7YT1hfHxwLmV2ZW50O2EudGFyZ2V0fHwoYS50YXJnZXQ9YS5zcmNFbGVtZW50KTtoPWEudG91Y2hlcz9hLnRvdWNoZXMubGVuZ3RoP2EudG91Y2hlcy5pdGVtKDApOmEuY2hhbmdlZFRvdWNoZXNbMF06YTtifHwodGhpcy5jaGFydFBvc2l0aW9uPWI9ZCh0aGlzLmNoYXJ0LmNvbnRhaW5lcikpO3ZvaWQgMD09PWgucGFnZVg/KGM9TWF0aC5tYXgoYS54LGEuY2xpZW50WC1iLmxlZnQpLGI9YS55KTooYz1oLnBhZ2VYLWIubGVmdCxiPWgucGFnZVktYi50b3ApO3JldHVybiBrKGEse2NoYXJ0WDpNYXRoLnJvdW5kKGMpLGNoYXJ0WTpNYXRoLnJvdW5kKGIpfSl9LGdldENvb3JkaW5hdGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt4QXhpczpbXSx5QXhpczpbXX07cSh0aGlzLmNoYXJ0LmF4ZXMsXG5mdW5jdGlvbihjKXtiW2MuaXNYQXhpcz9cInhBeGlzXCI6XCJ5QXhpc1wiXS5wdXNoKHtheGlzOmMsdmFsdWU6Yy50b1ZhbHVlKGFbYy5ob3Jpej9cImNoYXJ0WFwiOlwiY2hhcnRZXCJdKX0pfSk7cmV0dXJuIGJ9LGdldEtEUG9pbnRzOmZ1bmN0aW9uKGEsYixkKXt2YXIgaD1bXSxlLHAsZjtxKGEsZnVuY3Rpb24oYSl7ZT1hLm5vU2hhcmVkVG9vbHRpcCYmYjtwPSFiJiZhLmRpcmVjdFRvdWNoO2EudmlzaWJsZSYmIXAmJmMoYS5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcsITApJiYoZj1hLnNlYXJjaFBvaW50KGQsIWUmJjA+YS5vcHRpb25zLmZpbmROZWFyZXN0UG9pbnRCeS5pbmRleE9mKFwieVwiKSkpJiZmLnNlcmllcyYmaC5wdXNoKGYpfSk7aC5zb3J0KGZ1bmN0aW9uKGEsYyl7dmFyIGU9YS5kaXN0WC1jLmRpc3RYLGg9YS5kaXN0LWMuZGlzdCxtPShjLnNlcmllcy5ncm91cCYmYy5zZXJpZXMuZ3JvdXAuekluZGV4KS0oYS5zZXJpZXMuZ3JvdXAmJmEuc2VyaWVzLmdyb3VwLnpJbmRleCk7XG5yZXR1cm4gMCE9PWUmJmI/ZTowIT09aD9oOjAhPT1tP206YS5zZXJpZXMuaW5kZXg+Yy5zZXJpZXMuaW5kZXg/LTE6MX0pO2lmKGImJmhbMF0mJiFoWzBdLnNlcmllcy5ub1NoYXJlZFRvb2x0aXApZm9yKGE9aC5sZW5ndGg7YS0tOykoaFthXS54IT09aFswXS54fHxoW2FdLnNlcmllcy5ub1NoYXJlZFRvb2x0aXApJiZoLnNwbGljZShhLDEpO3JldHVybiBofSxnZXRQb2ludEZyb21FdmVudDpmdW5jdGlvbihhKXthPWEudGFyZ2V0O2Zvcih2YXIgYjthJiYhYjspYj1hLnBvaW50LGE9YS5wYXJlbnROb2RlO3JldHVybiBifSxnZXRIb3ZlckRhdGE6ZnVuY3Rpb24oYixkLHAsZixlLG4pe3ZhciBoPWIsdD1kLG07Zj9lPyhtPVtdLHEocCxmdW5jdGlvbihhKXt2YXIgYj1hLm5vU2hhcmVkVG9vbHRpcCYmZSxkPSFlJiZhLmRpcmVjdFRvdWNoO2EudmlzaWJsZSYmIWImJiFkJiZjKGEub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nLCEwKSYmKGE9YS5zZWFyY2hLRFRyZWUoe2NsaWVudFg6aC5jbGllbnRYLFxucGxvdFk6aC5wbG90WX0sIWImJjE9PT1hLmtkRGltZW5zaW9ucykpJiZhLnNlcmllcyYmbS5wdXNoKGEpfSksMD09PW0ubGVuZ3RoJiYobT1baF0pKTptPVtoXTp0JiYhdC5zdGlja3lUcmFja2luZz8oZXx8KHA9W3RdKSxtPXRoaXMuZ2V0S0RQb2ludHMocCxlLG4pLGg9YS5maW5kKG0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VyaWVzPT09dH0pKTooYj1hLmdyZXAocCxmdW5jdGlvbihhKXtyZXR1cm4gYS5zdGlja3lUcmFja2luZ30pLG09dGhpcy5nZXRLRFBvaW50cyhiLGUsbiksdD0oaD1tWzBdKSYmaC5zZXJpZXMsZSYmKG09dGhpcy5nZXRLRFBvaW50cyhwLGUsbikpKTttLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zZXJpZXMuaW5kZXgtYi5zZXJpZXMuaW5kZXh9KTtyZXR1cm57aG92ZXJQb2ludDpoLGhvdmVyU2VyaWVzOnQsaG92ZXJQb2ludHM6bX19LHJ1blBvaW50QWN0aW9uczpmdW5jdGlvbihiLGQpe3ZhciBoPXRoaXMuY2hhcnQscD1oLnRvb2x0aXAsZT1wP3Auc2hhcmVkOlxuITEsZj1kfHxoLmhvdmVyUG9pbnQsdD1mJiZmLnNlcmllc3x8aC5ob3ZlclNlcmllcztkPXRoaXMuZ2V0SG92ZXJEYXRhKGYsdCxoLnNlcmllcywhIWR8fCFlJiZ0JiZ0LmRpcmVjdFRvdWNoLGUsYik7dmFyIG4sbSxmPWQuaG92ZXJQb2ludDtuPSh0PWQuaG92ZXJTZXJpZXMpJiZ0LnRvb2x0aXBPcHRpb25zLmZvbGxvd1BvaW50ZXI7bT0oZT1lJiZmJiYhZi5zZXJpZXMubm9TaGFyZWRUb29sdGlwKT9kLmhvdmVyUG9pbnRzOmY/W2ZdOltdO2lmKGYmJihmIT09aC5ob3ZlclBvaW50fHxwJiZwLmlzSGlkZGVuKSl7cShoLmhvdmVyUG9pbnRzfHxbXSxmdW5jdGlvbihiKXstMT09PWEuaW5BcnJheShiLG0pJiZiLnNldFN0YXRlKCl9KTtxKG18fFtdLGZ1bmN0aW9uKGEpe2Euc2V0U3RhdGUoXCJob3ZlclwiKX0pO2lmKGguaG92ZXJTZXJpZXMhPT10KXQub25Nb3VzZU92ZXIoKTt0JiYhdC5kaXJlY3RUb3VjaCYmKGguaG92ZXJQb2ludCYmaC5ob3ZlclBvaW50LmZpcmVQb2ludEV2ZW50KFwibW91c2VPdXRcIiksXG5mLmZpcmVQb2ludEV2ZW50KFwibW91c2VPdmVyXCIpKTtoLmhvdmVyUG9pbnRzPW07aC5ob3ZlclBvaW50PWY7cCYmcC5yZWZyZXNoKGU/bTpmLGIpfWVsc2UgbiYmcCYmIXAuaXNIaWRkZW4mJihmPXAuZ2V0QW5jaG9yKFt7fV0sYikscC51cGRhdGVQb3NpdGlvbih7cGxvdFg6ZlswXSxwbG90WTpmWzFdfSkpO3RoaXMudW5Eb2NNb3VzZU1vdmV8fCh0aGlzLnVuRG9jTW91c2VNb3ZlPUIobCxcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPUhbYS5ob3ZlckNoYXJ0SW5kZXhdO2lmKGMpYy5wb2ludGVyLm9uRG9jdW1lbnRNb3VzZU1vdmUoYil9KSk7cShoLmF4ZXMsZnVuY3Rpb24oYSl7YyhhLmNyb3NzaGFpci5zbmFwLCEwKT9xKG0sZnVuY3Rpb24oYyl7Yy5zZXJpZXNbYS5jb2xsXT09PWEmJmEuZHJhd0Nyb3NzaGFpcihiLGMpfSk6YS5kcmF3Q3Jvc3NoYWlyKGIpfSl9LHJlc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydCxoPWMuaG92ZXJTZXJpZXMsZT1jLmhvdmVyUG9pbnQsXG5kPWMuaG92ZXJQb2ludHMscD1jLnRvb2x0aXAsZj1wJiZwLnNoYXJlZD9kOmU7YSYmZiYmcSh6KGYpLGZ1bmN0aW9uKGIpe2Iuc2VyaWVzLmlzQ2FydGVzaWFuJiZ2b2lkIDA9PT1iLnBsb3RYJiYoYT0hMSl9KTtpZihhKXAmJmYmJihwLnJlZnJlc2goZiksZSYmKGUuc2V0U3RhdGUoZS5zdGF0ZSwhMCkscShjLmF4ZXMsZnVuY3Rpb24oYSl7YS5jcm9zc2hhaXImJmEuZHJhd0Nyb3NzaGFpcihudWxsLGUpfSkpKTtlbHNle2lmKGUpZS5vbk1vdXNlT3V0KCk7ZCYmcShkLGZ1bmN0aW9uKGEpe2Euc2V0U3RhdGUoKX0pO2lmKGgpaC5vbk1vdXNlT3V0KCk7cCYmcC5oaWRlKGIpO3RoaXMudW5Eb2NNb3VzZU1vdmUmJih0aGlzLnVuRG9jTW91c2VNb3ZlPXRoaXMudW5Eb2NNb3VzZU1vdmUoKSk7cShjLmF4ZXMsZnVuY3Rpb24oYSl7YS5oaWRlQ3Jvc3NoYWlyKCl9KTt0aGlzLmhvdmVyWD1jLmhvdmVyUG9pbnRzPWMuaG92ZXJQb2ludD1udWxsfX0sc2NhbGVHcm91cHM6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPXRoaXMuY2hhcnQsaDtxKGMuc2VyaWVzLGZ1bmN0aW9uKGUpe2g9YXx8ZS5nZXRQbG90Qm94KCk7ZS54QXhpcyYmZS54QXhpcy56b29tRW5hYmxlZCYmZS5ncm91cCYmKGUuZ3JvdXAuYXR0cihoKSxlLm1hcmtlckdyb3VwJiYoZS5tYXJrZXJHcm91cC5hdHRyKGgpLGUubWFya2VyR3JvdXAuY2xpcChiP2MuY2xpcFJlY3Q6bnVsbCkpLGUuZGF0YUxhYmVsc0dyb3VwJiZlLmRhdGFMYWJlbHNHcm91cC5hdHRyKGgpKX0pO2MuY2xpcFJlY3QuYXR0cihifHxjLmNsaXBCb3gpfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydDtiLm1vdXNlSXNEb3duPWEudHlwZTtiLmNhbmNlbENsaWNrPSExO2IubW91c2VEb3duWD10aGlzLm1vdXNlRG93blg9YS5jaGFydFg7Yi5tb3VzZURvd25ZPXRoaXMubW91c2VEb3duWT1hLmNoYXJ0WX0sZHJhZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5vcHRpb25zLmNoYXJ0LGg9YS5jaGFydFgsZT1hLmNoYXJ0WSxcbmQ9dGhpcy56b29tSG9yLHA9dGhpcy56b29tVmVydCxmPWIucGxvdExlZnQsbT1iLnBsb3RUb3Asbj1iLnBsb3RXaWR0aCxrPWIucGxvdEhlaWdodCxsLHE9dGhpcy5zZWxlY3Rpb25NYXJrZXIsZz10aGlzLm1vdXNlRG93blgsdT10aGlzLm1vdXNlRG93blkscj1jLnBhbktleSYmYVtjLnBhbktleStcIktleVwiXTtxJiZxLnRvdWNofHwoaDxmP2g9ZjpoPmYrbiYmKGg9ZituKSxlPG0/ZT1tOmU+bStrJiYoZT1tK2spLHRoaXMuaGFzRHJhZ2dlZD1NYXRoLnNxcnQoTWF0aC5wb3coZy1oLDIpK01hdGgucG93KHUtZSwyKSksMTA8dGhpcy5oYXNEcmFnZ2VkJiYobD1iLmlzSW5zaWRlUGxvdChnLWYsdS1tKSxiLmhhc0NhcnRlc2lhblNlcmllcyYmKHRoaXMuem9vbVh8fHRoaXMuem9vbVkpJiZsJiYhciYmIXEmJih0aGlzLnNlbGVjdGlvbk1hcmtlcj1xPWIucmVuZGVyZXIucmVjdChmLG0sZD8xOm4scD8xOmssMCkuYXR0cih7ZmlsbDpjLnNlbGVjdGlvbk1hcmtlckZpbGx8fEcoXCIjMzM1Y2FkXCIpLnNldE9wYWNpdHkoLjI1KS5nZXQoKSxcblwiY2xhc3NcIjpcImhpZ2hjaGFydHMtc2VsZWN0aW9uLW1hcmtlclwiLHpJbmRleDo3fSkuYWRkKCkpLHEmJmQmJihoLT1nLHEuYXR0cih7d2lkdGg6TWF0aC5hYnMoaCkseDooMDxoPzA6aCkrZ30pKSxxJiZwJiYoaD1lLXUscS5hdHRyKHtoZWlnaHQ6TWF0aC5hYnMoaCkseTooMDxoPzA6aCkrdX0pKSxsJiYhcSYmYy5wYW5uaW5nJiZiLnBhbihhLGMucGFubmluZykpKX0sZHJvcDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy5jaGFydCxoPXRoaXMuaGFzUGluY2hlZDtpZih0aGlzLnNlbGVjdGlvbk1hcmtlcil7dmFyIGU9e29yaWdpbmFsRXZlbnQ6YSx4QXhpczpbXSx5QXhpczpbXX0sZD10aGlzLnNlbGVjdGlvbk1hcmtlcixwPWQuYXR0cj9kLmF0dHIoXCJ4XCIpOmQueCxuPWQuYXR0cj9kLmF0dHIoXCJ5XCIpOmQueSxtPWQuYXR0cj9kLmF0dHIoXCJ3aWR0aFwiKTpkLndpZHRoLHk9ZC5hdHRyP2QuYXR0cihcImhlaWdodFwiKTpkLmhlaWdodCxsO2lmKHRoaXMuaGFzRHJhZ2dlZHx8aClxKGMuYXhlcyxcbmZ1bmN0aW9uKGMpe2lmKGMuem9vbUVuYWJsZWQmJmYoYy5taW4pJiYoaHx8Ylt7eEF4aXM6XCJ6b29tWFwiLHlBeGlzOlwiem9vbVlcIn1bYy5jb2xsXV0pKXt2YXIgZD1jLmhvcml6LGc9XCJ0b3VjaGVuZFwiPT09YS50eXBlP2MubWluUGl4ZWxQYWRkaW5nOjAsdD1jLnRvVmFsdWUoKGQ/cDpuKStnKSxkPWMudG9WYWx1ZSgoZD9wK206bit5KS1nKTtlW2MuY29sbF0ucHVzaCh7YXhpczpjLG1pbjpNYXRoLm1pbih0LGQpLG1heDpNYXRoLm1heCh0LGQpfSk7bD0hMH19KSxsJiZ1KGMsXCJzZWxlY3Rpb25cIixlLGZ1bmN0aW9uKGEpe2Muem9vbShrKGEsaD97YW5pbWF0aW9uOiExfTpudWxsKSl9KTt0aGlzLnNlbGVjdGlvbk1hcmtlcj10aGlzLnNlbGVjdGlvbk1hcmtlci5kZXN0cm95KCk7aCYmdGhpcy5zY2FsZUdyb3VwcygpfWMmJihyKGMuY29udGFpbmVyLHtjdXJzb3I6Yy5fY3Vyc29yfSksYy5jYW5jZWxDbGljaz0xMDx0aGlzLmhhc0RyYWdnZWQsYy5tb3VzZUlzRG93bj10aGlzLmhhc0RyYWdnZWQ9XG50aGlzLmhhc1BpbmNoZWQ9ITEsdGhpcy5waW5jaERvd249W10pfSxvbkNvbnRhaW5lck1vdXNlRG93bjpmdW5jdGlvbihhKXthPXRoaXMubm9ybWFsaXplKGEpO3RoaXMuem9vbU9wdGlvbihhKTthLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCk7dGhpcy5kcmFnU3RhcnQoYSl9LG9uRG9jdW1lbnRNb3VzZVVwOmZ1bmN0aW9uKGIpe0hbYS5ob3ZlckNoYXJ0SW5kZXhdJiZIW2EuaG92ZXJDaGFydEluZGV4XS5wb2ludGVyLmRyb3AoYil9LG9uRG9jdW1lbnRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMuY2hhcnRQb3NpdGlvbjthPXRoaXMubm9ybWFsaXplKGEsYyk7IWN8fHRoaXMuaW5DbGFzcyhhLnRhcmdldCxcImhpZ2hjaGFydHMtdHJhY2tlclwiKXx8Yi5pc0luc2lkZVBsb3QoYS5jaGFydFgtYi5wbG90TGVmdCxhLmNoYXJ0WS1iLnBsb3RUb3ApfHx0aGlzLnJlc2V0KCl9LG9uQ29udGFpbmVyTW91c2VMZWF2ZTpmdW5jdGlvbihiKXt2YXIgYz1cbkhbYS5ob3ZlckNoYXJ0SW5kZXhdO2MmJihiLnJlbGF0ZWRUYXJnZXR8fGIudG9FbGVtZW50KSYmKGMucG9pbnRlci5yZXNldCgpLGMucG9pbnRlci5jaGFydFBvc2l0aW9uPW51bGwpfSxvbkNvbnRhaW5lck1vdXNlTW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmNoYXJ0O2YoYS5ob3ZlckNoYXJ0SW5kZXgpJiZIW2EuaG92ZXJDaGFydEluZGV4XSYmSFthLmhvdmVyQ2hhcnRJbmRleF0ubW91c2VJc0Rvd258fChhLmhvdmVyQ2hhcnRJbmRleD1jLmluZGV4KTtiPXRoaXMubm9ybWFsaXplKGIpO2IucmV0dXJuVmFsdWU9ITE7XCJtb3VzZWRvd25cIj09PWMubW91c2VJc0Rvd24mJnRoaXMuZHJhZyhiKTshdGhpcy5pbkNsYXNzKGIudGFyZ2V0LFwiaGlnaGNoYXJ0cy10cmFja2VyXCIpJiYhYy5pc0luc2lkZVBsb3QoYi5jaGFydFgtYy5wbG90TGVmdCxiLmNoYXJ0WS1jLnBsb3RUb3ApfHxjLm9wZW5NZW51fHx0aGlzLnJ1blBvaW50QWN0aW9ucyhiKX0saW5DbGFzczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYzthOyl7aWYoYz1cbkEoYSxcImNsYXNzXCIpKXtpZigtMSE9PWMuaW5kZXhPZihiKSlyZXR1cm4hMDtpZigtMSE9PWMuaW5kZXhPZihcImhpZ2hjaGFydHMtY29udGFpbmVyXCIpKXJldHVybiExfWE9YS5wYXJlbnROb2RlfX0sb25UcmFja2VyTW91c2VPdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydC5ob3ZlclNlcmllczthPWEucmVsYXRlZFRhcmdldHx8YS50b0VsZW1lbnQ7aWYoISghYnx8IWF8fGIuc3RpY2t5VHJhY2tpbmd8fHRoaXMuaW5DbGFzcyhhLFwiaGlnaGNoYXJ0cy10b29sdGlwXCIpfHx0aGlzLmluQ2xhc3MoYSxcImhpZ2hjaGFydHMtc2VyaWVzLVwiK2IuaW5kZXgpJiZ0aGlzLmluQ2xhc3MoYSxcImhpZ2hjaGFydHMtdHJhY2tlclwiKSkpYi5vbk1vdXNlT3V0KCl9LG9uQ29udGFpbmVyQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPWIuaG92ZXJQb2ludCxoPWIucGxvdExlZnQsZT1iLnBsb3RUb3A7YT10aGlzLm5vcm1hbGl6ZShhKTtiLmNhbmNlbENsaWNrfHwoYyYmdGhpcy5pbkNsYXNzKGEudGFyZ2V0LFxuXCJoaWdoY2hhcnRzLXRyYWNrZXJcIik/KHUoYy5zZXJpZXMsXCJjbGlja1wiLGsoYSx7cG9pbnQ6Y30pKSxiLmhvdmVyUG9pbnQmJmMuZmlyZVBvaW50RXZlbnQoXCJjbGlja1wiLGEpKTooayhhLHRoaXMuZ2V0Q29vcmRpbmF0ZXMoYSkpLGIuaXNJbnNpZGVQbG90KGEuY2hhcnRYLWgsYS5jaGFydFktZSkmJnUoYixcImNsaWNrXCIsYSkpKX0sc2V0RE9NRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuY2hhcnQuY29udGFpbmVyO2Mub25tb3VzZWRvd249ZnVuY3Rpb24oYSl7Yi5vbkNvbnRhaW5lck1vdXNlRG93bihhKX07Yy5vbm1vdXNlbW92ZT1mdW5jdGlvbihhKXtiLm9uQ29udGFpbmVyTW91c2VNb3ZlKGEpfTtjLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Yi5vbkNvbnRhaW5lckNsaWNrKGEpfTtCKGMsXCJtb3VzZWxlYXZlXCIsYi5vbkNvbnRhaW5lck1vdXNlTGVhdmUpOzE9PT1hLmNoYXJ0Q291bnQmJkIobCxcIm1vdXNldXBcIixiLm9uRG9jdW1lbnRNb3VzZVVwKTthLmhhc1RvdWNoJiYoYy5vbnRvdWNoc3RhcnQ9XG5mdW5jdGlvbihhKXtiLm9uQ29udGFpbmVyVG91Y2hTdGFydChhKX0sYy5vbnRvdWNobW92ZT1mdW5jdGlvbihhKXtiLm9uQ29udGFpbmVyVG91Y2hNb3ZlKGEpfSwxPT09YS5jaGFydENvdW50JiZCKGwsXCJ0b3VjaGVuZFwiLGIub25Eb2N1bWVudFRvdWNoRW5kKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYjt0aGlzLnVuRG9jTW91c2VNb3ZlJiZ0aGlzLnVuRG9jTW91c2VNb3ZlKCk7bih0aGlzLmNoYXJ0LmNvbnRhaW5lcixcIm1vdXNlbGVhdmVcIix0aGlzLm9uQ29udGFpbmVyTW91c2VMZWF2ZSk7YS5jaGFydENvdW50fHwobihsLFwibW91c2V1cFwiLHRoaXMub25Eb2N1bWVudE1vdXNlVXApLG4obCxcInRvdWNoZW5kXCIsdGhpcy5vbkRvY3VtZW50VG91Y2hFbmQpKTtjbGVhckludGVydmFsKHRoaXMudG9vbHRpcFRpbWVvdXQpO2ZvcihiIGluIHRoaXMpdGhpc1tiXT1udWxsfX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5jaGFydHMsQT1hLmVhY2gsSD1hLmV4dGVuZCxHPWEubWFwLFxucj1hLm5vb3AsZj1hLnBpY2s7SChhLlBvaW50ZXIucHJvdG90eXBlLHtwaW5jaFRyYW5zbGF0ZTpmdW5jdGlvbihhLGYsayx1LGQsYyl7dGhpcy56b29tSG9yJiZ0aGlzLnBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uKCEwLGEsZixrLHUsZCxjKTt0aGlzLnpvb21WZXJ0JiZ0aGlzLnBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uKCExLGEsZixrLHUsZCxjKX0scGluY2hUcmFuc2xhdGVEaXJlY3Rpb246ZnVuY3Rpb24oYSxmLGssdSxkLGMsbixyKXt2YXIgYj10aGlzLmNoYXJ0LHA9YT9cInhcIjpcInlcIixoPWE/XCJYXCI6XCJZXCIsdD1cImNoYXJ0XCIraCxsPWE/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdz1iW1wicGxvdFwiKyhhP1wiTGVmdFwiOlwiVG9wXCIpXSxlLHEsQz1yfHwxLEU9Yi5pbnZlcnRlZCxtPWIuYm91bmRzW2E/XCJoXCI6XCJ2XCJdLHk9MT09PWYubGVuZ3RoLEk9ZlswXVt0XSxLPWtbMF1bdF0sSj0heSYmZlsxXVt0XSxnPSF5JiZrWzFdW3RdLHo7az1mdW5jdGlvbigpeyF5JiYyMDxNYXRoLmFicyhJLUopJiYoQz1yfHxcbk1hdGguYWJzKEstZykvTWF0aC5hYnMoSS1KKSk7cT0ody1LKS9DK0k7ZT1iW1wicGxvdFwiKyhhP1wiV2lkdGhcIjpcIkhlaWdodFwiKV0vQ307aygpO2Y9cTtmPG0ubWluPyhmPW0ubWluLHo9ITApOmYrZT5tLm1heCYmKGY9bS5tYXgtZSx6PSEwKTt6PyhLLT0uOCooSy1uW3BdWzBdKSx5fHwoZy09LjgqKGctbltwXVsxXSkpLGsoKSk6bltwXT1bSyxnXTtFfHwoY1twXT1xLXcsY1tsXT1lKTtjPUU/MS9DOkM7ZFtsXT1lO2RbcF09Zjt1W0U/YT9cInNjYWxlWVwiOlwic2NhbGVYXCI6XCJzY2FsZVwiK2hdPUM7dVtcInRyYW5zbGF0ZVwiK2hdPWMqdysoSy1jKkkpfSxwaW5jaDpmdW5jdGlvbihhKXt2YXIgbD10aGlzLGs9bC5jaGFydCx1PWwucGluY2hEb3duLGQ9YS50b3VjaGVzLGM9ZC5sZW5ndGgsbj1sLmxhc3RWYWxpZFRvdWNoLHo9bC5oYXNab29tLGI9bC5zZWxlY3Rpb25NYXJrZXIscD17fSxoPTE9PT1jJiYobC5pbkNsYXNzKGEudGFyZ2V0LFwiaGlnaGNoYXJ0cy10cmFja2VyXCIpJiZrLnJ1blRyYWNrZXJDbGlja3x8XG5sLnJ1bkNoYXJ0Q2xpY2spLHQ9e307MTxjJiYobC5pbml0aWF0ZWQ9ITApO3omJmwuaW5pdGlhdGVkJiYhaCYmYS5wcmV2ZW50RGVmYXVsdCgpO0coZCxmdW5jdGlvbihhKXtyZXR1cm4gbC5ub3JtYWxpemUoYSl9KTtcInRvdWNoc3RhcnRcIj09PWEudHlwZT8oQShkLGZ1bmN0aW9uKGEsYil7dVtiXT17Y2hhcnRYOmEuY2hhcnRYLGNoYXJ0WTphLmNoYXJ0WX19KSxuLng9W3VbMF0uY2hhcnRYLHVbMV0mJnVbMV0uY2hhcnRYXSxuLnk9W3VbMF0uY2hhcnRZLHVbMV0mJnVbMV0uY2hhcnRZXSxBKGsuYXhlcyxmdW5jdGlvbihhKXtpZihhLnpvb21FbmFibGVkKXt2YXIgYj1rLmJvdW5kc1thLmhvcml6P1wiaFwiOlwidlwiXSxjPWEubWluUGl4ZWxQYWRkaW5nLGg9YS50b1BpeGVscyhmKGEub3B0aW9ucy5taW4sYS5kYXRhTWluKSksZD1hLnRvUGl4ZWxzKGYoYS5vcHRpb25zLm1heCxhLmRhdGFNYXgpKSxwPU1hdGgubWF4KGgsZCk7Yi5taW49TWF0aC5taW4oYS5wb3MsTWF0aC5taW4oaCxkKS1cbmMpO2IubWF4PU1hdGgubWF4KGEucG9zK2EubGVuLHArYyl9fSksbC5yZXM9ITApOmwuZm9sbG93VG91Y2hNb3ZlJiYxPT09Yz90aGlzLnJ1blBvaW50QWN0aW9ucyhsLm5vcm1hbGl6ZShhKSk6dS5sZW5ndGgmJihifHwobC5zZWxlY3Rpb25NYXJrZXI9Yj1IKHtkZXN0cm95OnIsdG91Y2g6ITB9LGsucGxvdEJveCkpLGwucGluY2hUcmFuc2xhdGUodSxkLHAsYix0LG4pLGwuaGFzUGluY2hlZD16LGwuc2NhbGVHcm91cHMocCx0KSxsLnJlcyYmKGwucmVzPSExLHRoaXMucmVzZXQoITEsMCkpKX0sdG91Y2g6ZnVuY3Rpb24obCxxKXt2YXIgaz10aGlzLmNoYXJ0LHUsZDtpZihrLmluZGV4IT09YS5ob3ZlckNoYXJ0SW5kZXgpdGhpcy5vbkNvbnRhaW5lck1vdXNlTGVhdmUoe3JlbGF0ZWRUYXJnZXQ6ITB9KTthLmhvdmVyQ2hhcnRJbmRleD1rLmluZGV4OzE9PT1sLnRvdWNoZXMubGVuZ3RoPyhsPXRoaXMubm9ybWFsaXplKGwpLChkPWsuaXNJbnNpZGVQbG90KGwuY2hhcnRYLWsucGxvdExlZnQsXG5sLmNoYXJ0WS1rLnBsb3RUb3ApKSYmIWsub3Blbk1lbnU/KHEmJnRoaXMucnVuUG9pbnRBY3Rpb25zKGwpLFwidG91Y2htb3ZlXCI9PT1sLnR5cGUmJihxPXRoaXMucGluY2hEb3duLHU9cVswXT80PD1NYXRoLnNxcnQoTWF0aC5wb3cocVswXS5jaGFydFgtbC5jaGFydFgsMikrTWF0aC5wb3cocVswXS5jaGFydFktbC5jaGFydFksMikpOiExKSxmKHUsITApJiZ0aGlzLnBpbmNoKGwpKTpxJiZ0aGlzLnJlc2V0KCkpOjI9PT1sLnRvdWNoZXMubGVuZ3RoJiZ0aGlzLnBpbmNoKGwpfSxvbkNvbnRhaW5lclRvdWNoU3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy56b29tT3B0aW9uKGEpO3RoaXMudG91Y2goYSwhMCl9LG9uQ29udGFpbmVyVG91Y2hNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMudG91Y2goYSl9LG9uRG9jdW1lbnRUb3VjaEVuZDpmdW5jdGlvbihmKXtCW2EuaG92ZXJDaGFydEluZGV4XSYmQlthLmhvdmVyQ2hhcnRJbmRleF0ucG9pbnRlci5kcm9wKGYpfX0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPVxuYS5hZGRFdmVudCxBPWEuY2hhcnRzLEg9YS5jc3MsRz1hLmRvYyxyPWEuZXh0ZW5kLGY9YS5ub29wLGw9YS5Qb2ludGVyLHE9YS5yZW1vdmVFdmVudCxrPWEud2luLHU9YS53cmFwO2lmKGsuUG9pbnRlckV2ZW50fHxrLk1TUG9pbnRlckV2ZW50KXt2YXIgZD17fSxjPSEhay5Qb2ludGVyRXZlbnQsbj1mdW5jdGlvbigpe3ZhciBhLGM9W107Yy5pdGVtPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfTtmb3IoYSBpbiBkKWQuaGFzT3duUHJvcGVydHkoYSkmJmMucHVzaCh7cGFnZVg6ZFthXS5wYWdlWCxwYWdlWTpkW2FdLnBhZ2VZLHRhcmdldDpkW2FdLnRhcmdldH0pO3JldHVybiBjfSx6PWZ1bmN0aW9uKGIsYyxoLGQpe1widG91Y2hcIiE9PWIucG9pbnRlclR5cGUmJmIucG9pbnRlclR5cGUhPT1iLk1TUE9JTlRFUl9UWVBFX1RPVUNIfHwhQVthLmhvdmVyQ2hhcnRJbmRleF18fChkKGIpLGQ9QVthLmhvdmVyQ2hhcnRJbmRleF0ucG9pbnRlcixkW2NdKHt0eXBlOmgsdGFyZ2V0OmIuY3VycmVudFRhcmdldCxcbnByZXZlbnREZWZhdWx0OmYsdG91Y2hlczpuKCl9KSl9O3IobC5wcm90b3R5cGUse29uQ29udGFpbmVyUG9pbnRlckRvd246ZnVuY3Rpb24oYSl7eihhLFwib25Db250YWluZXJUb3VjaFN0YXJ0XCIsXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oYSl7ZFthLnBvaW50ZXJJZF09e3BhZ2VYOmEucGFnZVgscGFnZVk6YS5wYWdlWSx0YXJnZXQ6YS5jdXJyZW50VGFyZ2V0fX0pfSxvbkNvbnRhaW5lclBvaW50ZXJNb3ZlOmZ1bmN0aW9uKGEpe3ooYSxcIm9uQ29udGFpbmVyVG91Y2hNb3ZlXCIsXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihhKXtkW2EucG9pbnRlcklkXT17cGFnZVg6YS5wYWdlWCxwYWdlWTphLnBhZ2VZfTtkW2EucG9pbnRlcklkXS50YXJnZXR8fChkW2EucG9pbnRlcklkXS50YXJnZXQ9YS5jdXJyZW50VGFyZ2V0KX0pfSxvbkRvY3VtZW50UG9pbnRlclVwOmZ1bmN0aW9uKGEpe3ooYSxcIm9uRG9jdW1lbnRUb3VjaEVuZFwiLFwidG91Y2hlbmRcIixmdW5jdGlvbihhKXtkZWxldGUgZFthLnBvaW50ZXJJZF19KX0sXG5iYXRjaE1TRXZlbnRzOmZ1bmN0aW9uKGEpe2EodGhpcy5jaGFydC5jb250YWluZXIsYz9cInBvaW50ZXJkb3duXCI6XCJNU1BvaW50ZXJEb3duXCIsdGhpcy5vbkNvbnRhaW5lclBvaW50ZXJEb3duKTthKHRoaXMuY2hhcnQuY29udGFpbmVyLGM/XCJwb2ludGVybW92ZVwiOlwiTVNQb2ludGVyTW92ZVwiLHRoaXMub25Db250YWluZXJQb2ludGVyTW92ZSk7YShHLGM/XCJwb2ludGVydXBcIjpcIk1TUG9pbnRlclVwXCIsdGhpcy5vbkRvY3VtZW50UG9pbnRlclVwKX19KTt1KGwucHJvdG90eXBlLFwiaW5pdFwiLGZ1bmN0aW9uKGEsYyxoKXthLmNhbGwodGhpcyxjLGgpO3RoaXMuaGFzWm9vbSYmSChjLmNvbnRhaW5lcix7XCItbXMtdG91Y2gtYWN0aW9uXCI6XCJub25lXCIsXCJ0b3VjaC1hY3Rpb25cIjpcIm5vbmVcIn0pfSk7dShsLnByb3RvdHlwZSxcInNldERPTUV2ZW50c1wiLGZ1bmN0aW9uKGEpe2EuYXBwbHkodGhpcyk7KHRoaXMuaGFzWm9vbXx8dGhpcy5mb2xsb3dUb3VjaE1vdmUpJiZ0aGlzLmJhdGNoTVNFdmVudHMoQil9KTtcbnUobC5wcm90b3R5cGUsXCJkZXN0cm95XCIsZnVuY3Rpb24oYSl7dGhpcy5iYXRjaE1TRXZlbnRzKHEpO2EuY2FsbCh0aGlzKX0pfX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQixBPWEuYWRkRXZlbnQsSD1hLmNzcyxHPWEuZGlzY2FyZEVsZW1lbnQscj1hLmRlZmluZWQsZj1hLmVhY2gsbD1hLmlzRmlyZWZveCxxPWEubWFyZ2luTmFtZXMsaz1hLm1lcmdlLHU9YS5waWNrLGQ9YS5zZXRBbmltYXRpb24sYz1hLnN0YWJsZVNvcnQsbj1hLndpbix6PWEud3JhcDtCPWEuTGVnZW5kPWZ1bmN0aW9uKGEsYyl7dGhpcy5pbml0KGEsYyl9O0IucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEsYyl7dGhpcy5jaGFydD1hO3RoaXMuc2V0T3B0aW9ucyhjKTtjLmVuYWJsZWQmJih0aGlzLnJlbmRlcigpLEEodGhpcy5jaGFydCxcImVuZFJlc2l6ZVwiLGZ1bmN0aW9uKCl7dGhpcy5sZWdlbmQucG9zaXRpb25DaGVja2JveGVzKCl9KSl9LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dShhLnBhZGRpbmcsXG44KTt0aGlzLm9wdGlvbnM9YTt0aGlzLml0ZW1TdHlsZT1hLml0ZW1TdHlsZTt0aGlzLml0ZW1IaWRkZW5TdHlsZT1rKHRoaXMuaXRlbVN0eWxlLGEuaXRlbUhpZGRlblN0eWxlKTt0aGlzLml0ZW1NYXJnaW5Ub3A9YS5pdGVtTWFyZ2luVG9wfHwwO3RoaXMucGFkZGluZz1iO3RoaXMuaW5pdGlhbEl0ZW1ZPWItNTt0aGlzLml0ZW1IZWlnaHQ9dGhpcy5tYXhJdGVtV2lkdGg9MDt0aGlzLnN5bWJvbFdpZHRoPXUoYS5zeW1ib2xXaWR0aCwxNik7dGhpcy5wYWdlcz1bXX0sdXBkYXRlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5jaGFydDt0aGlzLnNldE9wdGlvbnMoayghMCx0aGlzLm9wdGlvbnMsYSkpO3RoaXMuZGVzdHJveSgpO2IuaXNEaXJ0eUxlZ2VuZD1iLmlzRGlydHlCb3g9ITA7dShjLCEwKSYmYi5yZWRyYXcoKX0sY29sb3JpemVJdGVtOmZ1bmN0aW9uKGEsYyl7YS5sZWdlbmRHcm91cFtjP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKFwiaGlnaGNoYXJ0cy1sZWdlbmQtaXRlbS1oaWRkZW5cIik7XG52YXIgYj10aGlzLm9wdGlvbnMsZD1hLmxlZ2VuZEl0ZW0sZj1hLmxlZ2VuZExpbmUscD1hLmxlZ2VuZFN5bWJvbCxlPXRoaXMuaXRlbUhpZGRlblN0eWxlLmNvbG9yLGI9Yz9iLml0ZW1TdHlsZS5jb2xvcjplLG49Yz9hLmNvbG9yfHxlOmUsaz1hLm9wdGlvbnMmJmEub3B0aW9ucy5tYXJrZXIsbD17ZmlsbDpufSxtO2QmJmQuY3NzKHtmaWxsOmIsY29sb3I6Yn0pO2YmJmYuYXR0cih7c3Ryb2tlOm59KTtpZihwKXtpZihrJiZwLmlzTWFya2VyJiYobD1hLnBvaW50QXR0cmlicygpLCFjKSlmb3IobSBpbiBsKWxbbV09ZTtwLmF0dHIobCl9fSxwb3NpdGlvbkl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5zeW1ib2xQYWRkaW5nLGI9IWIucnRsLGQ9YS5fbGVnZW5kSXRlbVBvcyxmPWRbMF0sZD1kWzFdLG49YS5jaGVja2JveDsoYT1hLmxlZ2VuZEdyb3VwKSYmYS5lbGVtZW50JiZhLnRyYW5zbGF0ZShiP2Y6dGhpcy5sZWdlbmRXaWR0aC1mLTIqYy00LGQpO24mJihuLng9XG5mLG4ueT1kKX0sZGVzdHJveUl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGVja2JveDtmKFtcImxlZ2VuZEl0ZW1cIixcImxlZ2VuZExpbmVcIixcImxlZ2VuZFN5bWJvbFwiLFwibGVnZW5kR3JvdXBcIl0sZnVuY3Rpb24oYil7YVtiXSYmKGFbYl09YVtiXS5kZXN0cm95KCkpfSk7YiYmRyhhLmNoZWNrYm94KX0sZGVzdHJveTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpc1thXSYmKHRoaXNbYV09dGhpc1thXS5kZXN0cm95KCkpfWYodGhpcy5nZXRBbGxJdGVtcygpLGZ1bmN0aW9uKGIpe2YoW1wibGVnZW5kSXRlbVwiLFwibGVnZW5kR3JvdXBcIl0sYSxiKX0pO2YoXCJjbGlwUmVjdCB1cCBkb3duIHBhZ2VyIG5hdiBib3ggdGl0bGUgZ3JvdXBcIi5zcGxpdChcIiBcIiksYSx0aGlzKTt0aGlzLmRpc3BsYXk9bnVsbH0scG9zaXRpb25DaGVja2JveGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JvdXAmJnRoaXMuZ3JvdXAuYWxpZ25BdHRyLGMsZD10aGlzLmNsaXBIZWlnaHR8fHRoaXMubGVnZW5kSGVpZ2h0LFxubj10aGlzLnRpdGxlSGVpZ2h0O2ImJihjPWIudHJhbnNsYXRlWSxmKHRoaXMuYWxsSXRlbXMsZnVuY3Rpb24oaCl7dmFyIGU9aC5jaGVja2JveCxmO2UmJihmPWMrbitlLnkrKGF8fDApKzMsSChlLHtsZWZ0OmIudHJhbnNsYXRlWCtoLmNoZWNrYm94T2Zmc2V0K2UueC0yMCtcInB4XCIsdG9wOmYrXCJweFwiLGRpc3BsYXk6Zj5jLTYmJmY8YytkLTY/XCJcIjpcIm5vbmVcIn0pKX0pKX0scmVuZGVyVGl0bGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZGRpbmcsYz10aGlzLm9wdGlvbnMudGl0bGUsaD0wO2MudGV4dCYmKHRoaXMudGl0bGV8fCh0aGlzLnRpdGxlPXRoaXMuY2hhcnQucmVuZGVyZXIubGFiZWwoYy50ZXh0LGEtMyxhLTQsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLFwibGVnZW5kLXRpdGxlXCIpLmF0dHIoe3pJbmRleDoxfSkuY3NzKGMuc3R5bGUpLmFkZCh0aGlzLmdyb3VwKSksYT10aGlzLnRpdGxlLmdldEJCb3goKSxoPWEuaGVpZ2h0LHRoaXMub2Zmc2V0V2lkdGg9YS53aWR0aCx0aGlzLmNvbnRlbnRHcm91cC5hdHRyKHt0cmFuc2xhdGVZOmh9KSk7XG50aGlzLnRpdGxlSGVpZ2h0PWh9LHNldFRleHQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zO2IubGVnZW5kSXRlbS5hdHRyKHt0ZXh0OmMubGFiZWxGb3JtYXQ/YS5mb3JtYXQoYy5sYWJlbEZvcm1hdCxiKTpjLmxhYmVsRm9ybWF0dGVyLmNhbGwoYil9KX0scmVuZGVySXRlbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPXRoaXMub3B0aW9ucyxmPVwiaG9yaXpvbnRhbFwiPT09ZC5sYXlvdXQsbj10aGlzLnN5bWJvbFdpZHRoLGU9ZC5zeW1ib2xQYWRkaW5nLGw9dGhpcy5pdGVtU3R5bGUscT10aGlzLml0ZW1IaWRkZW5TdHlsZSxyPXRoaXMucGFkZGluZyxtPWY/dShkLml0ZW1EaXN0YW5jZSwyMCk6MCx5PSFkLnJ0bCxJPWQud2lkdGgsSz1kLml0ZW1NYXJnaW5Cb3R0b218fDAsSj10aGlzLml0ZW1NYXJnaW5Ub3AsZz1hLmxlZ2VuZEl0ZW0sej0hYS5zZXJpZXMsUT0heiYmYS5zZXJpZXMuZHJhd0xlZ2VuZFN5bWJvbD9hLnNlcmllczphLEE9US5vcHRpb25zLFxuQT10aGlzLmNyZWF0ZUNoZWNrYm94Rm9ySXRlbSYmQSYmQS5zaG93Q2hlY2tib3gsQj1kLnVzZUhUTUwsSD1hLm9wdGlvbnMuY2xhc3NOYW1lO2d8fChhLmxlZ2VuZEdyb3VwPWMuZyhcImxlZ2VuZC1pdGVtXCIpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIitRLnR5cGUrXCItc2VyaWVzIGhpZ2hjaGFydHMtY29sb3ItXCIrYS5jb2xvckluZGV4KyhIP1wiIFwiK0g6XCJcIikrKHo/XCIgaGlnaGNoYXJ0cy1zZXJpZXMtXCIrYS5pbmRleDpcIlwiKSkuYXR0cih7ekluZGV4OjF9KS5hZGQodGhpcy5zY3JvbGxHcm91cCksYS5sZWdlbmRJdGVtPWc9Yy50ZXh0KFwiXCIseT9uK2U6LWUsdGhpcy5iYXNlbGluZXx8MCxCKS5jc3MoayhhLnZpc2libGU/bDpxKSkuYXR0cih7YWxpZ246eT9cImxlZnRcIjpcInJpZ2h0XCIsekluZGV4OjJ9KS5hZGQoYS5sZWdlbmRHcm91cCksdGhpcy5iYXNlbGluZXx8KGw9bC5mb250U2l6ZSx0aGlzLmZvbnRNZXRyaWNzPWMuZm9udE1ldHJpY3MobCxnKSx0aGlzLmJhc2VsaW5lPXRoaXMuZm9udE1ldHJpY3MuZitcbjMrSixnLmF0dHIoXCJ5XCIsdGhpcy5iYXNlbGluZSkpLHRoaXMuc3ltYm9sSGVpZ2h0PWQuc3ltYm9sSGVpZ2h0fHx0aGlzLmZvbnRNZXRyaWNzLmYsUS5kcmF3TGVnZW5kU3ltYm9sKHRoaXMsYSksdGhpcy5zZXRJdGVtRXZlbnRzJiZ0aGlzLnNldEl0ZW1FdmVudHMoYSxnLEIpLEEmJnRoaXMuY3JlYXRlQ2hlY2tib3hGb3JJdGVtKGEpKTt0aGlzLmNvbG9yaXplSXRlbShhLGEudmlzaWJsZSk7dGhpcy5zZXRUZXh0KGEpO2M9Zy5nZXRCQm94KCk7bj1hLmNoZWNrYm94T2Zmc2V0PWQuaXRlbVdpZHRofHxhLmxlZ2VuZEl0ZW1XaWR0aHx8bitlK2Mud2lkdGgrbSsoQT8yMDowKTt0aGlzLml0ZW1IZWlnaHQ9ZT1NYXRoLnJvdW5kKGEubGVnZW5kSXRlbUhlaWdodHx8Yy5oZWlnaHR8fHRoaXMuc3ltYm9sSGVpZ2h0KTtmJiZ0aGlzLml0ZW1YLXIrbj4oSXx8Yi5zcGFjaW5nQm94LndpZHRoLTIqci1kLngpJiYodGhpcy5pdGVtWD1yLHRoaXMuaXRlbVkrPUordGhpcy5sYXN0TGluZUhlaWdodCtcbkssdGhpcy5sYXN0TGluZUhlaWdodD0wKTt0aGlzLm1heEl0ZW1XaWR0aD1NYXRoLm1heCh0aGlzLm1heEl0ZW1XaWR0aCxuKTt0aGlzLmxhc3RJdGVtWT1KK3RoaXMuaXRlbVkrSzt0aGlzLmxhc3RMaW5lSGVpZ2h0PU1hdGgubWF4KGUsdGhpcy5sYXN0TGluZUhlaWdodCk7YS5fbGVnZW5kSXRlbVBvcz1bdGhpcy5pdGVtWCx0aGlzLml0ZW1ZXTtmP3RoaXMuaXRlbVgrPW46KHRoaXMuaXRlbVkrPUorZStLLHRoaXMubGFzdExpbmVIZWlnaHQ9ZSk7dGhpcy5vZmZzZXRXaWR0aD1JfHxNYXRoLm1heCgoZj90aGlzLml0ZW1YLXItbTpuKStyLHRoaXMub2Zmc2V0V2lkdGgpfSxnZXRBbGxJdGVtczpmdW5jdGlvbigpe3ZhciBhPVtdO2YodGhpcy5jaGFydC5zZXJpZXMsZnVuY3Rpb24oYil7dmFyIGM9YiYmYi5vcHRpb25zO2ImJnUoYy5zaG93SW5MZWdlbmQscihjLmxpbmtlZFRvKT8hMTp2b2lkIDAsITApJiYoYT1hLmNvbmNhdChiLmxlZ2VuZEl0ZW1zfHwoXCJwb2ludFwiPT09Yy5sZWdlbmRUeXBlP1xuYi5kYXRhOmIpKSl9KTtyZXR1cm4gYX0sYWRqdXN0TWFyZ2luczpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMuY2hhcnQsZD10aGlzLm9wdGlvbnMscD1kLmFsaWduLmNoYXJBdCgwKStkLnZlcnRpY2FsQWxpZ24uY2hhckF0KDApK2QubGF5b3V0LmNoYXJBdCgwKTtkLmZsb2F0aW5nfHxmKFsvKGx0aHxjdHxydGgpLywvKHJ0dnxybXxyYnYpLywvKHJiaHxjYnxsYmgpLywvKGxidnxsbXxsdHYpL10sZnVuY3Rpb24oaCxlKXtoLnRlc3QocCkmJiFyKGFbZV0pJiYoYltxW2VdXT1NYXRoLm1heChiW3FbZV1dLGIubGVnZW5kWyhlKzEpJTI/XCJsZWdlbmRIZWlnaHRcIjpcImxlZ2VuZFdpZHRoXCJdK1sxLC0xLC0xLDFdW2VdKmRbZSUyP1wieFwiOlwieVwiXSt1KGQubWFyZ2luLDEyKStjW2VdKSl9KX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxkPWEuY2hhcnQsaD1kLnJlbmRlcmVyLG49YS5ncm91cCxsLHEsZSx4LHU9YS5ib3gscj1hLm9wdGlvbnMsbT1hLnBhZGRpbmc7YS5pdGVtWD1tO2EuaXRlbVk9XG5hLmluaXRpYWxJdGVtWTthLm9mZnNldFdpZHRoPTA7YS5sYXN0SXRlbVk9MDtufHwoYS5ncm91cD1uPWguZyhcImxlZ2VuZFwiKS5hdHRyKHt6SW5kZXg6N30pLmFkZCgpLGEuY29udGVudEdyb3VwPWguZygpLmF0dHIoe3pJbmRleDoxfSkuYWRkKG4pLGEuc2Nyb2xsR3JvdXA9aC5nKCkuYWRkKGEuY29udGVudEdyb3VwKSk7YS5yZW5kZXJUaXRsZSgpO2w9YS5nZXRBbGxJdGVtcygpO2MobCxmdW5jdGlvbihhLGIpe3JldHVybihhLm9wdGlvbnMmJmEub3B0aW9ucy5sZWdlbmRJbmRleHx8MCktKGIub3B0aW9ucyYmYi5vcHRpb25zLmxlZ2VuZEluZGV4fHwwKX0pO3IucmV2ZXJzZWQmJmwucmV2ZXJzZSgpO2EuYWxsSXRlbXM9bDthLmRpc3BsYXk9cT0hIWwubGVuZ3RoO2EubGFzdExpbmVIZWlnaHQ9MDtmKGwsZnVuY3Rpb24oYil7YS5yZW5kZXJJdGVtKGIpfSk7ZT0oci53aWR0aHx8YS5vZmZzZXRXaWR0aCkrbTt4PWEubGFzdEl0ZW1ZK2EubGFzdExpbmVIZWlnaHQrYS50aXRsZUhlaWdodDtcbng9YS5oYW5kbGVPdmVyZmxvdyh4KTt4Kz1tO3V8fChhLmJveD11PWgucmVjdCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1sZWdlbmQtYm94XCIpLmF0dHIoe3I6ci5ib3JkZXJSYWRpdXN9KS5hZGQobiksdS5pc05ldz0hMCk7dS5hdHRyKHtzdHJva2U6ci5ib3JkZXJDb2xvcixcInN0cm9rZS13aWR0aFwiOnIuYm9yZGVyV2lkdGh8fDAsZmlsbDpyLmJhY2tncm91bmRDb2xvcnx8XCJub25lXCJ9KS5zaGFkb3coci5zaGFkb3cpOzA8ZSYmMDx4JiYodVt1LmlzTmV3P1wiYXR0clwiOlwiYW5pbWF0ZVwiXSh1LmNyaXNwKHt4OjAseTowLHdpZHRoOmUsaGVpZ2h0Onh9LHUuc3Ryb2tlV2lkdGgoKSkpLHUuaXNOZXc9ITEpO3VbcT9cInNob3dcIjpcImhpZGVcIl0oKTthLmxlZ2VuZFdpZHRoPWU7YS5sZWdlbmRIZWlnaHQ9eDtmKGwsZnVuY3Rpb24oYil7YS5wb3NpdGlvbkl0ZW0oYil9KTtxJiZuLmFsaWduKGsocix7d2lkdGg6ZSxoZWlnaHQ6eH0pLCEwLFwic3BhY2luZ0JveFwiKTtkLmlzUmVzaXppbmd8fHRoaXMucG9zaXRpb25DaGVja2JveGVzKCl9LFxuaGFuZGxlT3ZlcmZsb3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuY2hhcnQsZD1jLnJlbmRlcmVyLG49dGhpcy5vcHRpb25zLGs9bi55LGU9dGhpcy5wYWRkaW5nLGM9Yy5zcGFjaW5nQm94LmhlaWdodCsoXCJ0b3BcIj09PW4udmVydGljYWxBbGlnbj8tazprKS1lLGs9bi5tYXhIZWlnaHQsbCxxPXRoaXMuY2xpcFJlY3Qscj1uLm5hdmlnYXRpb24sbT11KHIuYW5pbWF0aW9uLCEwKSx5PXIuYXJyb3dTaXplfHwxMixJPXRoaXMubmF2LEs9dGhpcy5wYWdlcyxKLGc9dGhpcy5hbGxJdGVtcyx6PWZ1bmN0aW9uKGEpe2E/cS5hdHRyKHtoZWlnaHQ6YX0pOnEmJihiLmNsaXBSZWN0PXEuZGVzdHJveSgpLGIuY29udGVudEdyb3VwLmNsaXAoKSk7Yi5jb250ZW50R3JvdXAuZGl2JiYoYi5jb250ZW50R3JvdXAuZGl2LnN0eWxlLmNsaXA9YT9cInJlY3QoXCIrZStcInB4LDk5OTlweCxcIisoZSthKStcInB4LDApXCI6XCJhdXRvXCIpfTtcImhvcml6b250YWxcIiE9PW4ubGF5b3V0fHxcIm1pZGRsZVwiPT09XG5uLnZlcnRpY2FsQWxpZ258fG4uZmxvYXRpbmd8fChjLz0yKTtrJiYoYz1NYXRoLm1pbihjLGspKTtLLmxlbmd0aD0wO2E+YyYmITEhPT1yLmVuYWJsZWQ/KHRoaXMuY2xpcEhlaWdodD1sPU1hdGgubWF4KGMtMjAtdGhpcy50aXRsZUhlaWdodC1lLDApLHRoaXMuY3VycmVudFBhZ2U9dSh0aGlzLmN1cnJlbnRQYWdlLDEpLHRoaXMuZnVsbEhlaWdodD1hLGYoZyxmdW5jdGlvbihhLGIpe3ZhciBjPWEuX2xlZ2VuZEl0ZW1Qb3NbMV07YT1NYXRoLnJvdW5kKGEubGVnZW5kSXRlbS5nZXRCQm94KCkuaGVpZ2h0KTt2YXIgZT1LLmxlbmd0aDtpZighZXx8Yy1LW2UtMV0+bCYmKEp8fGMpIT09S1tlLTFdKUsucHVzaChKfHxjKSxlKys7Yj09PWcubGVuZ3RoLTEmJmMrYS1LW2UtMV0+bCYmSy5wdXNoKGMpO2MhPT1KJiYoSj1jKX0pLHF8fChxPWIuY2xpcFJlY3Q9ZC5jbGlwUmVjdCgwLGUsOTk5OSwwKSxiLmNvbnRlbnRHcm91cC5jbGlwKHEpKSx6KGwpLEl8fCh0aGlzLm5hdj1JPWQuZygpLmF0dHIoe3pJbmRleDoxfSkuYWRkKHRoaXMuZ3JvdXApLFxudGhpcy51cD1kLnN5bWJvbChcInRyaWFuZ2xlXCIsMCwwLHkseSkub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5zY3JvbGwoLTEsbSl9KS5hZGQoSSksdGhpcy5wYWdlcj1kLnRleHQoXCJcIiwxNSwxMCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWxlZ2VuZC1uYXZpZ2F0aW9uXCIpLmNzcyhyLnN0eWxlKS5hZGQoSSksdGhpcy5kb3duPWQuc3ltYm9sKFwidHJpYW5nbGUtZG93blwiLDAsMCx5LHkpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2Iuc2Nyb2xsKDEsbSl9KS5hZGQoSSkpLGIuc2Nyb2xsKDApLGE9Yyk6SSYmKHooKSx0aGlzLm5hdj1JLmRlc3Ryb3koKSx0aGlzLnNjcm9sbEdyb3VwLmF0dHIoe3RyYW5zbGF0ZVk6MX0pLHRoaXMuY2xpcEhlaWdodD0wKTtyZXR1cm4gYX0sc2Nyb2xsOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5wYWdlcyxmPWIubGVuZ3RoO2E9dGhpcy5jdXJyZW50UGFnZSthO3ZhciBwPXRoaXMuY2xpcEhlaWdodCxuPXRoaXMub3B0aW9ucy5uYXZpZ2F0aW9uLGU9dGhpcy5wYWdlcixcbms9dGhpcy5wYWRkaW5nO2E+ZiYmKGE9Zik7MDxhJiYodm9pZCAwIT09YyYmZChjLHRoaXMuY2hhcnQpLHRoaXMubmF2LmF0dHIoe3RyYW5zbGF0ZVg6ayx0cmFuc2xhdGVZOnArdGhpcy5wYWRkaW5nKzcrdGhpcy50aXRsZUhlaWdodCx2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy51cC5hdHRyKHtcImNsYXNzXCI6MT09PWE/XCJoaWdoY2hhcnRzLWxlZ2VuZC1uYXYtaW5hY3RpdmVcIjpcImhpZ2hjaGFydHMtbGVnZW5kLW5hdi1hY3RpdmVcIn0pLGUuYXR0cih7dGV4dDphK1wiL1wiK2Z9KSx0aGlzLmRvd24uYXR0cih7eDoxOCt0aGlzLnBhZ2VyLmdldEJCb3goKS53aWR0aCxcImNsYXNzXCI6YT09PWY/XCJoaWdoY2hhcnRzLWxlZ2VuZC1uYXYtaW5hY3RpdmVcIjpcImhpZ2hjaGFydHMtbGVnZW5kLW5hdi1hY3RpdmVcIn0pLHRoaXMudXAuYXR0cih7ZmlsbDoxPT09YT9uLmluYWN0aXZlQ29sb3I6bi5hY3RpdmVDb2xvcn0pLmNzcyh7Y3Vyc29yOjE9PT1hP1wiZGVmYXVsdFwiOlwicG9pbnRlclwifSksdGhpcy5kb3duLmF0dHIoe2ZpbGw6YT09PVxuZj9uLmluYWN0aXZlQ29sb3I6bi5hY3RpdmVDb2xvcn0pLmNzcyh7Y3Vyc29yOmE9PT1mP1wiZGVmYXVsdFwiOlwicG9pbnRlclwifSksYz0tYlthLTFdK3RoaXMuaW5pdGlhbEl0ZW1ZLHRoaXMuc2Nyb2xsR3JvdXAuYW5pbWF0ZSh7dHJhbnNsYXRlWTpjfSksdGhpcy5jdXJyZW50UGFnZT1hLHRoaXMucG9zaXRpb25DaGVja2JveGVzKGMpKX19O2EuTGVnZW5kU3ltYm9sTWl4aW49e2RyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oYSxjKXt2YXIgYj1hLnN5bWJvbEhlaWdodCxkPWEub3B0aW9ucy5zcXVhcmVTeW1ib2w7Yy5sZWdlbmRTeW1ib2w9dGhpcy5jaGFydC5yZW5kZXJlci5yZWN0KGQ/KGEuc3ltYm9sV2lkdGgtYikvMjowLGEuYmFzZWxpbmUtYisxLGQ/YjphLnN5bWJvbFdpZHRoLGIsdShhLm9wdGlvbnMuc3ltYm9sUmFkaXVzLGIvMikpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1wb2ludFwiKS5hdHRyKHt6SW5kZXg6M30pLmFkZChjLmxlZ2VuZEdyb3VwKX0sZHJhd0xpbmVNYXJrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLm9wdGlvbnMsYz1iLm1hcmtlcixkPWEuc3ltYm9sV2lkdGgsZj1hLnN5bWJvbEhlaWdodCxuPWYvMixlPXRoaXMuY2hhcnQucmVuZGVyZXIsbD10aGlzLmxlZ2VuZEdyb3VwO2E9YS5iYXNlbGluZS1NYXRoLnJvdW5kKC4zKmEuZm9udE1ldHJpY3MuYik7dmFyIHE7cT17XCJzdHJva2Utd2lkdGhcIjpiLmxpbmVXaWR0aHx8MH07Yi5kYXNoU3R5bGUmJihxLmRhc2hzdHlsZT1iLmRhc2hTdHlsZSk7dGhpcy5sZWdlbmRMaW5lPWUucGF0aChbXCJNXCIsMCxhLFwiTFwiLGQsYV0pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1ncmFwaFwiKS5hdHRyKHEpLmFkZChsKTtjJiYhMSE9PWMuZW5hYmxlZCYmKGI9TWF0aC5taW4odShjLnJhZGl1cyxuKSxuKSwwPT09dGhpcy5zeW1ib2wuaW5kZXhPZihcInVybFwiKSYmKGM9ayhjLHt3aWR0aDpmLGhlaWdodDpmfSksYj0wKSx0aGlzLmxlZ2VuZFN5bWJvbD1jPWUuc3ltYm9sKHRoaXMuc3ltYm9sLGQvMi1iLGEtYiwyKmIsMipiLGMpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1wb2ludFwiKS5hZGQobCksXG5jLmlzTWFya2VyPSEwKX19OygvVHJpZGVudFxcLzdcXC4wLy50ZXN0KG4ubmF2aWdhdG9yLnVzZXJBZ2VudCl8fGwpJiZ6KEIucHJvdG90eXBlLFwicG9zaXRpb25JdGVtXCIsZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLGQ9ZnVuY3Rpb24oKXtjLl9sZWdlbmRJdGVtUG9zJiZhLmNhbGwoYixjKX07ZCgpO3NldFRpbWVvdXQoZCl9KX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LEE9YS5hbmltYXRlLEg9YS5hbmltT2JqZWN0LEc9YS5hdHRyLHI9YS5kb2MsZj1hLkF4aXMsbD1hLmNyZWF0ZUVsZW1lbnQscT1hLmRlZmF1bHRPcHRpb25zLGs9YS5kaXNjYXJkRWxlbWVudCx1PWEuY2hhcnRzLGQ9YS5jc3MsYz1hLmRlZmluZWQsbj1hLmVhY2gsej1hLmV4dGVuZCxiPWEuZmluZCxwPWEuZmlyZUV2ZW50LGg9YS5nZXRTdHlsZSx0PWEuZ3JlcCxEPWEuaXNOdW1iZXIsdz1hLmlzT2JqZWN0LGU9YS5pc1N0cmluZyx4PWEuTGVnZW5kLEM9YS5tYXJnaW5OYW1lcyxFPWEubWVyZ2UsXG5tPWEuUG9pbnRlcix5PWEucGljayxJPWEucEludCxLPWEucmVtb3ZlRXZlbnQsSj1hLnNlcmllc1R5cGVzLGc9YS5zcGxhdCxGPWEuc3ZnLFE9YS5zeW5jVGltZW91dCxOPWEud2luLFA9YS5SZW5kZXJlcixPPWEuQ2hhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdldEFyZ3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IE8oYSxiLGMpfTtPLnByb3RvdHlwZT17Y2FsbGJhY2tzOltdLGdldEFyZ3M6ZnVuY3Rpb24oKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aWYoZShhWzBdKXx8YVswXS5ub2RlTmFtZSl0aGlzLnJlbmRlclRvPWEuc2hpZnQoKTt0aGlzLmluaXQoYVswXSxhWzFdKX0saW5pdDpmdW5jdGlvbihiLGMpe3ZhciBlLGc9Yi5zZXJpZXM7Yi5zZXJpZXM9bnVsbDtlPUUocSxiKTtlLnNlcmllcz1iLnNlcmllcz1nO3RoaXMudXNlck9wdGlvbnM9YjtiPWUuY2hhcnQ7Zz1iLmV2ZW50czt0aGlzLm1hcmdpbj1bXTtcbnRoaXMuc3BhY2luZz1bXTt0aGlzLmJvdW5kcz17aDp7fSx2Ont9fTt0aGlzLmNhbGxiYWNrPWM7dGhpcy5pc1Jlc2l6aW5nPTA7dGhpcy5vcHRpb25zPWU7dGhpcy5heGVzPVtdO3RoaXMuc2VyaWVzPVtdO3RoaXMuaGFzQ2FydGVzaWFuU2VyaWVzPWIuc2hvd0F4ZXM7dmFyIGQ7dGhpcy5pbmRleD11Lmxlbmd0aDt1LnB1c2godGhpcyk7YS5jaGFydENvdW50Kys7aWYoZylmb3IoZCBpbiBnKUIodGhpcyxkLGdbZF0pO3RoaXMueEF4aXM9W107dGhpcy55QXhpcz1bXTt0aGlzLnBvaW50Q291bnQ9dGhpcy5jb2xvckNvdW50ZXI9dGhpcy5zeW1ib2xDb3VudGVyPTA7dGhpcy5maXJzdFJlbmRlcigpfSxpbml0U2VyaWVzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucy5jaGFydDsoYz1KW2IudHlwZXx8Yy50eXBlfHxjLmRlZmF1bHRTZXJpZXNUeXBlXSl8fGEuZXJyb3IoMTcsITApO2M9bmV3IGM7Yy5pbml0KHRoaXMsYik7cmV0dXJuIGN9LG9yZGVyU2VyaWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVxudGhpcy5zZXJpZXM7Zm9yKGE9YXx8MDthPGIubGVuZ3RoO2ErKyliW2FdJiYoYlthXS5pbmRleD1hLGJbYV0ubmFtZT1iW2FdLm5hbWV8fFwiU2VyaWVzIFwiKyhiW2FdLmluZGV4KzEpKX0saXNJbnNpZGVQbG90OmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1jP2I6YTthPWM/YTpiO3JldHVybiAwPD1lJiZlPD10aGlzLnBsb3RXaWR0aCYmMDw9YSYmYTw9dGhpcy5wbG90SGVpZ2h0fSxyZWRyYXc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5heGVzLGU9dGhpcy5zZXJpZXMsZz10aGlzLnBvaW50ZXIsZD10aGlzLmxlZ2VuZCxtPXRoaXMuaXNEaXJ0eUxlZ2VuZCxoLGYsdj10aGlzLmhhc0NhcnRlc2lhblNlcmllcyxrPXRoaXMuaXNEaXJ0eUJveCx5LGw9dGhpcy5yZW5kZXJlcix0PWwuaXNIaWRkZW4oKSxxPVtdO3RoaXMuc2V0UmVzcG9uc2l2ZSYmdGhpcy5zZXRSZXNwb25zaXZlKCExKTthLnNldEFuaW1hdGlvbihiLHRoaXMpO3QmJnRoaXMuY2xvbmVSZW5kZXJUbygpO3RoaXMubGF5T3V0VGl0bGVzKCk7XG5mb3IoYj1lLmxlbmd0aDtiLS07KWlmKHk9ZVtiXSx5Lm9wdGlvbnMuc3RhY2tpbmcmJihoPSEwLHkuaXNEaXJ0eSkpe2Y9ITA7YnJlYWt9aWYoZilmb3IoYj1lLmxlbmd0aDtiLS07KXk9ZVtiXSx5Lm9wdGlvbnMuc3RhY2tpbmcmJih5LmlzRGlydHk9ITApO24oZSxmdW5jdGlvbihhKXthLmlzRGlydHkmJlwicG9pbnRcIj09PWEub3B0aW9ucy5sZWdlbmRUeXBlJiYoYS51cGRhdGVUb3RhbHMmJmEudXBkYXRlVG90YWxzKCksbT0hMCk7YS5pc0RpcnR5RGF0YSYmcChhLFwidXBkYXRlZERhdGFcIil9KTttJiZkLm9wdGlvbnMuZW5hYmxlZCYmKGQucmVuZGVyKCksdGhpcy5pc0RpcnR5TGVnZW5kPSExKTtoJiZ0aGlzLmdldFN0YWNrcygpO3YmJm4oYyxmdW5jdGlvbihhKXthLnVwZGF0ZU5hbWVzKCk7YS5zZXRTY2FsZSgpfSk7dGhpcy5nZXRNYXJnaW5zKCk7diYmKG4oYyxmdW5jdGlvbihhKXthLmlzRGlydHkmJihrPSEwKX0pLG4oYyxmdW5jdGlvbihhKXt2YXIgYj1hLm1pbitcIixcIithLm1heDtcbmEuZXh0S2V5IT09YiYmKGEuZXh0S2V5PWIscS5wdXNoKGZ1bmN0aW9uKCl7cChhLFwiYWZ0ZXJTZXRFeHRyZW1lc1wiLHooYS5ldmVudEFyZ3MsYS5nZXRFeHRyZW1lcygpKSk7ZGVsZXRlIGEuZXZlbnRBcmdzfSkpOyhrfHxoKSYmYS5yZWRyYXcoKX0pKTtrJiZ0aGlzLmRyYXdDaGFydEJveCgpO3AodGhpcyxcInByZWRyYXdcIik7bihlLGZ1bmN0aW9uKGEpeyhrfHxhLmlzRGlydHkpJiZhLnZpc2libGUmJmEucmVkcmF3KCk7YS5pc0RpcnR5RGF0YT0hMX0pO2cmJmcucmVzZXQoITApO2wuZHJhdygpO3AodGhpcyxcInJlZHJhd1wiKTtwKHRoaXMsXCJyZW5kZXJcIik7dCYmdGhpcy5jbG9uZVJlbmRlclRvKCEwKTtuKHEsZnVuY3Rpb24oYSl7YS5jYWxsKCl9KX0sZ2V0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYil7cmV0dXJuIGIuaWQ9PT1hfHxiLm9wdGlvbnMmJmIub3B0aW9ucy5pZD09PWF9dmFyIGUsZz10aGlzLnNlcmllcyxkO2U9Yih0aGlzLmF4ZXMsYyl8fGIodGhpcy5zZXJpZXMsYyk7XG5mb3IoZD0wOyFlJiZkPGcubGVuZ3RoO2QrKyllPWIoZ1tkXS5wb2ludHN8fFtdLGMpO3JldHVybiBlfSxnZXRBeGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMub3B0aW9ucyxjPWIueEF4aXM9ZyhiLnhBeGlzfHx7fSksYj1iLnlBeGlzPWcoYi55QXhpc3x8e30pO24oYyxmdW5jdGlvbihhLGIpe2EuaW5kZXg9YjthLmlzWD0hMH0pO24oYixmdW5jdGlvbihhLGIpe2EuaW5kZXg9Yn0pO2M9Yy5jb25jYXQoYik7bihjLGZ1bmN0aW9uKGIpe25ldyBmKGEsYil9KX0sZ2V0U2VsZWN0ZWRQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtuKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGIpe2E9YS5jb25jYXQodChiLnBvaW50c3x8W10sZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KSl9KTtyZXR1cm4gYX0sZ2V0U2VsZWN0ZWRTZXJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfSxzZXRUaXRsZTpmdW5jdGlvbihhLFxuYixjKXt2YXIgZT10aGlzLGc9ZS5vcHRpb25zLGQ7ZD1nLnRpdGxlPUUoe3N0eWxlOntjb2xvcjpcIiMzMzMzMzNcIixmb250U2l6ZTpnLmlzU3RvY2s/XCIxNnB4XCI6XCIxOHB4XCJ9fSxnLnRpdGxlLGEpO2c9Zy5zdWJ0aXRsZT1FKHtzdHlsZTp7Y29sb3I6XCIjNjY2NjY2XCJ9fSxnLnN1YnRpdGxlLGIpO24oW1tcInRpdGxlXCIsYSxkXSxbXCJzdWJ0aXRsZVwiLGIsZ11dLGZ1bmN0aW9uKGEsYil7dmFyIGM9YVswXSxnPWVbY10sZD1hWzFdO2E9YVsyXTtnJiZkJiYoZVtjXT1nPWcuZGVzdHJveSgpKTthJiZhLnRleHQmJiFnJiYoZVtjXT1lLnJlbmRlcmVyLnRleHQoYS50ZXh0LDAsMCxhLnVzZUhUTUwpLmF0dHIoe2FsaWduOmEuYWxpZ24sXCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1cIitjLHpJbmRleDphLnpJbmRleHx8NH0pLmFkZCgpLGVbY10udXBkYXRlPWZ1bmN0aW9uKGEpe2Uuc2V0VGl0bGUoIWImJmEsYiYmYSl9LGVbY10uY3NzKGEuc3R5bGUpKX0pO2UubGF5T3V0VGl0bGVzKGMpfSxsYXlPdXRUaXRsZXM6ZnVuY3Rpb24oYSl7dmFyIGI9XG4wLGMsZT10aGlzLnJlbmRlcmVyLGc9dGhpcy5zcGFjaW5nQm94O24oW1widGl0bGVcIixcInN1YnRpdGxlXCJdLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbYV0sZD10aGlzLm9wdGlvbnNbYV0sbTtjJiYobT1kLnN0eWxlLmZvbnRTaXplLG09ZS5mb250TWV0cmljcyhtLGMpLmIsYy5jc3Moe3dpZHRoOihkLndpZHRofHxnLndpZHRoK2Qud2lkdGhBZGp1c3QpK1wicHhcIn0pLmFsaWduKHooe3k6YittKyhcInRpdGxlXCI9PT1hPy0zOjIpfSxkKSwhMSxcInNwYWNpbmdCb3hcIiksZC5mbG9hdGluZ3x8ZC52ZXJ0aWNhbEFsaWdufHwoYj1NYXRoLmNlaWwoYitjLmdldEJCb3goZC51c2VIVE1MKS5oZWlnaHQpKSl9LHRoaXMpO2M9dGhpcy50aXRsZU9mZnNldCE9PWI7dGhpcy50aXRsZU9mZnNldD1iOyF0aGlzLmlzRGlydHlCb3gmJmMmJih0aGlzLmlzRGlydHlCb3g9Yyx0aGlzLmhhc1JlbmRlcmVkJiZ5KGEsITApJiZ0aGlzLmlzRGlydHlCb3gmJnRoaXMucmVkcmF3KCkpfSxnZXRDaGFydFNpemU6ZnVuY3Rpb24oKXt2YXIgYj1cbnRoaXMub3B0aW9ucy5jaGFydCxlPWIud2lkdGgsYj1iLmhlaWdodCxnPXRoaXMucmVuZGVyVG9DbG9uZXx8dGhpcy5yZW5kZXJUbztjKGUpfHwodGhpcy5jb250YWluZXJXaWR0aD1oKGcsXCJ3aWR0aFwiKSk7YyhiKXx8KHRoaXMuY29udGFpbmVySGVpZ2h0PWgoZyxcImhlaWdodFwiKSk7dGhpcy5jaGFydFdpZHRoPU1hdGgubWF4KDAsZXx8dGhpcy5jb250YWluZXJXaWR0aHx8NjAwKTt0aGlzLmNoYXJ0SGVpZ2h0PU1hdGgubWF4KDAsYS5yZWxhdGl2ZUxlbmd0aChiLHRoaXMuY2hhcnRXaWR0aCl8fHRoaXMuY29udGFpbmVySGVpZ2h0fHw0MDApfSxjbG9uZVJlbmRlclRvOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVuZGVyVG9DbG9uZSxjPXRoaXMuY29udGFpbmVyO2lmKGEpe2lmKGIpe2Zvcig7Yi5jaGlsZE5vZGVzLmxlbmd0aDspdGhpcy5yZW5kZXJUby5hcHBlbmRDaGlsZChiLmZpcnN0Q2hpbGQpO2soYik7ZGVsZXRlIHRoaXMucmVuZGVyVG9DbG9uZX19ZWxzZSBjJiZjLnBhcmVudE5vZGU9PT1cbnRoaXMucmVuZGVyVG8mJnRoaXMucmVuZGVyVG8ucmVtb3ZlQ2hpbGQoYyksdGhpcy5yZW5kZXJUb0Nsb25lPWI9dGhpcy5yZW5kZXJUby5jbG9uZU5vZGUoMCksZChiLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTk5OTlweFwiLGRpc3BsYXk6XCJibG9ja1wifSksYi5zdHlsZS5zZXRQcm9wZXJ0eSYmYi5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcImJsb2NrXCIsXCJpbXBvcnRhbnRcIiksci5ib2R5LmFwcGVuZENoaWxkKGIpLGMmJmIuYXBwZW5kQ2hpbGQoYyl9LHNldENsYXNzTmFtZTpmdW5jdGlvbihhKXt0aGlzLmNvbnRhaW5lci5jbGFzc05hbWU9XCJoaWdoY2hhcnRzLWNvbnRhaW5lciBcIisoYXx8XCJcIil9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGc9Yy5jaGFydCxkLG07Yj10aGlzLnJlbmRlclRvO3ZhciBoPWEudW5pcXVlS2V5KCksZjtifHwodGhpcy5yZW5kZXJUbz1iPWcucmVuZGVyVG8pO2UoYikmJih0aGlzLnJlbmRlclRvPWI9ci5nZXRFbGVtZW50QnlJZChiKSk7XG5ifHxhLmVycm9yKDEzLCEwKTtkPUkoRyhiLFwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0XCIpKTtEKGQpJiZ1W2RdJiZ1W2RdLmhhc1JlbmRlcmVkJiZ1W2RdLmRlc3Ryb3koKTtHKGIsXCJkYXRhLWhpZ2hjaGFydHMtY2hhcnRcIix0aGlzLmluZGV4KTtiLmlubmVySFRNTD1cIlwiO2cuc2tpcENsb25lfHxiLm9mZnNldFdpZHRofHx0aGlzLmNsb25lUmVuZGVyVG8oKTt0aGlzLmdldENoYXJ0U2l6ZSgpO2Q9dGhpcy5jaGFydFdpZHRoO209dGhpcy5jaGFydEhlaWdodDtmPXooe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixvdmVyZmxvdzpcImhpZGRlblwiLHdpZHRoOmQrXCJweFwiLGhlaWdodDptK1wicHhcIix0ZXh0QWxpZ246XCJsZWZ0XCIsbGluZUhlaWdodDpcIm5vcm1hbFwiLHpJbmRleDowLFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCI6XCJyZ2JhKDAsMCwwLDApXCJ9LGcuc3R5bGUpO3RoaXMuY29udGFpbmVyPWI9bChcImRpdlwiLHtpZDpofSxmLHRoaXMucmVuZGVyVG9DbG9uZXx8Yik7dGhpcy5fY3Vyc29yPWIuc3R5bGUuY3Vyc29yO1xudGhpcy5yZW5kZXJlcj1uZXcgKGFbZy5yZW5kZXJlcl18fFApKGIsZCxtLG51bGwsZy5mb3JFeHBvcnQsYy5leHBvcnRpbmcmJmMuZXhwb3J0aW5nLmFsbG93SFRNTCk7dGhpcy5zZXRDbGFzc05hbWUoZy5jbGFzc05hbWUpO3RoaXMucmVuZGVyZXIuc2V0U3R5bGUoZy5zdHlsZSk7dGhpcy5yZW5kZXJlci5jaGFydEluZGV4PXRoaXMuaW5kZXh9LGdldE1hcmdpbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zcGFjaW5nLGU9dGhpcy5tYXJnaW4sZz10aGlzLnRpdGxlT2Zmc2V0O3RoaXMucmVzZXRNYXJnaW5zKCk7ZyYmIWMoZVswXSkmJih0aGlzLnBsb3RUb3A9TWF0aC5tYXgodGhpcy5wbG90VG9wLGcrdGhpcy5vcHRpb25zLnRpdGxlLm1hcmdpbitiWzBdKSk7dGhpcy5sZWdlbmQuZGlzcGxheSYmdGhpcy5sZWdlbmQuYWRqdXN0TWFyZ2lucyhlLGIpO3RoaXMuZXh0cmFNYXJnaW4mJih0aGlzW3RoaXMuZXh0cmFNYXJnaW4udHlwZV09KHRoaXNbdGhpcy5leHRyYU1hcmdpbi50eXBlXXx8XG4wKSt0aGlzLmV4dHJhTWFyZ2luLnZhbHVlKTt0aGlzLmV4dHJhVG9wTWFyZ2luJiYodGhpcy5wbG90VG9wKz10aGlzLmV4dHJhVG9wTWFyZ2luKTthfHx0aGlzLmdldEF4aXNNYXJnaW5zKCl9LGdldEF4aXNNYXJnaW5zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuYXhpc09mZnNldD1bMCwwLDAsMF0sZT1hLm1hcmdpbjthLmhhc0NhcnRlc2lhblNlcmllcyYmbihhLmF4ZXMsZnVuY3Rpb24oYSl7YS52aXNpYmxlJiZhLmdldE9mZnNldCgpfSk7bihDLGZ1bmN0aW9uKGcsZCl7YyhlW2RdKXx8KGFbZ10rPWJbZF0pfSk7YS5zZXRDaGFydFNpemUoKX0scmVmbG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZT1iLm9wdGlvbnMuY2hhcnQsZz1iLnJlbmRlclRvLGQ9YyhlLndpZHRoKSxtPWUud2lkdGh8fGgoZyxcIndpZHRoXCIpLGU9ZS5oZWlnaHR8fGgoZyxcImhlaWdodFwiKSxnPWE/YS50YXJnZXQ6TjtpZighZCYmIWIuaXNQcmludGluZyYmbSYmZSYmKGc9PT1OfHxnPT09cikpe2lmKG0hPT1cbmIuY29udGFpbmVyV2lkdGh8fGUhPT1iLmNvbnRhaW5lckhlaWdodCljbGVhclRpbWVvdXQoYi5yZWZsb3dUaW1lb3V0KSxiLnJlZmxvd1RpbWVvdXQ9UShmdW5jdGlvbigpe2IuY29udGFpbmVyJiZiLnNldFNpemUodm9pZCAwLHZvaWQgMCwhMSl9LGE/MTAwOjApO2IuY29udGFpbmVyV2lkdGg9bTtiLmNvbnRhaW5lckhlaWdodD1lfX0saW5pdFJlZmxvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtiPUIoTixcInJlc2l6ZVwiLGZ1bmN0aW9uKGIpe2EucmVmbG93KGIpfSk7QihhLFwiZGVzdHJveVwiLGIpfSxzZXRTaXplOmZ1bmN0aW9uKGIsYyxlKXt2YXIgZz10aGlzLG09Zy5yZW5kZXJlcjtnLmlzUmVzaXppbmcrPTE7YS5zZXRBbmltYXRpb24oZSxnKTtnLm9sZENoYXJ0SGVpZ2h0PWcuY2hhcnRIZWlnaHQ7Zy5vbGRDaGFydFdpZHRoPWcuY2hhcnRXaWR0aDt2b2lkIDAhPT1iJiYoZy5vcHRpb25zLmNoYXJ0LndpZHRoPWIpO3ZvaWQgMCE9PWMmJihnLm9wdGlvbnMuY2hhcnQuaGVpZ2h0PVxuYyk7Zy5nZXRDaGFydFNpemUoKTtiPW0uZ2xvYmFsQW5pbWF0aW9uOyhiP0E6ZCkoZy5jb250YWluZXIse3dpZHRoOmcuY2hhcnRXaWR0aCtcInB4XCIsaGVpZ2h0OmcuY2hhcnRIZWlnaHQrXCJweFwifSxiKTtnLnNldENoYXJ0U2l6ZSghMCk7bS5zZXRTaXplKGcuY2hhcnRXaWR0aCxnLmNoYXJ0SGVpZ2h0LGUpO24oZy5heGVzLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eT0hMDthLnNldFNjYWxlKCl9KTtnLmlzRGlydHlMZWdlbmQ9ITA7Zy5pc0RpcnR5Qm94PSEwO2cubGF5T3V0VGl0bGVzKCk7Zy5nZXRNYXJnaW5zKCk7Zy5yZWRyYXcoZSk7Zy5vbGRDaGFydEhlaWdodD1udWxsO3AoZyxcInJlc2l6ZVwiKTtRKGZ1bmN0aW9uKCl7ZyYmcChnLFwiZW5kUmVzaXplXCIsbnVsbCxmdW5jdGlvbigpey0tZy5pc1Jlc2l6aW5nfSl9LEgoYikuZHVyYXRpb24pfSxzZXRDaGFydFNpemU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnZlcnRlZCxjPXRoaXMucmVuZGVyZXIsZT10aGlzLmNoYXJ0V2lkdGgsZz1cbnRoaXMuY2hhcnRIZWlnaHQsZD10aGlzLm9wdGlvbnMuY2hhcnQsbT10aGlzLnNwYWNpbmcsaD10aGlzLmNsaXBPZmZzZXQsZixwLGsseTt0aGlzLnBsb3RMZWZ0PWY9TWF0aC5yb3VuZCh0aGlzLnBsb3RMZWZ0KTt0aGlzLnBsb3RUb3A9cD1NYXRoLnJvdW5kKHRoaXMucGxvdFRvcCk7dGhpcy5wbG90V2lkdGg9az1NYXRoLm1heCgwLE1hdGgucm91bmQoZS1mLXRoaXMubWFyZ2luUmlnaHQpKTt0aGlzLnBsb3RIZWlnaHQ9eT1NYXRoLm1heCgwLE1hdGgucm91bmQoZy1wLXRoaXMubWFyZ2luQm90dG9tKSk7dGhpcy5wbG90U2l6ZVg9Yj95Oms7dGhpcy5wbG90U2l6ZVk9Yj9rOnk7dGhpcy5wbG90Qm9yZGVyV2lkdGg9ZC5wbG90Qm9yZGVyV2lkdGh8fDA7dGhpcy5zcGFjaW5nQm94PWMuc3BhY2luZ0JveD17eDptWzNdLHk6bVswXSx3aWR0aDplLW1bM10tbVsxXSxoZWlnaHQ6Zy1tWzBdLW1bMl19O3RoaXMucGxvdEJveD1jLnBsb3RCb3g9e3g6Zix5OnAsd2lkdGg6ayxoZWlnaHQ6eX07XG5lPTIqTWF0aC5mbG9vcih0aGlzLnBsb3RCb3JkZXJXaWR0aC8yKTtiPU1hdGguY2VpbChNYXRoLm1heChlLGhbM10pLzIpO2M9TWF0aC5jZWlsKE1hdGgubWF4KGUsaFswXSkvMik7dGhpcy5jbGlwQm94PXt4OmIseTpjLHdpZHRoOk1hdGguZmxvb3IodGhpcy5wbG90U2l6ZVgtTWF0aC5tYXgoZSxoWzFdKS8yLWIpLGhlaWdodDpNYXRoLm1heCgwLE1hdGguZmxvb3IodGhpcy5wbG90U2l6ZVktTWF0aC5tYXgoZSxoWzJdKS8yLWMpKX07YXx8bih0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7YS5zZXRBeGlzU2l6ZSgpO2Euc2V0QXhpc1RyYW5zbGF0aW9uKCl9KX0scmVzZXRNYXJnaW5zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucy5jaGFydDtuKFtcIm1hcmdpblwiLFwic3BhY2luZ1wiXSxmdW5jdGlvbihjKXt2YXIgZT1iW2NdLGc9dyhlKT9lOltlLGUsZSxlXTtuKFtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxmdW5jdGlvbihlLGQpe2FbY11bZF09eShiW2MrZV0sZ1tkXSl9KX0pO1xubihDLGZ1bmN0aW9uKGIsYyl7YVtiXT15KGEubWFyZ2luW2NdLGEuc3BhY2luZ1tjXSl9KTthLmF4aXNPZmZzZXQ9WzAsMCwwLDBdO2EuY2xpcE9mZnNldD1bMCwwLDAsMF19LGRyYXdDaGFydEJveDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jaGFydCxiPXRoaXMucmVuZGVyZXIsYz10aGlzLmNoYXJ0V2lkdGgsZT10aGlzLmNoYXJ0SGVpZ2h0LGc9dGhpcy5jaGFydEJhY2tncm91bmQsZD10aGlzLnBsb3RCYWNrZ3JvdW5kLG09dGhpcy5wbG90Qm9yZGVyLGgsZj10aGlzLnBsb3RCR0ltYWdlLG49YS5iYWNrZ3JvdW5kQ29sb3IscD1hLnBsb3RCYWNrZ3JvdW5kQ29sb3Isaz1hLnBsb3RCYWNrZ3JvdW5kSW1hZ2UseSxsPXRoaXMucGxvdExlZnQsdD10aGlzLnBsb3RUb3AscT10aGlzLnBsb3RXaWR0aCx1PXRoaXMucGxvdEhlaWdodCx4PXRoaXMucGxvdEJveCxyPXRoaXMuY2xpcFJlY3Qsdz10aGlzLmNsaXBCb3gsST1cImFuaW1hdGVcIjtnfHwodGhpcy5jaGFydEJhY2tncm91bmQ9XG5nPWIucmVjdCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1iYWNrZ3JvdW5kXCIpLmFkZCgpLEk9XCJhdHRyXCIpO2g9YS5ib3JkZXJXaWR0aHx8MDt5PWgrKGEuc2hhZG93Pzg6MCk7bj17ZmlsbDpufHxcIm5vbmVcIn07aWYoaHx8Z1tcInN0cm9rZS13aWR0aFwiXSluLnN0cm9rZT1hLmJvcmRlckNvbG9yLG5bXCJzdHJva2Utd2lkdGhcIl09aDtnLmF0dHIobikuc2hhZG93KGEuc2hhZG93KTtnW0ldKHt4OnkvMix5OnkvMix3aWR0aDpjLXktaCUyLGhlaWdodDplLXktaCUyLHI6YS5ib3JkZXJSYWRpdXN9KTtJPVwiYW5pbWF0ZVwiO2R8fChJPVwiYXR0clwiLHRoaXMucGxvdEJhY2tncm91bmQ9ZD1iLnJlY3QoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtcGxvdC1iYWNrZ3JvdW5kXCIpLmFkZCgpKTtkW0ldKHgpO2QuYXR0cih7ZmlsbDpwfHxcIm5vbmVcIn0pLnNoYWRvdyhhLnBsb3RTaGFkb3cpO2smJihmP2YuYW5pbWF0ZSh4KTp0aGlzLnBsb3RCR0ltYWdlPWIuaW1hZ2UoayxsLHQscSx1KS5hZGQoKSk7cj9yLmFuaW1hdGUoe3dpZHRoOncud2lkdGgsXG5oZWlnaHQ6dy5oZWlnaHR9KTp0aGlzLmNsaXBSZWN0PWIuY2xpcFJlY3Qodyk7ST1cImFuaW1hdGVcIjttfHwoST1cImF0dHJcIix0aGlzLnBsb3RCb3JkZXI9bT1iLnJlY3QoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtcGxvdC1ib3JkZXJcIikuYXR0cih7ekluZGV4OjF9KS5hZGQoKSk7bS5hdHRyKHtzdHJva2U6YS5wbG90Qm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjphLnBsb3RCb3JkZXJXaWR0aHx8MCxmaWxsOlwibm9uZVwifSk7bVtJXShtLmNyaXNwKHt4OmwseTp0LHdpZHRoOnEsaGVpZ2h0OnV9LC1tLnN0cm9rZVdpZHRoKCkpKTt0aGlzLmlzRGlydHlCb3g9ITF9LHByb3BGcm9tU2VyaWVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucy5jaGFydCxjLGU9YS5vcHRpb25zLnNlcmllcyxnLGQ7bihbXCJpbnZlcnRlZFwiLFwiYW5ndWxhclwiLFwicG9sYXJcIl0sZnVuY3Rpb24obSl7Yz1KW2IudHlwZXx8Yi5kZWZhdWx0U2VyaWVzVHlwZV07ZD1iW21dfHxjJiZjLnByb3RvdHlwZVttXTtcbmZvcihnPWUmJmUubGVuZ3RoOyFkJiZnLS07KShjPUpbZVtnXS50eXBlXSkmJmMucHJvdG90eXBlW21dJiYoZD0hMCk7YVttXT1kfSl9LGxpbmtTZXJpZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5zZXJpZXM7bihiLGZ1bmN0aW9uKGEpe2EubGlua2VkU2VyaWVzLmxlbmd0aD0wfSk7bihiLGZ1bmN0aW9uKGIpe3ZhciBjPWIub3B0aW9ucy5saW5rZWRUbztlKGMpJiYoYz1cIjpwcmV2aW91c1wiPT09Yz9hLnNlcmllc1tiLmluZGV4LTFdOmEuZ2V0KGMpKSYmYy5saW5rZWRQYXJlbnQhPT1iJiYoYy5saW5rZWRTZXJpZXMucHVzaChiKSxiLmxpbmtlZFBhcmVudD1jLGIudmlzaWJsZT15KGIub3B0aW9ucy52aXNpYmxlLGMub3B0aW9ucy52aXNpYmxlLGIudmlzaWJsZSkpfSl9LHJlbmRlclNlcmllczpmdW5jdGlvbigpe24odGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7YS50cmFuc2xhdGUoKTthLnJlbmRlcigpfSl9LHJlbmRlckxhYmVsczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnMubGFiZWxzO1xuYi5pdGVtcyYmbihiLml0ZW1zLGZ1bmN0aW9uKGMpe3ZhciBlPXooYi5zdHlsZSxjLnN0eWxlKSxnPUkoZS5sZWZ0KSthLnBsb3RMZWZ0LGQ9SShlLnRvcCkrYS5wbG90VG9wKzEyO2RlbGV0ZSBlLmxlZnQ7ZGVsZXRlIGUudG9wO2EucmVuZGVyZXIudGV4dChjLmh0bWwsZyxkKS5hdHRyKHt6SW5kZXg6Mn0pLmNzcyhlKS5hZGQoKX0pfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmF4ZXMsYj10aGlzLnJlbmRlcmVyLGM9dGhpcy5vcHRpb25zLGUsZyxkO3RoaXMuc2V0VGl0bGUoKTt0aGlzLmxlZ2VuZD1uZXcgeCh0aGlzLGMubGVnZW5kKTt0aGlzLmdldFN0YWNrcyYmdGhpcy5nZXRTdGFja3MoKTt0aGlzLmdldE1hcmdpbnMoITApO3RoaXMuc2V0Q2hhcnRTaXplKCk7Yz10aGlzLnBsb3RXaWR0aDtlPXRoaXMucGxvdEhlaWdodC09MjE7bihhLGZ1bmN0aW9uKGEpe2Euc2V0U2NhbGUoKX0pO3RoaXMuZ2V0QXhpc01hcmdpbnMoKTtnPTEuMTxjL3RoaXMucGxvdFdpZHRoO2Q9XG4xLjA1PGUvdGhpcy5wbG90SGVpZ2h0O2lmKGd8fGQpbihhLGZ1bmN0aW9uKGEpeyhhLmhvcml6JiZnfHwhYS5ob3JpeiYmZCkmJmEuc2V0VGlja0ludGVydmFsKCEwKX0pLHRoaXMuZ2V0TWFyZ2lucygpO3RoaXMuZHJhd0NoYXJ0Qm94KCk7dGhpcy5oYXNDYXJ0ZXNpYW5TZXJpZXMmJm4oYSxmdW5jdGlvbihhKXthLnZpc2libGUmJmEucmVuZGVyKCl9KTt0aGlzLnNlcmllc0dyb3VwfHwodGhpcy5zZXJpZXNHcm91cD1iLmcoXCJzZXJpZXMtZ3JvdXBcIikuYXR0cih7ekluZGV4OjN9KS5hZGQoKSk7dGhpcy5yZW5kZXJTZXJpZXMoKTt0aGlzLnJlbmRlckxhYmVscygpO3RoaXMuYWRkQ3JlZGl0cygpO3RoaXMuc2V0UmVzcG9uc2l2ZSYmdGhpcy5zZXRSZXNwb25zaXZlKCk7dGhpcy5oYXNSZW5kZXJlZD0hMH0sYWRkQ3JlZGl0czpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9RSghMCx0aGlzLm9wdGlvbnMuY3JlZGl0cyxhKTthLmVuYWJsZWQmJiF0aGlzLmNyZWRpdHMmJih0aGlzLmNyZWRpdHM9XG50aGlzLnJlbmRlcmVyLnRleHQoYS50ZXh0Kyh0aGlzLm1hcENyZWRpdHN8fFwiXCIpLDAsMCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWNyZWRpdHNcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7YS5ocmVmJiYoTi5sb2NhdGlvbi5ocmVmPWEuaHJlZil9KS5hdHRyKHthbGlnbjphLnBvc2l0aW9uLmFsaWduLHpJbmRleDo4fSkuY3NzKGEuc3R5bGUpLmFkZCgpLmFsaWduKGEucG9zaXRpb24pLHRoaXMuY3JlZGl0cy51cGRhdGU9ZnVuY3Rpb24oYSl7Yi5jcmVkaXRzPWIuY3JlZGl0cy5kZXN0cm95KCk7Yi5hZGRDcmVkaXRzKGEpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5heGVzLGU9Yi5zZXJpZXMsZz1iLmNvbnRhaW5lcixkLG09ZyYmZy5wYXJlbnROb2RlO3AoYixcImRlc3Ryb3lcIik7dVtiLmluZGV4XT12b2lkIDA7YS5jaGFydENvdW50LS07Yi5yZW5kZXJUby5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWhpZ2hjaGFydHMtY2hhcnRcIik7SyhiKTtmb3IoZD1jLmxlbmd0aDtkLS07KWNbZF09XG5jW2RdLmRlc3Ryb3koKTt0aGlzLnNjcm9sbGVyJiZ0aGlzLnNjcm9sbGVyLmRlc3Ryb3kmJnRoaXMuc2Nyb2xsZXIuZGVzdHJveSgpO2ZvcihkPWUubGVuZ3RoO2QtLTspZVtkXT1lW2RdLmRlc3Ryb3koKTtuKFwidGl0bGUgc3VidGl0bGUgY2hhcnRCYWNrZ3JvdW5kIHBsb3RCYWNrZ3JvdW5kIHBsb3RCR0ltYWdlIHBsb3RCb3JkZXIgc2VyaWVzR3JvdXAgY2xpcFJlY3QgY3JlZGl0cyBwb2ludGVyIHJhbmdlU2VsZWN0b3IgbGVnZW5kIHJlc2V0Wm9vbUJ1dHRvbiB0b29sdGlwIHJlbmRlcmVyXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe3ZhciBjPWJbYV07YyYmYy5kZXN0cm95JiYoYlthXT1jLmRlc3Ryb3koKSl9KTtnJiYoZy5pbm5lckhUTUw9XCJcIixLKGcpLG0mJmsoZykpO2ZvcihkIGluIGIpZGVsZXRlIGJbZF19LGlzUmVhZHlUb1JlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEZ8fE4hPU4udG9wfHxcImNvbXBsZXRlXCI9PT1yLnJlYWR5U3RhdGU/ITA6KHIuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixcbmZ1bmN0aW9uKCl7ci5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEuZmlyc3RSZW5kZXIpO1wiY29tcGxldGVcIj09PXIucmVhZHlTdGF0ZSYmYS5maXJzdFJlbmRlcigpfSksITEpfSxmaXJzdFJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnM7aWYoYS5pc1JlYWR5VG9SZW5kZXIoKSl7YS5nZXRDb250YWluZXIoKTtwKGEsXCJpbml0XCIpO2EucmVzZXRNYXJnaW5zKCk7YS5zZXRDaGFydFNpemUoKTthLnByb3BGcm9tU2VyaWVzKCk7YS5nZXRBeGVzKCk7bihiLnNlcmllc3x8W10sZnVuY3Rpb24oYil7YS5pbml0U2VyaWVzKGIpfSk7YS5saW5rU2VyaWVzKCk7cChhLFwiYmVmb3JlUmVuZGVyXCIpO20mJihhLnBvaW50ZXI9bmV3IG0oYSxiKSk7YS5yZW5kZXIoKTtpZighYS5yZW5kZXJlci5pbWdDb3VudCYmYS5vbmxvYWQpYS5vbmxvYWQoKTthLmNsb25lUmVuZGVyVG8oITApfX0sb25sb2FkOmZ1bmN0aW9uKCl7bihbdGhpcy5jYWxsYmFja10uY29uY2F0KHRoaXMuY2FsbGJhY2tzKSxcbmZ1bmN0aW9uKGEpe2EmJnZvaWQgMCE9PXRoaXMuaW5kZXgmJmEuYXBwbHkodGhpcyxbdGhpc10pfSx0aGlzKTtwKHRoaXMsXCJsb2FkXCIpO3AodGhpcyxcInJlbmRlclwiKTtjKHRoaXMuaW5kZXgpJiYhMSE9PXRoaXMub3B0aW9ucy5jaGFydC5yZWZsb3cmJnRoaXMuaW5pdFJlZmxvdygpO3RoaXMub25sb2FkPW51bGx9fX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQixBPWEuZWFjaCxIPWEuZXh0ZW5kLEc9YS5lcmFzZSxyPWEuZmlyZUV2ZW50LGY9YS5mb3JtYXQsbD1hLmlzQXJyYXkscT1hLmlzTnVtYmVyLGs9YS5waWNrLHU9YS5yZW1vdmVFdmVudDtCPWEuUG9pbnQ9ZnVuY3Rpb24oKXt9O0IucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEsYyxmKXt0aGlzLnNlcmllcz1hO3RoaXMuY29sb3I9YS5jb2xvcjt0aGlzLmFwcGx5T3B0aW9ucyhjLGYpO2Eub3B0aW9ucy5jb2xvckJ5UG9pbnQ/KGM9YS5vcHRpb25zLmNvbG9yc3x8YS5jaGFydC5vcHRpb25zLmNvbG9ycyx0aGlzLmNvbG9yPXRoaXMuY29sb3J8fFxuY1thLmNvbG9yQ291bnRlcl0sYz1jLmxlbmd0aCxmPWEuY29sb3JDb3VudGVyLGEuY29sb3JDb3VudGVyKyssYS5jb2xvckNvdW50ZXI9PT1jJiYoYS5jb2xvckNvdW50ZXI9MCkpOmY9YS5jb2xvckluZGV4O3RoaXMuY29sb3JJbmRleD1rKHRoaXMuY29sb3JJbmRleCxmKTthLmNoYXJ0LnBvaW50Q291bnQrKztyZXR1cm4gdGhpc30sYXBwbHlPcHRpb25zOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5zZXJpZXMsZj1kLm9wdGlvbnMucG9pbnRWYWxLZXl8fGQucG9pbnRWYWxLZXk7YT1CLnByb3RvdHlwZS5vcHRpb25zVG9PYmplY3QuY2FsbCh0aGlzLGEpO0godGhpcyxhKTt0aGlzLm9wdGlvbnM9dGhpcy5vcHRpb25zP0godGhpcy5vcHRpb25zLGEpOmE7YS5ncm91cCYmZGVsZXRlIHRoaXMuZ3JvdXA7ZiYmKHRoaXMueT10aGlzW2ZdKTt0aGlzLmlzTnVsbD1rKHRoaXMuaXNWYWxpZCYmIXRoaXMuaXNWYWxpZCgpLG51bGw9PT10aGlzLnh8fCFxKHRoaXMueSwhMCkpO3RoaXMuc2VsZWN0ZWQmJlxuKHRoaXMuc3RhdGU9XCJzZWxlY3RcIik7XCJuYW1lXCJpbiB0aGlzJiZ2b2lkIDA9PT1jJiZkLnhBeGlzJiZkLnhBeGlzLmhhc05hbWVzJiYodGhpcy54PWQueEF4aXMubmFtZVRvWCh0aGlzKSk7dm9pZCAwPT09dGhpcy54JiZkJiYodGhpcy54PXZvaWQgMD09PWM/ZC5hdXRvSW5jcmVtZW50KHRoaXMpOmMpO3JldHVybiB0aGlzfSxvcHRpb25zVG9PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGM9e30sZD10aGlzLnNlcmllcyxmPWQub3B0aW9ucy5rZXlzLGI9Znx8ZC5wb2ludEFycmF5TWFwfHxbXCJ5XCJdLHA9Yi5sZW5ndGgsaD0wLGs9MDtpZihxKGEpfHxudWxsPT09YSljW2JbMF1dPWE7ZWxzZSBpZihsKGEpKWZvcighZiYmYS5sZW5ndGg+cCYmKGQ9dHlwZW9mIGFbMF0sXCJzdHJpbmdcIj09PWQ/Yy5uYW1lPWFbMF06XCJudW1iZXJcIj09PWQmJihjLng9YVswXSksaCsrKTtrPHA7KWYmJnZvaWQgMD09PWFbaF18fChjW2Jba11dPWFbaF0pLGgrKyxrKys7ZWxzZVwib2JqZWN0XCI9PT10eXBlb2YgYSYmXG4oYz1hLGEuZGF0YUxhYmVscyYmKGQuX2hhc1BvaW50TGFiZWxzPSEwKSxhLm1hcmtlciYmKGQuX2hhc1BvaW50TWFya2Vycz0hMCkpO3JldHVybiBjfSxnZXRDbGFzc05hbWU6ZnVuY3Rpb24oKXtyZXR1cm5cImhpZ2hjaGFydHMtcG9pbnRcIisodGhpcy5zZWxlY3RlZD9cIiBoaWdoY2hhcnRzLXBvaW50LXNlbGVjdFwiOlwiXCIpKyh0aGlzLm5lZ2F0aXZlP1wiIGhpZ2hjaGFydHMtbmVnYXRpdmVcIjpcIlwiKSsodGhpcy5pc051bGw/XCIgaGlnaGNoYXJ0cy1udWxsLXBvaW50XCI6XCJcIikrKHZvaWQgMCE9PXRoaXMuY29sb3JJbmRleD9cIiBoaWdoY2hhcnRzLWNvbG9yLVwiK3RoaXMuY29sb3JJbmRleDpcIlwiKSsodGhpcy5vcHRpb25zLmNsYXNzTmFtZT9cIiBcIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lOlwiXCIpKyh0aGlzLnpvbmUmJnRoaXMuem9uZS5jbGFzc05hbWU/XCIgXCIrdGhpcy56b25lLmNsYXNzTmFtZS5yZXBsYWNlKFwiaGlnaGNoYXJ0cy1uZWdhdGl2ZVwiLFwiXCIpOlwiXCIpfSxnZXRab25lOmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLnNlcmllcyxjPWEuem9uZXMsYT1hLnpvbmVBeGlzfHxcInlcIixmPTAsaztmb3Ioaz1jW2ZdO3RoaXNbYV0+PWsudmFsdWU7KWs9Y1srK2ZdO2smJmsuY29sb3ImJiF0aGlzLm9wdGlvbnMuY29sb3ImJih0aGlzLmNvbG9yPWsuY29sb3IpO3JldHVybiBrfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXJpZXMuY2hhcnQsYz1hLmhvdmVyUG9pbnRzLGY7YS5wb2ludENvdW50LS07YyYmKHRoaXMuc2V0U3RhdGUoKSxHKGMsdGhpcyksYy5sZW5ndGh8fChhLmhvdmVyUG9pbnRzPW51bGwpKTtpZih0aGlzPT09YS5ob3ZlclBvaW50KXRoaXMub25Nb3VzZU91dCgpO2lmKHRoaXMuZ3JhcGhpY3x8dGhpcy5kYXRhTGFiZWwpdSh0aGlzKSx0aGlzLmRlc3Ryb3lFbGVtZW50cygpO3RoaXMubGVnZW5kSXRlbSYmYS5sZWdlbmQuZGVzdHJveUl0ZW0odGhpcyk7Zm9yKGYgaW4gdGhpcyl0aGlzW2ZdPW51bGx9LGRlc3Ryb3lFbGVtZW50czpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXCJncmFwaGljXCIsXG5cImRhdGFMYWJlbFwiLFwiZGF0YUxhYmVsVXBwZXJcIixcImNvbm5lY3RvclwiLFwic2hhZG93R3JvdXBcIl0sYyxmPTY7Zi0tOyljPWFbZl0sdGhpc1tjXSYmKHRoaXNbY109dGhpc1tjXS5kZXN0cm95KCkpfSxnZXRMYWJlbENvbmZpZzpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMuY2F0ZWdvcnkseTp0aGlzLnksY29sb3I6dGhpcy5jb2xvcixjb2xvckluZGV4OnRoaXMuY29sb3JJbmRleCxrZXk6dGhpcy5uYW1lfHx0aGlzLmNhdGVnb3J5LHNlcmllczp0aGlzLnNlcmllcyxwb2ludDp0aGlzLHBlcmNlbnRhZ2U6dGhpcy5wZXJjZW50YWdlLHRvdGFsOnRoaXMudG90YWx8fHRoaXMuc3RhY2tUb3RhbH19LHRvb2x0aXBGb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5zZXJpZXMsZD1jLnRvb2x0aXBPcHRpb25zLGw9ayhkLnZhbHVlRGVjaW1hbHMsXCJcIiksYj1kLnZhbHVlUHJlZml4fHxcIlwiLHA9ZC52YWx1ZVN1ZmZpeHx8XCJcIjtBKGMucG9pbnRBcnJheU1hcHx8W1wieVwiXSxmdW5jdGlvbihjKXtjPVxuXCJ7cG9pbnQuXCIrYztpZihifHxwKWE9YS5yZXBsYWNlKGMrXCJ9XCIsYitjK1wifVwiK3ApO2E9YS5yZXBsYWNlKGMrXCJ9XCIsYytcIjosLlwiK2wrXCJmfVwiKX0pO3JldHVybiBmKGEse3BvaW50OnRoaXMsc2VyaWVzOnRoaXMuc2VyaWVzfSl9LGZpcmVQb2ludEV2ZW50OmZ1bmN0aW9uKGEsYyxmKXt2YXIgZD10aGlzLGI9dGhpcy5zZXJpZXMub3B0aW9uczsoYi5wb2ludC5ldmVudHNbYV18fGQub3B0aW9ucyYmZC5vcHRpb25zLmV2ZW50cyYmZC5vcHRpb25zLmV2ZW50c1thXSkmJnRoaXMuaW1wb3J0RXZlbnRzKCk7XCJjbGlja1wiPT09YSYmYi5hbGxvd1BvaW50U2VsZWN0JiYoZj1mdW5jdGlvbihhKXtkLnNlbGVjdCYmZC5zZWxlY3QobnVsbCxhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5zaGlmdEtleSl9KTtyKHRoaXMsYSxjLGYpfSx2aXNpYmxlOiEwfX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LEE9YS5hbmltT2JqZWN0LEg9YS5hcnJheU1heCxHPWEuYXJyYXlNaW4scj1hLmNvcnJlY3RGbG9hdCxcbmY9YS5EYXRlLGw9YS5kZWZhdWx0T3B0aW9ucyxxPWEuZGVmYXVsdFBsb3RPcHRpb25zLGs9YS5kZWZpbmVkLHU9YS5lYWNoLGQ9YS5lcmFzZSxjPWEuZXh0ZW5kLG49YS5maXJlRXZlbnQsej1hLmdyZXAsYj1hLmlzQXJyYXkscD1hLmlzTnVtYmVyLGg9YS5pc1N0cmluZyx0PWEubWVyZ2UsRD1hLnBpY2ssdz1hLnJlbW92ZUV2ZW50LGU9YS5zcGxhdCx4PWEuU1ZHRWxlbWVudCxDPWEuc3luY1RpbWVvdXQsRT1hLndpbjthLlNlcmllcz1hLnNlcmllc1R5cGUoXCJsaW5lXCIsbnVsbCx7bGluZVdpZHRoOjIsYWxsb3dQb2ludFNlbGVjdDohMSxzaG93Q2hlY2tib3g6ITEsYW5pbWF0aW9uOntkdXJhdGlvbjoxRTN9LGV2ZW50czp7fSxtYXJrZXI6e2xpbmVXaWR0aDowLGxpbmVDb2xvcjpcIiNmZmZmZmZcIixyYWRpdXM6NCxzdGF0ZXM6e2hvdmVyOnthbmltYXRpb246e2R1cmF0aW9uOjUwfSxlbmFibGVkOiEwLHJhZGl1c1BsdXM6MixsaW5lV2lkdGhQbHVzOjF9LHNlbGVjdDp7ZmlsbENvbG9yOlwiI2NjY2NjY1wiLFxubGluZUNvbG9yOlwiIzAwMDAwMFwiLGxpbmVXaWR0aDoyfX19LHBvaW50OntldmVudHM6e319LGRhdGFMYWJlbHM6e2FsaWduOlwiY2VudGVyXCIsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnk/XCJcIjphLm51bWJlckZvcm1hdCh0aGlzLnksLTEpfSxzdHlsZTp7Zm9udFNpemU6XCIxMXB4XCIsZm9udFdlaWdodDpcImJvbGRcIixjb2xvcjpcImNvbnRyYXN0XCIsdGV4dE91dGxpbmU6XCIxcHggY29udHJhc3RcIn0sdmVydGljYWxBbGlnbjpcImJvdHRvbVwiLHg6MCx5OjAscGFkZGluZzo1fSxjcm9wVGhyZXNob2xkOjMwMCxwb2ludFJhbmdlOjAsc29mdFRocmVzaG9sZDohMCxzdGF0ZXM6e2hvdmVyOnthbmltYXRpb246e2R1cmF0aW9uOjUwfSxsaW5lV2lkdGhQbHVzOjEsbWFya2VyOnt9LGhhbG86e3NpemU6MTAsb3BhY2l0eTouMjV9fSxzZWxlY3Q6e21hcmtlcjp7fX19LHN0aWNreVRyYWNraW5nOiEwLHR1cmJvVGhyZXNob2xkOjFFMyxmaW5kTmVhcmVzdFBvaW50Qnk6XCJ4XCJ9LFxue2lzQ2FydGVzaWFuOiEwLHBvaW50Q2xhc3M6YS5Qb2ludCxzb3J0ZWQ6ITAscmVxdWlyZVNvcnRpbmc6ITAsZGlyZWN0VG91Y2g6ITEsYXhpc1R5cGVzOltcInhBeGlzXCIsXCJ5QXhpc1wiXSxjb2xvckNvdW50ZXI6MCxwYXJhbGxlbEFycmF5czpbXCJ4XCIsXCJ5XCJdLGNvbGw6XCJzZXJpZXNcIixpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcyxkLG0sZz1hLnNlcmllcyxoO2UuY2hhcnQ9YTtlLm9wdGlvbnM9Yj1lLnNldE9wdGlvbnMoYik7ZS5saW5rZWRTZXJpZXM9W107ZS5iaW5kQXhlcygpO2MoZSx7bmFtZTpiLm5hbWUsc3RhdGU6XCJcIix2aXNpYmxlOiExIT09Yi52aXNpYmxlLHNlbGVjdGVkOiEwPT09Yi5zZWxlY3RlZH0pO209Yi5ldmVudHM7Zm9yKGQgaW4gbSlCKGUsZCxtW2RdKTtpZihtJiZtLmNsaWNrfHxiLnBvaW50JiZiLnBvaW50LmV2ZW50cyYmYi5wb2ludC5ldmVudHMuY2xpY2t8fGIuYWxsb3dQb2ludFNlbGVjdClhLnJ1blRyYWNrZXJDbGljaz0hMDtlLmdldENvbG9yKCk7XG5lLmdldFN5bWJvbCgpO3UoZS5wYXJhbGxlbEFycmF5cyxmdW5jdGlvbihhKXtlW2ErXCJEYXRhXCJdPVtdfSk7ZS5zZXREYXRhKGIuZGF0YSwhMSk7ZS5pc0NhcnRlc2lhbiYmKGEuaGFzQ2FydGVzaWFuU2VyaWVzPSEwKTtnLmxlbmd0aCYmKGg9Z1tnLmxlbmd0aC0xXSk7ZS5faT1EKGgmJmguX2ksLTEpKzE7YS5vcmRlclNlcmllcyh0aGlzLmluc2VydChnKSl9LGluc2VydDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMuaW5kZXgsYztpZihwKGIpKXtmb3IoYz1hLmxlbmd0aDtjLS07KWlmKGI+PUQoYVtjXS5vcHRpb25zLmluZGV4LGFbY10uX2kpKXthLnNwbGljZShjKzEsMCx0aGlzKTticmVha30tMT09PWMmJmEudW5zaGlmdCh0aGlzKTtjKz0xfWVsc2UgYS5wdXNoKHRoaXMpO3JldHVybiBEKGMsYS5sZW5ndGgtMSl9LGJpbmRBeGVzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIub3B0aW9ucyxlPWIuY2hhcnQsZDt1KGIuYXhpc1R5cGVzfHxbXSxmdW5jdGlvbihtKXt1KGVbbV0sXG5mdW5jdGlvbihhKXtkPWEub3B0aW9ucztpZihjW21dPT09ZC5pbmRleHx8dm9pZCAwIT09Y1ttXSYmY1ttXT09PWQuaWR8fHZvaWQgMD09PWNbbV0mJjA9PT1kLmluZGV4KWIuaW5zZXJ0KGEuc2VyaWVzKSxiW21dPWEsYS5pc0RpcnR5PSEwfSk7YlttXXx8Yi5vcHRpb25hbEF4aXM9PT1tfHxhLmVycm9yKDE4LCEwKX0pfSx1cGRhdGVQYXJhbGxlbEFycmF5czpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc2VyaWVzLGU9YXJndW1lbnRzLGQ9cChiKT9mdW5jdGlvbihlKXt2YXIgZz1cInlcIj09PWUmJmMudG9ZRGF0YT9jLnRvWURhdGEoYSk6YVtlXTtjW2UrXCJEYXRhXCJdW2JdPWd9OmZ1bmN0aW9uKGEpe0FycmF5LnByb3RvdHlwZVtiXS5hcHBseShjW2ErXCJEYXRhXCJdLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsMikpfTt1KGMucGFyYWxsZWxBcnJheXMsZCl9LGF1dG9JbmNyZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLnhJbmNyZW1lbnQsYyxlPWEucG9pbnRJbnRlcnZhbFVuaXQsXG5iPUQoYixhLnBvaW50U3RhcnQsMCk7dGhpcy5wb2ludEludGVydmFsPWM9RCh0aGlzLnBvaW50SW50ZXJ2YWwsYS5wb2ludEludGVydmFsLDEpO2UmJihhPW5ldyBmKGIpLFwiZGF5XCI9PT1lP2E9K2FbZi5oY1NldERhdGVdKGFbZi5oY0dldERhdGVdKCkrYyk6XCJtb250aFwiPT09ZT9hPSthW2YuaGNTZXRNb250aF0oYVtmLmhjR2V0TW9udGhdKCkrYyk6XCJ5ZWFyXCI9PT1lJiYoYT0rYVtmLmhjU2V0RnVsbFllYXJdKGFbZi5oY0dldEZ1bGxZZWFyXSgpK2MpKSxjPWEtYik7dGhpcy54SW5jcmVtZW50PWIrYztyZXR1cm4gYn0sc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9Yi5vcHRpb25zLnBsb3RPcHRpb25zLGI9Yi51c2VyT3B0aW9uc3x8e30sZT1iLnBsb3RPcHRpb25zfHx7fSxkPWNbdGhpcy50eXBlXTt0aGlzLnVzZXJPcHRpb25zPWE7Yz10KGQsYy5zZXJpZXMsYSk7dGhpcy50b29sdGlwT3B0aW9ucz10KGwudG9vbHRpcCxsLnBsb3RPcHRpb25zW3RoaXMudHlwZV0udG9vbHRpcCxcbmIudG9vbHRpcCxlLnNlcmllcyYmZS5zZXJpZXMudG9vbHRpcCxlW3RoaXMudHlwZV0mJmVbdGhpcy50eXBlXS50b29sdGlwLGEudG9vbHRpcCk7dGhpcy5zdGlja3lUcmFja2luZz1EKGEuc3RpY2t5VHJhY2tpbmcsZVt0aGlzLnR5cGVdJiZlW3RoaXMudHlwZV0uc3RpY2t5VHJhY2tpbmcsZS5zZXJpZXMmJmUuc2VyaWVzLnN0aWNreVRyYWNraW5nLHRoaXMudG9vbHRpcE9wdGlvbnMuc2hhcmVkJiYhdGhpcy5ub1NoYXJlZFRvb2x0aXA/ITA6Yy5zdGlja3lUcmFja2luZyk7bnVsbD09PWQubWFya2VyJiZkZWxldGUgYy5tYXJrZXI7dGhpcy56b25lQXhpcz1jLnpvbmVBeGlzO2E9dGhpcy56b25lcz0oYy56b25lc3x8W10pLnNsaWNlKCk7IWMubmVnYXRpdmVDb2xvciYmIWMubmVnYXRpdmVGaWxsQ29sb3J8fGMuem9uZXN8fGEucHVzaCh7dmFsdWU6Y1t0aGlzLnpvbmVBeGlzK1wiVGhyZXNob2xkXCJdfHxjLnRocmVzaG9sZHx8MCxjbGFzc05hbWU6XCJoaWdoY2hhcnRzLW5lZ2F0aXZlXCIsXG5jb2xvcjpjLm5lZ2F0aXZlQ29sb3IsZmlsbENvbG9yOmMubmVnYXRpdmVGaWxsQ29sb3J9KTthLmxlbmd0aCYmayhhW2EubGVuZ3RoLTFdLnZhbHVlKSYmYS5wdXNoKHtjb2xvcjp0aGlzLmNvbG9yLGZpbGxDb2xvcjp0aGlzLmZpbGxDb2xvcn0pO3JldHVybiBjfSxnZXRDeWNsaWM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGQ9dGhpcy5jaGFydCxnPXRoaXMudXNlck9wdGlvbnMsbT1hK1wiSW5kZXhcIixoPWErXCJDb3VudGVyXCIsZj1jP2MubGVuZ3RoOkQoZC5vcHRpb25zLmNoYXJ0W2ErXCJDb3VudFwiXSxkW2ErXCJDb3VudFwiXSk7Ynx8KGU9RChnW21dLGdbXCJfXCIrbV0pLGsoZSl8fChkLnNlcmllcy5sZW5ndGh8fChkW2hdPTApLGdbXCJfXCIrbV09ZT1kW2hdJWYsZFtoXSs9MSksYyYmKGI9Y1tlXSkpO3ZvaWQgMCE9PWUmJih0aGlzW21dPWUpO3RoaXNbYV09Yn0sZ2V0Q29sb3I6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY29sb3JCeVBvaW50P3RoaXMub3B0aW9ucy5jb2xvcj1udWxsOnRoaXMuZ2V0Q3ljbGljKFwiY29sb3JcIixcbnRoaXMub3B0aW9ucy5jb2xvcnx8cVt0aGlzLnR5cGVdLmNvbG9yLHRoaXMuY2hhcnQub3B0aW9ucy5jb2xvcnMpfSxnZXRTeW1ib2w6ZnVuY3Rpb24oKXt0aGlzLmdldEN5Y2xpYyhcInN5bWJvbFwiLHRoaXMub3B0aW9ucy5tYXJrZXIuc3ltYm9sLHRoaXMuY2hhcnQub3B0aW9ucy5zeW1ib2xzKX0sZHJhd0xlZ2VuZFN5bWJvbDphLkxlZ2VuZFN5bWJvbE1peGluLmRyYXdMaW5lTWFya2VyLHNldERhdGE6ZnVuY3Rpb24oYyxlLGQsZil7dmFyIG09dGhpcyxnPW0ucG9pbnRzLGs9ZyYmZy5sZW5ndGh8fDAsbixsPW0ub3B0aW9ucyx5PW0uY2hhcnQsdD1udWxsLHE9bS54QXhpcyx4PWwudHVyYm9UaHJlc2hvbGQscj10aGlzLnhEYXRhLHc9dGhpcy55RGF0YSxDPShuPW0ucG9pbnRBcnJheU1hcCkmJm4ubGVuZ3RoO2M9Y3x8W107bj1jLmxlbmd0aDtlPUQoZSwhMCk7aWYoITEhPT1mJiZuJiZrPT09biYmIW0uY3JvcHBlZCYmIW0uaGFzR3JvdXBlZERhdGEmJm0udmlzaWJsZSl1KGMsZnVuY3Rpb24oYSxcbmIpe2dbYl0udXBkYXRlJiZhIT09bC5kYXRhW2JdJiZnW2JdLnVwZGF0ZShhLCExLG51bGwsITEpfSk7ZWxzZXttLnhJbmNyZW1lbnQ9bnVsbDttLmNvbG9yQ291bnRlcj0wO3UodGhpcy5wYXJhbGxlbEFycmF5cyxmdW5jdGlvbihhKXttW2ErXCJEYXRhXCJdLmxlbmd0aD0wfSk7aWYoeCYmbj54KXtmb3IoZD0wO251bGw9PT10JiZkPG47KXQ9Y1tkXSxkKys7aWYocCh0KSlmb3IoZD0wO2Q8bjtkKyspcltkXT10aGlzLmF1dG9JbmNyZW1lbnQoKSx3W2RdPWNbZF07ZWxzZSBpZihiKHQpKWlmKEMpZm9yKGQ9MDtkPG47ZCsrKXQ9Y1tkXSxyW2RdPXRbMF0sd1tkXT10LnNsaWNlKDEsQysxKTtlbHNlIGZvcihkPTA7ZDxuO2QrKyl0PWNbZF0scltkXT10WzBdLHdbZF09dFsxXTtlbHNlIGEuZXJyb3IoMTIpfWVsc2UgZm9yKGQ9MDtkPG47ZCsrKXZvaWQgMCE9PWNbZF0mJih0PXtzZXJpZXM6bX0sbS5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkodCxbY1tkXV0pLG0udXBkYXRlUGFyYWxsZWxBcnJheXModCxcbmQpKTtoKHdbMF0pJiZhLmVycm9yKDE0LCEwKTttLmRhdGE9W107bS5vcHRpb25zLmRhdGE9bS51c2VyT3B0aW9ucy5kYXRhPWM7Zm9yKGQ9aztkLS07KWdbZF0mJmdbZF0uZGVzdHJveSYmZ1tkXS5kZXN0cm95KCk7cSYmKHEubWluUmFuZ2U9cS51c2VyTWluUmFuZ2UpO20uaXNEaXJ0eT15LmlzRGlydHlCb3g9ITA7bS5pc0RpcnR5RGF0YT0hIWc7ZD0hMX1cInBvaW50XCI9PT1sLmxlZ2VuZFR5cGUmJih0aGlzLnByb2Nlc3NEYXRhKCksdGhpcy5nZW5lcmF0ZVBvaW50cygpKTtlJiZ5LnJlZHJhdyhkKX0scHJvY2Vzc0RhdGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy54RGF0YSxlPXRoaXMueURhdGEsZD1jLmxlbmd0aCxtO209MDt2YXIgZyxoLGY9dGhpcy54QXhpcyxwLGs9dGhpcy5vcHRpb25zO3A9ay5jcm9wVGhyZXNob2xkO3ZhciBuPXRoaXMuZ2V0RXh0cmVtZXNGcm9tQWxsfHxrLmdldEV4dHJlbWVzRnJvbUFsbCxsPXRoaXMuaXNDYXJ0ZXNpYW4saz1mJiZmLnZhbDJsaW4sdD1mJiZcbmYuaXNMb2cscSx4O2lmKGwmJiF0aGlzLmlzRGlydHkmJiFmLmlzRGlydHkmJiF0aGlzLnlBeGlzLmlzRGlydHkmJiFiKXJldHVybiExO2YmJihiPWYuZ2V0RXh0cmVtZXMoKSxxPWIubWluLHg9Yi5tYXgpO2lmKGwmJnRoaXMuc29ydGVkJiYhbiYmKCFwfHxkPnB8fHRoaXMuZm9yY2VDcm9wKSlpZihjW2QtMV08cXx8Y1swXT54KWM9W10sZT1bXTtlbHNlIGlmKGNbMF08cXx8Y1tkLTFdPngpbT10aGlzLmNyb3BEYXRhKHRoaXMueERhdGEsdGhpcy55RGF0YSxxLHgpLGM9bS54RGF0YSxlPW0ueURhdGEsbT1tLnN0YXJ0LGc9ITA7Zm9yKHA9Yy5sZW5ndGh8fDE7LS1wOylkPXQ/ayhjW3BdKS1rKGNbcC0xXSk6Y1twXS1jW3AtMV0sMDxkJiYodm9pZCAwPT09aHx8ZDxoKT9oPWQ6MD5kJiZ0aGlzLnJlcXVpcmVTb3J0aW5nJiZhLmVycm9yKDE1KTt0aGlzLmNyb3BwZWQ9Zzt0aGlzLmNyb3BTdGFydD1tO3RoaXMucHJvY2Vzc2VkWERhdGE9Yzt0aGlzLnByb2Nlc3NlZFlEYXRhPWU7dGhpcy5jbG9zZXN0UG9pbnRSYW5nZT1cbmh9LGNyb3BEYXRhOmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBkPWEubGVuZ3RoLGc9MCxtPWQsaD1EKHRoaXMuY3JvcFNob3VsZGVyLDEpLGY7Zm9yKGY9MDtmPGQ7ZisrKWlmKGFbZl0+PWMpe2c9TWF0aC5tYXgoMCxmLWgpO2JyZWFrfWZvcihjPWY7YzxkO2MrKylpZihhW2NdPmUpe209YytoO2JyZWFrfXJldHVybnt4RGF0YTphLnNsaWNlKGcsbSkseURhdGE6Yi5zbGljZShnLG0pLHN0YXJ0OmcsZW5kOm19fSxnZW5lcmF0ZVBvaW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5kYXRhLGI9dGhpcy5kYXRhLGMsZD10aGlzLnByb2Nlc3NlZFhEYXRhLGg9dGhpcy5wcm9jZXNzZWRZRGF0YSxnPXRoaXMucG9pbnRDbGFzcyxmPWQubGVuZ3RoLHA9dGhpcy5jcm9wU3RhcnR8fDAsayxuPXRoaXMuaGFzR3JvdXBlZERhdGEsbCx0PVtdLHE7Ynx8bnx8KGI9W10sYi5sZW5ndGg9YS5sZW5ndGgsYj10aGlzLmRhdGE9Yik7Zm9yKHE9MDtxPGY7cSsrKWs9cCtxLG4/KGw9KG5ldyBnKS5pbml0KHRoaXMsXG5bZFtxXV0uY29uY2F0KGUoaFtxXSkpKSxsLmRhdGFHcm91cD10aGlzLmdyb3VwTWFwW3FdKToobD1iW2tdKXx8dm9pZCAwPT09YVtrXXx8KGJba109bD0obmV3IGcpLmluaXQodGhpcyxhW2tdLGRbcV0pKSxsJiYobC5pbmRleD1rLHRbcV09bCk7aWYoYiYmKGYhPT0oYz1iLmxlbmd0aCl8fG4pKWZvcihxPTA7cTxjO3ErKylxIT09cHx8bnx8KHErPWYpLGJbcV0mJihiW3FdLmRlc3Ryb3lFbGVtZW50cygpLGJbcV0ucGxvdFg9dm9pZCAwKTt0aGlzLmRhdGE9Yjt0aGlzLnBvaW50cz10fSxnZXRFeHRyZW1lczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnlBeGlzLGU9dGhpcy5wcm9jZXNzZWRYRGF0YSxkLG09W10sZz0wO2Q9dGhpcy54QXhpcy5nZXRFeHRyZW1lcygpO3ZhciBoPWQubWluLGY9ZC5tYXgsayxuLGwsdDthPWF8fHRoaXMuc3RhY2tlZFlEYXRhfHx0aGlzLnByb2Nlc3NlZFlEYXRhfHxbXTtkPWEubGVuZ3RoO2Zvcih0PTA7dDxkO3QrKylpZihuPWVbdF0sbD1hW3RdLGs9KHAobCxcbiEwKXx8YihsKSkmJighYy5wb3NpdGl2ZVZhbHVlc09ubHl8fGwubGVuZ3RofHwwPGwpLG49dGhpcy5nZXRFeHRyZW1lc0Zyb21BbGx8fHRoaXMub3B0aW9ucy5nZXRFeHRyZW1lc0Zyb21BbGx8fHRoaXMuY3JvcHBlZHx8KGVbdF18fG4pPj1oJiYoZVt0XXx8bik8PWYsayYmbilpZihrPWwubGVuZ3RoKWZvcig7ay0tOyludWxsIT09bFtrXSYmKG1bZysrXT1sW2tdKTtlbHNlIG1bZysrXT1sO3RoaXMuZGF0YU1pbj1HKG0pO3RoaXMuZGF0YU1heD1IKG0pfSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXt0aGlzLnByb2Nlc3NlZFhEYXRhfHx0aGlzLnByb2Nlc3NEYXRhKCk7dGhpcy5nZW5lcmF0ZVBvaW50cygpO3ZhciBhPXRoaXMub3B0aW9ucyxiPWEuc3RhY2tpbmcsYz10aGlzLnhBeGlzLGU9Yy5jYXRlZ29yaWVzLGQ9dGhpcy55QXhpcyxnPXRoaXMucG9pbnRzLGg9Zy5sZW5ndGgsZj0hIXRoaXMubW9kaWZ5VmFsdWUsbj1hLnBvaW50UGxhY2VtZW50LGw9XCJiZXR3ZWVuXCI9PT1ufHxwKG4pLFxudD1hLnRocmVzaG9sZCxxPWEuc3RhcnRGcm9tVGhyZXNob2xkP3Q6MCx4LHUsdyxDLEU9TnVtYmVyLk1BWF9WQUxVRTtcImJldHdlZW5cIj09PW4mJihuPS41KTtwKG4pJiYobio9RChhLnBvaW50UmFuZ2V8fGMucG9pbnRSYW5nZSkpO2ZvcihhPTA7YTxoO2ErKyl7dmFyIHo9Z1thXSxBPXoueCxCPXoueTt1PXoubG93O3ZhciBIPWImJmQuc3RhY2tzWyh0aGlzLm5lZ1N0YWNrcyYmQjwocT8wOnQpP1wiLVwiOlwiXCIpK3RoaXMuc3RhY2tLZXldLEc7ZC5wb3NpdGl2ZVZhbHVlc09ubHkmJm51bGwhPT1CJiYwPj1CJiYoei5pc051bGw9ITApO3oucGxvdFg9eD1yKE1hdGgubWluKE1hdGgubWF4KC0xRTUsYy50cmFuc2xhdGUoQSwwLDAsMCwxLG4sXCJmbGFnc1wiPT09dGhpcy50eXBlKSksMUU1KSk7YiYmdGhpcy52aXNpYmxlJiYhei5pc051bGwmJkgmJkhbQV0mJihDPXRoaXMuZ2V0U3RhY2tJbmRpY2F0b3IoQyxBLHRoaXMuaW5kZXgpLEc9SFtBXSxCPUcucG9pbnRzW0Mua2V5XSx1PUJbMF0sQj1cbkJbMV0sdT09PXEmJkMua2V5PT09SFtBXS5iYXNlJiYodT1EKHQsZC5taW4pKSxkLnBvc2l0aXZlVmFsdWVzT25seSYmMD49dSYmKHU9bnVsbCksei50b3RhbD16LnN0YWNrVG90YWw9Ry50b3RhbCx6LnBlcmNlbnRhZ2U9Ry50b3RhbCYmei55L0cudG90YWwqMTAwLHouc3RhY2tZPUIsRy5zZXRPZmZzZXQodGhpcy5wb2ludFhPZmZzZXR8fDAsdGhpcy5iYXJXfHwwKSk7ei55Qm90dG9tPWsodSk/ZC50cmFuc2xhdGUodSwwLDEsMCwxKTpudWxsO2YmJihCPXRoaXMubW9kaWZ5VmFsdWUoQix6KSk7ei5wbG90WT11PVwibnVtYmVyXCI9PT10eXBlb2YgQiYmSW5maW5pdHkhPT1CP01hdGgubWluKE1hdGgubWF4KC0xRTUsZC50cmFuc2xhdGUoQiwwLDEsMCwxKSksMUU1KTp2b2lkIDA7ei5pc0luc2lkZT12b2lkIDAhPT11JiYwPD11JiZ1PD1kLmxlbiYmMDw9eCYmeDw9Yy5sZW47ei5jbGllbnRYPWw/cihjLnRyYW5zbGF0ZShBLDAsMCwwLDEsbikpOng7ei5uZWdhdGl2ZT16Lnk8KHR8fDApO1xuei5jYXRlZ29yeT1lJiZ2b2lkIDAhPT1lW3oueF0/ZVt6LnhdOnoueDt6LmlzTnVsbHx8KHZvaWQgMCE9PXcmJihFPU1hdGgubWluKEUsTWF0aC5hYnMoeC13KSkpLHc9eCk7ei56b25lPXRoaXMuem9uZXMubGVuZ3RoJiZ6LmdldFpvbmUoKX10aGlzLmNsb3Nlc3RQb2ludFJhbmdlUHg9RX0sZ2V0VmFsaWRQb2ludHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNoYXJ0O3JldHVybiB6KGF8fHRoaXMucG9pbnRzfHxbXSxmdW5jdGlvbihhKXtyZXR1cm4gYiYmIWMuaXNJbnNpZGVQbG90KGEucGxvdFgsYS5wbG90WSxjLmludmVydGVkKT8hMTohYS5pc051bGx9KX0sc2V0Q2xpcDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoYXJ0LGM9dGhpcy5vcHRpb25zLGU9Yi5yZW5kZXJlcixkPWIuaW52ZXJ0ZWQsZz10aGlzLmNsaXBCb3gsaD1nfHxiLmNsaXBCb3gsbT10aGlzLnNoYXJlZENsaXBLZXl8fFtcIl9zaGFyZWRDbGlwXCIsYSYmYS5kdXJhdGlvbixhJiZhLmVhc2luZyxoLmhlaWdodCxcbmMueEF4aXMsYy55QXhpc10uam9pbigpLGY9YlttXSxwPWJbbStcIm1cIl07Znx8KGEmJihoLndpZHRoPTAsYlttK1wibVwiXT1wPWUuY2xpcFJlY3QoLTk5LGQ/LWIucGxvdExlZnQ6LWIucGxvdFRvcCw5OSxkP2IuY2hhcnRXaWR0aDpiLmNoYXJ0SGVpZ2h0KSksYlttXT1mPWUuY2xpcFJlY3QoaCksZi5jb3VudD17bGVuZ3RoOjB9KTthJiYhZi5jb3VudFt0aGlzLmluZGV4XSYmKGYuY291bnRbdGhpcy5pbmRleF09ITAsZi5jb3VudC5sZW5ndGgrPTEpOyExIT09Yy5jbGlwJiYodGhpcy5ncm91cC5jbGlwKGF8fGc/ZjpiLmNsaXBSZWN0KSx0aGlzLm1hcmtlckdyb3VwLmNsaXAocCksdGhpcy5zaGFyZWRDbGlwS2V5PW0pO2F8fChmLmNvdW50W3RoaXMuaW5kZXhdJiYoZGVsZXRlIGYuY291bnRbdGhpcy5pbmRleF0sLS1mLmNvdW50Lmxlbmd0aCksMD09PWYuY291bnQubGVuZ3RoJiZtJiZiW21dJiYoZ3x8KGJbbV09YlttXS5kZXN0cm95KCkpLGJbbStcIm1cIl0mJihiW20rXCJtXCJdPWJbbStcIm1cIl0uZGVzdHJveSgpKSkpfSxcbmFuaW1hdGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPUEodGhpcy5vcHRpb25zLmFuaW1hdGlvbiksZTthP3RoaXMuc2V0Q2xpcChjKTooZT10aGlzLnNoYXJlZENsaXBLZXksKGE9YltlXSkmJmEuYW5pbWF0ZSh7d2lkdGg6Yi5wbG90U2l6ZVh9LGMpLGJbZStcIm1cIl0mJmJbZStcIm1cIl0uYW5pbWF0ZSh7d2lkdGg6Yi5wbG90U2l6ZVgrOTl9LGMpLHRoaXMuYW5pbWF0ZT1udWxsKX0sYWZ0ZXJBbmltYXRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRDbGlwKCk7bih0aGlzLFwiYWZ0ZXJBbmltYXRlXCIpfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb2ludHMsYj10aGlzLmNoYXJ0LGMsZSxkLGcsaD10aGlzLm9wdGlvbnMubWFya2VyLGYsbixrLGwsdD10aGlzLm1hcmtlckdyb3VwLHE9RChoLmVuYWJsZWQsdGhpcy54QXhpcy5pc1JhZGlhbD8hMDpudWxsLHRoaXMuY2xvc2VzdFBvaW50UmFuZ2VQeD49MipoLnJhZGl1cyk7aWYoITEhPT1oLmVuYWJsZWR8fHRoaXMuX2hhc1BvaW50TWFya2Vycylmb3IoZT1cbjA7ZTxhLmxlbmd0aDtlKyspZD1hW2VdLGM9ZC5wbG90WSxnPWQuZ3JhcGhpYyxmPWQubWFya2VyfHx7fSxuPSEhZC5tYXJrZXIsaz1xJiZ2b2lkIDA9PT1mLmVuYWJsZWR8fGYuZW5hYmxlZCxsPWQuaXNJbnNpZGUsayYmcChjKSYmbnVsbCE9PWQueT8oYz1EKGYuc3ltYm9sLHRoaXMuc3ltYm9sKSxkLmhhc0ltYWdlPTA9PT1jLmluZGV4T2YoXCJ1cmxcIiksaz10aGlzLm1hcmtlckF0dHJpYnMoZCxkLnNlbGVjdGVkJiZcInNlbGVjdFwiKSxnP2dbbD9cInNob3dcIjpcImhpZGVcIl0oITApLmFuaW1hdGUoayk6bCYmKDA8ay53aWR0aHx8ZC5oYXNJbWFnZSkmJihkLmdyYXBoaWM9Zz1iLnJlbmRlcmVyLnN5bWJvbChjLGsueCxrLnksay53aWR0aCxrLmhlaWdodCxuP2Y6aCkuYWRkKHQpKSxnJiZnLmF0dHIodGhpcy5wb2ludEF0dHJpYnMoZCxkLnNlbGVjdGVkJiZcInNlbGVjdFwiKSksZyYmZy5hZGRDbGFzcyhkLmdldENsYXNzTmFtZSgpLCEwKSk6ZyYmKGQuZ3JhcGhpYz1nLmRlc3Ryb3koKSl9LG1hcmtlckF0dHJpYnM6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPXRoaXMub3B0aW9ucy5tYXJrZXIsZT1hLm1hcmtlcnx8e30sZD1EKGUucmFkaXVzLGMucmFkaXVzKTtiJiYoYz1jLnN0YXRlc1tiXSxiPWUuc3RhdGVzJiZlLnN0YXRlc1tiXSxkPUQoYiYmYi5yYWRpdXMsYyYmYy5yYWRpdXMsZCsoYyYmYy5yYWRpdXNQbHVzfHwwKSkpO2EuaGFzSW1hZ2UmJihkPTApO2E9e3g6TWF0aC5mbG9vcihhLnBsb3RYKS1kLHk6YS5wbG90WS1kfTtkJiYoYS53aWR0aD1hLmhlaWdodD0yKmQpO3JldHVybiBhfSxwb2ludEF0dHJpYnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9wdGlvbnMubWFya2VyLGU9YSYmYS5vcHRpb25zLGQ9ZSYmZS5tYXJrZXJ8fHt9LGc9dGhpcy5jb2xvcixoPWUmJmUuY29sb3IsZj1hJiZhLmNvbG9yLGU9RChkLmxpbmVXaWR0aCxjLmxpbmVXaWR0aCk7YT1hJiZhLnpvbmUmJmEuem9uZS5jb2xvcjtnPWh8fGF8fGZ8fGc7YT1kLmZpbGxDb2xvcnx8Yy5maWxsQ29sb3J8fGc7Zz1kLmxpbmVDb2xvcnx8Yy5saW5lQ29sb3J8fFxuZztiJiYoYz1jLnN0YXRlc1tiXSxiPWQuc3RhdGVzJiZkLnN0YXRlc1tiXXx8e30sZT1EKGIubGluZVdpZHRoLGMubGluZVdpZHRoLGUrRChiLmxpbmVXaWR0aFBsdXMsYy5saW5lV2lkdGhQbHVzLDApKSxhPWIuZmlsbENvbG9yfHxjLmZpbGxDb2xvcnx8YSxnPWIubGluZUNvbG9yfHxjLmxpbmVDb2xvcnx8Zyk7cmV0dXJue3N0cm9rZTpnLFwic3Ryb2tlLXdpZHRoXCI6ZSxmaWxsOmF9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQsYz0vQXBwbGVXZWJLaXRcXC81MzMvLnRlc3QoRS5uYXZpZ2F0b3IudXNlckFnZW50KSxlLGg9YS5kYXRhfHxbXSxnLGYsaztuKGEsXCJkZXN0cm95XCIpO3coYSk7dShhLmF4aXNUeXBlc3x8W10sZnVuY3Rpb24oYil7KGs9YVtiXSkmJmsuc2VyaWVzJiYoZChrLnNlcmllcyxhKSxrLmlzRGlydHk9ay5mb3JjZVJlZHJhdz0hMCl9KTthLmxlZ2VuZEl0ZW0mJmEuY2hhcnQubGVnZW5kLmRlc3Ryb3lJdGVtKGEpO2ZvcihlPWgubGVuZ3RoO2UtLTspKGc9XG5oW2VdKSYmZy5kZXN0cm95JiZnLmRlc3Ryb3koKTthLnBvaW50cz1udWxsO2NsZWFyVGltZW91dChhLmFuaW1hdGlvblRpbWVvdXQpO2ZvcihmIGluIGEpYVtmXWluc3RhbmNlb2YgeCYmIWFbZl0uc3Vydml2ZSYmKGU9YyYmXCJncm91cFwiPT09Zj9cImhpZGVcIjpcImRlc3Ryb3lcIixhW2ZdW2VdKCkpO2IuaG92ZXJTZXJpZXM9PT1hJiYoYi5ob3ZlclNlcmllcz1udWxsKTtkKGIuc2VyaWVzLGEpO2Iub3JkZXJTZXJpZXMoKTtmb3IoZiBpbiBhKWRlbGV0ZSBhW2ZdfSxnZXRHcmFwaFBhdGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMsZD1lLm9wdGlvbnMsZz1kLnN0ZXAsaCxmPVtdLG09W10scDthPWF8fGUucG9pbnRzOyhoPWEucmV2ZXJzZWQpJiZhLnJldmVyc2UoKTsoZz17cmlnaHQ6MSxjZW50ZXI6Mn1bZ118fGcmJjMpJiZoJiYoZz00LWcpOyFkLmNvbm5lY3ROdWxsc3x8Ynx8Y3x8KGE9dGhpcy5nZXRWYWxpZFBvaW50cyhhKSk7dShhLGZ1bmN0aW9uKGgsbil7dmFyIGw9aC5wbG90WCxcbnQ9aC5wbG90WSxxPWFbbi0xXTsoaC5sZWZ0Q2xpZmZ8fHEmJnEucmlnaHRDbGlmZikmJiFjJiYocD0hMCk7aC5pc051bGwmJiFrKGIpJiYwPG4/cD0hZC5jb25uZWN0TnVsbHM6aC5pc051bGwmJiFiP3A9ITA6KDA9PT1ufHxwP249W1wiTVwiLGgucGxvdFgsaC5wbG90WV06ZS5nZXRQb2ludFNwbGluZT9uPWUuZ2V0UG9pbnRTcGxpbmUoYSxoLG4pOmc/KG49MT09PWc/W1wiTFwiLHEucGxvdFgsdF06Mj09PWc/W1wiTFwiLChxLnBsb3RYK2wpLzIscS5wbG90WSxcIkxcIiwocS5wbG90WCtsKS8yLHRdOltcIkxcIixsLHEucGxvdFldLG4ucHVzaChcIkxcIixsLHQpKTpuPVtcIkxcIixsLHRdLG0ucHVzaChoLngpLGcmJm0ucHVzaChoLngpLGYucHVzaC5hcHBseShmLG4pLHA9ITEpfSk7Zi54TWFwPW07cmV0dXJuIGUuZ3JhcGhQYXRoPWZ9LGRyYXdHcmFwaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLm9wdGlvbnMsYz0odGhpcy5nYXBwZWRQYXRofHx0aGlzLmdldEdyYXBoUGF0aCkuY2FsbCh0aGlzKSxcbmU9W1tcImdyYXBoXCIsXCJoaWdoY2hhcnRzLWdyYXBoXCIsYi5saW5lQ29sb3J8fHRoaXMuY29sb3IsYi5kYXNoU3R5bGVdXTt1KHRoaXMuem9uZXMsZnVuY3Rpb24oYyxkKXtlLnB1c2goW1wiem9uZS1ncmFwaC1cIitkLFwiaGlnaGNoYXJ0cy1ncmFwaCBoaWdoY2hhcnRzLXpvbmUtZ3JhcGgtXCIrZCtcIiBcIisoYy5jbGFzc05hbWV8fFwiXCIpLGMuY29sb3J8fGEuY29sb3IsYy5kYXNoU3R5bGV8fGIuZGFzaFN0eWxlXSl9KTt1KGUsZnVuY3Rpb24oZSxkKXt2YXIgZz1lWzBdLGg9YVtnXTtoPyhoLmVuZFg9Yy54TWFwLGguYW5pbWF0ZSh7ZDpjfSkpOmMubGVuZ3RoJiYoYVtnXT1hLmNoYXJ0LnJlbmRlcmVyLnBhdGgoYykuYWRkQ2xhc3MoZVsxXSkuYXR0cih7ekluZGV4OjF9KS5hZGQoYS5ncm91cCksaD17c3Ryb2tlOmVbMl0sXCJzdHJva2Utd2lkdGhcIjpiLmxpbmVXaWR0aCxmaWxsOmEuZmlsbEdyYXBoJiZhLmNvbG9yfHxcIm5vbmVcIn0sZVszXT9oLmRhc2hzdHlsZT1lWzNdOlwic3F1YXJlXCIhPT1iLmxpbmVjYXAmJlxuKGhbXCJzdHJva2UtbGluZWNhcFwiXT1oW1wic3Ryb2tlLWxpbmVqb2luXCJdPVwicm91bmRcIiksaD1hW2ddLmF0dHIoaCkuc2hhZG93KDI+ZCYmYi5zaGFkb3cpKTtoJiYoaC5zdGFydFg9Yy54TWFwLGguaXNBcmVhPWMuaXNBcmVhKX0pfSxhcHBseVpvbmVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuY2hhcnQsYz1iLnJlbmRlcmVyLGU9dGhpcy56b25lcyxkLGcsaD10aGlzLmNsaXBzfHxbXSxmLGs9dGhpcy5ncmFwaCxwPXRoaXMuYXJlYSxuPU1hdGgubWF4KGIuY2hhcnRXaWR0aCxiLmNoYXJ0SGVpZ2h0KSxsPXRoaXNbKHRoaXMuem9uZUF4aXN8fFwieVwiKStcIkF4aXNcIl0sdCxxLHg9Yi5pbnZlcnRlZCx3LHIsQyxFLHo9ITE7ZS5sZW5ndGgmJihrfHxwKSYmbCYmdm9pZCAwIT09bC5taW4mJihxPWwucmV2ZXJzZWQsdz1sLmhvcml6LGsmJmsuaGlkZSgpLHAmJnAuaGlkZSgpLHQ9bC5nZXRFeHRyZW1lcygpLHUoZSxmdW5jdGlvbihlLG0pe2Q9cT93P2IucGxvdFdpZHRoOjA6dz8wOlxubC50b1BpeGVscyh0Lm1pbik7ZD1NYXRoLm1pbihNYXRoLm1heChEKGcsZCksMCksbik7Zz1NYXRoLm1pbihNYXRoLm1heChNYXRoLnJvdW5kKGwudG9QaXhlbHMoRChlLnZhbHVlLHQubWF4KSwhMCkpLDApLG4pO3omJihkPWc9bC50b1BpeGVscyh0Lm1heCkpO3I9TWF0aC5hYnMoZC1nKTtDPU1hdGgubWluKGQsZyk7RT1NYXRoLm1heChkLGcpO2wuaXNYQXhpcz8oZj17eDp4P0U6Qyx5OjAsd2lkdGg6cixoZWlnaHQ6bn0sd3x8KGYueD1iLnBsb3RIZWlnaHQtZi54KSk6KGY9e3g6MCx5Ong/RTpDLHdpZHRoOm4saGVpZ2h0OnJ9LHcmJihmLnk9Yi5wbG90V2lkdGgtZi55KSk7eCYmYy5pc1ZNTCYmKGY9bC5pc1hBeGlzP3t4OjAseTpxP0M6RSxoZWlnaHQ6Zi53aWR0aCx3aWR0aDpiLmNoYXJ0V2lkdGh9Ont4OmYueS1iLnBsb3RMZWZ0LWIuc3BhY2luZ0JveC54LHk6MCx3aWR0aDpmLmhlaWdodCxoZWlnaHQ6Yi5jaGFydEhlaWdodH0pO2hbbV0/aFttXS5hbmltYXRlKGYpOihoW21dPVxuYy5jbGlwUmVjdChmKSxrJiZhW1wiem9uZS1ncmFwaC1cIittXS5jbGlwKGhbbV0pLHAmJmFbXCJ6b25lLWFyZWEtXCIrbV0uY2xpcChoW21dKSk7ej1lLnZhbHVlPnQubWF4fSksdGhpcy5jbGlwcz1oKX0saW52ZXJ0R3JvdXBzOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt1KFtcImdyb3VwXCIsXCJtYXJrZXJHcm91cFwiXSxmdW5jdGlvbihiKXtjW2JdJiYoZS5yZW5kZXJlci5pc1ZNTCYmY1tiXS5hdHRyKHt3aWR0aDpjLnlBeGlzLmxlbixoZWlnaHQ6Yy54QXhpcy5sZW59KSxjW2JdLndpZHRoPWMueUF4aXMubGVuLGNbYl0uaGVpZ2h0PWMueEF4aXMubGVuLGNbYl0uaW52ZXJ0KGEpKX0pfXZhciBjPXRoaXMsZT1jLmNoYXJ0LGQ7Yy54QXhpcyYmKGQ9QihlLFwicmVzaXplXCIsYiksQihjLFwiZGVzdHJveVwiLGQpLGIoYSksYy5pbnZlcnRHcm91cHM9Yil9LHBsb3RHcm91cDpmdW5jdGlvbihhLGIsYyxlLGQpe3ZhciBnPXRoaXNbYV0saD0hZztoJiYodGhpc1thXT1nPXRoaXMuY2hhcnQucmVuZGVyZXIuZyhiKS5hdHRyKHt6SW5kZXg6ZXx8XG4uMX0pLmFkZChkKSxnLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1zZXJpZXMtXCIrdGhpcy5pbmRleCtcIiBoaWdoY2hhcnRzLVwiK3RoaXMudHlwZStcIi1zZXJpZXMgaGlnaGNoYXJ0cy1jb2xvci1cIit0aGlzLmNvbG9ySW5kZXgrXCIgXCIrKHRoaXMub3B0aW9ucy5jbGFzc05hbWV8fFwiXCIpKSk7Zy5hdHRyKHt2aXNpYmlsaXR5OmN9KVtoP1wiYXR0clwiOlwiYW5pbWF0ZVwiXSh0aGlzLmdldFBsb3RCb3goKSk7cmV0dXJuIGd9LGdldFBsb3RCb3g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy54QXhpcyxjPXRoaXMueUF4aXM7YS5pbnZlcnRlZCYmKGI9YyxjPXRoaXMueEF4aXMpO3JldHVybnt0cmFuc2xhdGVYOmI/Yi5sZWZ0OmEucGxvdExlZnQsdHJhbnNsYXRlWTpjP2MudG9wOmEucGxvdFRvcCxzY2FsZVg6MSxzY2FsZVk6MX19LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LGMsZT1hLm9wdGlvbnMsZD0hIWEuYW5pbWF0ZSYmYi5yZW5kZXJlci5pc1NWRyYmQShlLmFuaW1hdGlvbikuZHVyYXRpb24sXG5nPWEudmlzaWJsZT9cImluaGVyaXRcIjpcImhpZGRlblwiLGg9ZS56SW5kZXgsZj1hLmhhc1JlbmRlcmVkLGs9Yi5zZXJpZXNHcm91cCxwPWIuaW52ZXJ0ZWQ7Yz1hLnBsb3RHcm91cChcImdyb3VwXCIsXCJzZXJpZXNcIixnLGgsayk7YS5tYXJrZXJHcm91cD1hLnBsb3RHcm91cChcIm1hcmtlckdyb3VwXCIsXCJtYXJrZXJzXCIsZyxoLGspO2QmJmEuYW5pbWF0ZSghMCk7Yy5pbnZlcnRlZD1hLmlzQ2FydGVzaWFuP3A6ITE7YS5kcmF3R3JhcGgmJihhLmRyYXdHcmFwaCgpLGEuYXBwbHlab25lcygpKTthLmRyYXdEYXRhTGFiZWxzJiZhLmRyYXdEYXRhTGFiZWxzKCk7YS52aXNpYmxlJiZhLmRyYXdQb2ludHMoKTthLmRyYXdUcmFja2VyJiYhMSE9PWEub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nJiZhLmRyYXdUcmFja2VyKCk7YS5pbnZlcnRHcm91cHMocCk7ITE9PT1lLmNsaXB8fGEuc2hhcmVkQ2xpcEtleXx8Znx8Yy5jbGlwKGIuY2xpcFJlY3QpO2QmJmEuYW5pbWF0ZSgpO2Z8fChhLmFuaW1hdGlvblRpbWVvdXQ9XG5DKGZ1bmN0aW9uKCl7YS5hZnRlckFuaW1hdGUoKX0sZCkpO2EuaXNEaXJ0eT0hMTthLmhhc1JlbmRlcmVkPSEwfSxyZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5pc0RpcnR5fHx0aGlzLmlzRGlydHlEYXRhLGM9dGhpcy5ncm91cCxlPXRoaXMueEF4aXMsZD10aGlzLnlBeGlzO2MmJihhLmludmVydGVkJiZjLmF0dHIoe3dpZHRoOmEucGxvdFdpZHRoLGhlaWdodDphLnBsb3RIZWlnaHR9KSxjLmFuaW1hdGUoe3RyYW5zbGF0ZVg6RChlJiZlLmxlZnQsYS5wbG90TGVmdCksdHJhbnNsYXRlWTpEKGQmJmQudG9wLGEucGxvdFRvcCl9KSk7dGhpcy50cmFuc2xhdGUoKTt0aGlzLnJlbmRlcigpO2ImJmRlbGV0ZSB0aGlzLmtkVHJlZX0sa2RBeGlzQXJyYXk6W1wiY2xpZW50WFwiLFwicGxvdFlcIl0sc2VhcmNoUG9pbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnhBeGlzLGU9dGhpcy55QXhpcyxkPXRoaXMuY2hhcnQuaW52ZXJ0ZWQ7cmV0dXJuIHRoaXMuc2VhcmNoS0RUcmVlKHtjbGllbnRYOmQ/XG5jLmxlbi1hLmNoYXJ0WStjLnBvczphLmNoYXJ0WC1jLnBvcyxwbG90WTpkP2UubGVuLWEuY2hhcnRYK2UucG9zOmEuY2hhcnRZLWUucG9zfSxiKX0sYnVpbGRLRFRyZWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMsZSxkKXt2YXIgZyxoO2lmKGg9YyYmYy5sZW5ndGgpcmV0dXJuIGc9Yi5rZEF4aXNBcnJheVtlJWRdLGMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhW2ddLWJbZ119KSxoPU1hdGguZmxvb3IoaC8yKSx7cG9pbnQ6Y1toXSxsZWZ0OmEoYy5zbGljZSgwLGgpLGUrMSxkKSxyaWdodDphKGMuc2xpY2UoaCsxKSxlKzEsZCl9fXRoaXMuYnVpbGRpbmdLZFRyZWU9ITA7dmFyIGI9dGhpcyxjPS0xPGIub3B0aW9ucy5maW5kTmVhcmVzdFBvaW50QnkuaW5kZXhPZihcInlcIik/MjoxO2RlbGV0ZSBiLmtkVHJlZTtDKGZ1bmN0aW9uKCl7Yi5rZFRyZWU9YShiLmdldFZhbGlkUG9pbnRzKG51bGwsIWIuZGlyZWN0VG91Y2gpLGMsYyk7Yi5idWlsZGluZ0tkVHJlZT0hMX0sYi5vcHRpb25zLmtkTm93P1xuMDoxKX0sc2VhcmNoS0RUcmVlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsZixtKXt2YXIgcD1iLnBvaW50LG49ZS5rZEF4aXNBcnJheVtmJW1dLGwsdCxxPXA7dD1rKGFbZF0pJiZrKHBbZF0pP01hdGgucG93KGFbZF0tcFtkXSwyKTpudWxsO2w9ayhhW2ddKSYmayhwW2ddKT9NYXRoLnBvdyhhW2ddLXBbZ10sMik6bnVsbDtsPSh0fHwwKSsobHx8MCk7cC5kaXN0PWsobCk/TWF0aC5zcXJ0KGwpOk51bWJlci5NQVhfVkFMVUU7cC5kaXN0WD1rKHQpP01hdGguc3FydCh0KTpOdW1iZXIuTUFYX1ZBTFVFO249YVtuXS1wW25dO2w9MD5uP1wibGVmdFwiOlwicmlnaHRcIjt0PTA+bj9cInJpZ2h0XCI6XCJsZWZ0XCI7YltsXSYmKGw9YyhhLGJbbF0sZisxLG0pLHE9bFtoXTxxW2hdP2w6cCk7Ylt0XSYmTWF0aC5zcXJ0KG4qbik8cVtoXSYmKGE9YyhhLGJbdF0sZisxLG0pLHE9YVtoXTxxW2hdP2E6cSk7cmV0dXJuIHF9dmFyIGU9dGhpcyxkPXRoaXMua2RBeGlzQXJyYXlbMF0sZz10aGlzLmtkQXhpc0FycmF5WzFdLFxuaD1iP1wiZGlzdFhcIjpcImRpc3RcIjtiPS0xPGUub3B0aW9ucy5maW5kTmVhcmVzdFBvaW50QnkuaW5kZXhPZihcInlcIik/MjoxO3RoaXMua2RUcmVlfHx0aGlzLmJ1aWxkaW5nS2RUcmVlfHx0aGlzLmJ1aWxkS0RUcmVlKCk7aWYodGhpcy5rZFRyZWUpcmV0dXJuIGMoYSx0aGlzLmtkVHJlZSxiLGIpfX0pfSkoTCk7KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIEIoYSxkLGMsZixsKXt2YXIgYj1hLmNoYXJ0LmludmVydGVkO3RoaXMuYXhpcz1hO3RoaXMuaXNOZWdhdGl2ZT1jO3RoaXMub3B0aW9ucz1kO3RoaXMueD1mO3RoaXMudG90YWw9bnVsbDt0aGlzLnBvaW50cz17fTt0aGlzLnN0YWNrPWw7dGhpcy5yaWdodENsaWZmPXRoaXMubGVmdENsaWZmPTA7dGhpcy5hbGlnbk9wdGlvbnM9e2FsaWduOmQuYWxpZ258fChiP2M/XCJsZWZ0XCI6XCJyaWdodFwiOlwiY2VudGVyXCIpLHZlcnRpY2FsQWxpZ246ZC52ZXJ0aWNhbEFsaWdufHwoYj9cIm1pZGRsZVwiOmM/XCJib3R0b21cIjpcInRvcFwiKSx5OmsoZC55LGI/NDpjP1xuMTQ6LTYpLHg6ayhkLngsYj9jPy02OjY6MCl9O3RoaXMudGV4dEFsaWduPWQudGV4dEFsaWdufHwoYj9jP1wicmlnaHRcIjpcImxlZnRcIjpcImNlbnRlclwiKX12YXIgQT1hLkF4aXMsSD1hLkNoYXJ0LEc9YS5jb3JyZWN0RmxvYXQscj1hLmRlZmluZWQsZj1hLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzLGw9YS5lYWNoLHE9YS5mb3JtYXQsaz1hLnBpY2s7YT1hLlNlcmllcztCLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe2YodGhpcyx0aGlzLmF4aXMpfSxyZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5vcHRpb25zLGM9ZC5mb3JtYXQsYz1jP3EoYyx0aGlzKTpkLmZvcm1hdHRlci5jYWxsKHRoaXMpO3RoaXMubGFiZWw/dGhpcy5sYWJlbC5hdHRyKHt0ZXh0OmMsdmlzaWJpbGl0eTpcImhpZGRlblwifSk6dGhpcy5sYWJlbD10aGlzLmF4aXMuY2hhcnQucmVuZGVyZXIudGV4dChjLG51bGwsbnVsbCxkLnVzZUhUTUwpLmNzcyhkLnN0eWxlKS5hdHRyKHthbGlnbjp0aGlzLnRleHRBbGlnbixcbnJvdGF0aW9uOmQucm90YXRpb24sdmlzaWJpbGl0eTpcImhpZGRlblwifSkuYWRkKGEpfSxzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxkKXt2YXIgYz10aGlzLmF4aXMsZj1jLmNoYXJ0LGs9Zi5pbnZlcnRlZCxiPWMucmV2ZXJzZWQsYj10aGlzLmlzTmVnYXRpdmUmJiFifHwhdGhpcy5pc05lZ2F0aXZlJiZiLHA9Yy50cmFuc2xhdGUoYy51c2VQZXJjZW50YWdlPzEwMDp0aGlzLnRvdGFsLDAsMCwwLDEpLGM9Yy50cmFuc2xhdGUoMCksYz1NYXRoLmFicyhwLWMpO2E9Zi54QXhpc1swXS50cmFuc2xhdGUodGhpcy54KSthO3ZhciBoPWYucGxvdEhlaWdodCxrPXt4Oms/Yj9wOnAtYzphLHk6az9oLWEtZDpiP2gtcC1jOmgtcCx3aWR0aDprP2M6ZCxoZWlnaHQ6az9kOmN9O2lmKGQ9dGhpcy5sYWJlbClkLmFsaWduKHRoaXMuYWxpZ25PcHRpb25zLG51bGwsayksaz1kLmFsaWduQXR0cixkWyExPT09dGhpcy5vcHRpb25zLmNyb3B8fGYuaXNJbnNpZGVQbG90KGsueCxrLnkpP1wic2hvd1wiOlwiaGlkZVwiXSghMCl9fTtcbkgucHJvdG90eXBlLmdldFN0YWNrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7bChhLnlBeGlzLGZ1bmN0aW9uKGEpe2Euc3RhY2tzJiZhLmhhc1Zpc2libGVTZXJpZXMmJihhLm9sZFN0YWNrcz1hLnN0YWNrcyl9KTtsKGEuc2VyaWVzLGZ1bmN0aW9uKGQpeyFkLm9wdGlvbnMuc3RhY2tpbmd8fCEwIT09ZC52aXNpYmxlJiYhMSE9PWEub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXN8fChkLnN0YWNrS2V5PWQudHlwZStrKGQub3B0aW9ucy5zdGFjayxcIlwiKSl9KX07QS5wcm90b3R5cGUuYnVpbGRTdGFja3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlcmllcyxkLGM9ayh0aGlzLm9wdGlvbnMucmV2ZXJzZWRTdGFja3MsITApLGY9YS5sZW5ndGgsbDtpZighdGhpcy5pc1hBeGlzKXt0aGlzLnVzZVBlcmNlbnRhZ2U9ITE7Zm9yKGw9ZjtsLS07KWFbYz9sOmYtbC0xXS5zZXRTdGFja2VkUG9pbnRzKCk7Zm9yKGw9ZjtsLS07KWQ9YVtjP2w6Zi1sLTFdLGQuc2V0U3RhY2tDbGlmZnMmJlxuZC5zZXRTdGFja0NsaWZmcygpO2lmKHRoaXMudXNlUGVyY2VudGFnZSlmb3IobD0wO2w8ZjtsKyspYVtsXS5zZXRQZXJjZW50U3RhY2tzKCl9fTtBLnByb3RvdHlwZS5yZW5kZXJTdGFja1RvdGFscz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsZD1hLnJlbmRlcmVyLGM9dGhpcy5zdGFja3MsZixrLGI9dGhpcy5zdGFja1RvdGFsR3JvdXA7Ynx8KHRoaXMuc3RhY2tUb3RhbEdyb3VwPWI9ZC5nKFwic3RhY2stbGFiZWxzXCIpLmF0dHIoe3Zpc2liaWxpdHk6XCJ2aXNpYmxlXCIsekluZGV4OjZ9KS5hZGQoKSk7Yi50cmFuc2xhdGUoYS5wbG90TGVmdCxhLnBsb3RUb3ApO2ZvcihmIGluIGMpZm9yKGsgaW4gYT1jW2ZdLGEpYVtrXS5yZW5kZXIoYil9O0EucHJvdG90eXBlLnJlc2V0U3RhY2tzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFja3MsZCxjO2lmKCF0aGlzLmlzWEF4aXMpZm9yKGQgaW4gYSlmb3IoYyBpbiBhW2RdKWFbZF1bY10udG91Y2hlZDx0aGlzLnN0YWNrc1RvdWNoZWQ/KGFbZF1bY10uZGVzdHJveSgpLFxuZGVsZXRlIGFbZF1bY10pOihhW2RdW2NdLnRvdGFsPW51bGwsYVtkXVtjXS5jdW09bnVsbCl9O0EucHJvdG90eXBlLmNsZWFuU3RhY2tzPWZ1bmN0aW9uKCl7dmFyIGEsZCxjO2lmKCF0aGlzLmlzWEF4aXMpZm9yKGQgaW4gdGhpcy5vbGRTdGFja3MmJihhPXRoaXMuc3RhY2tzPXRoaXMub2xkU3RhY2tzKSxhKWZvcihjIGluIGFbZF0pYVtkXVtjXS5jdW09YVtkXVtjXS50b3RhbH07YS5wcm90b3R5cGUuc2V0U3RhY2tlZFBvaW50cz1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5zdGFja2luZyYmKCEwPT09dGhpcy52aXNpYmxlfHwhMT09PXRoaXMuY2hhcnQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMpKXt2YXIgYT10aGlzLnByb2Nlc3NlZFhEYXRhLGQ9dGhpcy5wcm9jZXNzZWRZRGF0YSxjPVtdLGY9ZC5sZW5ndGgsbD10aGlzLm9wdGlvbnMsYj1sLnRocmVzaG9sZCxwPWwuc3RhcnRGcm9tVGhyZXNob2xkP2I6MCxoPWwuc3RhY2ssbD1sLnN0YWNraW5nLHQ9dGhpcy5zdGFja0tleSxcbnE9XCItXCIrdCx3PXRoaXMubmVnU3RhY2tzLGU9dGhpcy55QXhpcyx4PWUuc3RhY2tzLEM9ZS5vbGRTdGFja3MsRSxtLHksQSxLLEosZztlLnN0YWNrc1RvdWNoZWQrPTE7Zm9yKEs9MDtLPGY7SysrKUo9YVtLXSxnPWRbS10sRT10aGlzLmdldFN0YWNrSW5kaWNhdG9yKEUsSix0aGlzLmluZGV4KSxBPUUua2V5LHk9KG09dyYmZzwocD8wOmIpKT9xOnQseFt5XXx8KHhbeV09e30pLHhbeV1bSl18fChDW3ldJiZDW3ldW0pdPyh4W3ldW0pdPUNbeV1bSl0seFt5XVtKXS50b3RhbD1udWxsKTp4W3ldW0pdPW5ldyBCKGUsZS5vcHRpb25zLnN0YWNrTGFiZWxzLG0sSixoKSkseT14W3ldW0pdLG51bGwhPT1nJiYoeS5wb2ludHNbQV09eS5wb2ludHNbdGhpcy5pbmRleF09W2soeS5jdW0scCldLHIoeS5jdW0pfHwoeS5iYXNlPUEpLHkudG91Y2hlZD1lLnN0YWNrc1RvdWNoZWQsMDxFLmluZGV4JiYhMT09PXRoaXMuc2luZ2xlU3RhY2tzJiYoeS5wb2ludHNbQV1bMF09eS5wb2ludHNbdGhpcy5pbmRleCtcblwiLFwiK0orXCIsMFwiXVswXSkpLFwicGVyY2VudFwiPT09bD8obT1tP3Q6cSx3JiZ4W21dJiZ4W21dW0pdPyhtPXhbbV1bSl0seS50b3RhbD1tLnRvdGFsPU1hdGgubWF4KG0udG90YWwseS50b3RhbCkrTWF0aC5hYnMoZyl8fDApOnkudG90YWw9Ryh5LnRvdGFsKyhNYXRoLmFicyhnKXx8MCkpKTp5LnRvdGFsPUcoeS50b3RhbCsoZ3x8MCkpLHkuY3VtPWsoeS5jdW0scCkrKGd8fDApLG51bGwhPT1nJiYoeS5wb2ludHNbQV0ucHVzaCh5LmN1bSksY1tLXT15LmN1bSk7XCJwZXJjZW50XCI9PT1sJiYoZS51c2VQZXJjZW50YWdlPSEwKTt0aGlzLnN0YWNrZWRZRGF0YT1jO2Uub2xkU3RhY2tzPXt9fX07YS5wcm90b3R5cGUuc2V0UGVyY2VudFN0YWNrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsZD1hLnN0YWNrS2V5LGM9YS55QXhpcy5zdGFja3MsZj1hLnByb2Nlc3NlZFhEYXRhLGs7bChbZCxcIi1cIitkXSxmdW5jdGlvbihiKXtmb3IodmFyIGQ9Zi5sZW5ndGgsaCxuO2QtLTspaWYoaD1mW2RdLGs9YS5nZXRTdGFja0luZGljYXRvcihrLFxuaCxhLmluZGV4LGIpLGg9KG49Y1tiXSYmY1tiXVtoXSkmJm4ucG9pbnRzW2sua2V5XSluPW4udG90YWw/MTAwL24udG90YWw6MCxoWzBdPUcoaFswXSpuKSxoWzFdPUcoaFsxXSpuKSxhLnN0YWNrZWRZRGF0YVtkXT1oWzFdfSl9O2EucHJvdG90eXBlLmdldFN0YWNrSW5kaWNhdG9yPWZ1bmN0aW9uKGEsZCxjLGYpeyFyKGEpfHxhLnghPT1kfHxmJiZhLmtleSE9PWY/YT17eDpkLGluZGV4OjAsa2V5OmZ9OmEuaW5kZXgrKzthLmtleT1bYyxkLGEuaW5kZXhdLmpvaW4oKTtyZXR1cm4gYX19KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5hZGRFdmVudCxBPWEuYW5pbWF0ZSxIPWEuQXhpcyxHPWEuY3JlYXRlRWxlbWVudCxyPWEuY3NzLGY9YS5kZWZpbmVkLGw9YS5lYWNoLHE9YS5lcmFzZSxrPWEuZXh0ZW5kLHU9YS5maXJlRXZlbnQsZD1hLmluQXJyYXksYz1hLmlzTnVtYmVyLG49YS5pc09iamVjdCx6PWEubWVyZ2UsYj1hLnBpY2sscD1hLlBvaW50LGg9YS5TZXJpZXMsdD1hLnNlcmllc1R5cGVzLFxuRD1hLnNldEFuaW1hdGlvbix3PWEuc3BsYXQ7ayhhLkNoYXJ0LnByb3RvdHlwZSx7YWRkU2VyaWVzOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxoPXRoaXM7YSYmKGM9YihjLCEwKSx1KGgsXCJhZGRTZXJpZXNcIix7b3B0aW9uczphfSxmdW5jdGlvbigpe2U9aC5pbml0U2VyaWVzKGEpO2guaXNEaXJ0eUxlZ2VuZD0hMDtoLmxpbmtTZXJpZXMoKTtjJiZoLnJlZHJhdyhkKX0pKTtyZXR1cm4gZX0sYWRkQXhpczpmdW5jdGlvbihhLGMsZCxoKXt2YXIgZT1jP1wieEF4aXNcIjpcInlBeGlzXCIsZj10aGlzLm9wdGlvbnM7YT16KGEse2luZGV4OnRoaXNbZV0ubGVuZ3RoLGlzWDpjfSk7bmV3IEgodGhpcyxhKTtmW2VdPXcoZltlXXx8e30pO2ZbZV0ucHVzaChhKTtiKGQsITApJiZ0aGlzLnJlZHJhdyhoKX0sc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIub3B0aW9ucyxlPWIubG9hZGluZ0RpdixkPWMubG9hZGluZyxoPWZ1bmN0aW9uKCl7ZSYmcihlLHtsZWZ0OmIucGxvdExlZnQrXG5cInB4XCIsdG9wOmIucGxvdFRvcCtcInB4XCIsd2lkdGg6Yi5wbG90V2lkdGgrXCJweFwiLGhlaWdodDpiLnBsb3RIZWlnaHQrXCJweFwifSl9O2V8fChiLmxvYWRpbmdEaXY9ZT1HKFwiZGl2XCIse2NsYXNzTmFtZTpcImhpZ2hjaGFydHMtbG9hZGluZyBoaWdoY2hhcnRzLWxvYWRpbmctaGlkZGVuXCJ9LG51bGwsYi5jb250YWluZXIpLGIubG9hZGluZ1NwYW49RyhcInNwYW5cIix7Y2xhc3NOYW1lOlwiaGlnaGNoYXJ0cy1sb2FkaW5nLWlubmVyXCJ9LG51bGwsZSksQihiLFwicmVkcmF3XCIsaCkpO2UuY2xhc3NOYW1lPVwiaGlnaGNoYXJ0cy1sb2FkaW5nXCI7Yi5sb2FkaW5nU3Bhbi5pbm5lckhUTUw9YXx8Yy5sYW5nLmxvYWRpbmc7cihlLGsoZC5zdHlsZSx7ekluZGV4OjEwfSkpO3IoYi5sb2FkaW5nU3BhbixkLmxhYmVsU3R5bGUpO2IubG9hZGluZ1Nob3dufHwocihlLHtvcGFjaXR5OjAsZGlzcGxheTpcIlwifSksQShlLHtvcGFjaXR5OmQuc3R5bGUub3BhY2l0eXx8LjV9LHtkdXJhdGlvbjpkLnNob3dEdXJhdGlvbnx8XG4wfSkpO2IubG9hZGluZ1Nob3duPSEwO2goKX0saGlkZUxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLmxvYWRpbmdEaXY7YiYmKGIuY2xhc3NOYW1lPVwiaGlnaGNoYXJ0cy1sb2FkaW5nIGhpZ2hjaGFydHMtbG9hZGluZy1oaWRkZW5cIixBKGIse29wYWNpdHk6MH0se2R1cmF0aW9uOmEubG9hZGluZy5oaWRlRHVyYXRpb258fDEwMCxjb21wbGV0ZTpmdW5jdGlvbigpe3IoYix7ZGlzcGxheTpcIm5vbmVcIn0pfX0pKTt0aGlzLmxvYWRpbmdTaG93bj0hMX0scHJvcHNSZXF1aXJlRGlydHlCb3g6XCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQ29sb3IgYm9yZGVyV2lkdGggbWFyZ2luIG1hcmdpblRvcCBtYXJnaW5SaWdodCBtYXJnaW5Cb3R0b20gbWFyZ2luTGVmdCBzcGFjaW5nIHNwYWNpbmdUb3Agc3BhY2luZ1JpZ2h0IHNwYWNpbmdCb3R0b20gc3BhY2luZ0xlZnQgYm9yZGVyUmFkaXVzIHBsb3RCYWNrZ3JvdW5kQ29sb3IgcGxvdEJhY2tncm91bmRJbWFnZSBwbG90Qm9yZGVyQ29sb3IgcGxvdEJvcmRlcldpZHRoIHBsb3RTaGFkb3cgc2hhZG93XCIuc3BsaXQoXCIgXCIpLFxucHJvcHNSZXF1aXJlVXBkYXRlU2VyaWVzOlwiY2hhcnQuaW52ZXJ0ZWQgY2hhcnQucG9sYXIgY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzIGNoYXJ0LnR5cGUgY29sb3JzIHBsb3RPcHRpb25zXCIuc3BsaXQoXCIgXCIpLHVwZGF0ZTpmdW5jdGlvbihhLGgpe3ZhciBlLGs9e2NyZWRpdHM6XCJhZGRDcmVkaXRzXCIsdGl0bGU6XCJzZXRUaXRsZVwiLHN1YnRpdGxlOlwic2V0U3VidGl0bGVcIn0sbT1hLmNoYXJ0LHAsbjtpZihtKXt6KCEwLHRoaXMub3B0aW9ucy5jaGFydCxtKTtcImNsYXNzTmFtZVwiaW4gbSYmdGhpcy5zZXRDbGFzc05hbWUobS5jbGFzc05hbWUpO2lmKFwiaW52ZXJ0ZWRcImluIG18fFwicG9sYXJcImluIG0pdGhpcy5wcm9wRnJvbVNlcmllcygpLHA9ITA7XCJhbGlnblRpY2tzXCJpbiBtJiYocD0hMCk7Zm9yKGUgaW4gbSltLmhhc093blByb3BlcnR5KGUpJiYoLTEhPT1kKFwiY2hhcnQuXCIrZSx0aGlzLnByb3BzUmVxdWlyZVVwZGF0ZVNlcmllcykmJihuPSEwKSwtMSE9PWQoZSx0aGlzLnByb3BzUmVxdWlyZURpcnR5Qm94KSYmXG4odGhpcy5pc0RpcnR5Qm94PSEwKSk7XCJzdHlsZVwiaW4gbSYmdGhpcy5yZW5kZXJlci5zZXRTdHlsZShtLnN0eWxlKX1mb3IoZSBpbiBhKXtpZih0aGlzW2VdJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpc1tlXS51cGRhdGUpdGhpc1tlXS51cGRhdGUoYVtlXSwhMSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpc1trW2VdXSl0aGlzW2tbZV1dKGFbZV0pO1wiY2hhcnRcIiE9PWUmJi0xIT09ZChlLHRoaXMucHJvcHNSZXF1aXJlVXBkYXRlU2VyaWVzKSYmKG49ITApfWEuY29sb3JzJiYodGhpcy5vcHRpb25zLmNvbG9ycz1hLmNvbG9ycyk7YS5wbG90T3B0aW9ucyYmeighMCx0aGlzLm9wdGlvbnMucGxvdE9wdGlvbnMsYS5wbG90T3B0aW9ucyk7bChbXCJ4QXhpc1wiLFwieUF4aXNcIixcInNlcmllc1wiLFwiY29sb3JBeGlzXCIsXCJwYW5lXCJdLGZ1bmN0aW9uKGIpe2FbYl0mJmwodyhhW2JdKSxmdW5jdGlvbihhLGMpeyhjPWYoYS5pZCkmJnRoaXMuZ2V0KGEuaWQpfHx0aGlzW2JdW2NdKSYmYy5jb2xsPT09XG5iJiZjLnVwZGF0ZShhLCExKX0sdGhpcyl9LHRoaXMpO3AmJmwodGhpcy5heGVzLGZ1bmN0aW9uKGEpe2EudXBkYXRlKHt9LCExKX0pO24mJmwodGhpcy5zZXJpZXMsZnVuY3Rpb24oYSl7YS51cGRhdGUoe30sITEpfSk7YS5sb2FkaW5nJiZ6KCEwLHRoaXMub3B0aW9ucy5sb2FkaW5nLGEubG9hZGluZyk7ZT1tJiZtLndpZHRoO209bSYmbS5oZWlnaHQ7YyhlKSYmZSE9PXRoaXMuY2hhcnRXaWR0aHx8YyhtKSYmbSE9PXRoaXMuY2hhcnRIZWlnaHQ/dGhpcy5zZXRTaXplKGUsbSk6YihoLCEwKSYmdGhpcy5yZWRyYXcoKX0sc2V0U3VidGl0bGU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRUaXRsZSh2b2lkIDAsYSl9fSk7ayhwLnByb3RvdHlwZSx7dXBkYXRlOmZ1bmN0aW9uKGEsYyxkLGgpe2Z1bmN0aW9uIGUoKXtmLmFwcGx5T3B0aW9ucyhhKTtudWxsPT09Zi55JiZwJiYoZi5ncmFwaGljPXAuZGVzdHJveSgpKTtuKGEsITApJiYocCYmcC5lbGVtZW50JiZhJiZhLm1hcmtlciYmYS5tYXJrZXIuc3ltYm9sJiZcbihmLmdyYXBoaWM9cC5kZXN0cm95KCkpLGEmJmEuZGF0YUxhYmVscyYmZi5kYXRhTGFiZWwmJihmLmRhdGFMYWJlbD1mLmRhdGFMYWJlbC5kZXN0cm95KCkpKTtsPWYuaW5kZXg7ay51cGRhdGVQYXJhbGxlbEFycmF5cyhmLGwpO3QuZGF0YVtsXT1uKHQuZGF0YVtsXSwhMCl8fG4oYSwhMCk/Zi5vcHRpb25zOmE7ay5pc0RpcnR5PWsuaXNEaXJ0eURhdGE9ITA7IWsuZml4ZWRCb3gmJmsuaGFzQ2FydGVzaWFuU2VyaWVzJiYoZy5pc0RpcnR5Qm94PSEwKTtcInBvaW50XCI9PT10LmxlZ2VuZFR5cGUmJihnLmlzRGlydHlMZWdlbmQ9ITApO2MmJmcucmVkcmF3KGQpfXZhciBmPXRoaXMsaz1mLnNlcmllcyxwPWYuZ3JhcGhpYyxsLGc9ay5jaGFydCx0PWsub3B0aW9ucztjPWIoYywhMCk7ITE9PT1oP2UoKTpmLmZpcmVQb2ludEV2ZW50KFwidXBkYXRlXCIse29wdGlvbnM6YX0sZSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3RoaXMuc2VyaWVzLnJlbW92ZVBvaW50KGQodGhpcyx0aGlzLnNlcmllcy5kYXRhKSxcbmEsYil9fSk7ayhoLnByb3RvdHlwZSx7YWRkUG9pbnQ6ZnVuY3Rpb24oYSxjLGQsaCl7dmFyIGU9dGhpcy5vcHRpb25zLGY9dGhpcy5kYXRhLGs9dGhpcy5jaGFydCxwPXRoaXMueEF4aXMscD1wJiZwLmhhc05hbWVzJiZwLm5hbWVzLG49ZS5kYXRhLGcsbCx0PXRoaXMueERhdGEscSx3O2M9YihjLCEwKTtnPXtzZXJpZXM6dGhpc307dGhpcy5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkoZyxbYV0pO3c9Zy54O3E9dC5sZW5ndGg7aWYodGhpcy5yZXF1aXJlU29ydGluZyYmdzx0W3EtMV0pZm9yKGw9ITA7cSYmdFtxLTFdPnc7KXEtLTt0aGlzLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGcsXCJzcGxpY2VcIixxLDAsMCk7dGhpcy51cGRhdGVQYXJhbGxlbEFycmF5cyhnLHEpO3AmJmcubmFtZSYmKHBbd109Zy5uYW1lKTtuLnNwbGljZShxLDAsYSk7bCYmKHRoaXMuZGF0YS5zcGxpY2UocSwwLG51bGwpLHRoaXMucHJvY2Vzc0RhdGEoKSk7XCJwb2ludFwiPT09ZS5sZWdlbmRUeXBlJiZcbnRoaXMuZ2VuZXJhdGVQb2ludHMoKTtkJiYoZlswXSYmZlswXS5yZW1vdmU/ZlswXS5yZW1vdmUoITEpOihmLnNoaWZ0KCksdGhpcy51cGRhdGVQYXJhbGxlbEFycmF5cyhnLFwic2hpZnRcIiksbi5zaGlmdCgpKSk7dGhpcy5pc0RpcnR5RGF0YT10aGlzLmlzRGlydHk9ITA7YyYmay5yZWRyYXcoaCl9LHJlbW92ZVBvaW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT10aGlzLGg9ZS5kYXRhLGY9aFthXSxrPWUucG9pbnRzLHA9ZS5jaGFydCxuPWZ1bmN0aW9uKCl7ayYmay5sZW5ndGg9PT1oLmxlbmd0aCYmay5zcGxpY2UoYSwxKTtoLnNwbGljZShhLDEpO2Uub3B0aW9ucy5kYXRhLnNwbGljZShhLDEpO2UudXBkYXRlUGFyYWxsZWxBcnJheXMoZnx8e3NlcmllczplfSxcInNwbGljZVwiLGEsMSk7ZiYmZi5kZXN0cm95KCk7ZS5pc0RpcnR5PSEwO2UuaXNEaXJ0eURhdGE9ITA7YyYmcC5yZWRyYXcoKX07RChkLHApO2M9YihjLCEwKTtmP2YuZmlyZVBvaW50RXZlbnQoXCJyZW1vdmVcIixudWxsLG4pOlxubigpfSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoKXtoLmRlc3Ryb3koKTtmLmlzRGlydHlMZWdlbmQ9Zi5pc0RpcnR5Qm94PSEwO2YubGlua1NlcmllcygpO2IoYSwhMCkmJmYucmVkcmF3KGMpfXZhciBoPXRoaXMsZj1oLmNoYXJ0OyExIT09ZD91KGgsXCJyZW1vdmVcIixudWxsLGUpOmUoKX0sdXBkYXRlOmZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcyxkPXRoaXMuY2hhcnQsaD10aGlzLnVzZXJPcHRpb25zLGY9dGhpcy5vbGRUeXBlfHx0aGlzLnR5cGUscD1hLnR5cGV8fGgudHlwZXx8ZC5vcHRpb25zLmNoYXJ0LnR5cGUsbj10W2ZdLnByb3RvdHlwZSxxPVtcImdyb3VwXCIsXCJtYXJrZXJHcm91cFwiLFwiZGF0YUxhYmVsc0dyb3VwXCJdLGc7aWYocCYmcCE9PWZ8fHZvaWQgMCE9PWEuekluZGV4KXEubGVuZ3RoPTA7bChxLGZ1bmN0aW9uKGEpe3FbYV09ZVthXTtkZWxldGUgZVthXX0pO2E9eihoLHthbmltYXRpb246ITEsaW5kZXg6dGhpcy5pbmRleCxwb2ludFN0YXJ0OnRoaXMueERhdGFbMF19LFxue2RhdGE6dGhpcy5vcHRpb25zLmRhdGF9LGEpO3RoaXMucmVtb3ZlKCExLG51bGwsITEpO2ZvcihnIGluIG4pdGhpc1tnXT12b2lkIDA7ayh0aGlzLHRbcHx8Zl0ucHJvdG90eXBlKTtsKHEsZnVuY3Rpb24oYSl7ZVthXT1xW2FdfSk7dGhpcy5pbml0KGQsYSk7dGhpcy5vbGRUeXBlPWY7ZC5saW5rU2VyaWVzKCk7YihjLCEwKSYmZC5yZWRyYXcoITEpfX0pO2soSC5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMuY2hhcnQ7YT1lLm9wdGlvbnNbdGhpcy5jb2xsXVt0aGlzLm9wdGlvbnMuaW5kZXhdPXoodGhpcy51c2VyT3B0aW9ucyxhKTt0aGlzLmRlc3Ryb3koITApO3RoaXMuaW5pdChlLGsoYSx7ZXZlbnRzOnZvaWQgMH0pKTtlLmlzRGlydHlCb3g9ITA7YihjLCEwKSYmZS5yZWRyYXcoKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz10aGlzLmNoYXJ0LGU9dGhpcy5jb2xsLGQ9dGhpcy5zZXJpZXMsaD1kLmxlbmd0aDtoLS07KWRbaF0mJmRbaF0ucmVtb3ZlKCExKTtcbnEoYy5heGVzLHRoaXMpO3EoY1tlXSx0aGlzKTtjLm9wdGlvbnNbZV0uc3BsaWNlKHRoaXMub3B0aW9ucy5pbmRleCwxKTtsKGNbZV0sZnVuY3Rpb24oYSxiKXthLm9wdGlvbnMuaW5kZXg9Yn0pO3RoaXMuZGVzdHJveSgpO2MuaXNEaXJ0eUJveD0hMDtiKGEsITApJiZjLnJlZHJhdygpfSxzZXRUaXRsZTpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlKHt0aXRsZTphfSxiKX0sc2V0Q2F0ZWdvcmllczpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlKHtjYXRlZ29yaWVzOmF9LGIpfX0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuY29sb3IsQT1hLmVhY2gsSD1hLm1hcCxHPWEucGljayxyPWEuU2VyaWVzLGY9YS5zZXJpZXNUeXBlO2YoXCJhcmVhXCIsXCJsaW5lXCIse3NvZnRUaHJlc2hvbGQ6ITEsdGhyZXNob2xkOjB9LHtzaW5nbGVTdGFja3M6ITEsZ2V0U3RhY2tQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxmPVtdLGs9dGhpcy54QXhpcyxyPXRoaXMueUF4aXMsZD1yLnN0YWNrc1t0aGlzLnN0YWNrS2V5XSxcbmM9e30sbj10aGlzLnBvaW50cyx6PXRoaXMuaW5kZXgsYj1yLnNlcmllcyxwPWIubGVuZ3RoLGgsdD1HKHIub3B0aW9ucy5yZXZlcnNlZFN0YWNrcywhMCk/MTotMSxELHc7aWYodGhpcy5vcHRpb25zLnN0YWNraW5nKXtmb3IoRD0wO0Q8bi5sZW5ndGg7RCsrKWNbbltEXS54XT1uW0RdO2Zvcih3IGluIGQpbnVsbCE9PWRbd10udG90YWwmJmYucHVzaCh3KTtmLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7aD1IKGIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aXNpYmxlfSk7QShmLGZ1bmN0aW9uKGIsbil7dmFyIGU9MCxsLG07aWYoY1tiXSYmIWNbYl0uaXNOdWxsKWEucHVzaChjW2JdKSxBKFstMSwxXSxmdW5jdGlvbihhKXt2YXIgZT0xPT09YT9cInJpZ2h0TnVsbFwiOlwibGVmdE51bGxcIixrPTAscT1kW2ZbbithXV07aWYocSlmb3IoRD16OzA8PUQmJkQ8cDspbD1xLnBvaW50c1tEXSxsfHwoRD09PXo/Y1tiXVtlXT0hMDpoW0RdJiYobT1kW2JdLnBvaW50c1tEXSkmJihrLT1cbm1bMV0tbVswXSkpLEQrPXQ7Y1tiXVsxPT09YT9cInJpZ2h0Q2xpZmZcIjpcImxlZnRDbGlmZlwiXT1rfSk7ZWxzZXtmb3IoRD16OzA8PUQmJkQ8cDspe2lmKGw9ZFtiXS5wb2ludHNbRF0pe2U9bFsxXTticmVha31EKz10fWU9ci50cmFuc2xhdGUoZSwwLDEsMCwxKTthLnB1c2goe2lzTnVsbDohMCxwbG90WDprLnRyYW5zbGF0ZShiLDAsMCwwLDEpLHg6YixwbG90WTplLHlCb3R0b206ZX0pfX0pfXJldHVybiBhfSxnZXRHcmFwaFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9ci5wcm90b3R5cGUuZ2V0R3JhcGhQYXRoLGs9dGhpcy5vcHRpb25zLGw9ay5zdGFja2luZyxkPXRoaXMueUF4aXMsYyxuLHo9W10sYj1bXSxwPXRoaXMuaW5kZXgsaCx0PWQuc3RhY2tzW3RoaXMuc3RhY2tLZXldLEQ9ay50aHJlc2hvbGQsdz1kLmdldFRocmVzaG9sZChrLnRocmVzaG9sZCksZSxrPWsuY29ubmVjdE51bGxzfHxcInBlcmNlbnRcIj09PWwseD1mdW5jdGlvbihjLGUsZil7dmFyIGs9YVtjXTtjPWwmJnRbay54XS5wb2ludHNbcF07XG52YXIgbT1rW2YrXCJOdWxsXCJdfHwwO2Y9a1tmK1wiQ2xpZmZcIl18fDA7dmFyIG4scSxrPSEwO2Z8fG0/KG49KG0/Y1swXTpjWzFdKStmLHE9Y1swXStmLGs9ISFtKTohbCYmYVtlXSYmYVtlXS5pc051bGwmJihuPXE9RCk7dm9pZCAwIT09biYmKGIucHVzaCh7cGxvdFg6aCxwbG90WTpudWxsPT09bj93OmQuZ2V0VGhyZXNob2xkKG4pLGlzTnVsbDprLGlzQ2xpZmY6ITB9KSx6LnB1c2goe3Bsb3RYOmgscGxvdFk6bnVsbD09PXE/dzpkLmdldFRocmVzaG9sZChxKSxkb0N1cnZlOiExfSkpfTthPWF8fHRoaXMucG9pbnRzO2wmJihhPXRoaXMuZ2V0U3RhY2tQb2ludHMoKSk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylpZihuPWFbY10uaXNOdWxsLGg9RyhhW2NdLnJlY3RQbG90WCxhW2NdLnBsb3RYKSxlPUcoYVtjXS55Qm90dG9tLHcpLCFufHxrKWt8fHgoYyxjLTEsXCJsZWZ0XCIpLG4mJiFsJiZrfHwoYi5wdXNoKGFbY10pLHoucHVzaCh7eDpjLHBsb3RYOmgscGxvdFk6ZX0pKSxrfHx4KGMsYytcbjEsXCJyaWdodFwiKTtjPWYuY2FsbCh0aGlzLGIsITAsITApO3oucmV2ZXJzZWQ9ITA7bj1mLmNhbGwodGhpcyx6LCEwLCEwKTtuLmxlbmd0aCYmKG5bMF09XCJMXCIpO249Yy5jb25jYXQobik7Zj1mLmNhbGwodGhpcyxiLCExLGspO24ueE1hcD1jLnhNYXA7dGhpcy5hcmVhUGF0aD1uO3JldHVybiBmfSxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt0aGlzLmFyZWFQYXRoPVtdO3IucHJvdG90eXBlLmRyYXdHcmFwaC5hcHBseSh0aGlzKTt2YXIgYT10aGlzLGY9dGhpcy5hcmVhUGF0aCxrPXRoaXMub3B0aW9ucyx1PVtbXCJhcmVhXCIsXCJoaWdoY2hhcnRzLWFyZWFcIix0aGlzLmNvbG9yLGsuZmlsbENvbG9yXV07QSh0aGlzLnpvbmVzLGZ1bmN0aW9uKGQsYyl7dS5wdXNoKFtcInpvbmUtYXJlYS1cIitjLFwiaGlnaGNoYXJ0cy1hcmVhIGhpZ2hjaGFydHMtem9uZS1hcmVhLVwiK2MrXCIgXCIrZC5jbGFzc05hbWUsZC5jb2xvcnx8YS5jb2xvcixkLmZpbGxDb2xvcnx8ay5maWxsQ29sb3JdKX0pO0EodSxmdW5jdGlvbihkKXt2YXIgYz1cbmRbMF0sbj1hW2NdO24/KG4uZW5kWD1mLnhNYXAsbi5hbmltYXRlKHtkOmZ9KSk6KG49YVtjXT1hLmNoYXJ0LnJlbmRlcmVyLnBhdGgoZikuYWRkQ2xhc3MoZFsxXSkuYXR0cih7ZmlsbDpHKGRbM10sQihkWzJdKS5zZXRPcGFjaXR5KEcoay5maWxsT3BhY2l0eSwuNzUpKS5nZXQoKSksekluZGV4OjB9KS5hZGQoYS5ncm91cCksbi5pc0FyZWE9ITApO24uc3RhcnRYPWYueE1hcDtuLnNoaWZ0VW5pdD1rLnN0ZXA/MjoxfSl9LGRyYXdMZWdlbmRTeW1ib2w6YS5MZWdlbmRTeW1ib2xNaXhpbi5kcmF3UmVjdGFuZ2xlfSl9KShMKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5waWNrO2E9YS5zZXJpZXNUeXBlO2EoXCJzcGxpbmVcIixcImxpbmVcIix7fSx7Z2V0UG9pbnRTcGxpbmU6ZnVuY3Rpb24oYSxILEcpe3ZhciByPUgucGxvdFgsZj1ILnBsb3RZLGw9YVtHLTFdO0c9YVtHKzFdO3ZhciBxLGssdSxkO2lmKGwmJiFsLmlzTnVsbCYmITEhPT1sLmRvQ3VydmUmJiFILmlzQ2xpZmYmJkcmJiFHLmlzTnVsbCYmXG4hMSE9PUcuZG9DdXJ2ZSYmIUguaXNDbGlmZil7YT1sLnBsb3RZO3U9Ry5wbG90WDtHPUcucGxvdFk7dmFyIGM9MDtxPSgxLjUqcitsLnBsb3RYKS8yLjU7az0oMS41KmYrYSkvMi41O3U9KDEuNSpyK3UpLzIuNTtkPSgxLjUqZitHKS8yLjU7dSE9PXEmJihjPShkLWspKih1LXIpLyh1LXEpK2YtZCk7ays9YztkKz1jO2s+YSYmaz5mPyhrPU1hdGgubWF4KGEsZiksZD0yKmYtayk6azxhJiZrPGYmJihrPU1hdGgubWluKGEsZiksZD0yKmYtayk7ZD5HJiZkPmY/KGQ9TWF0aC5tYXgoRyxmKSxrPTIqZi1kKTpkPEcmJmQ8ZiYmKGQ9TWF0aC5taW4oRyxmKSxrPTIqZi1kKTtILnJpZ2h0Q29udFg9dTtILnJpZ2h0Q29udFk9ZH1IPVtcIkNcIixCKGwucmlnaHRDb250WCxsLnBsb3RYKSxCKGwucmlnaHRDb250WSxsLnBsb3RZKSxCKHEsciksQihrLGYpLHIsZl07bC5yaWdodENvbnRYPWwucmlnaHRDb250WT1udWxsO3JldHVybiBIfX0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuc2VyaWVzVHlwZXMuYXJlYS5wcm90b3R5cGUsXG5BPWEuc2VyaWVzVHlwZTtBKFwiYXJlYXNwbGluZVwiLFwic3BsaW5lXCIsYS5kZWZhdWx0UGxvdE9wdGlvbnMuYXJlYSx7Z2V0U3RhY2tQb2ludHM6Qi5nZXRTdGFja1BvaW50cyxnZXRHcmFwaFBhdGg6Qi5nZXRHcmFwaFBhdGgsc2V0U3RhY2tDbGlmZnM6Qi5zZXRTdGFja0NsaWZmcyxkcmF3R3JhcGg6Qi5kcmF3R3JhcGgsZHJhd0xlZ2VuZFN5bWJvbDphLkxlZ2VuZFN5bWJvbE1peGluLmRyYXdSZWN0YW5nbGV9KX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFuaW1PYmplY3QsQT1hLmNvbG9yLEg9YS5lYWNoLEc9YS5leHRlbmQscj1hLmlzTnVtYmVyLGY9YS5tZXJnZSxsPWEucGljayxxPWEuU2VyaWVzLGs9YS5zZXJpZXNUeXBlLHU9YS5zdmc7ayhcImNvbHVtblwiLFwibGluZVwiLHtib3JkZXJSYWRpdXM6MCxjcmlzcDohMCxncm91cFBhZGRpbmc6LjIsbWFya2VyOm51bGwscG9pbnRQYWRkaW5nOi4xLG1pblBvaW50TGVuZ3RoOjAsY3JvcFRocmVzaG9sZDo1MCxwb2ludFJhbmdlOm51bGwsXG5zdGF0ZXM6e2hvdmVyOntoYWxvOiExLGJyaWdodG5lc3M6LjEsc2hhZG93OiExfSxzZWxlY3Q6e2NvbG9yOlwiI2NjY2NjY1wiLGJvcmRlckNvbG9yOlwiIzAwMDAwMFwiLHNoYWRvdzohMX19LGRhdGFMYWJlbHM6e2FsaWduOm51bGwsdmVydGljYWxBbGlnbjpudWxsLHk6bnVsbH0sc29mdFRocmVzaG9sZDohMSxzdGFydEZyb21UaHJlc2hvbGQ6ITAsc3RpY2t5VHJhY2tpbmc6ITEsdG9vbHRpcDp7ZGlzdGFuY2U6Nn0sdGhyZXNob2xkOjAsYm9yZGVyQ29sb3I6XCIjZmZmZmZmXCJ9LHtjcm9wU2hvdWxkZXI6MCxkaXJlY3RUb3VjaDohMCx0cmFja2VyR3JvdXBzOltcImdyb3VwXCIsXCJkYXRhTGFiZWxzR3JvdXBcIl0sbmVnU3RhY2tzOiEwLGluaXQ6ZnVuY3Rpb24oKXtxLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYT10aGlzLGM9YS5jaGFydDtjLmhhc1JlbmRlcmVkJiZIKGMuc2VyaWVzLGZ1bmN0aW9uKGMpe2MudHlwZT09PWEudHlwZSYmKGMuaXNEaXJ0eT0hMCl9KX0sXG5nZXRDb2x1bW5NZXRyaWNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPWEub3B0aW9ucyxmPWEueEF4aXMsaz1hLnlBeGlzLGI9Zi5yZXZlcnNlZCxwLGg9e30sdD0wOyExPT09Yy5ncm91cGluZz90PTE6SChhLmNoYXJ0LnNlcmllcyxmdW5jdGlvbihiKXt2YXIgYz1iLm9wdGlvbnMsZT1iLnlBeGlzLGQ7Yi50eXBlPT09YS50eXBlJiZiLnZpc2libGUmJmsubGVuPT09ZS5sZW4mJmsucG9zPT09ZS5wb3MmJihjLnN0YWNraW5nPyhwPWIuc3RhY2tLZXksdm9pZCAwPT09aFtwXSYmKGhbcF09dCsrKSxkPWhbcF0pOiExIT09Yy5ncm91cGluZyYmKGQ9dCsrKSxiLmNvbHVtbkluZGV4PWQpfSk7dmFyIHE9TWF0aC5taW4oTWF0aC5hYnMoZi50cmFuc0EpKihmLm9yZGluYWxTbG9wZXx8Yy5wb2ludFJhbmdlfHxmLmNsb3Nlc3RQb2ludFJhbmdlfHxmLnRpY2tJbnRlcnZhbHx8MSksZi5sZW4pLHc9cSpjLmdyb3VwUGFkZGluZyxlPShxLTIqdykvKHR8fDEpLGM9TWF0aC5taW4oYy5tYXhQb2ludFdpZHRofHxcbmYubGVuLGwoYy5wb2ludFdpZHRoLGUqKDEtMipjLnBvaW50UGFkZGluZykpKTthLmNvbHVtbk1ldHJpY3M9e3dpZHRoOmMsb2Zmc2V0OihlLWMpLzIrKHcrKChhLmNvbHVtbkluZGV4fHwwKSsoYj8xOjApKSplLXEvMikqKGI/LTE6MSl9O3JldHVybiBhLmNvbHVtbk1ldHJpY3N9LGNyaXNwQ29sOmZ1bmN0aW9uKGEsYyxmLGspe3ZhciBiPXRoaXMuY2hhcnQsZD10aGlzLmJvcmRlcldpZHRoLGg9LShkJTI/LjU6MCksZD1kJTI/LjU6MTtiLmludmVydGVkJiZiLnJlbmRlcmVyLmlzVk1MJiYoZCs9MSk7dGhpcy5vcHRpb25zLmNyaXNwJiYoZj1NYXRoLnJvdW5kKGErZikraCxhPU1hdGgucm91bmQoYSkraCxmLT1hKTtrPU1hdGgucm91bmQoYytrKStkO2g9LjU+PU1hdGguYWJzKGMpJiYuNTxrO2M9TWF0aC5yb3VuZChjKStkO2stPWM7aCYmayYmKC0tYyxrKz0xKTtyZXR1cm57eDphLHk6Yyx3aWR0aDpmLGhlaWdodDprfX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPVxuYS5jaGFydCxmPWEub3B0aW9ucyxrPWEuZGVuc2U9Mj5hLmNsb3Nlc3RQb2ludFJhbmdlKmEueEF4aXMudHJhbnNBLGs9YS5ib3JkZXJXaWR0aD1sKGYuYm9yZGVyV2lkdGgsaz8wOjEpLGI9YS55QXhpcyxwPWEudHJhbnNsYXRlZFRocmVzaG9sZD1iLmdldFRocmVzaG9sZChmLnRocmVzaG9sZCksaD1sKGYubWluUG9pbnRMZW5ndGgsNSksdD1hLmdldENvbHVtbk1ldHJpY3MoKSxyPXQud2lkdGgsdz1hLmJhclc9TWF0aC5tYXgociwxKzIqayksZT1hLnBvaW50WE9mZnNldD10Lm9mZnNldDtjLmludmVydGVkJiYocC09LjUpO2YucG9pbnRQYWRkaW5nJiYodz1NYXRoLmNlaWwodykpO3EucHJvdG90eXBlLnRyYW5zbGF0ZS5hcHBseShhKTtIKGEucG9pbnRzLGZ1bmN0aW9uKGQpe3ZhciBmPWwoZC55Qm90dG9tLHApLGs9OTk5K01hdGguYWJzKGYpLGs9TWF0aC5taW4oTWF0aC5tYXgoLWssZC5wbG90WSksYi5sZW4rayksbT1kLnBsb3RYK2Usbj13LHQ9TWF0aC5taW4oayxmKSxxLHU9XG5NYXRoLm1heChrLGYpLXQ7TWF0aC5hYnModSk8aCYmaCYmKHU9aCxxPSFiLnJldmVyc2VkJiYhZC5uZWdhdGl2ZXx8Yi5yZXZlcnNlZCYmZC5uZWdhdGl2ZSx0PU1hdGguYWJzKHQtcCk+aD9mLWg6cC0ocT9oOjApKTtkLmJhclg9bTtkLnBvaW50V2lkdGg9cjtkLnRvb2x0aXBQb3M9Yy5pbnZlcnRlZD9bYi5sZW4rYi5wb3MtYy5wbG90TGVmdC1rLGEueEF4aXMubGVuLW0tbi8yLHVdOlttK24vMixrK2IucG9zLWMucGxvdFRvcCx1XTtkLnNoYXBlVHlwZT1cInJlY3RcIjtkLnNoYXBlQXJncz1hLmNyaXNwQ29sLmFwcGx5KGEsZC5pc051bGw/W2QucGxvdFgsYi5sZW4vMiwwLDBdOlttLHQsbix1XSl9KX0sZ2V0U3ltYm9sOmEubm9vcCxkcmF3TGVnZW5kU3ltYm9sOmEuTGVnZW5kU3ltYm9sTWl4aW4uZHJhd1JlY3RhbmdsZSxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwW3RoaXMuZGVuc2U/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJoaWdoY2hhcnRzLWRlbnNlLWRhdGFcIil9LFxucG9pbnRBdHRyaWJzOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5vcHRpb25zLGssYj10aGlzLnBvaW50QXR0clRvT3B0aW9uc3x8e307az1iLnN0cm9rZXx8XCJib3JkZXJDb2xvclwiO3ZhciBwPWJbXCJzdHJva2Utd2lkdGhcIl18fFwiYm9yZGVyV2lkdGhcIixoPWEmJmEuY29sb3J8fHRoaXMuY29sb3IsbD1hW2tdfHxkW2tdfHx0aGlzLmNvbG9yfHxoLHE9YVtwXXx8ZFtwXXx8dGhpc1twXXx8MCxiPWQuZGFzaFN0eWxlO2EmJnRoaXMuem9uZXMubGVuZ3RoJiYoaD0oaD1hLmdldFpvbmUoKSkmJmguY29sb3J8fGEub3B0aW9ucy5jb2xvcnx8dGhpcy5jb2xvcik7YyYmKGE9ZihkLnN0YXRlc1tjXSxhLm9wdGlvbnMuc3RhdGVzJiZhLm9wdGlvbnMuc3RhdGVzW2NdfHx7fSksYz1hLmJyaWdodG5lc3MsaD1hLmNvbG9yfHx2b2lkIDAhPT1jJiZBKGgpLmJyaWdodGVuKGEuYnJpZ2h0bmVzcykuZ2V0KCl8fGgsbD1hW2tdfHxsLHE9YVtwXXx8cSxiPWEuZGFzaFN0eWxlfHxiKTtrPXtmaWxsOmgsXG5zdHJva2U6bCxcInN0cm9rZS13aWR0aFwiOnF9O2QuYm9yZGVyUmFkaXVzJiYoay5yPWQuYm9yZGVyUmFkaXVzKTtiJiYoay5kYXNoc3R5bGU9Yik7cmV0dXJuIGt9LGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9dGhpcy5jaGFydCxrPWEub3B0aW9ucyxsPWMucmVuZGVyZXIsYj1rLmFuaW1hdGlvbkxpbWl0fHwyNTAscDtIKGEucG9pbnRzLGZ1bmN0aW9uKGQpe3ZhciBoPWQuZ3JhcGhpYztpZihyKGQucGxvdFkpJiZudWxsIT09ZC55KXtwPWQuc2hhcGVBcmdzO2lmKGgpaFtjLnBvaW50Q291bnQ8Yj9cImFuaW1hdGVcIjpcImF0dHJcIl0oZihwKSk7ZWxzZSBkLmdyYXBoaWM9aD1sW2Quc2hhcGVUeXBlXShwKS5hZGQoZC5ncm91cHx8YS5ncm91cCk7aC5hdHRyKGEucG9pbnRBdHRyaWJzKGQsZC5zZWxlY3RlZCYmXCJzZWxlY3RcIikpLnNoYWRvdyhrLnNoYWRvdyxudWxsLGsuc3RhY2tpbmcmJiFrLmJvcmRlclJhZGl1cyk7aC5hZGRDbGFzcyhkLmdldENsYXNzTmFtZSgpLCEwKX1lbHNlIGgmJlxuKGQuZ3JhcGhpYz1oLmRlc3Ryb3koKSl9KX0sYW5pbWF0ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9dGhpcy55QXhpcyxmPWMub3B0aW9ucyxiPXRoaXMuY2hhcnQuaW52ZXJ0ZWQsaz17fTt1JiYoYT8oay5zY2FsZVk9LjAwMSxhPU1hdGgubWluKGQucG9zK2QubGVuLE1hdGgubWF4KGQucG9zLGQudG9QaXhlbHMoZi50aHJlc2hvbGQpKSksYj9rLnRyYW5zbGF0ZVg9YS1kLmxlbjprLnRyYW5zbGF0ZVk9YSxjLmdyb3VwLmF0dHIoaykpOihrW2I/XCJ0cmFuc2xhdGVYXCI6XCJ0cmFuc2xhdGVZXCJdPWQucG9zLGMuZ3JvdXAuYW5pbWF0ZShrLEcoQihjLm9wdGlvbnMuYW5pbWF0aW9uKSx7c3RlcDpmdW5jdGlvbihhLGIpe2MuZ3JvdXAuYXR0cih7c2NhbGVZOk1hdGgubWF4KC4wMDEsYi5wb3MpfSl9fSkpLGMuYW5pbWF0ZT1udWxsKSl9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLmNoYXJ0O2MuaGFzUmVuZGVyZWQmJkgoYy5zZXJpZXMsZnVuY3Rpb24oYyl7Yy50eXBlPT09XG5hLnR5cGUmJihjLmlzRGlydHk9ITApfSk7cS5wcm90b3R5cGUucmVtb3ZlLmFwcGx5KGEsYXJndW1lbnRzKX19KX0pKEwpOyhmdW5jdGlvbihhKXthPWEuc2VyaWVzVHlwZTthKFwiYmFyXCIsXCJjb2x1bW5cIixudWxsLHtpbnZlcnRlZDohMH0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuU2VyaWVzO2E9YS5zZXJpZXNUeXBlO2EoXCJzY2F0dGVyXCIsXCJsaW5lXCIse2xpbmVXaWR0aDowLGZpbmROZWFyZXN0UG9pbnRCeTpcInh5XCIsbWFya2VyOntlbmFibGVkOiEwfSx0b29sdGlwOntoZWFkZXJGb3JtYXQ6J1xceDNjc3BhbiBzdHlsZVxceDNkXCJjb2xvcjp7cG9pbnQuY29sb3J9XCJcXHgzZVxcdTI1Y2ZcXHgzYy9zcGFuXFx4M2UgXFx4M2NzcGFuIHN0eWxlXFx4M2RcImZvbnQtc2l6ZTogMC44NWVtXCJcXHgzZSB7c2VyaWVzLm5hbWV9XFx4M2Mvc3BhblxceDNlXFx4M2Nici9cXHgzZScscG9pbnRGb3JtYXQ6XCJ4OiBcXHgzY2JcXHgzZXtwb2ludC54fVxceDNjL2JcXHgzZVxceDNjYnIvXFx4M2V5OiBcXHgzY2JcXHgzZXtwb2ludC55fVxceDNjL2JcXHgzZVxceDNjYnIvXFx4M2VcIn19LFxue3NvcnRlZDohMSxyZXF1aXJlU29ydGluZzohMSxub1NoYXJlZFRvb2x0aXA6ITAsdHJhY2tlckdyb3VwczpbXCJncm91cFwiLFwibWFya2VyR3JvdXBcIixcImRhdGFMYWJlbHNHcm91cFwiXSx0YWtlT3JkaW5hbFBvc2l0aW9uOiExLGRyYXdHcmFwaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5saW5lV2lkdGgmJkIucHJvdG90eXBlLmRyYXdHcmFwaC5jYWxsKHRoaXMpfX0pfSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEucGljayxBPWEucmVsYXRpdmVMZW5ndGg7YS5DZW50ZXJlZFNlcmllc01peGluPXtnZXRDZW50ZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsRz10aGlzLmNoYXJ0LHI9MiooYS5zbGljZWRPZmZzZXR8fDApLGY9Ry5wbG90V2lkdGgtMipyLEc9Ry5wbG90SGVpZ2h0LTIqcixsPWEuY2VudGVyLGw9W0IobFswXSxcIjUwJVwiKSxCKGxbMV0sXCI1MCVcIiksYS5zaXplfHxcIjEwMCVcIixhLmlubmVyU2l6ZXx8MF0scT1NYXRoLm1pbihmLEcpLGssdTtmb3Ioaz0wOzQ+azsrK2spdT1cbmxba10sYT0yPmt8fDI9PT1rJiYvJSQvLnRlc3QodSksbFtrXT1BKHUsW2YsRyxxLGxbMl1dW2tdKSsoYT9yOjApO2xbM10+bFsyXSYmKGxbM109bFsyXSk7cmV0dXJuIGx9fX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LEE9YS5kZWZpbmVkLEg9YS5lYWNoLEc9YS5leHRlbmQscj1hLmluQXJyYXksZj1hLm5vb3AsbD1hLnBpY2sscT1hLlBvaW50LGs9YS5TZXJpZXMsdT1hLnNlcmllc1R5cGUsZD1hLnNldEFuaW1hdGlvbjt1KFwicGllXCIsXCJsaW5lXCIse2NlbnRlcjpbbnVsbCxudWxsXSxjbGlwOiExLGNvbG9yQnlQb2ludDohMCxkYXRhTGFiZWxzOntkaXN0YW5jZTozMCxlbmFibGVkOiEwLGZvcm1hdHRlcjpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy55P3ZvaWQgMDp0aGlzLnBvaW50Lm5hbWV9LHg6MH0saWdub3JlSGlkZGVuUG9pbnQ6ITAsbGVnZW5kVHlwZTpcInBvaW50XCIsbWFya2VyOm51bGwsc2l6ZTpudWxsLHNob3dJbkxlZ2VuZDohMSxzbGljZWRPZmZzZXQ6MTAsXG5zdGlja3lUcmFja2luZzohMSx0b29sdGlwOntmb2xsb3dQb2ludGVyOiEwfSxib3JkZXJDb2xvcjpcIiNmZmZmZmZcIixib3JkZXJXaWR0aDoxLHN0YXRlczp7aG92ZXI6e2JyaWdodG5lc3M6LjEsc2hhZG93OiExfX19LHtpc0NhcnRlc2lhbjohMSxyZXF1aXJlU29ydGluZzohMSxkaXJlY3RUb3VjaDohMCxub1NoYXJlZFRvb2x0aXA6ITAsdHJhY2tlckdyb3VwczpbXCJncm91cFwiLFwiZGF0YUxhYmVsc0dyb3VwXCJdLGF4aXNUeXBlczpbXSxwb2ludEF0dHJpYnM6YS5zZXJpZXNUeXBlcy5jb2x1bW4ucHJvdG90eXBlLnBvaW50QXR0cmlicyxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZD1jLnBvaW50cyxiPWMuc3RhcnRBbmdsZVJhZDthfHwoSChkLGZ1bmN0aW9uKGEpe3ZhciBkPWEuZ3JhcGhpYyxmPWEuc2hhcGVBcmdzO2QmJihkLmF0dHIoe3I6YS5zdGFydFJ8fGMuY2VudGVyWzNdLzIsc3RhcnQ6YixlbmQ6Yn0pLGQuYW5pbWF0ZSh7cjpmLnIsc3RhcnQ6Zi5zdGFydCxlbmQ6Zi5lbmR9LFxuYy5vcHRpb25zLmFuaW1hdGlvbikpfSksYy5hbmltYXRlPW51bGwpfSx1cGRhdGVUb3RhbHM6ZnVuY3Rpb24oKXt2YXIgYSxkPTAsZj10aGlzLnBvaW50cyxiPWYubGVuZ3RoLGssaD10aGlzLm9wdGlvbnMuaWdub3JlSGlkZGVuUG9pbnQ7Zm9yKGE9MDthPGI7YSsrKWs9ZlthXSwwPmsueSYmKGsueT1udWxsKSxkKz1oJiYhay52aXNpYmxlPzA6ay55O3RoaXMudG90YWw9ZDtmb3IoYT0wO2E8YjthKyspaz1mW2FdLGsucGVyY2VudGFnZT0wPGQmJihrLnZpc2libGV8fCFoKT9rLnkvZCoxMDA6MCxrLnRvdGFsPWR9LGdlbmVyYXRlUG9pbnRzOmZ1bmN0aW9uKCl7ay5wcm90b3R5cGUuZ2VuZXJhdGVQb2ludHMuY2FsbCh0aGlzKTt0aGlzLnVwZGF0ZVRvdGFscygpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSl7dGhpcy5nZW5lcmF0ZVBvaW50cygpO3ZhciBjPTAsZD10aGlzLm9wdGlvbnMsYj1kLnNsaWNlZE9mZnNldCxmPWIrKGQuYm9yZGVyV2lkdGh8fDApLGgsayxxLHc9ZC5zdGFydEFuZ2xlfHxcbjAsZT10aGlzLnN0YXJ0QW5nbGVSYWQ9TWF0aC5QSS8xODAqKHctOTApLHc9KHRoaXMuZW5kQW5nbGVSYWQ9TWF0aC5QSS8xODAqKGwoZC5lbmRBbmdsZSx3KzM2MCktOTApKS1lLHI9dGhpcy5wb2ludHMsdT1kLmRhdGFMYWJlbHMuZGlzdGFuY2UsZD1kLmlnbm9yZUhpZGRlblBvaW50LEUsbT1yLmxlbmd0aCx5O2F8fCh0aGlzLmNlbnRlcj1hPXRoaXMuZ2V0Q2VudGVyKCkpO3RoaXMuZ2V0WD1mdW5jdGlvbihiLGMpe3E9TWF0aC5hc2luKE1hdGgubWluKChiLWFbMV0pLyhhWzJdLzIrdSksMSkpO3JldHVybiBhWzBdKyhjPy0xOjEpKk1hdGguY29zKHEpKihhWzJdLzIrdSl9O2ZvcihFPTA7RTxtO0UrKyl7eT1yW0VdO2g9ZStjKnc7aWYoIWR8fHkudmlzaWJsZSljKz15LnBlcmNlbnRhZ2UvMTAwO2s9ZStjKnc7eS5zaGFwZVR5cGU9XCJhcmNcIjt5LnNoYXBlQXJncz17eDphWzBdLHk6YVsxXSxyOmFbMl0vMixpbm5lclI6YVszXS8yLHN0YXJ0Ok1hdGgucm91bmQoMUUzKmgpLzFFMyxlbmQ6TWF0aC5yb3VuZCgxRTMqXG5rKS8xRTN9O3E9KGsraCkvMjtxPjEuNSpNYXRoLlBJP3EtPTIqTWF0aC5QSTpxPC1NYXRoLlBJLzImJihxKz0yKk1hdGguUEkpO3kuc2xpY2VkVHJhbnNsYXRpb249e3RyYW5zbGF0ZVg6TWF0aC5yb3VuZChNYXRoLmNvcyhxKSpiKSx0cmFuc2xhdGVZOk1hdGgucm91bmQoTWF0aC5zaW4ocSkqYil9O2g9TWF0aC5jb3MocSkqYVsyXS8yO2s9TWF0aC5zaW4ocSkqYVsyXS8yO3kudG9vbHRpcFBvcz1bYVswXSsuNypoLGFbMV0rLjcqa107eS5oYWxmPXE8LU1hdGguUEkvMnx8cT5NYXRoLlBJLzI/MTowO3kuYW5nbGU9cTtmPU1hdGgubWluKGYsdS81KTt5LmxhYmVsUG9zPVthWzBdK2grTWF0aC5jb3MocSkqdSxhWzFdK2srTWF0aC5zaW4ocSkqdSxhWzBdK2grTWF0aC5jb3MocSkqZixhWzFdK2srTWF0aC5zaW4ocSkqZixhWzBdK2gsYVsxXStrLDA+dT9cImNlbnRlclwiOnkuaGFsZj9cInJpZ2h0XCI6XCJsZWZ0XCIscV19fSxkcmF3R3JhcGg6bnVsbCxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLGQ9YS5jaGFydC5yZW5kZXJlcixmLGIsayxoLGw9YS5vcHRpb25zLnNoYWRvdztsJiYhYS5zaGFkb3dHcm91cCYmKGEuc2hhZG93R3JvdXA9ZC5nKFwic2hhZG93XCIpLmFkZChhLmdyb3VwKSk7SChhLnBvaW50cyxmdW5jdGlvbihjKXtpZihudWxsIT09Yy55KXtiPWMuZ3JhcGhpYztoPWMuc2hhcGVBcmdzO2Y9Yy5nZXRUcmFuc2xhdGUoKTt2YXIgcD1jLnNoYWRvd0dyb3VwO2wmJiFwJiYocD1jLnNoYWRvd0dyb3VwPWQuZyhcInNoYWRvd1wiKS5hZGQoYS5zaGFkb3dHcm91cCkpO3AmJnAuYXR0cihmKTtrPWEucG9pbnRBdHRyaWJzKGMsYy5zZWxlY3RlZCYmXCJzZWxlY3RcIik7Yj9iLnNldFJhZGlhbFJlZmVyZW5jZShhLmNlbnRlcikuYXR0cihrKS5hbmltYXRlKEcoaCxmKSk6KGMuZ3JhcGhpYz1iPWRbYy5zaGFwZVR5cGVdKGgpLnNldFJhZGlhbFJlZmVyZW5jZShhLmNlbnRlcikuYXR0cihmKS5hZGQoYS5ncm91cCksYy52aXNpYmxlfHxiLmF0dHIoe3Zpc2liaWxpdHk6XCJoaWRkZW5cIn0pLFxuYi5hdHRyKGspLmF0dHIoe1wic3Ryb2tlLWxpbmVqb2luXCI6XCJyb3VuZFwifSkuc2hhZG93KGwscCkpO2IuYWRkQ2xhc3MoYy5nZXRDbGFzc05hbWUoKSl9fSl9LHNlYXJjaFBvaW50OmYsc29ydEJ5QW5nbGU6ZnVuY3Rpb24oYSxkKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwIT09YS5hbmdsZSYmKGIuYW5nbGUtYS5hbmdsZSkqZH0pfSxkcmF3TGVnZW5kU3ltYm9sOmEuTGVnZW5kU3ltYm9sTWl4aW4uZHJhd1JlY3RhbmdsZSxnZXRDZW50ZXI6YS5DZW50ZXJlZFNlcmllc01peGluLmdldENlbnRlcixnZXRTeW1ib2w6Zn0se2luaXQ6ZnVuY3Rpb24oKXtxLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYT10aGlzLGQ7YS5uYW1lPWwoYS5uYW1lLFwiU2xpY2VcIik7ZD1mdW5jdGlvbihjKXthLnNsaWNlKFwic2VsZWN0XCI9PT1jLnR5cGUpfTtCKGEsXCJzZWxlY3RcIixkKTtCKGEsXCJ1bnNlbGVjdFwiLGQpO3JldHVybiBhfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEsXG5kKXt2YXIgYz10aGlzLGI9Yy5zZXJpZXMsZj1iLmNoYXJ0LGg9Yi5vcHRpb25zLmlnbm9yZUhpZGRlblBvaW50O2Q9bChkLGgpO2EhPT1jLnZpc2libGUmJihjLnZpc2libGU9Yy5vcHRpb25zLnZpc2libGU9YT12b2lkIDA9PT1hPyFjLnZpc2libGU6YSxiLm9wdGlvbnMuZGF0YVtyKGMsYi5kYXRhKV09Yy5vcHRpb25zLEgoW1wiZ3JhcGhpY1wiLFwiZGF0YUxhYmVsXCIsXCJjb25uZWN0b3JcIixcInNoYWRvd0dyb3VwXCJdLGZ1bmN0aW9uKGIpe2lmKGNbYl0pY1tiXVthP1wic2hvd1wiOlwiaGlkZVwiXSghMCl9KSxjLmxlZ2VuZEl0ZW0mJmYubGVnZW5kLmNvbG9yaXplSXRlbShjLGEpLGF8fFwiaG92ZXJcIiE9PWMuc3RhdGV8fGMuc2V0U3RhdGUoXCJcIiksaCYmKGIuaXNEaXJ0eT0hMCksZCYmZi5yZWRyYXcoKSl9LHNsaWNlOmZ1bmN0aW9uKGEsZixrKXt2YXIgYj10aGlzLnNlcmllcztkKGssYi5jaGFydCk7bChmLCEwKTt0aGlzLnNsaWNlZD10aGlzLm9wdGlvbnMuc2xpY2VkPUEoYSk/YTohdGhpcy5zbGljZWQ7XG5iLm9wdGlvbnMuZGF0YVtyKHRoaXMsYi5kYXRhKV09dGhpcy5vcHRpb25zO3RoaXMuZ3JhcGhpYy5hbmltYXRlKHRoaXMuZ2V0VHJhbnNsYXRlKCkpO3RoaXMuc2hhZG93R3JvdXAmJnRoaXMuc2hhZG93R3JvdXAuYW5pbWF0ZSh0aGlzLmdldFRyYW5zbGF0ZSgpKX0sZ2V0VHJhbnNsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2xpY2VkP3RoaXMuc2xpY2VkVHJhbnNsYXRpb246e3RyYW5zbGF0ZVg6MCx0cmFuc2xhdGVZOjB9fSxoYWxvUGF0aDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnNoYXBlQXJncztyZXR1cm4gdGhpcy5zbGljZWR8fCF0aGlzLnZpc2libGU/W106dGhpcy5zZXJpZXMuY2hhcnQucmVuZGVyZXIuc3ltYm9scy5hcmMoYy54LGMueSxjLnIrYSxjLnIrYSx7aW5uZXJSOnRoaXMuc2hhcGVBcmdzLnIsc3RhcnQ6Yy5zdGFydCxlbmQ6Yy5lbmR9KX19KX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LEE9YS5hcnJheU1heCxIPWEuZGVmaW5lZCxHPWEuZWFjaCxcbnI9YS5leHRlbmQsZj1hLmZvcm1hdCxsPWEubWFwLHE9YS5tZXJnZSxrPWEubm9vcCx1PWEucGljayxkPWEucmVsYXRpdmVMZW5ndGgsYz1hLlNlcmllcyxuPWEuc2VyaWVzVHlwZXMsej1hLnN0YWJsZVNvcnQ7YS5kaXN0cmlidXRlPWZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBhLnRhcmdldC1iLnRhcmdldH12YXIgZCxmPSEwLGs9YSxlPVtdLHA7cD0wO2ZvcihkPWEubGVuZ3RoO2QtLTspcCs9YVtkXS5zaXplO2lmKHA+Yyl7eihhLGZ1bmN0aW9uKGEsYil7cmV0dXJuKGIucmFua3x8MCktKGEucmFua3x8MCl9KTtmb3IocD1kPTA7cDw9YzspcCs9YVtkXS5zaXplLGQrKztlPWEuc3BsaWNlKGQtMSxhLmxlbmd0aCl9eihhLGIpO2ZvcihhPWwoYSxmdW5jdGlvbihhKXtyZXR1cm57c2l6ZTphLnNpemUsdGFyZ2V0czpbYS50YXJnZXRdfX0pO2Y7KXtmb3IoZD1hLmxlbmd0aDtkLS07KWY9YVtkXSxwPShNYXRoLm1pbi5hcHBseSgwLGYudGFyZ2V0cykrTWF0aC5tYXguYXBwbHkoMCxcbmYudGFyZ2V0cykpLzIsZi5wb3M9TWF0aC5taW4oTWF0aC5tYXgoMCxwLWYuc2l6ZS8yKSxjLWYuc2l6ZSk7ZD1hLmxlbmd0aDtmb3IoZj0hMTtkLS07KTA8ZCYmYVtkLTFdLnBvcythW2QtMV0uc2l6ZT5hW2RdLnBvcyYmKGFbZC0xXS5zaXplKz1hW2RdLnNpemUsYVtkLTFdLnRhcmdldHM9YVtkLTFdLnRhcmdldHMuY29uY2F0KGFbZF0udGFyZ2V0cyksYVtkLTFdLnBvcythW2QtMV0uc2l6ZT5jJiYoYVtkLTFdLnBvcz1jLWFbZC0xXS5zaXplKSxhLnNwbGljZShkLDEpLGY9ITApfWQ9MDtHKGEsZnVuY3Rpb24oYSl7dmFyIGI9MDtHKGEudGFyZ2V0cyxmdW5jdGlvbigpe2tbZF0ucG9zPWEucG9zK2I7Yis9a1tkXS5zaXplO2QrK30pfSk7ay5wdXNoLmFwcGx5KGssZSk7eihrLGIpfTtjLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLm9wdGlvbnMsZD1jLmRhdGFMYWJlbHMsaz1hLnBvaW50cyxsLG4sZT1hLmhhc1JlbmRlcmVkfHwwLHIsQyxcbkU9dShkLmRlZmVyLCEwKSxtPWEuY2hhcnQucmVuZGVyZXI7aWYoZC5lbmFibGVkfHxhLl9oYXNQb2ludExhYmVscylhLmRsUHJvY2Vzc09wdGlvbnMmJmEuZGxQcm9jZXNzT3B0aW9ucyhkKSxDPWEucGxvdEdyb3VwKFwiZGF0YUxhYmVsc0dyb3VwXCIsXCJkYXRhLWxhYmVsc1wiLEUmJiFlP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIsZC56SW5kZXh8fDYpLEUmJihDLmF0dHIoe29wYWNpdHk6K2V9KSxlfHxCKGEsXCJhZnRlckFuaW1hdGVcIixmdW5jdGlvbigpe2EudmlzaWJsZSYmQy5zaG93KCEwKTtDW2MuYW5pbWF0aW9uP1wiYW5pbWF0ZVwiOlwiYXR0clwiXSh7b3BhY2l0eToxfSx7ZHVyYXRpb246MjAwfSl9KSksbj1kLEcoayxmdW5jdGlvbihiKXt2YXIgZSxoPWIuZGF0YUxhYmVsLGssZyxwLHQ9Yi5jb25uZWN0b3Isdz0haCx4O2w9Yi5kbE9wdGlvbnN8fGIub3B0aW9ucyYmYi5vcHRpb25zLmRhdGFMYWJlbHM7aWYoZT11KGwmJmwuZW5hYmxlZCxuLmVuYWJsZWQpJiZudWxsIT09Yi55KWZvcihnIGluIGQ9XG5xKG4sbCksaz1iLmdldExhYmVsQ29uZmlnKCkscj1kLmZvcm1hdD9mKGQuZm9ybWF0LGspOmQuZm9ybWF0dGVyLmNhbGwoayxkKSx4PWQuc3R5bGUscD1kLnJvdGF0aW9uLHguY29sb3I9dShkLmNvbG9yLHguY29sb3IsYS5jb2xvcixcIiMwMDAwMDBcIiksXCJjb250cmFzdFwiPT09eC5jb2xvciYmKGIuY29udHJhc3RDb2xvcj1tLmdldENvbnRyYXN0KGIuY29sb3J8fGEuY29sb3IpLHguY29sb3I9ZC5pbnNpZGV8fDA+ZC5kaXN0YW5jZXx8Yy5zdGFja2luZz9iLmNvbnRyYXN0Q29sb3I6XCIjMDAwMDAwXCIpLGMuY3Vyc29yJiYoeC5jdXJzb3I9Yy5jdXJzb3IpLGs9e2ZpbGw6ZC5iYWNrZ3JvdW5kQ29sb3Isc3Ryb2tlOmQuYm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjpkLmJvcmRlcldpZHRoLHI6ZC5ib3JkZXJSYWRpdXN8fDAscm90YXRpb246cCxwYWRkaW5nOmQucGFkZGluZyx6SW5kZXg6MX0sayl2b2lkIDA9PT1rW2ddJiZkZWxldGUga1tnXTshaHx8ZSYmSChyKT9lJiZIKHIpJiYoaD9cbmsudGV4dD1yOihoPWIuZGF0YUxhYmVsPW1bcD9cInRleHRcIjpcImxhYmVsXCJdKHIsMCwtOTk5OSxkLnNoYXBlLG51bGwsbnVsbCxkLnVzZUhUTUwsbnVsbCxcImRhdGEtbGFiZWxcIiksaC5hZGRDbGFzcyhcImhpZ2hjaGFydHMtZGF0YS1sYWJlbC1jb2xvci1cIitiLmNvbG9ySW5kZXgrXCIgXCIrKGQuY2xhc3NOYW1lfHxcIlwiKSsoZC51c2VIVE1MP1wiaGlnaGNoYXJ0cy10cmFja2VyXCI6XCJcIikpKSxoLmF0dHIoayksaC5jc3MoeCkuc2hhZG93KGQuc2hhZG93KSxoLmFkZGVkfHxoLmFkZChDKSxhLmFsaWduRGF0YUxhYmVsKGIsaCxkLG51bGwsdykpOihiLmRhdGFMYWJlbD1oLmRlc3Ryb3koKSx0JiYoYi5jb25uZWN0b3I9dC5kZXN0cm95KCkpKX0pfTtjLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1mdW5jdGlvbihhLGMsZCxmLGspe3ZhciBiPXRoaXMuY2hhcnQsZT1iLmludmVydGVkLGg9dShhLnBsb3RYLC05OTk5KSxsPXUoYS5wbG90WSwtOTk5OSkscD1jLmdldEJCb3goKSxtLG49ZC5yb3RhdGlvbixcbnE9ZC5hbGlnbix0PXRoaXMudmlzaWJsZSYmKGEuc2VyaWVzLmZvcmNlREx8fGIuaXNJbnNpZGVQbG90KGgsTWF0aC5yb3VuZChsKSxlKXx8ZiYmYi5pc0luc2lkZVBsb3QoaCxlP2YueCsxOmYueStmLmhlaWdodC0xLGUpKSxEPVwianVzdGlmeVwiPT09dShkLm92ZXJmbG93LFwianVzdGlmeVwiKTt0JiYobT1kLnN0eWxlLmZvbnRTaXplLG09Yi5yZW5kZXJlci5mb250TWV0cmljcyhtLGMpLmIsZj1yKHt4OmU/Yi5wbG90V2lkdGgtbDpoLHk6TWF0aC5yb3VuZChlP2IucGxvdEhlaWdodC1oOmwpLHdpZHRoOjAsaGVpZ2h0OjB9LGYpLHIoZCx7d2lkdGg6cC53aWR0aCxoZWlnaHQ6cC5oZWlnaHR9KSxuPyhEPSExLGU9Yi5yZW5kZXJlci5yb3RDb3JyKG0sbiksZT17eDpmLngrZC54K2Yud2lkdGgvMitlLngseTpmLnkrZC55K3t0b3A6MCxtaWRkbGU6LjUsYm90dG9tOjF9W2QudmVydGljYWxBbGlnbl0qZi5oZWlnaHR9LGNbaz9cImF0dHJcIjpcImFuaW1hdGVcIl0oZSkuYXR0cih7YWxpZ246cX0pLFxuaD0obis3MjApJTM2MCxoPTE4MDxoJiYzNjA+aCxcImxlZnRcIj09PXE/ZS55LT1oP3AuaGVpZ2h0OjA6XCJjZW50ZXJcIj09PXE/KGUueC09cC53aWR0aC8yLGUueS09cC5oZWlnaHQvMik6XCJyaWdodFwiPT09cSYmKGUueC09cC53aWR0aCxlLnktPWg/MDpwLmhlaWdodCkpOihjLmFsaWduKGQsbnVsbCxmKSxlPWMuYWxpZ25BdHRyKSxEP2EuaXNMYWJlbEp1c3RpZmllZD10aGlzLmp1c3RpZnlEYXRhTGFiZWwoYyxkLGUscCxmLGspOnUoZC5jcm9wLCEwKSYmKHQ9Yi5pc0luc2lkZVBsb3QoZS54LGUueSkmJmIuaXNJbnNpZGVQbG90KGUueCtwLndpZHRoLGUueStwLmhlaWdodCkpLGQuc2hhcGUmJiFuJiZjLmF0dHIoe2FuY2hvclg6YS5wbG90WCxhbmNob3JZOmEucGxvdFl9KSk7dHx8KGMuYXR0cih7eTotOTk5OX0pLGMucGxhY2VkPSExKX07Yy5wcm90b3R5cGUuanVzdGlmeURhdGFMYWJlbD1mdW5jdGlvbihhLGMsZCxmLGssbCl7dmFyIGI9dGhpcy5jaGFydCxoPWMuYWxpZ24scD1jLnZlcnRpY2FsQWxpZ24sXG5uLG0scT1hLmJveD8wOmEucGFkZGluZ3x8MDtuPWQueCtxOzA+biYmKFwicmlnaHRcIj09PWg/Yy5hbGlnbj1cImxlZnRcIjpjLng9LW4sbT0hMCk7bj1kLngrZi53aWR0aC1xO24+Yi5wbG90V2lkdGgmJihcImxlZnRcIj09PWg/Yy5hbGlnbj1cInJpZ2h0XCI6Yy54PWIucGxvdFdpZHRoLW4sbT0hMCk7bj1kLnkrcTswPm4mJihcImJvdHRvbVwiPT09cD9jLnZlcnRpY2FsQWxpZ249XCJ0b3BcIjpjLnk9LW4sbT0hMCk7bj1kLnkrZi5oZWlnaHQtcTtuPmIucGxvdEhlaWdodCYmKFwidG9wXCI9PT1wP2MudmVydGljYWxBbGlnbj1cImJvdHRvbVwiOmMueT1iLnBsb3RIZWlnaHQtbixtPSEwKTttJiYoYS5wbGFjZWQ9IWwsYS5hbGlnbihjLG51bGwsaykpO3JldHVybiBtfTtuLnBpZSYmKG4ucGllLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscz1mdW5jdGlvbigpe3ZhciBiPXRoaXMsZD1iLmRhdGEsZixrPWIuY2hhcnQsbj1iLm9wdGlvbnMuZGF0YUxhYmVscyxxPXUobi5jb25uZWN0b3JQYWRkaW5nLDEwKSxlPXUobi5jb25uZWN0b3JXaWR0aCxcbjEpLHI9ay5wbG90V2lkdGgsQz1rLnBsb3RIZWlnaHQsRSxtPW4uZGlzdGFuY2UseT1iLmNlbnRlcix6PXlbMl0vMixCPXlbMV0sSD0wPG0sZyxGLEwsTixQPVtbXSxbXV0sTyx2LE0sUixTPVswLDAsMCwwXTtiLnZpc2libGUmJihuLmVuYWJsZWR8fGIuX2hhc1BvaW50TGFiZWxzKSYmKEcoZCxmdW5jdGlvbihhKXthLmRhdGFMYWJlbCYmYS52aXNpYmxlJiZhLmRhdGFMYWJlbC5zaG9ydGVuZWQmJihhLmRhdGFMYWJlbC5hdHRyKHt3aWR0aDpcImF1dG9cIn0pLmNzcyh7d2lkdGg6XCJhdXRvXCIsdGV4dE92ZXJmbG93OlwiY2xpcFwifSksYS5kYXRhTGFiZWwuc2hvcnRlbmVkPSExKX0pLGMucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzLmFwcGx5KGIpLEcoZCxmdW5jdGlvbihhKXthLmRhdGFMYWJlbCYmYS52aXNpYmxlJiYoUFthLmhhbGZdLnB1c2goYSksYS5kYXRhTGFiZWwuX3Bvcz1udWxsKX0pLEcoUCxmdW5jdGlvbihjLGUpe3ZhciBkLGgscD1jLmxlbmd0aCx0LHcsdTtpZihwKWZvcihiLnNvcnRCeUFuZ2xlKGMsXG5lLS41KSwwPG0mJihkPU1hdGgubWF4KDAsQi16LW0pLGg9TWF0aC5taW4oQit6K20say5wbG90SGVpZ2h0KSx0PWwoYyxmdW5jdGlvbihhKXtpZihhLmRhdGFMYWJlbClyZXR1cm4gdT1hLmRhdGFMYWJlbC5nZXRCQm94KCkuaGVpZ2h0fHwyMSx7dGFyZ2V0OmEubGFiZWxQb3NbMV0tZCt1LzIsc2l6ZTp1LHJhbms6YS55fX0pLGEuZGlzdHJpYnV0ZSh0LGgrdS1kKSksUj0wO1I8cDtSKyspZj1jW1JdLEw9Zi5sYWJlbFBvcyxnPWYuZGF0YUxhYmVsLE09ITE9PT1mLnZpc2libGU/XCJoaWRkZW5cIjpcImluaGVyaXRcIix3PUxbMV0sdD92b2lkIDA9PT10W1JdLnBvcz9NPVwiaGlkZGVuXCI6KE49dFtSXS5zaXplLHY9ZCt0W1JdLnBvcyk6dj13LE89bi5qdXN0aWZ5P3lbMF0rKGU/LTE6MSkqKHorbSk6Yi5nZXRYKHY8ZCsyfHx2PmgtMj93OnYsZSksZy5fYXR0cj17dmlzaWJpbGl0eTpNLGFsaWduOkxbNl19LGcuX3Bvcz17eDpPK24ueCsoe2xlZnQ6cSxyaWdodDotcX1bTFs2XV18fDApLHk6ditcbm4ueS0xMH0sTC54PU8sTC55PXYsbnVsbD09PWIub3B0aW9ucy5zaXplJiYoRj1nLmdldEJCb3goKS53aWR0aCx3PW51bGwsTy1GPHE/KHc9TWF0aC5yb3VuZChGLU8rcSksU1szXT1NYXRoLm1heCh3LFNbM10pKTpPK0Y+ci1xJiYodz1NYXRoLnJvdW5kKE8rRi1yK3EpLFNbMV09TWF0aC5tYXgodyxTWzFdKSksMD52LU4vMj9TWzBdPU1hdGgubWF4KE1hdGgucm91bmQoLXYrTi8yKSxTWzBdKTp2K04vMj5DJiYoU1syXT1NYXRoLm1heChNYXRoLnJvdW5kKHYrTi8yLUMpLFNbMl0pKSxnLnNpZGVPdmVyZmxvdz13KX0pLDA9PT1BKFMpfHx0aGlzLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93KFMpKSYmKHRoaXMucGxhY2VEYXRhTGFiZWxzKCksSCYmZSYmRyh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXt2YXIgYztFPWEuY29ubmVjdG9yO2lmKChnPWEuZGF0YUxhYmVsKSYmZy5fcG9zJiZhLnZpc2libGUpe009Zy5fYXR0ci52aXNpYmlsaXR5O2lmKGM9IUUpYS5jb25uZWN0b3I9RT1rLnJlbmRlcmVyLnBhdGgoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtZGF0YS1sYWJlbC1jb25uZWN0b3IgaGlnaGNoYXJ0cy1jb2xvci1cIitcbmEuY29sb3JJbmRleCkuYWRkKGIuZGF0YUxhYmVsc0dyb3VwKSxFLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6ZSxzdHJva2U6bi5jb25uZWN0b3JDb2xvcnx8YS5jb2xvcnx8XCIjNjY2NjY2XCJ9KTtFW2M/XCJhdHRyXCI6XCJhbmltYXRlXCJdKHtkOmIuY29ubmVjdG9yUGF0aChhLmxhYmVsUG9zKX0pO0UuYXR0cihcInZpc2liaWxpdHlcIixNKX1lbHNlIEUmJihhLmNvbm5lY3Rvcj1FLmRlc3Ryb3koKSl9KSl9LG4ucGllLnByb3RvdHlwZS5jb25uZWN0b3JQYXRoPWZ1bmN0aW9uKGEpe3ZhciBiPWEueCxjPWEueTtyZXR1cm4gdSh0aGlzLm9wdGlvbnMuZGF0YUxhYmVscy5zb2Z0Q29ubmVjdG9yLCEwKT9bXCJNXCIsYisoXCJsZWZ0XCI9PT1hWzZdPzU6LTUpLGMsXCJDXCIsYixjLDIqYVsyXS1hWzRdLDIqYVszXS1hWzVdLGFbMl0sYVszXSxcIkxcIixhWzRdLGFbNV1dOltcIk1cIixiKyhcImxlZnRcIj09PWFbNl0/NTotNSksYyxcIkxcIixhWzJdLGFbM10sXCJMXCIsYVs0XSxhWzVdXX0sbi5waWUucHJvdG90eXBlLnBsYWNlRGF0YUxhYmVscz1cbmZ1bmN0aW9uKCl7Ryh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFMYWJlbDtiJiZhLnZpc2libGUmJigoYT1iLl9wb3MpPyhiLnNpZGVPdmVyZmxvdyYmKGIuX2F0dHIud2lkdGg9Yi5nZXRCQm94KCkud2lkdGgtYi5zaWRlT3ZlcmZsb3csYi5jc3Moe3dpZHRoOmIuX2F0dHIud2lkdGgrXCJweFwiLHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCJ9KSxiLnNob3J0ZW5lZD0hMCksYi5hdHRyKGIuX2F0dHIpLGJbYi5tb3ZlZD9cImFuaW1hdGVcIjpcImF0dHJcIl0oYSksYi5tb3ZlZD0hMCk6YiYmYi5hdHRyKHt5Oi05OTk5fSkpfSx0aGlzKX0sbi5waWUucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsPWssbi5waWUucHJvdG90eXBlLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2VudGVyLGM9dGhpcy5vcHRpb25zLGY9Yy5jZW50ZXIsaz1jLm1pblNpemV8fDgwLGwsZTtudWxsIT09ZlswXT9sPU1hdGgubWF4KGJbMl0tTWF0aC5tYXgoYVsxXSxhWzNdKSxcbmspOihsPU1hdGgubWF4KGJbMl0tYVsxXS1hWzNdLGspLGJbMF0rPShhWzNdLWFbMV0pLzIpO251bGwhPT1mWzFdP2w9TWF0aC5tYXgoTWF0aC5taW4obCxiWzJdLU1hdGgubWF4KGFbMF0sYVsyXSkpLGspOihsPU1hdGgubWF4KE1hdGgubWluKGwsYlsyXS1hWzBdLWFbMl0pLGspLGJbMV0rPShhWzBdLWFbMl0pLzIpO2w8YlsyXT8oYlsyXT1sLGJbM109TWF0aC5taW4oZChjLmlubmVyU2l6ZXx8MCxsKSxsKSx0aGlzLnRyYW5zbGF0ZShiKSx0aGlzLmRyYXdEYXRhTGFiZWxzJiZ0aGlzLmRyYXdEYXRhTGFiZWxzKCkpOmU9ITA7cmV0dXJuIGV9KTtuLmNvbHVtbiYmKG4uY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1mdW5jdGlvbihhLGQsZixrLGwpe3ZhciBiPXRoaXMuY2hhcnQuaW52ZXJ0ZWQsZT1hLnNlcmllcyxoPWEuZGxCb3h8fGEuc2hhcGVBcmdzLG49dShhLmJlbG93LGEucGxvdFk+dSh0aGlzLnRyYW5zbGF0ZWRUaHJlc2hvbGQsZS55QXhpcy5sZW4pKSxwPXUoZi5pbnNpZGUsXG4hIXRoaXMub3B0aW9ucy5zdGFja2luZyk7aCYmKGs9cShoKSwwPmsueSYmKGsuaGVpZ2h0Kz1rLnksay55PTApLGg9ay55K2suaGVpZ2h0LWUueUF4aXMubGVuLDA8aCYmKGsuaGVpZ2h0LT1oKSxiJiYoaz17eDplLnlBeGlzLmxlbi1rLnktay5oZWlnaHQseTplLnhBeGlzLmxlbi1rLngtay53aWR0aCx3aWR0aDprLmhlaWdodCxoZWlnaHQ6ay53aWR0aH0pLHB8fChiPyhrLngrPW4/MDprLndpZHRoLGsud2lkdGg9MCk6KGsueSs9bj9rLmhlaWdodDowLGsuaGVpZ2h0PTApKSk7Zi5hbGlnbj11KGYuYWxpZ24sIWJ8fHA/XCJjZW50ZXJcIjpuP1wicmlnaHRcIjpcImxlZnRcIik7Zi52ZXJ0aWNhbEFsaWduPXUoZi52ZXJ0aWNhbEFsaWduLGJ8fHA/XCJtaWRkbGVcIjpuP1widG9wXCI6XCJib3R0b21cIik7Yy5wcm90b3R5cGUuYWxpZ25EYXRhTGFiZWwuY2FsbCh0aGlzLGEsZCxmLGssbCk7YS5pc0xhYmVsSnVzdGlmaWVkJiZhLmNvbnRyYXN0Q29sb3ImJmEuZGF0YUxhYmVsLmNzcyh7Y29sb3I6YS5jb250cmFzdENvbG9yfSl9KX0pKEwpO1xuKGZ1bmN0aW9uKGEpe3ZhciBCPWEuQ2hhcnQsQT1hLmVhY2gsSD1hLnBpY2ssRz1hLmFkZEV2ZW50O0IucHJvdG90eXBlLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoKXt2YXIgZj1bXTtBKGEuc2VyaWVzfHxbXSxmdW5jdGlvbihhKXt2YXIgaz1hLm9wdGlvbnMuZGF0YUxhYmVscyxsPWEuZGF0YUxhYmVsQ29sbGVjdGlvbnN8fFtcImRhdGFMYWJlbFwiXTsoay5lbmFibGVkfHxhLl9oYXNQb2ludExhYmVscykmJiFrLmFsbG93T3ZlcmxhcCYmYS52aXNpYmxlJiZBKGwsZnVuY3Rpb24oZCl7QShhLnBvaW50cyxmdW5jdGlvbihhKXthW2RdJiYoYVtkXS5sYWJlbHJhbms9SChhLmxhYmVscmFuayxhLnNoYXBlQXJncyYmYS5zaGFwZUFyZ3MuaGVpZ2h0KSxmLnB1c2goYVtkXSkpfSl9KX0pO2EuaGlkZU92ZXJsYXBwaW5nTGFiZWxzKGYpfWYoKTtHKGEsXCJyZWRyYXdcIixmKX0pO0IucHJvdG90eXBlLmhpZGVPdmVybGFwcGluZ0xhYmVscz1mdW5jdGlvbihhKXt2YXIgZj1cbmEubGVuZ3RoLGwscSxrLHIsZCxjLG4seixiLHA9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsayxsKXtyZXR1cm4hKGU+YStjfHxlK2s8YXx8Zj5iK2R8fGYrbDxiKX07Zm9yKHE9MDtxPGY7cSsrKWlmKGw9YVtxXSlsLm9sZE9wYWNpdHk9bC5vcGFjaXR5LGwubmV3T3BhY2l0eT0xO2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybihiLmxhYmVscmFua3x8MCktKGEubGFiZWxyYW5rfHwwKX0pO2ZvcihxPTA7cTxmO3ErKylmb3Ioaz1hW3FdLGw9cSsxO2w8ZjsrK2wpaWYocj1hW2xdLGsmJnImJmshPT1yJiZrLnBsYWNlZCYmci5wbGFjZWQmJjAhPT1rLm5ld09wYWNpdHkmJjAhPT1yLm5ld09wYWNpdHkmJihkPWsuYWxpZ25BdHRyLGM9ci5hbGlnbkF0dHIsbj1rLnBhcmVudEdyb3VwLHo9ci5wYXJlbnRHcm91cCxiPTIqKGsuYm94PzA6ay5wYWRkaW5nKSxkPXAoZC54K24udHJhbnNsYXRlWCxkLnkrbi50cmFuc2xhdGVZLGsud2lkdGgtYixrLmhlaWdodC1iLGMueCt6LnRyYW5zbGF0ZVgsYy55K1xuei50cmFuc2xhdGVZLHIud2lkdGgtYixyLmhlaWdodC1iKSkpKGsubGFiZWxyYW5rPHIubGFiZWxyYW5rP2s6cikubmV3T3BhY2l0eT0wO0EoYSxmdW5jdGlvbihhKXt2YXIgYixjO2EmJihjPWEubmV3T3BhY2l0eSxhLm9sZE9wYWNpdHkhPT1jJiZhLnBsYWNlZCYmKGM/YS5zaG93KCEwKTpiPWZ1bmN0aW9uKCl7YS5oaWRlKCl9LGEuYWxpZ25BdHRyLm9wYWNpdHk9YyxhW2EuaXNPbGQ/XCJhbmltYXRlXCI6XCJhdHRyXCJdKGEuYWxpZ25BdHRyLG51bGwsYikpLGEuaXNPbGQ9ITApfSl9fSkoTCk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsQT1hLkNoYXJ0LEg9YS5jcmVhdGVFbGVtZW50LEc9YS5jc3Mscj1hLmRlZmF1bHRPcHRpb25zLGY9YS5kZWZhdWx0UGxvdE9wdGlvbnMsbD1hLmVhY2gscT1hLmV4dGVuZCxrPWEuZmlyZUV2ZW50LHU9YS5oYXNUb3VjaCxkPWEuaW5BcnJheSxjPWEuaXNPYmplY3Qsbj1hLkxlZ2VuZCx6PWEubWVyZ2UsYj1hLnBpY2sscD1hLlBvaW50LGg9YS5TZXJpZXMsXG50PWEuc2VyaWVzVHlwZXMsRD1hLnN2ZzthPWEuVHJhY2tlck1peGluPXtkcmF3VHJhY2tlclBvaW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQucG9pbnRlcixjPWZ1bmN0aW9uKGEpe3ZhciBjPWIuZ2V0UG9pbnRGcm9tRXZlbnQoYSk7aWYodm9pZCAwIT09YyljLm9uTW91c2VPdmVyKGEpfTtsKGEucG9pbnRzLGZ1bmN0aW9uKGEpe2EuZ3JhcGhpYyYmKGEuZ3JhcGhpYy5lbGVtZW50LnBvaW50PWEpO2EuZGF0YUxhYmVsJiYoYS5kYXRhTGFiZWwuZGl2P2EuZGF0YUxhYmVsLmRpdi5wb2ludD1hOmEuZGF0YUxhYmVsLmVsZW1lbnQucG9pbnQ9YSl9KTthLl9oYXNUcmFja2luZ3x8KGwoYS50cmFja2VyR3JvdXBzLGZ1bmN0aW9uKGUpe2lmKGFbZV0pe2FbZV0uYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXRyYWNrZXJcIikub24oXCJtb3VzZW92ZXJcIixjKS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7Yi5vblRyYWNrZXJNb3VzZU91dChhKX0pO2lmKHUpYVtlXS5vbihcInRvdWNoc3RhcnRcIixcbmMpO2Eub3B0aW9ucy5jdXJzb3ImJmFbZV0uY3NzKEcpLmNzcyh7Y3Vyc29yOmEub3B0aW9ucy5jdXJzb3J9KX19KSxhLl9oYXNUcmFja2luZz0hMCl9LGRyYXdUcmFja2VyR3JhcGg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLGM9Yi50cmFja0J5QXJlYSxkPVtdLmNvbmNhdChjP2EuYXJlYVBhdGg6YS5ncmFwaFBhdGgpLGY9ZC5sZW5ndGgsaD1hLmNoYXJ0LGs9aC5wb2ludGVyLG49aC5yZW5kZXJlcixwPWgub3B0aW9ucy50b29sdGlwLnNuYXAscT1hLnRyYWNrZXIsZyxyPWZ1bmN0aW9uKCl7aWYoaC5ob3ZlclNlcmllcyE9PWEpYS5vbk1vdXNlT3ZlcigpfSx0PVwicmdiYSgxOTIsMTkyLDE5MixcIisoRD8uMDAwMTouMDAyKStcIilcIjtpZihmJiYhYylmb3IoZz1mKzE7Zy0tOylcIk1cIj09PWRbZ10mJmQuc3BsaWNlKGcrMSwwLGRbZysxXS1wLGRbZysyXSxcIkxcIiksKGcmJlwiTVwiPT09ZFtnXXx8Zz09PWYpJiZkLnNwbGljZShnLDAsXCJMXCIsZFtnLTJdK3AsZFtnLTFdKTtxP1xucS5hdHRyKHtkOmR9KTphLmdyYXBoJiYoYS50cmFja2VyPW4ucGF0aChkKS5hdHRyKHtcInN0cm9rZS1saW5lam9pblwiOlwicm91bmRcIix2aXNpYmlsaXR5OmEudmlzaWJsZT9cInZpc2libGVcIjpcImhpZGRlblwiLHN0cm9rZTp0LGZpbGw6Yz90Olwibm9uZVwiLFwic3Ryb2tlLXdpZHRoXCI6YS5ncmFwaC5zdHJva2VXaWR0aCgpKyhjPzA6MipwKSx6SW5kZXg6Mn0pLmFkZChhLmdyb3VwKSxsKFthLnRyYWNrZXIsYS5tYXJrZXJHcm91cF0sZnVuY3Rpb24oYSl7YS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtdHJhY2tlclwiKS5vbihcIm1vdXNlb3ZlclwiLHIpLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbihhKXtrLm9uVHJhY2tlck1vdXNlT3V0KGEpfSk7Yi5jdXJzb3ImJmEuY3NzKHtjdXJzb3I6Yi5jdXJzb3J9KTtpZih1KWEub24oXCJ0b3VjaHN0YXJ0XCIscil9KSl9fTt0LmNvbHVtbiYmKHQuY29sdW1uLnByb3RvdHlwZS5kcmF3VHJhY2tlcj1hLmRyYXdUcmFja2VyUG9pbnQpO3QucGllJiYodC5waWUucHJvdG90eXBlLmRyYXdUcmFja2VyPVxuYS5kcmF3VHJhY2tlclBvaW50KTt0LnNjYXR0ZXImJih0LnNjYXR0ZXIucHJvdG90eXBlLmRyYXdUcmFja2VyPWEuZHJhd1RyYWNrZXJQb2ludCk7cShuLnByb3RvdHlwZSx7c2V0SXRlbUV2ZW50czpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQuY2hhcnQucmVuZGVyZXIuYm94V3JhcHBlcixmPVwiaGlnaGNoYXJ0cy1sZWdlbmQtXCIrKGEuc2VyaWVzP1wicG9pbnRcIjpcInNlcmllc1wiKStcIi1hY3RpdmVcIjsoYz9iOmEubGVnZW5kR3JvdXApLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXthLnNldFN0YXRlKFwiaG92ZXJcIik7ZS5hZGRDbGFzcyhmKTtiLmNzcyhkLm9wdGlvbnMuaXRlbUhvdmVyU3R5bGUpfSkub24oXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7Yi5jc3MoYS52aXNpYmxlP2QuaXRlbVN0eWxlOmQuaXRlbUhpZGRlblN0eWxlKTtlLnJlbW92ZUNsYXNzKGYpO2Euc2V0U3RhdGUoKX0pLm9uKFwiY2xpY2tcIixmdW5jdGlvbihiKXt2YXIgYz1mdW5jdGlvbigpe2Euc2V0VmlzaWJsZSYmXG5hLnNldFZpc2libGUoKX07Yj17YnJvd3NlckV2ZW50OmJ9O2EuZmlyZVBvaW50RXZlbnQ/YS5maXJlUG9pbnRFdmVudChcImxlZ2VuZEl0ZW1DbGlja1wiLGIsYyk6ayhhLFwibGVnZW5kSXRlbUNsaWNrXCIsYixjKX0pfSxjcmVhdGVDaGVja2JveEZvckl0ZW06ZnVuY3Rpb24oYSl7YS5jaGVja2JveD1IKFwiaW5wdXRcIix7dHlwZTpcImNoZWNrYm94XCIsY2hlY2tlZDphLnNlbGVjdGVkLGRlZmF1bHRDaGVja2VkOmEuc2VsZWN0ZWR9LHRoaXMub3B0aW9ucy5pdGVtQ2hlY2tib3hTdHlsZSx0aGlzLmNoYXJ0LmNvbnRhaW5lcik7QihhLmNoZWNrYm94LFwiY2xpY2tcIixmdW5jdGlvbihiKXtrKGEuc2VyaWVzfHxhLFwiY2hlY2tib3hDbGlja1wiLHtjaGVja2VkOmIudGFyZ2V0LmNoZWNrZWQsaXRlbTphfSxmdW5jdGlvbigpe2Euc2VsZWN0KCl9KX0pfX0pO3IubGVnZW5kLml0ZW1TdHlsZS5jdXJzb3I9XCJwb2ludGVyXCI7cShBLnByb3RvdHlwZSx7c2hvd1Jlc2V0Wm9vbTpmdW5jdGlvbigpe3ZhciBhPVxudGhpcyxiPXIubGFuZyxjPWEub3B0aW9ucy5jaGFydC5yZXNldFpvb21CdXR0b24sZD1jLnRoZW1lLGY9ZC5zdGF0ZXMsaD1cImNoYXJ0XCI9PT1jLnJlbGF0aXZlVG8/bnVsbDpcInBsb3RCb3hcIjt0aGlzLnJlc2V0Wm9vbUJ1dHRvbj1hLnJlbmRlcmVyLmJ1dHRvbihiLnJlc2V0Wm9vbSxudWxsLG51bGwsZnVuY3Rpb24oKXthLnpvb21PdXQoKX0sZCxmJiZmLmhvdmVyKS5hdHRyKHthbGlnbjpjLnBvc2l0aW9uLmFsaWduLHRpdGxlOmIucmVzZXRab29tVGl0bGV9KS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtcmVzZXQtem9vbVwiKS5hZGQoKS5hbGlnbihjLnBvc2l0aW9uLCExLGgpfSx6b29tT3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztrKGEsXCJzZWxlY3Rpb25cIix7cmVzZXRTZWxlY3Rpb246ITB9LGZ1bmN0aW9uKCl7YS56b29tKCl9KX0sem9vbTpmdW5jdGlvbihhKXt2YXIgZCxmPXRoaXMucG9pbnRlcixoPSExLGs7IWF8fGEucmVzZXRTZWxlY3Rpb24/bCh0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7ZD1cbmEuem9vbSgpfSk6bChhLnhBeGlzLmNvbmNhdChhLnlBeGlzKSxmdW5jdGlvbihhKXt2YXIgYj1hLmF4aXM7ZltiLmlzWEF4aXM/XCJ6b29tWFwiOlwiem9vbVlcIl0mJihkPWIuem9vbShhLm1pbixhLm1heCksYi5kaXNwbGF5QnRuJiYoaD0hMCkpfSk7az10aGlzLnJlc2V0Wm9vbUJ1dHRvbjtoJiYhaz90aGlzLnNob3dSZXNldFpvb20oKTohaCYmYyhrKSYmKHRoaXMucmVzZXRab29tQnV0dG9uPWsuZGVzdHJveSgpKTtkJiZ0aGlzLnJlZHJhdyhiKHRoaXMub3B0aW9ucy5jaGFydC5hbmltYXRpb24sYSYmYS5hbmltYXRpb24sMTAwPnRoaXMucG9pbnRDb3VudCkpfSxwYW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5ob3ZlclBvaW50cyxlO2QmJmwoZCxmdW5jdGlvbihhKXthLnNldFN0YXRlKCl9KTtsKFwieHlcIj09PWI/WzEsMF06WzFdLGZ1bmN0aW9uKGIpe2I9Y1tiP1wieEF4aXNcIjpcInlBeGlzXCJdWzBdO3ZhciBkPWIuaG9yaXosZj1hW2Q/XCJjaGFydFhcIjpcImNoYXJ0WVwiXSxkPWQ/XG5cIm1vdXNlRG93blhcIjpcIm1vdXNlRG93bllcIixoPWNbZF0saz0oYi5wb2ludFJhbmdlfHwwKS8yLGc9Yi5nZXRFeHRyZW1lcygpLGw9Yi50b1ZhbHVlKGgtZiwhMCkrayxrPWIudG9WYWx1ZShoK2IubGVuLWYsITApLWssbT1rPGwsaD1tP2s6bCxsPW0/bDprLG09Yi50b1ZhbHVlKGIudG9QaXhlbHMoZy5taW4pLWIubWluUGl4ZWxQYWRkaW5nKSxrPWIudG9WYWx1ZShiLnRvUGl4ZWxzKGcubWF4KStiLm1pblBpeGVsUGFkZGluZyksbT1NYXRoLm1pbihnLmRhdGFNaW4sbSktaCxnPWwtTWF0aC5tYXgoZy5kYXRhTWF4LGspO2Iuc2VyaWVzLmxlbmd0aCYmMD5tJiYwPmcmJihiLnNldEV4dHJlbWVzKGgsbCwhMSwhMSx7dHJpZ2dlcjpcInBhblwifSksZT0hMCk7Y1tkXT1mfSk7ZSYmYy5yZWRyYXcoITEpO0coYy5jb250YWluZXIse2N1cnNvcjpcIm1vdmVcIn0pfX0pO3EocC5wcm90b3R5cGUse3NlbGVjdDpmdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMsZj1lLnNlcmllcyxoPWYuY2hhcnQ7YT1iKGEsXG4hZS5zZWxlY3RlZCk7ZS5maXJlUG9pbnRFdmVudChhP1wic2VsZWN0XCI6XCJ1bnNlbGVjdFwiLHthY2N1bXVsYXRlOmN9LGZ1bmN0aW9uKCl7ZS5zZWxlY3RlZD1lLm9wdGlvbnMuc2VsZWN0ZWQ9YTtmLm9wdGlvbnMuZGF0YVtkKGUsZi5kYXRhKV09ZS5vcHRpb25zO2Uuc2V0U3RhdGUoYSYmXCJzZWxlY3RcIik7Y3x8bChoLmdldFNlbGVjdGVkUG9pbnRzKCksZnVuY3Rpb24oYSl7YS5zZWxlY3RlZCYmYSE9PWUmJihhLnNlbGVjdGVkPWEub3B0aW9ucy5zZWxlY3RlZD0hMSxmLm9wdGlvbnMuZGF0YVtkKGEsZi5kYXRhKV09YS5vcHRpb25zLGEuc2V0U3RhdGUoXCJcIiksYS5maXJlUG9pbnRFdmVudChcInVuc2VsZWN0XCIpKX0pfSl9LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2VyaWVzLmNoYXJ0LnBvaW50ZXI7dGhpcy5maXJlUG9pbnRFdmVudChcIm1vdXNlT3ZlclwiKTtiLnJ1blBvaW50QWN0aW9ucyhhLHRoaXMpfSxvbk1vdXNlT3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXJpZXMuY2hhcnQ7XG50aGlzLmZpcmVQb2ludEV2ZW50KFwibW91c2VPdXRcIik7bChhLmhvdmVyUG9pbnRzfHxbXSxmdW5jdGlvbihhKXthLnNldFN0YXRlKCl9KTthLmhvdmVyUG9pbnRzPWEuaG92ZXJQb2ludD1udWxsfSxpbXBvcnRFdmVudHM6ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNJbXBvcnRlZEV2ZW50cyl7dmFyIGE9eih0aGlzLnNlcmllcy5vcHRpb25zLnBvaW50LHRoaXMub3B0aW9ucykuZXZlbnRzLGI7dGhpcy5ldmVudHM9YTtmb3IoYiBpbiBhKUIodGhpcyxiLGFbYl0pO3RoaXMuaGFzSW1wb3J0ZWRFdmVudHM9ITB9fSxzZXRTdGF0ZTpmdW5jdGlvbihhLGMpe3ZhciBkPU1hdGguZmxvb3IodGhpcy5wbG90WCksZT10aGlzLnBsb3RZLGg9dGhpcy5zZXJpZXMsaz1oLm9wdGlvbnMuc3RhdGVzW2FdfHx7fSxsPWZbaC50eXBlXS5tYXJrZXImJmgub3B0aW9ucy5tYXJrZXIsbj1sJiYhMT09PWwuZW5hYmxlZCxwPWwmJmwuc3RhdGVzJiZsLnN0YXRlc1thXXx8e30scj0hMT09PXAuZW5hYmxlZCxnPVxuaC5zdGF0ZU1hcmtlckdyYXBoaWMsdD10aGlzLm1hcmtlcnx8e30sdT1oLmNoYXJ0LHc9aC5oYWxvLHosQT1sJiZoLm1hcmtlckF0dHJpYnM7YT1hfHxcIlwiO2lmKCEoYT09PXRoaXMuc3RhdGUmJiFjfHx0aGlzLnNlbGVjdGVkJiZcInNlbGVjdFwiIT09YXx8ITE9PT1rLmVuYWJsZWR8fGEmJihyfHxuJiYhMT09PXAuZW5hYmxlZCl8fGEmJnQuc3RhdGVzJiZ0LnN0YXRlc1thXSYmITE9PT10LnN0YXRlc1thXS5lbmFibGVkKSl7QSYmKHo9aC5tYXJrZXJBdHRyaWJzKHRoaXMsYSkpO2lmKHRoaXMuZ3JhcGhpYyl0aGlzLnN0YXRlJiZ0aGlzLmdyYXBoaWMucmVtb3ZlQ2xhc3MoXCJoaWdoY2hhcnRzLXBvaW50LVwiK3RoaXMuc3RhdGUpLGEmJnRoaXMuZ3JhcGhpYy5hZGRDbGFzcyhcImhpZ2hjaGFydHMtcG9pbnQtXCIrYSksdGhpcy5ncmFwaGljLmF0dHIoaC5wb2ludEF0dHJpYnModGhpcyxhKSkseiYmdGhpcy5ncmFwaGljLmFuaW1hdGUoeixiKHUub3B0aW9ucy5jaGFydC5hbmltYXRpb24scC5hbmltYXRpb24sXG5sLmFuaW1hdGlvbikpLGcmJmcuaGlkZSgpO2Vsc2V7aWYoYSYmcCl7bD10LnN5bWJvbHx8aC5zeW1ib2w7ZyYmZy5jdXJyZW50U3ltYm9sIT09bCYmKGc9Zy5kZXN0cm95KCkpO2lmKGcpZ1tjP1wiYW5pbWF0ZVwiOlwiYXR0clwiXSh7eDp6LngseTp6Lnl9KTtlbHNlIGwmJihoLnN0YXRlTWFya2VyR3JhcGhpYz1nPXUucmVuZGVyZXIuc3ltYm9sKGwsei54LHoueSx6LndpZHRoLHouaGVpZ2h0KS5hZGQoaC5tYXJrZXJHcm91cCksZy5jdXJyZW50U3ltYm9sPWwpO2cmJmcuYXR0cihoLnBvaW50QXR0cmlicyh0aGlzLGEpKX1nJiYoZ1thJiZ1LmlzSW5zaWRlUGxvdChkLGUsdS5pbnZlcnRlZCk/XCJzaG93XCI6XCJoaWRlXCJdKCksZy5lbGVtZW50LnBvaW50PXRoaXMpfShkPWsuaGFsbykmJmQuc2l6ZT8od3x8KGguaGFsbz13PXUucmVuZGVyZXIucGF0aCgpLmFkZChBP2gubWFya2VyR3JvdXA6aC5ncm91cCkpLHdbYz9cImFuaW1hdGVcIjpcImF0dHJcIl0oe2Q6dGhpcy5oYWxvUGF0aChkLnNpemUpfSksXG53LmF0dHIoe1wiY2xhc3NcIjpcImhpZ2hjaGFydHMtaGFsbyBoaWdoY2hhcnRzLWNvbG9yLVwiK2IodGhpcy5jb2xvckluZGV4LGguY29sb3JJbmRleCl9KSx3LnBvaW50PXRoaXMsdy5hdHRyKHEoe2ZpbGw6dGhpcy5jb2xvcnx8aC5jb2xvcixcImZpbGwtb3BhY2l0eVwiOmQub3BhY2l0eSx6SW5kZXg6LTF9LGQuYXR0cmlidXRlcykpKTp3JiZ3LnBvaW50JiZ3LnBvaW50LmhhbG9QYXRoJiZ3LmFuaW1hdGUoe2Q6dy5wb2ludC5oYWxvUGF0aCgwKX0pO3RoaXMuc3RhdGU9YX19LGhhbG9QYXRoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNlcmllcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmNpcmNsZShNYXRoLmZsb29yKHRoaXMucGxvdFgpLWEsdGhpcy5wbG90WS1hLDIqYSwyKmEpfX0pO3EoaC5wcm90b3R5cGUse29uTW91c2VPdmVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPWEuaG92ZXJTZXJpZXM7aWYoYiYmYiE9PXRoaXMpYi5vbk1vdXNlT3V0KCk7dGhpcy5vcHRpb25zLmV2ZW50cy5tb3VzZU92ZXImJlxuayh0aGlzLFwibW91c2VPdmVyXCIpO3RoaXMuc2V0U3RhdGUoXCJob3ZlclwiKTthLmhvdmVyU2VyaWVzPXRoaXN9LG9uTW91c2VPdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj10aGlzLmNoYXJ0LGM9Yi50b29sdGlwLGQ9Yi5ob3ZlclBvaW50O2IuaG92ZXJTZXJpZXM9bnVsbDtpZihkKWQub25Nb3VzZU91dCgpO3RoaXMmJmEuZXZlbnRzLm1vdXNlT3V0JiZrKHRoaXMsXCJtb3VzZU91dFwiKTshY3x8dGhpcy5zdGlja3lUcmFja2luZ3x8Yy5zaGFyZWQmJiF0aGlzLm5vU2hhcmVkVG9vbHRpcHx8Yy5oaWRlKCk7dGhpcy5zZXRTdGF0ZSgpfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGY9Yy5ncmFwaCxoPWQuc3RhdGVzLGs9ZC5saW5lV2lkdGgsZD0wO2E9YXx8XCJcIjtpZihjLnN0YXRlIT09YSYmKGwoW2MuZ3JvdXAsYy5tYXJrZXJHcm91cCxjLmRhdGFMYWJlbHNHcm91cF0sZnVuY3Rpb24oYil7YiYmKGMuc3RhdGUmJmIucmVtb3ZlQ2xhc3MoXCJoaWdoY2hhcnRzLXNlcmllcy1cIitcbmMuc3RhdGUpLGEmJmIuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXNlcmllcy1cIithKSl9KSxjLnN0YXRlPWEsIWhbYV18fCExIT09aFthXS5lbmFibGVkKSYmKGEmJihrPWhbYV0ubGluZVdpZHRofHxrKyhoW2FdLmxpbmVXaWR0aFBsdXN8fDApKSxmJiYhZi5kYXNoc3R5bGUpKWZvcihrPXtcInN0cm9rZS13aWR0aFwiOmt9LGYuYW5pbWF0ZShrLGIoYy5jaGFydC5vcHRpb25zLmNoYXJ0LmFuaW1hdGlvbixoW2FdJiZoW2FdLmFuaW1hdGlvbikpO2NbXCJ6b25lLWdyYXBoLVwiK2RdOyljW1wiem9uZS1ncmFwaC1cIitkXS5hdHRyKGspLGQrPTF9LHNldFZpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jaGFydCxlPWMubGVnZW5kSXRlbSxmLGg9ZC5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyxuPWMudmlzaWJsZTtmPShjLnZpc2libGU9YT1jLm9wdGlvbnMudmlzaWJsZT1jLnVzZXJPcHRpb25zLnZpc2libGU9dm9pZCAwPT09YT8hbjphKT9cInNob3dcIjpcImhpZGVcIjtsKFtcImdyb3VwXCIsXG5cImRhdGFMYWJlbHNHcm91cFwiLFwibWFya2VyR3JvdXBcIixcInRyYWNrZXJcIixcInR0XCJdLGZ1bmN0aW9uKGEpe2lmKGNbYV0pY1thXVtmXSgpfSk7aWYoZC5ob3ZlclNlcmllcz09PWN8fChkLmhvdmVyUG9pbnQmJmQuaG92ZXJQb2ludC5zZXJpZXMpPT09YyljLm9uTW91c2VPdXQoKTtlJiZkLmxlZ2VuZC5jb2xvcml6ZUl0ZW0oYyxhKTtjLmlzRGlydHk9ITA7Yy5vcHRpb25zLnN0YWNraW5nJiZsKGQuc2VyaWVzLGZ1bmN0aW9uKGEpe2Eub3B0aW9ucy5zdGFja2luZyYmYS52aXNpYmxlJiYoYS5pc0RpcnR5PSEwKX0pO2woYy5saW5rZWRTZXJpZXMsZnVuY3Rpb24oYil7Yi5zZXRWaXNpYmxlKGEsITEpfSk7aCYmKGQuaXNEaXJ0eUJveD0hMCk7ITEhPT1iJiZkLnJlZHJhdygpO2soYyxmKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSghMCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLnNldFZpc2libGUoITEpfSxzZWxlY3Q6ZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RlZD1hPXZvaWQgMD09PVxuYT8hdGhpcy5zZWxlY3RlZDphO3RoaXMuY2hlY2tib3gmJih0aGlzLmNoZWNrYm94LmNoZWNrZWQ9YSk7ayh0aGlzLGE/XCJzZWxlY3RcIjpcInVuc2VsZWN0XCIpfSxkcmF3VHJhY2tlcjphLmRyYXdUcmFja2VyR3JhcGh9KX0pKEwpOyhmdW5jdGlvbihhKXt2YXIgQj1hLkNoYXJ0LEE9YS5lYWNoLEg9YS5pbkFycmF5LEc9YS5pc0FycmF5LHI9YS5pc09iamVjdCxmPWEucGljayxsPWEuc3BsYXQ7Qi5wcm90b3R5cGUuc2V0UmVzcG9uc2l2ZT1mdW5jdGlvbihmKXt2YXIgaz10aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxsPVtdLGQ9dGhpcy5jdXJyZW50UmVzcG9uc2l2ZTtrJiZrLnJ1bGVzJiZBKGsucnVsZXMsZnVuY3Rpb24oYyl7dm9pZCAwPT09Yy5faWQmJihjLl9pZD1hLnVuaXF1ZUtleSgpKTt0aGlzLm1hdGNoUmVzcG9uc2l2ZVJ1bGUoYyxsLGYpfSx0aGlzKTt2YXIgYz1hLm1lcmdlLmFwcGx5KDAsYS5tYXAobCxmdW5jdGlvbihjKXtyZXR1cm4gYS5maW5kKGsucnVsZXMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuX2lkPT09XG5jfSkuY2hhcnRPcHRpb25zfSkpLGw9bC50b1N0cmluZygpfHx2b2lkIDA7bCE9PShkJiZkLnJ1bGVJZHMpJiYoZCYmdGhpcy51cGRhdGUoZC51bmRvT3B0aW9ucyxmKSxsPyh0aGlzLmN1cnJlbnRSZXNwb25zaXZlPXtydWxlSWRzOmwsbWVyZ2VkT3B0aW9uczpjLHVuZG9PcHRpb25zOnRoaXMuY3VycmVudE9wdGlvbnMoYyl9LHRoaXMudXBkYXRlKGMsZikpOnRoaXMuY3VycmVudFJlc3BvbnNpdmU9dm9pZCAwKX07Qi5wcm90b3R5cGUubWF0Y2hSZXNwb25zaXZlUnVsZT1mdW5jdGlvbihhLGspe3ZhciBsPWEuY29uZGl0aW9uOyhsLmNhbGxiYWNrfHxmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0V2lkdGg8PWYobC5tYXhXaWR0aCxOdW1iZXIuTUFYX1ZBTFVFKSYmdGhpcy5jaGFydEhlaWdodDw9ZihsLm1heEhlaWdodCxOdW1iZXIuTUFYX1ZBTFVFKSYmdGhpcy5jaGFydFdpZHRoPj1mKGwubWluV2lkdGgsMCkmJnRoaXMuY2hhcnRIZWlnaHQ+PWYobC5taW5IZWlnaHQsMCl9KS5jYWxsKHRoaXMpJiZcbmsucHVzaChhLl9pZCl9O0IucHJvdG90eXBlLmN1cnJlbnRPcHRpb25zPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSxjLGsscSl7dmFyIGIsZDtmb3IoYiBpbiBhKWlmKCFxJiYtMTxIKGIsW1wic2VyaWVzXCIsXCJ4QXhpc1wiLFwieUF4aXNcIl0pKWZvcihhW2JdPWwoYVtiXSksa1tiXT1bXSxkPTA7ZDxhW2JdLmxlbmd0aDtkKyspY1tiXVtkXSYmKGtbYl1bZF09e30sZihhW2JdW2RdLGNbYl1bZF0sa1tiXVtkXSxxKzEpKTtlbHNlIHIoYVtiXSk/KGtbYl09RyhhW2JdKT9bXTp7fSxmKGFbYl0sY1tiXXx8e30sa1tiXSxxKzEpKTprW2JdPWNbYl18fG51bGx9dmFyIHE9e307ZihhLHRoaXMub3B0aW9ucyxxLDApO3JldHVybiBxfX0pKEwpO3JldHVybiBMfSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vL1xuLy8gV2Ugc3RvcmUgb3VyIEVFIG9iamVjdHMgaW4gYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gYH5gIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90IG92ZXJyaWRkZW4gb3Jcbi8vIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vIFdlIGFsc28gYXNzdW1lIHRoYXQgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIGF2YWlsYWJsZSB3aGVuIHRoZSBldmVudCBuYW1lXG4vLyBpcyBhbiBFUzYgU3ltYm9sLlxuLy9cbnZhciBwcmVmaXggPSB0eXBlb2YgT2JqZWN0LmNyZWF0ZSAhPT0gJ2Z1bmN0aW9uJyA/ICd+JyA6IGZhbHNlO1xuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIEV2ZW50RW1pdHRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBFdmVudCBoYW5kbGVyIHRvIGJlIGNhbGxlZC5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgQ29udGV4dCBmb3IgZnVuY3Rpb24gZXhlY3V0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gT25seSBlbWl0IG9uY2VcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogTWluaW1hbCBFdmVudEVtaXR0ZXIgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIEV2ZW50RW1pdHRlciBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7IC8qIE5vdGhpbmcgdG8gc2V0ICovIH1cblxuLyoqXG4gKiBIb2xkIHRoZSBhc3NpZ25lZCBFdmVudEVtaXR0ZXJzIGJ5IG5hbWUuXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHNcbiAgICAsIG5hbWVzID0gW11cbiAgICAsIG5hbWU7XG5cbiAgaWYgKCFldmVudHMpIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gZXZlbnRzKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhIGxpc3Qgb2YgYXNzaWduZWQgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGxpc3RlZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZXhpc3RzIFdlIG9ubHkgbmVlZCB0byBrbm93IGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoZXhpc3RzKSByZXR1cm4gISFhdmFpbGFibGU7XG4gIGlmICghYXZhaWxhYmxlKSByZXR1cm4gW107XG4gIGlmIChhdmFpbGFibGUuZm4pIHJldHVybiBbYXZhaWxhYmxlLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGF2YWlsYWJsZS5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBhdmFpbGFibGVbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIEVtaXQgYW4gZXZlbnQgdG8gYWxsIHJlZ2lzdGVyZWQgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSW5kaWNhdGlvbiBpZiB3ZSd2ZSBlbWl0dGVkIGFuIGV2ZW50LlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIG5ldyBFdmVudExpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IE5hbWUgb2YgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQ2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCBvZiB0aGUgZnVuY3Rpb24uXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50cykgdGhpcy5fZXZlbnRzID0gcHJlZml4ID8ge30gOiBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyO1xuICBlbHNlIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW1xuICAgICAgdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXG4gICAgXTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYW4gRXZlbnRMaXN0ZW5lciB0aGF0J3Mgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgTmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBDYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IG9mIHRoZSBmdW5jdGlvbi5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzLCB0cnVlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50cykgdGhpcy5fZXZlbnRzID0gcHJlZml4ID8ge30gOiBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyO1xuICBlbHNlIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW1xuICAgICAgdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXG4gICAgXTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgZXZlbnQgd2Ugd2FudCB0byByZW1vdmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgdGhhdCB3ZSBuZWVkIHRvIGZpbmQuXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIGxpc3RlbmVycyBtYXRjaGluZyB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25jZSBsaXN0ZW5lcnMuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBldmVudHMgPSBbXTtcblxuICBpZiAoZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgICBpZiAoXG4gICAgICAgICAgIGxpc3RlbmVycy5mbiAhPT0gZm5cbiAgICAgICAgfHwgKG9uY2UgJiYgIWxpc3RlbmVycy5vbmNlKVxuICAgICAgICB8fCAoY29udGV4dCAmJiBsaXN0ZW5lcnMuY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgICAgfHwgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgICApIHtcbiAgICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy9cbiAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAvL1xuICBpZiAoZXZlbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb3Igb25seSB0aGUgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgZXZlbnQgd2FudCB0byByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICBpZiAoIXRoaXMuX2V2ZW50cykgcmV0dXJuIHRoaXM7XG5cbiAgaWYgKGV2ZW50KSBkZWxldGUgdGhpcy5fZXZlbnRzW3ByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRdO1xuICBlbHNlIHRoaXMuX2V2ZW50cyA9IHByZWZpeCA/IHt9IDogT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFwcGx5IGFueW1vcmUuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG4vLyB0aGlzIG5lZWRzIHRvIGJlIHNldCB0byB0cnVlIGJlZm9yZSBLZWVwLmpzIHN0YXJ0cyBzdG9yaW5nLCBkb25lIHZpYSB1c2VLZWVwXG52YXIgdXNlID0gZmFsc2U7XG5cbnZhciBjcmVhdGVkU3RvcmVzID0gW107XG5cbnZhciBjcmVhdGVkQWN0aW9ucyA9IFtdO1xuXG5mdW5jdGlvbiB1c2VLZWVwKCkge1xuXHR2YXIgYm9vbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuXHR1c2UgPSBib29sO1xufVxuXG5mdW5jdGlvbiBhZGRTdG9yZShzdHIpIHtcblx0aWYgKHVzZSkge1xuXHRcdGNyZWF0ZWRTdG9yZXMucHVzaChzdHIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFkZEFjdGlvbihhY3QpIHtcblx0aWYgKHVzZSkge1xuXHRcdGNyZWF0ZWRBY3Rpb25zLnB1c2goYWN0KTtcblx0fVxufVxuXG5mdW5jdGlvbiByZXNldCgpIHtcblx0d2hpbGUgKGNyZWF0ZWRTdG9yZXMubGVuZ3RoKSB7XG5cdFx0Y3JlYXRlZFN0b3Jlcy5wb3AoKTtcblx0fVxuXHR3aGlsZSAoY3JlYXRlZEFjdGlvbnMubGVuZ3RoKSB7XG5cdFx0Y3JlYXRlZEFjdGlvbnMucG9wKCk7XG5cdH1cbn1cblxuZXhwb3J0cy51c2VLZWVwID0gdXNlS2VlcDtcbmV4cG9ydHMuYWRkU3RvcmUgPSBhZGRTdG9yZTtcbmV4cG9ydHMuYWRkQWN0aW9uID0gYWRkQWN0aW9uO1xuZXhwb3J0cy5jcmVhdGVkU3RvcmVzID0gY3JlYXRlZFN0b3JlcztcbmV4cG9ydHMuY3JlYXRlZEFjdGlvbnMgPSBjcmVhdGVkQWN0aW9ucztcbmV4cG9ydHMucmVzZXQgPSByZXNldDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5qb2luU3RyaWN0ID0gZXhwb3J0cy5qb2luQ29uY2F0ID0gZXhwb3J0cy5qb2luTGVhZGluZyA9IGV4cG9ydHMuam9pblRyYWlsaW5nID0gZXhwb3J0cy5mZXRjaEluaXRpYWxTdGF0ZSA9IGV4cG9ydHMuc3RvcExpc3RlbmluZ1RvQWxsID0gZXhwb3J0cy5zdG9wTGlzdGVuaW5nVG8gPSBleHBvcnRzLmxpc3RlblRvID0gZXhwb3J0cy52YWxpZGF0ZUxpc3RlbmluZyA9IGV4cG9ydHMubGlzdGVuVG9NYW55ID0gZXhwb3J0cy5oYXNMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgXyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfam9pbnMgPSByZXF1aXJlKFwiLi9qb2luc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXHJcbiAqIEV4dHJhY3QgY2hpbGQgbGlzdGVuYWJsZXMgZnJvbSBhIHBhcmVudCBmcm9tIHRoZWlyXHJcbiAqIGNoaWxkcmVuIHByb3BlcnR5IGFuZCByZXR1cm4gdGhlbSBpbiBhIGtleWVkIE9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbGlzdGVuYWJsZSBUaGUgcGFyZW50IGxpc3RlbmFibGVcclxuICovXG52YXIgbWFwQ2hpbGRMaXN0ZW5hYmxlcyA9IGZ1bmN0aW9uIG1hcENoaWxkTGlzdGVuYWJsZXMobGlzdGVuYWJsZSkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgY2hpbGRyZW4gPSB7fSxcbiAgICAgICAgY2hpbGROYW1lO1xuICAgIGZvciAoOyBpIDwgKGxpc3RlbmFibGUuY2hpbGRyZW4gfHwgW10pLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNoaWxkTmFtZSA9IGxpc3RlbmFibGUuY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChsaXN0ZW5hYmxlW2NoaWxkTmFtZV0pIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2NoaWxkTmFtZV0gPSBsaXN0ZW5hYmxlW2NoaWxkTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuLyoqXHJcbiAqIE1ha2UgYSBmbGF0IGRpY3Rpb25hcnkgb2YgYWxsIGxpc3RlbmFibGVzIGluY2x1ZGluZyB0aGVpclxyXG4gKiBwb3NzaWJsZSBjaGlsZHJlbiAocmVjdXJzaXZlbHkpLCBjb25jYXRlbmF0aW5nIG5hbWVzIGluIGNhbWVsQ2FzZS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGxpc3RlbmFibGVzIFRoZSB0b3AtbGV2ZWwgbGlzdGVuYWJsZXNcclxuICovXG52YXIgZmxhdHRlbkxpc3RlbmFibGVzID0gZnVuY3Rpb24gZmxhdHRlbkxpc3RlbmFibGVzKGxpc3RlbmFibGVzKSB7XG4gICAgdmFyIGZsYXR0ZW5lZCA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBsaXN0ZW5hYmxlcykge1xuICAgICAgICB2YXIgbGlzdGVuYWJsZSA9IGxpc3RlbmFibGVzW2tleV07XG4gICAgICAgIHZhciBjaGlsZE1hcCA9IG1hcENoaWxkTGlzdGVuYWJsZXMobGlzdGVuYWJsZSk7XG5cbiAgICAgICAgLy8gcmVjdXJzaXZlbHkgZmxhdHRlbiBjaGlsZHJlblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBmbGF0dGVuTGlzdGVuYWJsZXMoY2hpbGRNYXApO1xuXG4gICAgICAgIC8vIGFkZCB0aGUgcHJpbWFyeSBsaXN0ZW5hYmxlIGFuZCBjaGlscmVuXG4gICAgICAgIGZsYXR0ZW5lZFtrZXldID0gbGlzdGVuYWJsZTtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRLZXkgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZExpc3RlbmFibGUgPSBjaGlsZHJlbltjaGlsZEtleV07XG4gICAgICAgICAgICBmbGF0dGVuZWRba2V5ICsgXy5jYXBpdGFsaXplKGNoaWxkS2V5KV0gPSBjaGlsZExpc3RlbmFibGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmxhdHRlbmVkO1xufTtcblxuLyoqXHJcbiAqIEFuIGludGVybmFsIHV0aWxpdHkgZnVuY3Rpb24gdXNlZCBieSBgdmFsaWRhdGVMaXN0ZW5pbmdgXHJcbiAqXHJcbiAqIEBwYXJhbSB7QWN0aW9ufFN0b3JlfSBsaXN0ZW5hYmxlIFRoZSBsaXN0ZW5hYmxlIHdlIHdhbnQgdG8gc2VhcmNoIGZvclxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHJlc3VsdCBvZiBhIHJlY3Vyc2l2ZSBzZWFyY2ggYW1vbmcgYHRoaXMuc3Vic2NyaXB0aW9uc2BcclxuICovXG52YXIgaGFzTGlzdGVuZXIgPSBleHBvcnRzLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24gaGFzTGlzdGVuZXIobGlzdGVuYWJsZSkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgaixcbiAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgIGxpc3RlbmFibGVzO1xuICAgIGZvciAoOyBpIDwgKHRoaXMuc3Vic2NyaXB0aW9ucyB8fCBbXSkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgbGlzdGVuYWJsZXMgPSBbXS5jb25jYXQodGhpcy5zdWJzY3JpcHRpb25zW2ldLmxpc3RlbmFibGUpO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgbGlzdGVuYWJsZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuYWJsZXNbal07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmFibGUgfHwgbGlzdGVuZXIuaGFzTGlzdGVuZXIgJiYgbGlzdGVuZXIuaGFzTGlzdGVuZXIobGlzdGVuYWJsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcclxuICogQSBjb252ZW5pZW5jZSBtZXRob2QgdGhhdCBsaXN0ZW5zIHRvIGFsbCBsaXN0ZW5hYmxlcyBpbiB0aGUgZ2l2ZW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbGlzdGVuYWJsZXMgQW4gb2JqZWN0IG9mIGxpc3RlbmFibGVzLiBLZXlzIHdpbGwgYmUgdXNlZCBhcyBjYWxsYmFjayBtZXRob2QgbmFtZXMuXHJcbiAqL1xudmFyIGxpc3RlblRvTWFueSA9IGV4cG9ydHMubGlzdGVuVG9NYW55ID0gZnVuY3Rpb24gbGlzdGVuVG9NYW55KGxpc3RlbmFibGVzKSB7XG4gICAgdmFyIGFsbExpc3RlbmFibGVzID0gZmxhdHRlbkxpc3RlbmFibGVzKGxpc3RlbmFibGVzKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gYWxsTGlzdGVuYWJsZXMpIHtcbiAgICAgICAgdmFyIGNibmFtZSA9IF8uY2FsbGJhY2tOYW1lKGtleSksXG4gICAgICAgICAgICBsb2NhbG5hbWUgPSB0aGlzW2NibmFtZV0gPyBjYm5hbWUgOiB0aGlzW2tleV0gPyBrZXkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsb2NhbG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oYWxsTGlzdGVuYWJsZXNba2V5XSwgbG9jYWxuYW1lLCB0aGlzW2NibmFtZSArIFwiRGVmYXVsdFwiXSB8fCB0aGlzW2xvY2FsbmFtZSArIFwiRGVmYXVsdFwiXSB8fCBsb2NhbG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBjb250ZXh0IGNhbiBsaXN0ZW4gdG8gdGhlIHN1cHBsaWVkIGxpc3RlbmFibGVcclxuICpcclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgQW4gQWN0aW9uIG9yIFN0b3JlIHRoYXQgc2hvdWxkIGJlXHJcbiAqICBsaXN0ZW5lZCB0by5cclxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IEFuIGVycm9yIG1lc3NhZ2UsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSB3YXMgbm8gcHJvYmxlbS5cclxuICovXG52YXIgdmFsaWRhdGVMaXN0ZW5pbmcgPSBleHBvcnRzLnZhbGlkYXRlTGlzdGVuaW5nID0gZnVuY3Rpb24gdmFsaWRhdGVMaXN0ZW5pbmcobGlzdGVuYWJsZSkge1xuICAgIGlmIChsaXN0ZW5hYmxlID09PSB0aGlzKSB7XG4gICAgICAgIHJldHVybiBcIkxpc3RlbmVyIGlzIG5vdCBhYmxlIHRvIGxpc3RlbiB0byBpdHNlbGZcIjtcbiAgICB9XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24obGlzdGVuYWJsZS5saXN0ZW4pKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5hYmxlICsgXCIgaXMgbWlzc2luZyBhIGxpc3RlbiBtZXRob2RcIjtcbiAgICB9XG4gICAgaWYgKGxpc3RlbmFibGUuaGFzTGlzdGVuZXIgJiYgbGlzdGVuYWJsZS5oYXNMaXN0ZW5lcih0aGlzKSkge1xuICAgICAgICByZXR1cm4gXCJMaXN0ZW5lciBjYW5ub3QgbGlzdGVuIHRvIHRoaXMgbGlzdGVuYWJsZSBiZWNhdXNlIG9mIGNpcmN1bGFyIGxvb3BcIjtcbiAgICB9XG59O1xuXG4vKipcclxuICogU2V0cyB1cCBhIHN1YnNjcmlwdGlvbiB0byB0aGUgZ2l2ZW4gbGlzdGVuYWJsZSBmb3IgdGhlIGNvbnRleHQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7QWN0aW9ufFN0b3JlfSBsaXN0ZW5hYmxlIEFuIEFjdGlvbiBvciBTdG9yZSB0aGF0IHNob3VsZCBiZVxyXG4gKiAgbGlzdGVuZWQgdG8uXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIgYXMgZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZGVmYXVsdENhbGxiYWNrIFRoZSBjYWxsYmFjayB0byByZWdpc3RlciBhcyBkZWZhdWx0IGhhbmRsZXJcclxuICogQHJldHVybnMge09iamVjdH0gQSBzdWJzY3JpcHRpb24gb2JqIHdoZXJlIGBzdG9wYCBpcyBhbiB1bnN1YiBmdW5jdGlvbiBhbmQgYGxpc3RlbmFibGVgIGlzIHRoZSBvYmplY3QgYmVpbmcgbGlzdGVuZWQgdG9cclxuICovXG52YXIgbGlzdGVuVG8gPSBleHBvcnRzLmxpc3RlblRvID0gZnVuY3Rpb24gbGlzdGVuVG8obGlzdGVuYWJsZSwgY2FsbGJhY2ssIGRlZmF1bHRDYWxsYmFjaykge1xuICAgIHZhciBkZXN1YixcbiAgICAgICAgdW5zdWJzY3JpYmVyLFxuICAgICAgICBzdWJzY3JpcHRpb25vYmosXG4gICAgICAgIHN1YnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMgfHwgW107XG4gICAgXy50aHJvd0lmKHRoaXMudmFsaWRhdGVMaXN0ZW5pbmcobGlzdGVuYWJsZSkpO1xuICAgIHRoaXMuZmV0Y2hJbml0aWFsU3RhdGUobGlzdGVuYWJsZSwgZGVmYXVsdENhbGxiYWNrKTtcbiAgICBkZXN1YiA9IGxpc3RlbmFibGUubGlzdGVuKHRoaXNbY2FsbGJhY2tdIHx8IGNhbGxiYWNrLCB0aGlzKTtcbiAgICB1bnN1YnNjcmliZXIgPSBmdW5jdGlvbiB1bnN1YnNjcmliZXIoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHN1YnMuaW5kZXhPZihzdWJzY3JpcHRpb25vYmopO1xuICAgICAgICBfLnRocm93SWYoaW5kZXggPT09IC0xLCBcIlRyaWVkIHRvIHJlbW92ZSBsaXN0ZW4gYWxyZWFkeSBnb25lIGZyb20gc3Vic2NyaXB0aW9ucyBsaXN0IVwiKTtcbiAgICAgICAgc3Vicy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBkZXN1YigpO1xuICAgIH07XG4gICAgc3Vic2NyaXB0aW9ub2JqID0ge1xuICAgICAgICBzdG9wOiB1bnN1YnNjcmliZXIsXG4gICAgICAgIGxpc3RlbmFibGU6IGxpc3RlbmFibGVcbiAgICB9O1xuICAgIHN1YnMucHVzaChzdWJzY3JpcHRpb25vYmopO1xuICAgIHJldHVybiBzdWJzY3JpcHRpb25vYmo7XG59O1xuXG4vKipcclxuICogU3RvcHMgbGlzdGVuaW5nIHRvIGEgc2luZ2xlIGxpc3RlbmFibGVcclxuICpcclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgVGhlIGFjdGlvbiBvciBzdG9yZSB3ZSBubyBsb25nZXIgd2FudCB0byBsaXN0ZW4gdG9cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgYSBzdWJzY3JpcHRpb24gd2FzIGZvdW5kIGFuZCByZW1vdmVkLCBvdGhlcndpc2UgZmFsc2UuXHJcbiAqL1xudmFyIHN0b3BMaXN0ZW5pbmdUbyA9IGV4cG9ydHMuc3RvcExpc3RlbmluZ1RvID0gZnVuY3Rpb24gc3RvcExpc3RlbmluZ1RvKGxpc3RlbmFibGUpIHtcbiAgICB2YXIgc3ViLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgc3VicyA9IHRoaXMuc3Vic2NyaXB0aW9ucyB8fCBbXTtcbiAgICBmb3IgKDsgaSA8IHN1YnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3ViID0gc3Vic1tpXTtcbiAgICAgICAgaWYgKHN1Yi5saXN0ZW5hYmxlID09PSBsaXN0ZW5hYmxlKSB7XG4gICAgICAgICAgICBzdWIuc3RvcCgpO1xuICAgICAgICAgICAgXy50aHJvd0lmKHN1YnMuaW5kZXhPZihzdWIpICE9PSAtMSwgXCJGYWlsZWQgdG8gcmVtb3ZlIGxpc3RlbiBmcm9tIHN1YnNjcmlwdGlvbnMgbGlzdCFcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcclxuICogU3RvcHMgYWxsIHN1YnNjcmlwdGlvbnMgYW5kIGVtcHRpZXMgc3Vic2NyaXB0aW9ucyBhcnJheVxyXG4gKi9cbnZhciBzdG9wTGlzdGVuaW5nVG9BbGwgPSBleHBvcnRzLnN0b3BMaXN0ZW5pbmdUb0FsbCA9IGZ1bmN0aW9uIHN0b3BMaXN0ZW5pbmdUb0FsbCgpIHtcbiAgICB2YXIgcmVtYWluaW5nLFxuICAgICAgICBzdWJzID0gdGhpcy5zdWJzY3JpcHRpb25zIHx8IFtdO1xuICAgIHdoaWxlIChyZW1haW5pbmcgPSBzdWJzLmxlbmd0aCkge1xuICAgICAgICBzdWJzWzBdLnN0b3AoKTtcbiAgICAgICAgXy50aHJvd0lmKHN1YnMubGVuZ3RoICE9PSByZW1haW5pbmcgLSAxLCBcIkZhaWxlZCB0byByZW1vdmUgbGlzdGVuIGZyb20gc3Vic2NyaXB0aW9ucyBsaXN0IVwiKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogVXNlZCBpbiBgbGlzdGVuVG9gLiBGZXRjaGVzIGluaXRpYWwgZGF0YSBmcm9tIGEgcHVibGlzaGVyIGlmIGl0IGhhcyBhIGBnZXRJbml0aWFsU3RhdGVgIG1ldGhvZC5cclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgVGhlIHB1Ymxpc2hlciB3ZSB3YW50IHRvIGdldCBpbml0aWFsIHN0YXRlIGZyb21cclxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGRlZmF1bHRDYWxsYmFjayBUaGUgbWV0aG9kIHRvIHJlY2VpdmUgdGhlIGRhdGFcclxuICovXG52YXIgZmV0Y2hJbml0aWFsU3RhdGUgPSBleHBvcnRzLmZldGNoSW5pdGlhbFN0YXRlID0gZnVuY3Rpb24gZmV0Y2hJbml0aWFsU3RhdGUobGlzdGVuYWJsZSwgZGVmYXVsdENhbGxiYWNrKSB7XG4gICAgZGVmYXVsdENhbGxiYWNrID0gZGVmYXVsdENhbGxiYWNrICYmIHRoaXNbZGVmYXVsdENhbGxiYWNrXSB8fCBkZWZhdWx0Q2FsbGJhY2s7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGRlZmF1bHRDYWxsYmFjaykgJiYgXy5pc0Z1bmN0aW9uKGxpc3RlbmFibGUuZ2V0SW5pdGlhbFN0YXRlKSkge1xuICAgICAgICB2YXIgZGF0YSA9IGxpc3RlbmFibGUuZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgICAgIGlmIChkYXRhICYmIF8uaXNGdW5jdGlvbihkYXRhLnRoZW4pKSB7XG4gICAgICAgICAgICBkYXRhLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRDYWxsYmFjay5hcHBseShtZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmYXVsdENhbGxiYWNrLmNhbGwodGhpcywgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcclxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIG9uY2UgYWxsIGxpc3RlbmFibGVzIGhhdmUgdHJpZ2dlcmVkIGF0IGxlYXN0IG9uY2UuXHJcbiAqIEl0IHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGVtaXNzaW9uIGZyb20gZWFjaCBsaXN0ZW5hYmxlLlxyXG4gKiBAcGFyYW0gey4uLlB1Ymxpc2hlcnN9IHB1Ymxpc2hlcnMgUHVibGlzaGVycyB0aGF0IHNob3VsZCBiZSB0cmFja2VkLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gY2FsbGJhY2sgVGhlIG1ldGhvZCB0byBjYWxsIHdoZW4gYWxsIHB1Ymxpc2hlcnMgaGF2ZSBlbWl0dGVkXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgc3Vic2NyaXB0aW9uIG9iaiB3aGVyZSBgc3RvcGAgaXMgYW4gdW5zdWIgZnVuY3Rpb24gYW5kIGBsaXN0ZW5hYmxlYCBpcyBhbiBhcnJheSBvZiBsaXN0ZW5hYmxlc1xyXG4gKi9cbnZhciBqb2luVHJhaWxpbmcgPSBleHBvcnRzLmpvaW5UcmFpbGluZyA9ICgwLCBfam9pbnMuaW5zdGFuY2VKb2luQ3JlYXRvcikoXCJsYXN0XCIpO1xuXG4vKipcclxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIG9uY2UgYWxsIGxpc3RlbmFibGVzIGhhdmUgdHJpZ2dlcmVkIGF0IGxlYXN0IG9uY2UuXHJcbiAqIEl0IHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSBmaXJzdCBlbWlzc2lvbiBmcm9tIGVhY2ggbGlzdGVuYWJsZS5cclxuICogQHBhcmFtIHsuLi5QdWJsaXNoZXJzfSBwdWJsaXNoZXJzIFB1Ymxpc2hlcnMgdGhhdCBzaG91bGQgYmUgdHJhY2tlZC5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGNhbGxiYWNrIFRoZSBtZXRob2QgdG8gY2FsbCB3aGVuIGFsbCBwdWJsaXNoZXJzIGhhdmUgZW1pdHRlZFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHN1YnNjcmlwdGlvbiBvYmogd2hlcmUgYHN0b3BgIGlzIGFuIHVuc3ViIGZ1bmN0aW9uIGFuZCBgbGlzdGVuYWJsZWAgaXMgYW4gYXJyYXkgb2YgbGlzdGVuYWJsZXNcclxuICovXG52YXIgam9pbkxlYWRpbmcgPSBleHBvcnRzLmpvaW5MZWFkaW5nID0gKDAsIF9qb2lucy5pbnN0YW5jZUpvaW5DcmVhdG9yKShcImZpcnN0XCIpO1xuXG4vKipcclxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIG9uY2UgYWxsIGxpc3RlbmFibGVzIGhhdmUgdHJpZ2dlcmVkIGF0IGxlYXN0IG9uY2UuXHJcbiAqIEl0IHdpbGwgYmUgaW52b2tlZCB3aXRoIGFsbCBlbWlzc2lvbiBmcm9tIGVhY2ggbGlzdGVuYWJsZS5cclxuICogQHBhcmFtIHsuLi5QdWJsaXNoZXJzfSBwdWJsaXNoZXJzIFB1Ymxpc2hlcnMgdGhhdCBzaG91bGQgYmUgdHJhY2tlZC5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGNhbGxiYWNrIFRoZSBtZXRob2QgdG8gY2FsbCB3aGVuIGFsbCBwdWJsaXNoZXJzIGhhdmUgZW1pdHRlZFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHN1YnNjcmlwdGlvbiBvYmogd2hlcmUgYHN0b3BgIGlzIGFuIHVuc3ViIGZ1bmN0aW9uIGFuZCBgbGlzdGVuYWJsZWAgaXMgYW4gYXJyYXkgb2YgbGlzdGVuYWJsZXNcclxuICovXG52YXIgam9pbkNvbmNhdCA9IGV4cG9ydHMuam9pbkNvbmNhdCA9ICgwLCBfam9pbnMuaW5zdGFuY2VKb2luQ3JlYXRvcikoXCJhbGxcIik7XG5cbi8qKlxyXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbGwgbGlzdGVuYWJsZXMgaGF2ZSB0cmlnZ2VyZWQuXHJcbiAqIElmIGEgY2FsbGJhY2sgdHJpZ2dlcnMgdHdpY2UgYmVmb3JlIHRoYXQgaGFwcGVucywgYW4gZXJyb3IgaXMgdGhyb3duLlxyXG4gKiBAcGFyYW0gey4uLlB1Ymxpc2hlcnN9IHB1Ymxpc2hlcnMgUHVibGlzaGVycyB0aGF0IHNob3VsZCBiZSB0cmFja2VkLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gY2FsbGJhY2sgVGhlIG1ldGhvZCB0byBjYWxsIHdoZW4gYWxsIHB1Ymxpc2hlcnMgaGF2ZSBlbWl0dGVkXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgc3Vic2NyaXB0aW9uIG9iaiB3aGVyZSBgc3RvcGAgaXMgYW4gdW5zdWIgZnVuY3Rpb24gYW5kIGBsaXN0ZW5hYmxlYCBpcyBhbiBhcnJheSBvZiBsaXN0ZW5hYmxlc1xyXG4gKi9cbnZhciBqb2luU3RyaWN0ID0gZXhwb3J0cy5qb2luU3RyaWN0ID0gKDAsIF9qb2lucy5pbnN0YW5jZUpvaW5DcmVhdG9yKShcInN0cmljdFwiKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZlcldpdGggPSBleHBvcnRzLnRyaWdnZXJBc3luYyA9IGV4cG9ydHMudHJpZ2dlciA9IGV4cG9ydHMubGlzdGVuID0gZXhwb3J0cy5zaG91bGRFbWl0ID0gZXhwb3J0cy5wcmVFbWl0ID0gdW5kZWZpbmVkO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXHJcbiAqIEEgbW9kdWxlIG9mIG1ldGhvZHMgZm9yIG9iamVjdCB0aGF0IHlvdSB3YW50IHRvIGJlIGFibGUgdG8gbGlzdGVuIHRvLlxyXG4gKiBUaGlzIG1vZHVsZSBpcyBjb25zdW1lZCBieSBgY3JlYXRlU3RvcmVgIGFuZCBgY3JlYXRlQWN0aW9uYFxyXG4gKi9cblxuLyoqXHJcbiAqIEhvb2sgdXNlZCBieSB0aGUgcHVibGlzaGVyIHRoYXQgaXMgaW52b2tlZCBiZWZvcmUgZW1pdHRpbmdcclxuICogYW5kIGJlZm9yZSBgc2hvdWxkRW1pdGAuIFRoZSBhcmd1bWVudHMgYXJlIHRoZSBvbmVzIHRoYXQgdGhlIGFjdGlvblxyXG4gKiBpcyBpbnZva2VkIHdpdGguIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBzb21ldGhpbmcgb3RoZXIgdGhhblxyXG4gKiB1bmRlZmluZWQsIHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gYXMgYXJndW1lbnRzIGZvciBzaG91bGRFbWl0IGFuZFxyXG4gKiBlbWlzc2lvbi5cclxuICovXG52YXIgcHJlRW1pdCA9IGV4cG9ydHMucHJlRW1pdCA9IGZ1bmN0aW9uIHByZUVtaXQoKSB7fTtcblxuLyoqXHJcbiAqIEhvb2sgdXNlZCBieSB0aGUgcHVibGlzaGVyIGFmdGVyIGBwcmVFbWl0YCB0byBkZXRlcm1pbmUgaWYgdGhlXHJcbiAqIGV2ZW50IHNob3VsZCBiZSBlbWl0dGVkIHdpdGggZ2l2ZW4gYXJndW1lbnRzLiBUaGlzIG1heSBiZSBvdmVycmlkZGVuXHJcbiAqIGluIHlvdXIgYXBwbGljYXRpb24sIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gYWx3YXlzIHJldHVybnMgdHJ1ZS5cclxuICpcclxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgZXZlbnQgc2hvdWxkIGJlIGVtaXR0ZWRcclxuICovXG52YXIgc2hvdWxkRW1pdCA9IGV4cG9ydHMuc2hvdWxkRW1pdCA9IGZ1bmN0aW9uIHNob3VsZEVtaXQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcclxuICogU3Vic2NyaWJlcyB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGFjdGlvbiB0cmlnZ2VyZWRcclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyIGFzIGV2ZW50IGhhbmRsZXJcclxuICogQHBhcmFtIHtNaXhlZH0gW29wdGlvbmFsXSBiaW5kQ29udGV4dCBUaGUgY29udGV4dCB0byBiaW5kIHRoZSBjYWxsYmFjayB3aXRoXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQ2FsbGJhY2sgdGhhdCB1bnN1YnNjcmliZXMgdGhlIHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlclxyXG4gKi9cbnZhciBsaXN0ZW4gPSBleHBvcnRzLmxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihjYWxsYmFjaywgYmluZENvbnRleHQpIHtcbiAgICBiaW5kQ29udGV4dCA9IGJpbmRDb250ZXh0IHx8IHRoaXM7XG4gICAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIGV2ZW50SGFuZGxlcihhcmdzKSB7XG4gICAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2suYXBwbHkoYmluZENvbnRleHQsIGFyZ3MpO1xuICAgIH0sXG4gICAgICAgIG1lID0gdGhpcyxcbiAgICAgICAgYWJvcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdHRlci5hZGRMaXN0ZW5lcih0aGlzLmV2ZW50TGFiZWwsIGV2ZW50SGFuZGxlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIG1lLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobWUuZXZlbnRMYWJlbCwgZXZlbnRIYW5kbGVyKTtcbiAgICB9O1xufTtcblxuLyoqXHJcbiAqIFB1Ymxpc2hlcyBhbiBldmVudCB1c2luZyBgdGhpcy5lbWl0dGVyYCAoaWYgYHNob3VsZEVtaXRgIGFncmVlcylcclxuICovXG52YXIgdHJpZ2dlciA9IGV4cG9ydHMudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIHByZSA9IHRoaXMucHJlRW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBhcmdzID0gcHJlID09PSB1bmRlZmluZWQgPyBhcmdzIDogXy5pc0FyZ3VtZW50cyhwcmUpID8gcHJlIDogW10uY29uY2F0KHByZSk7XG4gICAgaWYgKHRoaXMuc2hvdWxkRW1pdC5hcHBseSh0aGlzLCBhcmdzKSkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCh0aGlzLmV2ZW50TGFiZWwsIGFyZ3MpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBUcmllcyB0byBwdWJsaXNoIHRoZSBldmVudCBvbiB0aGUgbmV4dCB0aWNrXHJcbiAqL1xudmFyIHRyaWdnZXJBc3luYyA9IGV4cG9ydHMudHJpZ2dlckFzeW5jID0gZnVuY3Rpb24gdHJpZ2dlckFzeW5jKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBtZSA9IHRoaXM7XG4gICAgXy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lLnRyaWdnZXIuYXBwbHkobWUsIGFyZ3MpO1xuICAgIH0pO1xufTtcblxuLyoqXHJcbiAqIFdyYXBzIHRoZSB0cmlnZ2VyIG1lY2hhbmlzbSB3aXRoIGEgZGVmZXJyYWwgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRoZSBkZWZlcnJhbCBmdW5jdGlvbixcclxuICogICAgICAgIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSByZXNvbHZpbmcgZnVuY3Rpb24gYW5kIHRoZVxyXG4gKiAgICAgICAgcmVzdCBhcmUgdGhlIGFyZ3VtZW50cyBwcm92aWRlZCBmcm9tIHRoZSBwcmV2aW91c1xyXG4gKiAgICAgICAgdHJpZ2dlciBpbnZvY2F0aW9uXHJcbiAqL1xudmFyIGRlZmVyV2l0aCA9IGV4cG9ydHMuZGVmZXJXaXRoID0gZnVuY3Rpb24gZGVmZXJXaXRoKGNhbGxiYWNrKSB7XG4gICAgdmFyIG9sZFRyaWdnZXIgPSB0aGlzLnRyaWdnZXIsXG4gICAgICAgIGN0eCA9IHRoaXMsXG4gICAgICAgIHJlc29sdmVyID0gZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICAgIG9sZFRyaWdnZXIuYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgdGhpcy50cmlnZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjay5hcHBseShjdHgsIFtyZXNvbHZlcl0uY29uY2F0KFtdLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpKTtcbiAgICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5iaW5kTWV0aG9kcyA9IGJpbmRNZXRob2RzO1xuZnVuY3Rpb24gYmluZE1ldGhvZHMoc3RvcmUsIGRlZmluaXRpb24pIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGRlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZpbml0aW9uLCBuYW1lKTtcblxuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eURlc2NyaXB0b3IudmFsdWUgfHwgdHlwZW9mIHByb3BlcnR5RGVzY3JpcHRvci52YWx1ZSAhPT0gXCJmdW5jdGlvblwiIHx8ICFkZWZpbml0aW9uLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0b3JlW25hbWVdID0gZGVmaW5pdGlvbltuYW1lXS5iaW5kKHN0b3JlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IGRlZmluaXRpb25bbmFtZV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09IFwiZnVuY3Rpb25cIiB8fCAhZGVmaW5pdGlvbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9yZVtuYW1lXSA9IHByb3BlcnR5LmJpbmQoc3RvcmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3JlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNyZWF0ZUFjdGlvbiA9IGNyZWF0ZUFjdGlvbjtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgXyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfQWN0aW9uTWV0aG9kcyA9IHJlcXVpcmUoXCIuL0FjdGlvbk1ldGhvZHNcIik7XG5cbnZhciBBY3Rpb25NZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0FjdGlvbk1ldGhvZHMpO1xuXG52YXIgX1B1Ymxpc2hlck1ldGhvZHMgPSByZXF1aXJlKFwiLi9QdWJsaXNoZXJNZXRob2RzXCIpO1xuXG52YXIgUHVibGlzaGVyTWV0aG9kcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9QdWJsaXNoZXJNZXRob2RzKTtcblxudmFyIF9LZWVwID0gcmVxdWlyZShcIi4vS2VlcFwiKTtcblxudmFyIEtlZXAgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfS2VlcCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbnZhciBhbGxvd2VkID0geyBwcmVFbWl0OiAxLCBzaG91bGRFbWl0OiAxIH07XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIGFjdGlvbiBmdW5jdG9yIG9iamVjdC4gSXQgaXMgbWl4ZWQgaW4gd2l0aCBmdW5jdGlvbnNcclxuICogZnJvbSB0aGUgYFB1Ymxpc2hlck1ldGhvZHNgIG1peGluLiBgcHJlRW1pdGAgYW5kIGBzaG91bGRFbWl0YCBtYXlcclxuICogYmUgb3ZlcnJpZGRlbiBpbiB0aGUgZGVmaW5pdGlvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIFRoZSBhY3Rpb24gb2JqZWN0IGRlZmluaXRpb25cclxuICovXG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24oZGVmaW5pdGlvbikge1xuXG4gICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24gfHwge307XG4gICAgaWYgKCFfLmlzT2JqZWN0KGRlZmluaXRpb24pKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSB7IGFjdGlvbk5hbWU6IGRlZmluaXRpb24gfTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBhIGluIEFjdGlvbk1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCFhbGxvd2VkW2FdICYmIFB1Ymxpc2hlck1ldGhvZHNbYV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBvdmVycmlkZSBBUEkgbWV0aG9kIFwiICsgYSArIFwiIGluIFJlZmx1eC5BY3Rpb25NZXRob2RzLiBVc2UgYW5vdGhlciBtZXRob2QgbmFtZSBvciBvdmVycmlkZSBpdCBvbiBSZWZsdXguUHVibGlzaGVyTWV0aG9kcyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGQgaW4gZGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoIWFsbG93ZWRbZF0gJiYgUHVibGlzaGVyTWV0aG9kc1tkXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG92ZXJyaWRlIEFQSSBtZXRob2QgXCIgKyBkICsgXCIgaW4gYWN0aW9uIGNyZWF0aW9uLiBVc2UgYW5vdGhlciBtZXRob2QgbmFtZSBvciBvdmVycmlkZSBpdCBvbiBSZWZsdXguUHVibGlzaGVyTWV0aG9kcyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlZmluaXRpb24uY2hpbGRyZW4gPSBkZWZpbml0aW9uLmNoaWxkcmVuIHx8IFtdO1xuICAgIGlmIChkZWZpbml0aW9uLmFzeW5jUmVzdWx0KSB7XG4gICAgICAgIGRlZmluaXRpb24uY2hpbGRyZW4gPSBkZWZpbml0aW9uLmNoaWxkcmVuLmNvbmNhdChbXCJjb21wbGV0ZWRcIiwgXCJmYWlsZWRcIl0pO1xuICAgIH1cblxuICAgIHZhciBpID0gMCxcbiAgICAgICAgY2hpbGRBY3Rpb25zID0ge307XG4gICAgZm9yICg7IGkgPCBkZWZpbml0aW9uLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaERlZiA9IGRlZmluaXRpb24uY2hpbGRyZW5baV07XG4gICAgICAgIHZhciBjaE5hbWUgPSB0eXBlb2YgY2hEZWYgPT09IFwic3RyaW5nXCIgPyBjaERlZiA6IGNoRGVmLmFjdGlvbk5hbWU7XG4gICAgICAgIGNoaWxkQWN0aW9uc1tjaE5hbWVdID0gY3JlYXRlQWN0aW9uKGNoRGVmKTtcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IF8uZXh0ZW5kKHtcbiAgICAgICAgZXZlbnRMYWJlbDogXCJhY3Rpb25cIixcbiAgICAgICAgZW1pdHRlcjogbmV3IF8uRXZlbnRFbWl0dGVyKCksXG4gICAgICAgIF9pc0FjdGlvbjogdHJ1ZVxuICAgIH0sIFB1Ymxpc2hlck1ldGhvZHMsIEFjdGlvbk1ldGhvZHMsIGRlZmluaXRpb24pO1xuXG4gICAgdmFyIGZ1bmN0b3IgPSBmdW5jdGlvbiBmdW5jdG9yKCkge1xuICAgICAgICB2YXIgaGFzQ2hpbGRBY3Rpb25zID0gZmFsc2U7XG4gICAgICAgIC8qIGVzbGludCBuby11bnVzZWQtdmFyczowICovXG4gICAgICAgIGZvciAodmFyIGlnbm9yZSBpbiBmdW5jdG9yLmNoaWxkQWN0aW9ucykge1xuICAgICAgICAgICAgaGFzQ2hpbGRBY3Rpb25zID0gdHJ1ZTticmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXN5bmMgPSAhZnVuY3Rvci5zeW5jICYmIHR5cGVvZiBmdW5jdG9yLnN5bmMgIT09IFwidW5kZWZpbmVkXCIgfHwgaGFzQ2hpbGRBY3Rpb25zO1xuICAgICAgICB2YXIgdHJpZ2dlclR5cGUgPSBhc3luYyA/IFwidHJpZ2dlckFzeW5jXCIgOiBcInRyaWdnZXJcIjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0b3JbdHJpZ2dlclR5cGVdLmFwcGx5KGZ1bmN0b3IsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIF8uZXh0ZW5kKGZ1bmN0b3IsIGNoaWxkQWN0aW9ucywgY29udGV4dCk7XG5cbiAgICBLZWVwLmFkZEFjdGlvbihmdW5jdG9yKTtcblxuICAgIHJldHVybiBmdW5jdG9yO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNyZWF0ZVN0b3JlID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF8gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX0tlZXAgPSByZXF1aXJlKFwiLi9LZWVwXCIpO1xuXG52YXIgS2VlcCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9LZWVwKTtcblxudmFyIF9taXhlciA9IHJlcXVpcmUoXCIuL21peGVyXCIpO1xuXG52YXIgX2JpbmRNZXRob2RzID0gcmVxdWlyZShcIi4vYmluZE1ldGhvZHNcIik7XG5cbnZhciBfU3RvcmVNZXRob2RzID0gcmVxdWlyZShcIi4vU3RvcmVNZXRob2RzXCIpO1xuXG52YXIgU3RvcmVNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX1N0b3JlTWV0aG9kcyk7XG5cbnZhciBfUHVibGlzaGVyTWV0aG9kcyA9IHJlcXVpcmUoXCIuL1B1Ymxpc2hlck1ldGhvZHNcIik7XG5cbnZhciBQdWJsaXNoZXJNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX1B1Ymxpc2hlck1ldGhvZHMpO1xuXG52YXIgX0xpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoXCIuL0xpc3RlbmVyTWV0aG9kc1wiKTtcblxudmFyIExpc3RlbmVyTWV0aG9kcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9MaXN0ZW5lck1ldGhvZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG52YXIgYWxsb3dlZCA9IHsgcHJlRW1pdDogMSwgc2hvdWxkRW1pdDogMSB9O1xuXG4vKipcclxuICogQ3JlYXRlcyBhbiBldmVudCBlbWl0dGluZyBEYXRhIFN0b3JlLiBJdCBpcyBtaXhlZCBpbiB3aXRoIGZ1bmN0aW9uc1xyXG4gKiBmcm9tIHRoZSBgTGlzdGVuZXJNZXRob2RzYCBhbmQgYFB1Ymxpc2hlck1ldGhvZHNgIG1peGlucy4gYHByZUVtaXRgXHJcbiAqIGFuZCBgc2hvdWxkRW1pdGAgbWF5IGJlIG92ZXJyaWRkZW4gaW4gdGhlIGRlZmluaXRpb24gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBUaGUgZGF0YSBzdG9yZSBvYmplY3QgZGVmaW5pdGlvblxyXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgZGF0YSBzdG9yZSBpbnN0YW5jZVxyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGRlZmluaXRpb24pIHtcblxuICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9O1xuXG4gICAgZm9yICh2YXIgYSBpbiBTdG9yZU1ldGhvZHMpIHtcbiAgICAgICAgaWYgKCFhbGxvd2VkW2FdICYmIChQdWJsaXNoZXJNZXRob2RzW2FdIHx8IExpc3RlbmVyTWV0aG9kc1thXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBvdmVycmlkZSBBUEkgbWV0aG9kIFwiICsgYSArIFwiIGluIFJlZmx1eC5TdG9yZU1ldGhvZHMuIFVzZSBhbm90aGVyIG1ldGhvZCBuYW1lIG9yIG92ZXJyaWRlIGl0IG9uIFJlZmx1eC5QdWJsaXNoZXJNZXRob2RzIC8gUmVmbHV4Lkxpc3RlbmVyTWV0aG9kcyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGQgaW4gZGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoIWFsbG93ZWRbZF0gJiYgKFB1Ymxpc2hlck1ldGhvZHNbZF0gfHwgTGlzdGVuZXJNZXRob2RzW2RdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG92ZXJyaWRlIEFQSSBtZXRob2QgXCIgKyBkICsgXCIgaW4gc3RvcmUgY3JlYXRpb24uIFVzZSBhbm90aGVyIG1ldGhvZCBuYW1lIG9yIG92ZXJyaWRlIGl0IG9uIFJlZmx1eC5QdWJsaXNoZXJNZXRob2RzIC8gUmVmbHV4Lkxpc3RlbmVyTWV0aG9kcyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlZmluaXRpb24gPSAoMCwgX21peGVyLm1peCkoZGVmaW5pdGlvbik7XG5cbiAgICBmdW5jdGlvbiBTdG9yZSgpIHtcbiAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgYXJyO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IF8uRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZXZlbnRMYWJlbCA9IFwiY2hhbmdlXCI7XG4gICAgICAgICgwLCBfYmluZE1ldGhvZHMuYmluZE1ldGhvZHMpKHRoaXMsIGRlZmluaXRpb24pO1xuICAgICAgICBpZiAodGhpcy5pbml0ICYmIF8uaXNGdW5jdGlvbih0aGlzLmluaXQpKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saXN0ZW5hYmxlcykge1xuICAgICAgICAgICAgYXJyID0gW10uY29uY2F0KHRoaXMubGlzdGVuYWJsZXMpO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlblRvTWFueShhcnJbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgXy5leHRlbmQoU3RvcmUucHJvdG90eXBlLCBMaXN0ZW5lck1ldGhvZHMsIFB1Ymxpc2hlck1ldGhvZHMsIFN0b3JlTWV0aG9kcywgZGVmaW5pdGlvbik7XG5cbiAgICB2YXIgc3RvcmUgPSBuZXcgU3RvcmUoKTtcbiAgICBLZWVwLmFkZFN0b3JlKHN0b3JlKTtcblxuICAgIHJldHVybiBzdG9yZTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5fX2tlZXAgPSBleHBvcnRzLmpvaW5Db25jYXQgPSBleHBvcnRzLmpvaW5TdHJpY3QgPSBleHBvcnRzLmpvaW5MZWFkaW5nID0gZXhwb3J0cy5hbGwgPSBleHBvcnRzLmpvaW5UcmFpbGluZyA9IGV4cG9ydHMudXNlID0gZXhwb3J0cy5uZXh0VGljayA9IGV4cG9ydHMuc2V0RXZlbnRFbWl0dGVyID0gZXhwb3J0cy5jcmVhdGVBY3Rpb25zID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IGV4cG9ydHMuY3JlYXRlQWN0aW9uID0gZXhwb3J0cy51dGlscyA9IGV4cG9ydHMuU3RvcmVNZXRob2RzID0gZXhwb3J0cy5QdWJsaXNoZXJNZXRob2RzID0gZXhwb3J0cy5MaXN0ZW5lck1ldGhvZHMgPSBleHBvcnRzLkFjdGlvbk1ldGhvZHMgPSBleHBvcnRzLnZlcnNpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfQWN0aW9uTWV0aG9kcyA9IHJlcXVpcmUoXCIuL0FjdGlvbk1ldGhvZHNcIik7XG5cbnZhciBBY3Rpb25NZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0FjdGlvbk1ldGhvZHMpO1xuXG52YXIgX0xpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoXCIuL0xpc3RlbmVyTWV0aG9kc1wiKTtcblxudmFyIExpc3RlbmVyTWV0aG9kcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9MaXN0ZW5lck1ldGhvZHMpO1xuXG52YXIgX1B1Ymxpc2hlck1ldGhvZHMgPSByZXF1aXJlKFwiLi9QdWJsaXNoZXJNZXRob2RzXCIpO1xuXG52YXIgUHVibGlzaGVyTWV0aG9kcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9QdWJsaXNoZXJNZXRob2RzKTtcblxudmFyIF9TdG9yZU1ldGhvZHMgPSByZXF1aXJlKFwiLi9TdG9yZU1ldGhvZHNcIik7XG5cbnZhciBTdG9yZU1ldGhvZHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfU3RvcmVNZXRob2RzKTtcblxudmFyIF9qb2lucyA9IHJlcXVpcmUoXCIuL2pvaW5zXCIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9jcmVhdGVBY3Rpb24gPSByZXF1aXJlKFwiLi9jcmVhdGVBY3Rpb25cIik7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKFwiLi9jcmVhdGVTdG9yZVwiKTtcblxudmFyIF9LZWVwID0gcmVxdWlyZShcIi4vS2VlcFwiKTtcblxudmFyIF9fa2VlcCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9LZWVwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxudmFyIHZlcnNpb24gPSB7XG4gICAgXCJyZWZsdXgtY29yZVwiOiBcIjEuMC4wXCJcbn07XG5cbnZhciBqb2luVHJhaWxpbmcgPSAoMCwgX2pvaW5zLnN0YXRpY0pvaW5DcmVhdG9yKShcImxhc3RcIik7XG52YXIgYWxsID0gam9pblRyYWlsaW5nOyAvLyBSZWZsdXguYWxsIGFsaWFzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG52YXIgam9pbkxlYWRpbmcgPSAoMCwgX2pvaW5zLnN0YXRpY0pvaW5DcmVhdG9yKShcImZpcnN0XCIpO1xudmFyIGpvaW5TdHJpY3QgPSAoMCwgX2pvaW5zLnN0YXRpY0pvaW5DcmVhdG9yKShcInN0cmljdFwiKTtcbnZhciBqb2luQ29uY2F0ID0gKDAsIF9qb2lucy5zdGF0aWNKb2luQ3JlYXRvcikoXCJhbGxcIik7XG5cbnZhciB1dGlscyA9IF87XG5cblxuLyoqXHJcbiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIHNldCBvZiBhY3Rpb25zXHJcbiAqXHJcbiAqIEBwYXJhbSBkZWZpbml0aW9ucyB0aGUgZGVmaW5pdGlvbnMgZm9yIHRoZSBhY3Rpb25zIHRvIGJlIGNyZWF0ZWRcclxuICogQHJldHVybnMgYW4gb2JqZWN0IHdpdGggYWN0aW9ucyBvZiBjb3JyZXNwb25kaW5nIGFjdGlvbiBuYW1lc1xyXG4gKi9cbnZhciBjcmVhdGVBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihkZWZpbml0aW9ucywgYWN0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyhkZWZpbml0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGRlZmluaXRpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICAgICAgYWN0aW9uc1thY3Rpb25OYW1lXSA9ICgwLCBfY3JlYXRlQWN0aW9uLmNyZWF0ZUFjdGlvbikodmFsKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKGRlZmluaXRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChfLmlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkdWNlcih2YWwsIGFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbdmFsXSA9ICgwLCBfY3JlYXRlQWN0aW9uLmNyZWF0ZUFjdGlvbikodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZHVjZXIoZGVmaW5pdGlvbnMsIGFjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH07XG59KCk7XG5cbi8qKlxyXG4gKiBTZXRzIHRoZSBldmVudG1pdHRlciB0aGF0IFJlZmx1eCB1c2VzXHJcbiAqL1xuZnVuY3Rpb24gc2V0RXZlbnRFbWl0dGVyKGN0eCkge1xuICAgIF8uRXZlbnRFbWl0dGVyID0gY3R4O1xufVxuXG4vKipcclxuICogU2V0cyB0aGUgbWV0aG9kIHVzZWQgZm9yIGRlZmVycmluZyBhY3Rpb25zIGFuZCBzdG9yZXNcclxuICovXG5mdW5jdGlvbiBuZXh0VGljayhuZXh0VGljaykge1xuICAgIF8ubmV4dFRpY2sgPSBuZXh0VGljaztcbn1cblxuZnVuY3Rpb24gdXNlKHBsdWdpbkNiKSB7XG4gICAgcGx1Z2luQ2IodGhpcyk7XG59XG5cbi8qKlxyXG4gKiBQcm92aWRlcyB0aGUgc2V0IG9mIGNyZWF0ZWQgYWN0aW9ucyBhbmQgc3RvcmVzIGZvciBpbnRyb3NwZWN0aW9uXHJcbiAqL1xuLyplc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSovXG5cblxuLy8gZXhwb3J0IGluIGZvcm1hdCB0aGF0IHN1cHBvcnRzIHN5bnRheDogdmFyIFJlZmx1eCA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlJyk7XG5leHBvcnRzLnZlcnNpb24gPSB2ZXJzaW9uO1xuZXhwb3J0cy5BY3Rpb25NZXRob2RzID0gQWN0aW9uTWV0aG9kcztcbmV4cG9ydHMuTGlzdGVuZXJNZXRob2RzID0gTGlzdGVuZXJNZXRob2RzO1xuZXhwb3J0cy5QdWJsaXNoZXJNZXRob2RzID0gUHVibGlzaGVyTWV0aG9kcztcbmV4cG9ydHMuU3RvcmVNZXRob2RzID0gU3RvcmVNZXRob2RzO1xuZXhwb3J0cy51dGlscyA9IHV0aWxzO1xuZXhwb3J0cy5jcmVhdGVBY3Rpb24gPSBfY3JlYXRlQWN0aW9uLmNyZWF0ZUFjdGlvbjtcbmV4cG9ydHMuY3JlYXRlU3RvcmUgPSBfY3JlYXRlU3RvcmUuY3JlYXRlU3RvcmU7XG5leHBvcnRzLmNyZWF0ZUFjdGlvbnMgPSBjcmVhdGVBY3Rpb25zO1xuZXhwb3J0cy5zZXRFdmVudEVtaXR0ZXIgPSBzZXRFdmVudEVtaXR0ZXI7XG5leHBvcnRzLm5leHRUaWNrID0gbmV4dFRpY2s7XG5leHBvcnRzLnVzZSA9IHVzZTtcbmV4cG9ydHMuam9pblRyYWlsaW5nID0gam9pblRyYWlsaW5nO1xuZXhwb3J0cy5hbGwgPSBhbGw7XG5leHBvcnRzLmpvaW5MZWFkaW5nID0gam9pbkxlYWRpbmc7XG5leHBvcnRzLmpvaW5TdHJpY3QgPSBqb2luU3RyaWN0O1xuZXhwb3J0cy5qb2luQ29uY2F0ID0gam9pbkNvbmNhdDtcbmV4cG9ydHMuX19rZWVwID0gX19rZWVwO1xuLyplc2xpbnQtZW5hYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlKi9cblxuLy8gZXhwb3J0IGluIGZvcm1hdCB0aGF0IHN1cHBvcnRzIHN5bnRheDogaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgtY29yZSc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlZmF1bHRcIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gZXhwb3J0cztcbiAgICB9XG59KTtcblxuLyoqXHJcbiAqIFdhcm4gaWYgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgbm90IGF2YWlsYWJsZVxyXG4gKi9cbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgbm90IGF2YWlsYWJsZS4gXCIgKyBcIkVTNSBzaGltIHJlcXVpcmVkLiBcIiArIFwiaHR0cHM6Ly9naXRodWIuY29tL3Nwb2lrZS9yZWZsdXhqcyNlczVcIik7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuc3RhdGljSm9pbkNyZWF0b3IgPSBzdGF0aWNKb2luQ3JlYXRvcjtcbmV4cG9ydHMuaW5zdGFuY2VKb2luQ3JlYXRvciA9IGluc3RhbmNlSm9pbkNyZWF0b3I7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKFwiLi9jcmVhdGVTdG9yZVwiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgXyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxyXG4gKiBJbnRlcm5hbCBtb2R1bGUgdXNlZCB0byBjcmVhdGUgc3RhdGljIGFuZCBpbnN0YW5jZSBqb2luIG1ldGhvZHNcclxuICovXG5cbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbiAgICBzdHJhdGVneU1ldGhvZE5hbWVzID0ge1xuICAgIHN0cmljdDogXCJqb2luU3RyaWN0XCIsXG4gICAgZmlyc3Q6IFwiam9pbkxlYWRpbmdcIixcbiAgICBsYXN0OiBcImpvaW5UcmFpbGluZ1wiLFxuICAgIGFsbDogXCJqb2luQ29uY2F0XCJcbn07XG5cbi8qKlxyXG4gKiBVc2VkIGluIGBpbmRleC5qc2AgdG8gY3JlYXRlIHRoZSBzdGF0aWMgam9pbiBtZXRob2RzXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJhdGVneSBXaGljaCBzdHJhdGVneSB0byB1c2Ugd2hlbiB0cmFja2luZyBsaXN0ZW5hYmxlIHRyaWdnZXIgYXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdGF0aWMgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHN0b3JlIHdpdGggYSBqb2luIGxpc3RlbiBvbiB0aGUgZ2l2ZW4gbGlzdGVuYWJsZXMgdXNpbmcgdGhlIGdpdmVuIHN0cmF0ZWd5XHJcbiAqL1xuZnVuY3Rpb24gc3RhdGljSm9pbkNyZWF0b3Ioc3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgLyogbGlzdGVuYWJsZXMuLi4gKi97XG4gICAgICAgIHZhciBsaXN0ZW5hYmxlcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuICgwLCBfY3JlYXRlU3RvcmUuY3JlYXRlU3RvcmUpKHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tzdHJhdGVneU1ldGhvZE5hbWVzW3N0cmF0ZWd5XV0uYXBwbHkodGhpcywgbGlzdGVuYWJsZXMuY29uY2F0KFwidHJpZ2dlckFzeW5jXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLyoqXHJcbiAqIFVzZWQgaW4gYExpc3RlbmVyTWV0aG9kcy5qc2AgdG8gY3JlYXRlIHRoZSBpbnN0YW5jZSBqb2luIG1ldGhvZHNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmF0ZWd5IFdoaWNoIHN0cmF0ZWd5IHRvIHVzZSB3aGVuIHRyYWNraW5nIGxpc3RlbmFibGUgdHJpZ2dlciBhcmd1bWVudHNcclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBbiBpbnN0YW5jZSBtZXRob2Qgd2hpY2ggc2V0cyB1cCBhIGpvaW4gbGlzdGVuIG9uIHRoZSBnaXZlbiBsaXN0ZW5hYmxlcyB1c2luZyB0aGUgZ2l2ZW4gc3RyYXRlZ3lcclxuICovXG5mdW5jdGlvbiBpbnN0YW5jZUpvaW5DcmVhdG9yKHN0cmF0ZWd5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIC8qIGxpc3RlbmFibGVzLi4uLCBjYWxsYmFjayove1xuICAgICAgICBfLnRocm93SWYoYXJndW1lbnRzLmxlbmd0aCA8IDIsIFwiQ2Fubm90IGNyZWF0ZSBhIGpvaW4gd2l0aCBsZXNzIHRoYW4gMiBsaXN0ZW5hYmxlcyFcIik7XG4gICAgICAgIHZhciBsaXN0ZW5hYmxlcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGNhbGxiYWNrID0gbGlzdGVuYWJsZXMucG9wKCksXG4gICAgICAgICAgICBudW1iZXJPZkxpc3RlbmFibGVzID0gbGlzdGVuYWJsZXMubGVuZ3RoLFxuICAgICAgICAgICAgam9pbiA9IHtcbiAgICAgICAgICAgIG51bWJlck9mTGlzdGVuYWJsZXM6IG51bWJlck9mTGlzdGVuYWJsZXMsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpc1tjYWxsYmFja10gfHwgY2FsbGJhY2ssXG4gICAgICAgICAgICBsaXN0ZW5lcjogdGhpcyxcbiAgICAgICAgICAgIHN0cmF0ZWd5OiBzdHJhdGVneVxuICAgICAgICB9LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGNhbmNlbHMgPSBbXSxcbiAgICAgICAgICAgIHN1Ym9iajtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bWJlck9mTGlzdGVuYWJsZXM7IGkrKykge1xuICAgICAgICAgICAgXy50aHJvd0lmKHRoaXMudmFsaWRhdGVMaXN0ZW5pbmcobGlzdGVuYWJsZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtYmVyT2ZMaXN0ZW5hYmxlczsgaSsrKSB7XG4gICAgICAgICAgICBjYW5jZWxzLnB1c2gobGlzdGVuYWJsZXNbaV0ubGlzdGVuKG5ld0xpc3RlbmVyKGksIGpvaW4pLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXQoam9pbik7XG4gICAgICAgIHN1Ym9iaiA9IHsgbGlzdGVuYWJsZTogbGlzdGVuYWJsZXMgfTtcbiAgICAgICAgc3Vib2JqLnN0b3AgPSBtYWtlU3RvcHBlcihzdWJvYmosIGNhbmNlbHMsIHRoaXMpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSAodGhpcy5zdWJzY3JpcHRpb25zIHx8IFtdKS5jb25jYXQoc3Vib2JqKTtcbiAgICAgICAgcmV0dXJuIHN1Ym9iajtcbiAgICB9O1xufVxuXG4vLyAtLS0tIGludGVybmFsIGpvaW4gZnVuY3Rpb25zIC0tLS1cblxuZnVuY3Rpb24gbWFrZVN0b3BwZXIoc3Vib2JqLCBjYW5jZWxzLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGksXG4gICAgICAgICAgICBzdWJzID0gY29udGV4dC5zdWJzY3JpcHRpb25zLFxuICAgICAgICAgICAgaW5kZXggPSBzdWJzID8gc3Vicy5pbmRleE9mKHN1Ym9iaikgOiAtMTtcbiAgICAgICAgXy50aHJvd0lmKGluZGV4ID09PSAtMSwgXCJUcmllZCB0byByZW1vdmUgam9pbiBhbHJlYWR5IGdvbmUgZnJvbSBzdWJzY3JpcHRpb25zIGxpc3QhXCIpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2FuY2Vscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FuY2Vsc1tpXSgpO1xuICAgICAgICB9XG4gICAgICAgIHN1YnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiByZXNldChqb2luKSB7XG4gICAgam9pbi5saXN0ZW5hYmxlc0VtaXR0ZWQgPSBuZXcgQXJyYXkoam9pbi5udW1iZXJPZkxpc3RlbmFibGVzKTtcbiAgICBqb2luLmFyZ3MgPSBuZXcgQXJyYXkoam9pbi5udW1iZXJPZkxpc3RlbmFibGVzKTtcbn1cblxuZnVuY3Rpb24gbmV3TGlzdGVuZXIoaSwgam9pbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWxsYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGpvaW4ubGlzdGVuYWJsZXNFbWl0dGVkW2ldKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGpvaW4uc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaWN0XCI6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmljdCBqb2luIGZhaWxlZCBiZWNhdXNlIGxpc3RlbmVyIHRyaWdnZXJlZCB0d2ljZS5cIik7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxhc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgam9pbi5hcmdzW2ldID0gY2FsbGFyZ3M7YnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFsbFwiOlxuICAgICAgICAgICAgICAgICAgICBqb2luLmFyZ3NbaV0ucHVzaChjYWxsYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqb2luLmxpc3RlbmFibGVzRW1pdHRlZFtpXSA9IHRydWU7XG4gICAgICAgICAgICBqb2luLmFyZ3NbaV0gPSBqb2luLnN0cmF0ZWd5ID09PSBcImFsbFwiID8gW2NhbGxhcmdzXSA6IGNhbGxhcmdzO1xuICAgICAgICB9XG4gICAgICAgIGVtaXRJZkFsbExpc3RlbmFibGVzRW1pdHRlZChqb2luKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBlbWl0SWZBbGxMaXN0ZW5hYmxlc0VtaXR0ZWQoam9pbikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgam9pbi5udW1iZXJPZkxpc3RlbmFibGVzOyBpKyspIHtcbiAgICAgICAgaWYgKCFqb2luLmxpc3RlbmFibGVzRW1pdHRlZFtpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGpvaW4uY2FsbGJhY2suYXBwbHkoam9pbi5saXN0ZW5lciwgam9pbi5hcmdzKTtcbiAgICByZXNldChqb2luKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5taXggPSBtaXg7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF8gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBtaXgoZGVmKSB7XG4gICAgdmFyIGNvbXBvc2VkID0ge1xuICAgICAgICBpbml0OiBbXSxcbiAgICAgICAgcHJlRW1pdDogW10sXG4gICAgICAgIHNob3VsZEVtaXQ6IFtdXG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVkID0gZnVuY3Rpb24gbWl4RGVmKG1peGluKSB7XG4gICAgICAgIHZhciBtaXhlZCA9IHt9O1xuICAgICAgICBpZiAobWl4aW4ubWl4aW5zKSB7XG4gICAgICAgICAgICBtaXhpbi5taXhpbnMuZm9yRWFjaChmdW5jdGlvbiAoc3ViTWl4aW4pIHtcbiAgICAgICAgICAgICAgICBfLmV4dGVuZChtaXhlZCwgbWl4RGVmKHN1Yk1peGluKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBfLmV4dGVuZChtaXhlZCwgbWl4aW4pO1xuICAgICAgICBPYmplY3Qua2V5cyhjb21wb3NlZCkuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9zYWJsZSkge1xuICAgICAgICAgICAgaWYgKG1peGluLmhhc093blByb3BlcnR5KGNvbXBvc2FibGUpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9zZWRbY29tcG9zYWJsZV0ucHVzaChtaXhpbltjb21wb3NhYmxlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWl4ZWQ7XG4gICAgfShkZWYpO1xuXG4gICAgaWYgKGNvbXBvc2VkLmluaXQubGVuZ3RoID4gMSkge1xuICAgICAgICB1cGRhdGVkLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIGNvbXBvc2VkLmluaXQuZm9yRWFjaChmdW5jdGlvbiAoaW5pdCkge1xuICAgICAgICAgICAgICAgIGluaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2VkLnByZUVtaXQubGVuZ3RoID4gMSkge1xuICAgICAgICB1cGRhdGVkLnByZUVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZWQucHJlRW1pdC5yZWR1Y2UoZnVuY3Rpb24gKGFyZ3MsIHByZUVtaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBwcmVFbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkID8gYXJncyA6IFtuZXdWYWx1ZV07XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb21wb3NlZC5zaG91bGRFbWl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdXBkYXRlZC5zaG91bGRFbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICByZXR1cm4gIWNvbXBvc2VkLnNob3VsZEVtaXQuc29tZShmdW5jdGlvbiAoc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhc2hvdWxkRW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhjb21wb3NlZCkuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9zYWJsZSkge1xuICAgICAgICBpZiAoY29tcG9zZWRbY29tcG9zYWJsZV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB1cGRhdGVkW2NvbXBvc2FibGVdID0gY29tcG9zZWRbY29tcG9zYWJsZV1bMF07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbmV4cG9ydHMuY2FsbGJhY2tOYW1lID0gY2FsbGJhY2tOYW1lO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZXhwb3J0cy5uZXh0VGljayA9IG5leHRUaWNrO1xuZXhwb3J0cy5vYmplY3QgPSBvYmplY3Q7XG5leHBvcnRzLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG5leHBvcnRzLnRocm93SWYgPSB0aHJvd0lmO1xuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja05hbWUoc3RyaW5nLCBwcmVmaXgpIHtcbiAgICBwcmVmaXggPSBwcmVmaXggfHwgXCJvblwiO1xuICAgIHJldHVybiBwcmVmaXggKyBleHBvcnRzLmNhcGl0YWxpemUoc3RyaW5nKTtcbn1cblxuLypcclxuICogaXNPYmplY3QsIGV4dGVuZCwgaXNGdW5jdGlvbiwgaXNBcmd1bWVudHMgYXJlIHRha2VuIGZyb20gdW5kZXJzY29yZS9sb2Rhc2ggaW5cclxuICogb3JkZXIgdG8gcmVtb3ZlIHRoZSBkZXBlbmRlbmN5XHJcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbiAgICByZXR1cm4gdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IHR5cGUgPT09IFwib2JqZWN0XCIgJiYgISFvYmo7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChvYmopIHtcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgdmFyIHNvdXJjZSwga2V5cywgcHJvcDtcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcHJvcCA9IGtleXNbal07XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHByb3ApO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHByb3BlcnR5RGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xuXG5mdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaykge1xuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xufVxuXG5mdW5jdGlvbiBvYmplY3Qoa2V5cywgdmFscykge1xuICAgIHZhciBvID0ge30sXG4gICAgICAgIGkgPSAwO1xuICAgIGZvciAoOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvW2tleXNbaV1dID0gdmFsc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih2YWx1ZSkpID09PSBcIm9iamVjdFwiICYmIFwiY2FsbGVlXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gXCJudW1iZXJcIjtcbn1cblxuZnVuY3Rpb24gdGhyb3dJZih2YWwsIG1zZykge1xuICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IobXNnIHx8IHZhbCk7XG4gICAgfVxufSIsInZhciBfID0gcmVxdWlyZSgncmVmbHV4LWNvcmUvbGliL3V0aWxzJyksXHJcbiAgICBMaXN0ZW5lck1ldGhvZHMgPSByZXF1aXJlKCdyZWZsdXgtY29yZS9saWIvTGlzdGVuZXJNZXRob2RzJyk7XHJcblxyXG4vKipcclxuICogQSBtb2R1bGUgbWVhbnQgdG8gYmUgY29uc3VtZWQgYXMgYSBtaXhpbiBieSBhIFJlYWN0IGNvbXBvbmVudC4gU3VwcGxpZXMgdGhlIG1ldGhvZHMgZnJvbVxyXG4gKiBgTGlzdGVuZXJNZXRob2RzYCBtaXhpbiBhbmQgdGFrZXMgY2FyZSBvZiB0ZWFyZG93biBvZiBzdWJzY3JpcHRpb25zLlxyXG4gKiBOb3RlIHRoYXQgaWYgeW91J3JlIHVzaW5nIHRoZSBgY29ubmVjdGAgbWl4aW4geW91IGRvbid0IG5lZWQgdGhpcyBtaXhpbiwgYXMgY29ubmVjdCB3aWxsXHJcbiAqIGltcG9ydCBldmVyeXRoaW5nIHRoaXMgbWl4aW4gY29udGFpbnMhXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IF8uZXh0ZW5kKHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFucyB1cCBhbGwgbGlzdGVuZXIgcHJldmlvdXNseSByZWdpc3RlcmVkLlxyXG4gICAgICovXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudDogTGlzdGVuZXJNZXRob2RzLnN0b3BMaXN0ZW5pbmdUb0FsbFxyXG5cclxufSwgTGlzdGVuZXJNZXRob2RzKTtcclxuIiwiXHJcbi8qIGdsb2JhbHMgUmVhY3Q6IGZhbHNlICovXHJcblxyXG52YXIgUmVmbHV4ID0gcmVxdWlyZSgncmVmbHV4LWNvcmUnKTtcclxuUmVmbHV4LmRlZmluZVJlYWN0ID0gcmVxdWlyZSgnLi9kZWZpbmVSZWFjdCcpO1xyXG5cclxuLy8gdXNlZnVsIHV0aWxpdHkgZm9yIEVTNiB3b3JrLCBtaW1pY3MgdGhlIGFiaWxpdHkgdG8gZXh0ZW5kXHJcblJlZmx1eC51dGlscy5pbmhlcml0cyA9IGZ1bmN0aW9uKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XHJcblx0aWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xyXG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XHJcblx0fVxyXG5cdHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xyXG5cdFx0Y29uc3RydWN0b3I6IHtcclxuXHRcdFx0dmFsdWU6IHN1YkNsYXNzLFxyXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0d3JpdGFibGU6IHRydWUsXHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdGlmIChzdXBlckNsYXNzKSB7XHJcblx0XHRpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XHJcblx0XHRcdE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvKiBqc2hpbnQgcHJvdG86IHRydWUgKi9cclxuXHRcdFx0c3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG4vLyBmaXJzdCB0cnkgdG8gc2VlIGlmIHRoZXJlJ3MgYSBnbG9iYWwgUmVhY3QgdmFyIGFuZCB1c2UgaXRcclxuaWYgKHR5cGVvZiBSZWFjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVhY3QpIHtcclxuXHRSZWZsdXguZGVmaW5lUmVhY3QoUmVhY3QpO1xyXG4vLyBvdGhlcndpc2Ugd2UncmUgZ29ubmEgcmVzb3J0IHRvICd0cnknIHN0dWZmIGluIGNhc2Ugb2Ygb3RoZXIgZW52aXJvbm1lbnRzXHJcbn0gZWxzZSB7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBSID0gcmVxdWlyZShcInJlYWN0XCIpOyAvLyB3ZSBpZ25vcmUgdGhpcyBpbiBicm93c2VyaWZ5IG1hbnVhbGx5IChzZWUgZ3J1bnQgZmlsZSksIHNvIGl0J3MgbW9yZSBvZiBhIGRvdWJsZWNoZWNrIGZvciBpbiBub2RlXHJcblx0XHRSZWZsdXguZGVmaW5lUmVhY3QoUik7XHJcblx0fSBjYXRjaCAoZSkge31cclxufVxyXG4iLCJ2YXIgTGlzdGVuZXJNZXRob2RzID0gcmVxdWlyZSgncmVmbHV4LWNvcmUvbGliL0xpc3RlbmVyTWV0aG9kcycpLFxyXG4gICAgTGlzdGVuZXJNaXhpbiA9IHJlcXVpcmUoJy4vTGlzdGVuZXJNaXhpbicpLFxyXG4gICAgXyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi91dGlscycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0ZW5hYmxlLCBrZXkpIHtcclxuXHJcbiAgICBfLnRocm93SWYodHlwZW9mKGtleSkgPT09ICd1bmRlZmluZWQnLCAnUmVmbHV4LmNvbm5lY3QoKSByZXF1aXJlcyBhIGtleS4nKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghXy5pc0Z1bmN0aW9uKGxpc3RlbmFibGUuZ2V0SW5pdGlhbFN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gXy5vYmplY3QoW2tleV0sW2xpc3RlbmFibGUuZ2V0SW5pdGlhbFN0YXRlKCldKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIF8uZXh0ZW5kKG1lLCBMaXN0ZW5lck1ldGhvZHMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhsaXN0ZW5hYmxlLCBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICAgICAgICBtZS5zZXRTdGF0ZShfLm9iamVjdChba2V5XSxbdl0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wb25lbnRXaWxsVW5tb3VudDogTGlzdGVuZXJNaXhpbi5jb21wb25lbnRXaWxsVW5tb3VudFxyXG4gICAgfTtcclxufTtcclxuIiwidmFyIExpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi9MaXN0ZW5lck1ldGhvZHMnKSxcclxuICAgIExpc3RlbmVyTWl4aW4gPSByZXF1aXJlKCcuL0xpc3RlbmVyTWl4aW4nKSxcclxuICAgIF8gPSByZXF1aXJlKCdyZWZsdXgtY29yZS9saWIvdXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdGVuYWJsZSwga2V5LCBmaWx0ZXJGdW5jKSB7XHJcblxyXG4gICAgXy50aHJvd0lmKF8uaXNGdW5jdGlvbihrZXkpLCAnUmVmbHV4LmNvbm5lY3RGaWx0ZXIoKSByZXF1aXJlcyBhIGtleS4nKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghXy5pc0Z1bmN0aW9uKGxpc3RlbmFibGUuZ2V0SW5pdGlhbFN0YXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaWx0ZXIgaW5pdGlhbCBwYXlsb2FkIGZyb20gc3RvcmUuXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmaWx0ZXJGdW5jLmNhbGwodGhpcywgbGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUoKSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YocmVzdWx0KSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfLm9iamVjdChba2V5XSwgW3Jlc3VsdF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICBfLmV4dGVuZCh0aGlzLCBMaXN0ZW5lck1ldGhvZHMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhsaXN0ZW5hYmxlLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZpbHRlckZ1bmMuY2FsbChtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbWUuc2V0U3RhdGUoXy5vYmplY3QoW2tleV0sIFtyZXN1bHRdKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IExpc3RlbmVyTWl4aW4uY29tcG9uZW50V2lsbFVubW91bnRcclxuICAgIH07XHJcbn07XHJcbiIsIi8qIGdsb2JhbHMgUmVhY3Q6IGZhbHNlICovXHJcblxyXG52YXIgUmVmbHV4ID0gcmVxdWlyZSgncmVmbHV4LWNvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBSZWZsdXguZGVmaW5lUmVhY3QgZnVuY3Rpb24gd2hlcmUgeW91IGNhbiBtYW51YWxseSBzdXBwbHlcclxuICogdGhlIFJlYWN0IG9iamVjdCBpbiBvcmRlciB0byBjcmVhdGUgaW4gY2FzZSBSZWZsdXggbmVlZHMgdG8gbG9hZCBiZWZvcmVcclxuICogUmVhY3Qgb3IgdGhlcmUgaXMgYSBtb2R1bGFyIGVudmlyb25tZW50IHdoZXJlIHRoZXJlIHdvbid0IGJlIGEgZ2xvYmFsXHJcbiAqIFJlYWN0IHZhcmlhYmxlLlxyXG4gKiBAbm90ZSBUaGUgdGhpcmQgcGFyYW0gaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXHJcbiAqL1xyXG52YXIgX3JlYWN0LCBfZGVmaW5lZCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBkZWZpbmVSZWFjdChyZWFjdCwgbm9Mb25nZXJVc2VkLCBleHRlbmQpXHJcbntcclxuXHR2YXIgcHJvdG8sIF9leHRlbmQ7XHJcblx0XHJcblx0Ly8gaWYgbm8gUmVmbHV4IG9iamVjdCBpcyB5ZXQgYXZhaWxhYmxlIHRoZW4gcmV0dXJuIGFuZCBqdXN0IHdhaXQgdW50aWwgZGVmaW5lUmVhY3QgaXMgY2FsbGVkIG1hbnVhbGx5IHdpdGggaXRcclxuXHR0cnkge1xyXG5cdFx0X3JlYWN0ICA9IHJlYWN0ICB8fCBfcmVhY3QgIHx8IFJlYWN0O1xyXG5cdFx0X2V4dGVuZCA9IGV4dGVuZCB8fCBfcmVhY3QuQ29tcG9uZW50O1xyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0XHJcblx0Ly8gaWYgUmVmbHV4IGFuZCBSZWFjdCBhcmVuJ3QgcHJlc2VudCB0aGVuIGlnbm9yZSwgd2FpdCB1bnRpbCB0aGV5IGFyZSBwcm9wZXJseSBwcmVzZW50XHJcblx0Ly8gYWxzbyBpZ25vcmUgaWYgaXQncyBiZWVuIGNhbGxlZCBiZWZvcmUgVU5MRVNTIHRoZXJlJ3MgbWFudWFsIGV4dGVuZGluZyBoYXBwZW5pbmdcclxuXHRpZiAoIV9yZWFjdCB8fCAhX2V4dGVuZCB8fCAoX2RlZmluZWQgJiYgIWV4dGVuZCkpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0XHJcblx0Ly8gLS0tLS0tLS0tLS0gQkVHSU4gUmVmbHV4LkNvbXBvbmVudCAtLS0tLS0tLS0tLS1cclxuXHQvKipcclxuXHQgKiBSZWZsdXguQ29tcG9uZW50OlxyXG5cdCAqIEFuIGltcGxlbWVudGF0aW9uIGZvciBpZGlvbWF0aWMgUmVhY3QuanMgY2xhc3NlcyB0aGF0IG1peCB3aXRoXHJcblx0ICogUmVmbHV4IHN0b3Jlcy4gVG8gdXRpbGl6ZSBleHRlbmQgUmVmbHV4LkNvbXBvbmVudCBpbnN0ZWFkIG9mXHJcblx0ICogUmVhY3QuQ29tcG9uZW50LiBUaGVuIHlvdSBtYXkgaG9vayBhbnkgUmVmbHV4IHN0b3JlIHRoYXQgaGFzIGFcclxuXHQgKiBgdGhpcy5zdGF0ZWAgcHJvcGVydHkgY29udGFpbmluZyBpdHMgc3RhdGUgdmFsdWVzIHRvIHRoZSBjb21wb25lbnRcclxuXHQgKiB2aWEgYHRoaXMuc3RvcmVgIG9yIGFuIEFycmF5IG9mIFJlZmx1eCBzdG9yZXMgdmlhIGB0aGlzLnN0b3Jlc2AgaW5cclxuXHQgKiB0aGUgY29tcG9uZW50J3MgY29uc3RydWN0b3IgKHNpbWlsYXIgdG8gaG93IHlvdSBhc3NpZ24gaW5pdGlhbCBzdGF0ZVxyXG5cdCAqIGluIHRoZSBjb25zdHJ1Y3RvciBpbiBFUzYgc3R5bGUgUmVhY3QpLiBUaGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlXHJcblx0ICogc3RvcmVzIHdpbGwgYXV0b21hdGljYWxseSByZWZsZWN0IGluIHRoZSBjb21wb25lbnQncyBzdGF0ZSwgYW5kIGFueVxyXG5cdCAqIGZ1cnRoZXIgYHRyaWdnZXJgIGNhbGxzIGZyb20gdGhhdCBzdG9yZSB3aWxsIHVwZGF0ZSBwcm9wZXJ0aWVzIHBhc3NlZFxyXG5cdCAqIGluIHRoZSB0cmlnZ2VyIGludG8gdGhlIGNvbXBvbmVudCBhdXRvbWF0aWNhbGx5LlxyXG5cdCAqL1xyXG5cdHZhciBSZWZsdXhDb21wb25lbnQgPSBmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xyXG5cdFx0X2V4dGVuZC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGVxdWl2YWxlbnQgb2YgYGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50YCBvciBvdGhlciBjbGFzcyBpZiBwcm92aWRlZCB2aWEgYGV4dGVuZGAgcGFyYW1cclxuXHRSZWZsdXgudXRpbHMuaW5oZXJpdHMoUmVmbHV4Q29tcG9uZW50LCBfZXh0ZW5kKTtcclxuXHRcclxuXHRwcm90byA9IFJlZmx1eENvbXBvbmVudC5wcm90b3R5cGU7XHJcblx0XHJcblx0LyoqXHJcblx0ICogdGhpcy5zdG9yZUtleXNcclxuXHQgKiBXaGVuIHRoaXMgaXMgYSBmYWxzZXkgdmFsdWUgKG51bGwgYnkgZGVmYXVsdCkgdGhlIGNvbXBvbmVudCBtaXhlcyBpblxyXG5cdCAqIGFsbCBwcm9wZXJ0aWVzIGZyb20gdGhlIHN0b3JlcyBhdHRhY2hlZCB0byBpdCBhbmQgdXBkYXRlcyBvbiBjaGFuZ2VzXHJcblx0ICogZnJvbSBhbGwgb2YgdGhlbS4gV2hlbiBzZXQgdG8gYW4gYXJyYXkgb2Ygc3RyaW5nIGtleXMgaXQgd2lsbCBvbmx5XHJcblx0ICogdXRpbGl6ZWQgc3RhdGUgcHJvcGVydHkgbmFtZXMgb2YgdGhvc2Uga2V5cyBpbiBhbnkgc3RvcmUgYXR0YWNoZWQuIFRoaXNcclxuXHQgKiBsZXRzIHlvdSBjaG9vc2Ugd2hpY2ggcGFydHMgb2Ygc3RvcmVzIHVwZGF0ZSB0aGUgY29tcG9uZW50IG9uIGEgY29tcG9uZW50LVxyXG5cdCAqIGJ5LWNvbXBvbmVudCBiYXNpcy4gSWYgdXNpbmcgdGhpcyBpdCBpcyBiZXN0IHNldCBpbiB0aGUgY29uc3RydWN0b3IuXHJcblx0ICovXHJcblx0cHJvdG8uc3RvcmVLZXlzID0gbnVsbDtcclxuXHRcclxuXHQvLyBvbiB0aGUgbW91bnRpbmcgb2YgdGhlIGNvbXBvbmVudCB0aGF0IGlzIHdoZXJlIHRoZSBzdG9yZS9zdG9yZXMgYXJlIGF0dGFjaGVkIGFuZCBpbml0aWFsaXplZCBpZiBuZWVkZWRcclxuXHRwcm90by5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBpZiB0aGVyZSBpcyBhIHRoaXMuc3RvcmUgdGhlbiBzaW1wbHkgcHVzaCBpdCBvbnRvIHRoZSB0aGlzLnN0b3JlcyBhcnJheSBvciBtYWtlIG9uZSBpZiBuZWVkZWRcclxuXHRcdGlmICh0aGlzLnN0b3JlKSB7XHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHRoaXMuc3RvcmVzKSkge1xyXG5cdFx0XHRcdHRoaXMuc3RvcmVzLnVuc2hpZnQodGhpcy5zdG9yZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5zdG9yZXMgPSBbdGhpcy5zdG9yZV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc3RvcmVzKSB7XHJcblx0XHRcdHRoaXMuX19zdG9yZXVuc3Vic2NyaWJlc19fID0gdGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18gfHwgW107XHJcblx0XHRcdHZhciBzUyA9IHRoaXMuc2V0U3RhdGUuYmluZCh0aGlzKTtcclxuXHRcdFx0Ly8gdGhpcyBoYW5kbGVzIHRoZSB0cmlnZ2VyaW5nIG9mIGEgc3RvcmUsIGNoZWNraW5nIHdoYXQncyB1cGRhdGVkIGlmIHByb3RvLnN0b3JlS2V5cyBpcyB1dGlsaXplZFxyXG5cdFx0XHR2YXIgb25TdG9yZVRyaWdnZXIgPSBmdW5jdGlvbihvYmope1xyXG5cdFx0XHRcdHZhciB1cGRhdGVPYmogPSBmaWx0ZXJCeVN0b3JlS2V5cyh0aGlzLnN0b3JlS2V5cywgb2JqKTtcclxuXHRcdFx0XHRpZiAodXBkYXRlT2JqKSB7XHJcblx0XHRcdFx0XHRzUyh1cGRhdGVPYmopO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fS5iaW5kKHRoaXMpO1xyXG5cdFx0XHQvLyBmb3IgZWFjaCBzdG9yZSBpbiB0aGlzLnN0b3Jlcy4uLlxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLnN0b3Jlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHN0ciA9IHRoaXMuc3RvcmVzW2ldO1xyXG5cdFx0XHRcdC8vIGlmJ3MgYSBmdW5jdGlvbiB0aGVuIHdlIGtub3cgaXQncyBhIGNsYXNzIGdldHRpbmcgcGFzc2VkLCBub3QgYW4gaW5zdGFuY2VcclxuXHRcdFx0XHRpZiAodHlwZW9mIHN0ciA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0dmFyIHN0b3JlSWQgPSBzdHIuaWQ7XHJcblx0XHRcdFx0XHQvLyBpZiB0aGVyZSBpcyBOT1QgYSAuc2luZ2xldG9uIHByb3BlcnR5IG9uIHRoZSBzdG9yZSB0aGVuIHRoaXMgc3RvcmUgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldCwgc28gZG8gc29cclxuXHRcdFx0XHRcdGlmICghc3RyLnNpbmdsZXRvbikge1xyXG5cdFx0XHRcdFx0XHRzdHIuc2luZ2xldG9uID0gbmV3IHN0cigpO1xyXG5cdFx0XHRcdFx0XHRpZiAoc3RvcmVJZCkge1xyXG5cdFx0XHRcdFx0XHRcdFJlZmx1eC5zdG9yZXNbc3RvcmVJZF0gPSBzdHIuc2luZ2xldG9uO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBiZWZvcmUgd2Ugd2VyZW4ndCBzdXJlIGlmIHdlIHdlcmUgd29ya2luZyB3aXRoIGFuIGluc3RhbmNlIG9yIGNsYXNzLCBzbyBub3cgd2Uga25vdyBhbiBpbnN0YW5jZSBpcyBjcmVhdGVkIHNldCBpdFxyXG5cdFx0XHRcdFx0Ly8gdG8gdGhlIHZhcmlhYmxlcyB3ZSB3ZXJlIHVzaW5nIHNvIHRoYXQgd2UgY2FuIGp1c3QgY29udGludWUgb24ga25vd2luZyBpdCdzIHRoZSBpbnN0YW5jZSB3ZSdyZSB3b3JraW5nIHdpdGhcclxuXHRcdFx0XHRcdHRoaXMuc3RvcmVzW2ldID0gc3RyID0gc3RyLnNpbmdsZXRvbjtcclxuXHRcdFx0XHRcdC8vIHRoZSBpbnN0YW5jZSBzaG91bGQgaGF2ZSBhbiAuaWQgcHJvcGVydHkgYXMgd2VsbCBpZiB0aGUgY2xhc3MgZG9lcywgc28gc2V0IHRoYXQgaGVyZVxyXG5cdFx0XHRcdFx0c3RyLmlkID0gc3RvcmVJZDtcclxuXHRcdFx0XHRcdC8vIGlmIHRoZXJlIGlzIGFuIGlkIGFuZCB0aGVyZSBpcyBhIGdsb2JhbCBzdGF0ZSBwcm9wZXJ0eSBmb3IgdGhpcyBzdG9yZSB0aGVuIG1lcmdlXHJcblx0XHRcdFx0XHQvLyB0aGUgcHJvcGVydGllcyBmcm9tIHRoYXQgZ2xvYmFsIHN0YXRlIGludG8gdGhlIGRlZmF1bHQgc3RhdGUgb2YgdGhlIHN0b3JlIEFORCB0aGVuXHJcblx0XHRcdFx0XHQvLyBzZXQgdGhlIGdsb2JhbCBzdGF0ZSB0byB0aGF0IG5ldyBzdGF0ZSAoc2luY2UgaXQgbWF5IGhhdmUgcHJldmlvdXNseSBiZWVuIHBhcnRpYWwpXHJcblx0XHRcdFx0XHRpZiAoc3RvcmVJZCAmJiBSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0pIHtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSkge1xyXG5cdFx0XHRcdFx0XHRcdHN0ci5zdGF0ZVtrZXldID0gUmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSWRdW2tleV07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0UmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSWRdID0gc3RyLnN0YXRlO1xyXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIChpZiBpdCBoYXMgYW4gaWQpIHNldCB0aGUgZ2xvYmFsIHN0YXRlIHRvIHRoZSBkZWZhdWx0IHN0YXRlIG9mIHRoZSBzdG9yZVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChzdG9yZUlkKSB7XHJcblx0XHRcdFx0XHRcdFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSA9IHN0ci5zdGF0ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGlmIG5vIGlkLCB0aGVuIG5vIG1lc3Npbmcgd2l0aCBnbG9iYWwgc3RhdGVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gbGlzdGVuL3N1YnNjcmliZSBmb3IgdGhlIFwiLnRyaWdnZXIoKVwiIGluIHRoZSBzdG9yZSwgYW5kIHRyYWNrIHRoZSB1bnN1YnNjcmliZXMgc28gdGhhdCB3ZSBjYW4gdW5zdWJzY3JpYmUgb24gdW5tb3VudFxyXG5cdFx0XHRcdGlmICghUmVmbHV4LnNlcnZlck1vZGUpIHtcclxuXHRcdFx0XHRcdHRoaXMuX19zdG9yZXVuc3Vic2NyaWJlc19fLnB1c2goc3RyLmxpc3RlbihvblN0b3JlVHJpZ2dlcikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBydW4gc2V0IHN0YXRlIHNvIHRoYXQgaXQgbWl4ZXMgaW4gdGhlIHByb3BzIGZyb20gdGhlIHN0b3JlIHdpdGggdGhlIGNvbXBvbmVudFxyXG5cdFx0XHRcdHZhciB1cGRhdGVPYmogPSBmaWx0ZXJCeVN0b3JlS2V5cyh0aGlzLnN0b3JlS2V5cywgc3RyLnN0YXRlKTtcclxuXHRcdFx0XHRpZiAodXBkYXRlT2JqKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHVwZGF0ZU9iaik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIG1hcFN0b3JlVG9TdGF0ZSBuZWVkcyB0byBrbm93IGlmIGlzIHJlYWR5IHRvIG1hcCBvciBtdXN0IHdhaXRcclxuXHRcdHRoaXMuX19yZWFkeXRvbWFwX18gPSB0cnVlO1xyXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIG1hcHBpbmdzIHRoYXQgd2VyZSBkZWxheWVkLCBkbyB0aGVtIG5vd1xyXG5cdFx0dmFyIGRtYXBzID0gdGhpcy5fX2RlbGF5ZWRtYXBzX187XHJcblx0XHRpZiAoZG1hcHMpIHtcclxuXHRcdFx0Zm9yICh2YXIgaj0wLGpqPWRtYXBzLmxlbmd0aDsgajxqajsgaisrKSB7XHJcblx0XHRcdFx0ZG1hcHNbal0uZnVuYyggZG1hcHNbal0uc3RhdGUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5fX2RlbGF5ZWRtYXBzX18gPSBudWxsO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gb24gdGhlIHVubW91bnQgcGhhc2Ugb2YgdGhlIGNvbXBvbmVudCB1bnN1YnNjcmliZSB0aGF0IHdoaWNoIHdlIHN1YnNjcmliZWQgZWFybGllciB0byBrZWVwIG91ciBnYXJiYWdlIHRyYWlsIGNsZWFuXHJcblx0cHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18pIHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG5cdFx0XHRcdHRoaXMuX19zdG9yZXVuc3Vic2NyaWJlc19fW2ldKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuX19yZWFkeXRvbWFwX18gPSBmYWxzZTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIHRoaXMubWFwU3RvcmVUb1N0YXRlXHJcblx0ICogVGhpcyBmdW5jdGlvbiBhbGxvdyB5b3UgdG8gc3VwcGx5IG1hcCB0aGUgc3RhdGUgb2YgYSBzdG9yZSB0byB0aGVcclxuXHQgKiBzdGF0ZSBvZiB0aGlzIGNvbXBvbmVudCBtYW51YWxseSB2aWEgeW91ciBvd24gbG9naWMuIFRoaXMgbWV0aG9kXHJcblx0ICogaXMgY29tcGxldGVseSBzZXBhcmF0ZSBmcm9tIHRoaXMuc3RvcmUvdGhpcy5zdG9yZXMgYW5kL29yIHRoaXMuc3RvcmVLZXlzLlxyXG5cdCAqIENhbGwgdGhpcyBmdW5jdGlvbiB3aXRoIGFuIEVTNiBzdG9yZSAoY2xhc3Mgb3Igc2luZ2xldG9uIGluc3RhbmNlKSBhcyB0aGVcclxuXHQgKiBmaXJzdCBhcmd1bWVudCBhbmQgeW91ciBmaWx0ZXIgZnVuY3Rpb24gYXMgdGhlIHNlY29uZC4gWW91ciBmaWx0ZXIgZnVuY3Rpb25cclxuXHQgKiB3aWxsIHJlY2VpdmUgYW4gb2JqZWN0IG9mIHRoZSBwYXJ0cyBvZiB0aGUgRVM2IHN0b3JlIGJlaW5nIHVwZGF0ZWQgZXZlcnlcclxuXHQgKiB0aW1lIGl0cyBzZXRTdGF0ZSBpcyBjYWxsZWQuIFlvdXIgZmlsdGVyIGZ1bmN0aW9uIHRoZW4gcmV0dXJucyBhbiBvYmplY3RcclxuXHQgKiB3aGljaCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSBjb21wb25lbnQgc3RhdGUgKElGIGl0IGhhcyBhbnkgcHJvcGVydGllcyBhdCBhbGwsXHJcblx0ICogc2hvdWxkIHlvdSByZXR1cm4gYSBibGFuayBvYmplY3QgdGhlIGNvbXBvbmVudCB3aWxsIG5vdCByZXJlbmRlcikuXHJcblx0ICovXHJcblx0cHJvdG8ubWFwU3RvcmVUb1N0YXRlID0gZnVuY3Rpb24oc3RvcmUsIGZpbHRlckZ1bmMpXHJcblx0e1xyXG5cdFx0Ly8gbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgc2luZ2xldG9uIGluc3RhbmNlIHRvIHdvcmsgd2l0aFxyXG5cdFx0aWYgKHR5cGVvZiBzdG9yZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRpZiAoc3RvcmUuc2luZ2xldG9uKSB7XHJcblx0XHRcdFx0c3RvcmUgPSBzdG9yZS5zaW5nbGV0b247XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3RvcmUgPSBSZWZsdXguaW5pdFN0b3JlKHN0b3JlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyB3ZSBuZWVkIGEgY2xvc3VyZSBzbyB0aGF0IHRoZSBjYWxsZWQgZnVuY3Rpb24gY2FuIHJlbWVtYmVyIHRoZSBwcm9wZXIgZmlsdGVyIGZ1bmN0aW9uIHRvIHVzZSwgc28gZnVuY3Rpb24gZ2V0cyBkZWZpbmVkIGhlcmVcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdGZ1bmN0aW9uIG9uTWFwU3RvcmVUcmlnZ2VyKG9iaikge1xyXG5cdFx0XHQvLyBnZXQgYW4gb2JqZWN0IFxyXG5cdFx0XHR2YXIgdXBkYXRlID0gZmlsdGVyRnVuYy5jYWxsKHNlbGYsIG9iaik7XHJcblx0XHRcdC8vIGlmIG5vIG9iamVjdCByZXR1cm5lZCBmcm9tIGZpbHRlciBmdW5jdGlvbnMgZG8gbm90aGluZ1xyXG5cdFx0XHRpZiAoIXVwZGF0ZSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjaGVjayBpZiB0aGUgdXBkYXRlIGFjdHVhbGx5IGhhcyBhbnkgbWFwcGVkIHByb3BzXHJcblx0XHRcdC8qanNoaW50IHVudXNlZDogZmFsc2UgKi9cclxuXHRcdFx0dmFyIGhhc1Byb3BzID0gZmFsc2U7XHJcblx0XHRcdGZvciAodmFyIGNoZWNrIGluIHVwZGF0ZSkge1xyXG5cdFx0XHRcdGhhc1Byb3BzID0gdHJ1ZTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiB0aGVyZSB3ZXJlIHByb3BzIG1hcHBlZCwgdGhlbiB1cGRhdGUgdmlhIHNldFN0YXRlXHJcblx0XHRcdGlmIChoYXNQcm9wcykge1xyXG5cdFx0XHRcdHNlbGYuc2V0U3RhdGUodXBkYXRlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBhZGQgdGhlIGxpc3RlbmVyIHRvIGtub3cgd2hlbiB0aGUgc3RvcmUgaXMgdHJpZ2dlcmVkXHJcblx0XHR0aGlzLl9fc3RvcmV1bnN1YnNjcmliZXNfXyA9IHRoaXMuX19zdG9yZXVuc3Vic2NyaWJlc19fIHx8IFtdO1xyXG5cdFx0dGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18ucHVzaChzdG9yZS5saXN0ZW4ob25NYXBTdG9yZVRyaWdnZXIpKTtcclxuXHRcdFxyXG5cdFx0Ly8gbm93IGFjdHVhbGx5IHJ1biBvbk1hcFN0b3JlVHJpZ2dlciB3aXRoIHRoZSBmdWxsIHN0b3JlIHN0YXRlIHNvIHRoYXQgd2UgaW1tZWRpYXRlbHkgaGF2ZSBhbGwgc3RvcmUgc3RhdGUgbWFwcGVkIHRvIGNvbXBvbmVudCBzdGF0ZVxyXG5cdFx0aWYgKHRoaXMuX19yZWFkeXRvbWFwX18pIHtcclxuXHRcdFx0b25NYXBTdG9yZVRyaWdnZXIoc3RvcmUuc3RhdGUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fX2RlbGF5ZWRtYXBzX18gPSB0aGlzLl9fZGVsYXllZG1hcHNfXyB8fCBbXTtcclxuXHRcdFx0dGhpcy5fX2RlbGF5ZWRtYXBzX18ucHVzaCh7ZnVuYzpvbk1hcFN0b3JlVHJpZ2dlciwgc3RhdGU6c3RvcmUuc3RhdGV9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5Db21wb25lbnQuZXh0ZW5kKE90aGVyQ2xhc3MpXHJcblx0ICogVGhpcyBhbGxvd3MgeW91IHRvIGdldCBjbGFzc2VzIHRoYXQgZXh0ZW5kIG9mZiBvZiBhbm90aGVyIFJlYWN0LkNvbXBvbmVudFxyXG5cdCAqIGluaGVyaXRpbmcgY2xhc3MuIEZvciBleGFtcGxlIGlmIHlvdSdyZSB1c2luZyBhIHRoaXJkIHBhcnR5IHRoYXQgdXNlc1xyXG5cdCAqIGNvbXBvbmVudHMgdGhhdCBhbGxvdyBgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBMaWJDb21wb25lbnRgICh3aGVyZSBMaWJDb21wb25lbnRcclxuXHQgKiBpdHNlbGYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQpIGFuZCB5b3Ugd2FudCB0byB1c2UgdGhhdCBjb21wb25lbnQgd2l0aCBFUzYgdGhlblxyXG5cdCAqIHlvdSBjYW4gbWFrZSBhIGNsYXNzIGB2YXIgTXlEdWFsQ29tcG9uZW50ID0gUmVmbHV4LkNvbXBvbmVudC5leHRlbmQoTGliQ29tcG9uZW50KTtgXHJcblx0ICogdGhlbiB5b3UgY2FuIHVzZSBgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBNeUR1YWxDb21wb25lbnRgIHRvIGdldCB0aGUgYmVuZWZpdHNcclxuXHQgKiBvZiBib3RoIGxpYnJhcmllcy5cclxuXHQgKi9cclxuXHRSZWZsdXhDb21wb25lbnQuZXh0ZW5kID0gZnVuY3Rpb24oY2xzcykge1xyXG5cdFx0cmV0dXJuIGRlZmluZVJlYWN0KG51bGwsIG51bGwsIGNsc3MpO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gaWYgaXMgYmVpbmcgbWFudWFsbHkgY2FsbGVkIHdpdGggYW4gYGV4dGVuZGAgYXJndW1lbnQgcHJlc2VudCB0aGVuIGp1c3QgcmV0dXJuIHRoZSBjcmVhdGVkIGNsYXNzXHJcblx0aWYgKGV4dGVuZCkge1xyXG5cdFx0cmV0dXJuIFJlZmx1eENvbXBvbmVudDtcclxuXHR9XHJcblx0XHJcblx0Ly8gb3RoZXJ3aXNlIHNldCBhcyBSZWZsdXguQ29tcG9uZW50IGFuZCBjb250aW51ZSB3aXRoIG90aGVyIG5vcm1hbCBkZWZpbml0aW9uc1xyXG5cdFJlZmx1eC5Db21wb25lbnQgPSBSZWZsdXhDb21wb25lbnQ7XHJcblx0XHJcblx0Ly8gYWxzbyBzZXQgUmVmbHV4LlB1cmVDb21wb25lbnQgKGlmIGl0IGV4aXN0cykgdXNpbmcgdGhlIC5leHRlbmQgZmVhdHVyZVxyXG5cdGlmIChfcmVhY3QuUHVyZUNvbXBvbmVudCkge1xyXG5cdFx0UmVmbHV4LlB1cmVDb21wb25lbnQgPSBSZWZsdXhDb21wb25lbnQuZXh0ZW5kKF9yZWFjdC5QdXJlQ29tcG9uZW50KTtcclxuXHR9XHJcblx0XHJcblx0Ly8gLS0tLS0tLS0tLS0tIEVORCBSZWZsdXguQ29tcG9uZW50IC0tLS0tLS0tLS0tLVxyXG5cdFxyXG5cdC8vIC0tLS0tLS0tLSBCRUdJTiBSZWZsdXguU3RvcmUgLS0tLS0tLS0tLS0tXHJcblx0LyoqXHJcblx0ICogUmVmbHV4LlN0b3JlOlxyXG5cdCAqIEFsc28gaW1wbGVtZW50cyBvcHRpb25hbCBSZWZsdXguU3RvcmUgY2xhc3MgdGhhdCBpcyBpZGlvbWF0aWMgd2l0aFxyXG5cdCAqIHRoZSBSZWFjdCBFUzYgc3R5bGUuIFlvdSBleHRlbmQgUmVmbHV4LlN0b3JlIGFuZCB0aGVuIHRoZSByZXN0IHdvcmtzXHJcblx0ICogdGhlIHNhbWUgYXMgY3JlYXRlU3RvcmUsIGV4Y2VwdCB0aGUgY29uc3RydWN0b3IgaW5zdGVhZCBvZiBpbml0LCBhbmRcclxuXHQgKiBpdCBob2xkcyBzdGF0ZSBpbiBhIHN0YXRlIHByb3BlcnR5LCBhbmQgYSAuc2V0U3RhdGUgbWV0aG9kIGlzIGF2YWlsYWJsZVxyXG5cdCAqIHdoaWNoIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBzdGF0ZSBhbmQgZG9lcyBhIHRyaWdnZXIuIFRoZW4gd2hlbiB1c2luZ1xyXG5cdCAqIHdpdGggdGhpcy5zdG9yZSBvciB0aGlzLnN0b3JlcyBpbiBhbiBFUzYgY29tcG9uZW50IGp1c3QgcGxhc3MgdGhlIGNsYXNzLFxyXG5cdCAqIGl0IHdpbGwgZGVhbCB3aXRoIGEgc2luZ2xldG9uIGluc3RhbnRpYXRpb24gb2YgdGhlIGNsYXNzIGF1dG9tYXRpY2FsbHkuXHJcblx0ICovXHJcblx0dmFyIFJlZmx1eFN0b3JlID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBleHRlbmRpbmcgZG9lc24ndCByZWFsbHkgd29yayB3ZWxsIGhlcmUsIHNvIGluc3RlYWQgd2UgY3JlYXRlIGFuIGludGVybmFsIGluc3RhbmNlXHJcblx0XHQvLyBhbmQganVzdCBsb29wIHRocm91Z2ggaXRzIHByb3BlcnRpZXMvbWV0aG9kcyBhbmQgbWFrZSBhIGdldHRlci9zZXR0ZXIgZm9yIGVhY2hcclxuXHRcdC8vIHRoYXQgd2lsbCBhY3R1YWxseSBiZSBnZXR0aW5nIGFuZCBzZXR0aW5nIG9uIHRoYXQgaW50ZXJuYWwgaW5zdGFuY2UuXHJcblx0XHR0aGlzLl9fc3RvcmVfXyA9IFJlZmx1eC5jcmVhdGVTdG9yZSgpO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX19zdG9yZV9fKSB7XHJcblx0XHRcdC8qanNoaW50IGxvb3BmdW5jOiB0cnVlICovXHJcblx0XHRcdChmdW5jdGlvbiAocHJvcCkge1xyXG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCBwcm9wLCB7XHJcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlbGYuX19zdG9yZV9fW3Byb3BdOyB9LFxyXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAodikgeyBzZWxmLl9fc3RvcmVfX1twcm9wXSA9IHY7IH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSkoa2V5KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdHByb3RvID0gUmVmbHV4U3RvcmUucHJvdG90eXBlO1xyXG5cdFxyXG5cdC8vIHRoaXMgZGVmaW5lcyB0aGUgbGlzdGVuYWJsZXMgcHJvcGVydHksIG1vc3RseSBpbnRlbmRlZCB0byBiZSBzZXQgYXMgYHRoaXMubGlzdGVuYWJsZXNgIGluIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgc3RvcmVcclxuXHQvLyBpdCBpcyBlc3NlbnRpYWxseSBhIHNob3J0Y3V0IHRvIHRoZSBgbGlzdGVuVG9NYW55YCBtZXRob2RcclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIFwibGlzdGVuYWJsZXNcIiwge1xyXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9fbGlzdGVuYWJsZXNfXztcclxuXHRcdH0sXHJcblx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcblx0XHRcdHZhciBDb21iaW5lZCA9IHt9O1xyXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh2KSl7XHJcblx0XHRcdFx0di5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG9iaikge1xyXG5cdFx0XHRcdFx0XHRDb21iaW5lZFtrZXldID0gb2JqW2tleV07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Q29tYmluZWQgPSB2O1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuX19saXN0ZW5hYmxlc19fID0gQ29tYmluZWQ7XHJcblx0XHRcdHRoaXMubGlzdGVuVG9NYW55KENvbWJpbmVkKTtcclxuXHRcdH0sXHJcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0fSk7XHJcblx0XHJcblx0Ly8gYWxsb3dzIHNpbXBsZSB1c2FnZSBvZiBgdGhpcy5zZXRTdGF0ZShvYmopYCB3aXRoaW4gdGhlIHN0b3JlIHRvIGJvdGggdXBkYXRlIHRoZSBzdGF0ZSBhbmQgdHJpZ2dlciB0aGUgc3RvcmUgdG8gdXBkYXRlXHJcblx0Ly8gY29tcG9uZW50cyB0aGF0IGl0IGlzIGF0dGFjaGVkIHRvIGluIGEgc2ltcGxlIHdheSB0aGF0IGlzIGlkaW9tYXRpYyB3aXRoIFJlYWN0XHJcblx0cHJvdG8uc2V0U3RhdGUgPSBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHQvLyBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsIG9iaik7IC8vIGxhdGVyIHR1cm4gdGhpcyB0byBPYmplY3QuYXNzaWduIGFuZCByZW1vdmUgbG9vcCBvbmNlIHN1cHBvcnQgaXMgZ29vZCBlbm91Z2hcclxuXHRcdGZvciAodmFyIGtleSBpbiBvYmopIHtcclxuXHRcdFx0dGhpcy5zdGF0ZVtrZXldID0gb2JqW2tleV07XHJcblx0XHR9XHJcblx0XHQvLyBpZiB0aGVyZSdzIGFuIGlkIChpLmUuIGl0J3MgYmVpbmcgdHJhY2tlZCBieSB0aGUgZ2xvYmFsIHN0YXRlKSB0aGVuIG1ha2Ugc3VyZSB0byB1cGRhdGUgdGhlIGdsb2JhbCBzdGF0ZVxyXG5cdFx0aWYgKHRoaXMuaWQpIHtcclxuXHRcdFx0UmVmbHV4Lkdsb2JhbFN0YXRlW3RoaXMuaWRdID0gdGhpcy5zdGF0ZTtcclxuXHRcdH1cclxuXHRcdC8vIHRyaWdnZXIsIGJlY2F1c2UgYW55IGNvbXBvbmVudCBpdCdzIGF0dGFjaGVkIHRvIGlzIGxpc3RlbmluZyBhbmQgd2lsbCBtZXJnZSB0aGUgc3RvcmUgc3RhdGUgaW50byBpdHMgb3duIG9uIGEgc3RvcmUgdHJpZ2dlclxyXG5cdFx0dGhpcy50cmlnZ2VyKG9iaik7XHJcblx0fTtcclxuXHRcclxuXHQvLyB0aGlzIGlzIGEgc3RhdGljIHByb3BlcnR5IHNvIHRoYXQgb3RoZXIgY29kZSBjYW4gaWRlbnRpZnkgdGhhdCB0aGlzIGlzIGEgUmVmbHV4LlN0b3JlIGNsYXNzXHJcblx0Ly8gaGFzIGlzc3VlcyBzcGVjaWZpY2FsbHkgd2hlbiB1c2luZyBiYWJlbCB0byB0cmFuc3BpbGUgeW91ciBFUzYgc3RvcmVzIGZvciBJRTEwIGFuZCBiZWxvdywgbm90IGRvY3VtZW50ZWQgYW5kIHNob3VsZG4ndCB1c2UgeWV0XHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmx1eFN0b3JlLCBcImlzRVM2U3RvcmVcIiwge1xyXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRjb25maWd1cmFibGU6IHRydWVcclxuXHR9KTtcclxuXHRcclxuXHQvLyBhbGxvd3MgYSBzaG9ydGN1dCBmb3IgYWNjZXNzaW5nIE15U3RvcmUuc2luZ2xldG9uLnN0YXRlIGFzIE15U3RvcmUuc3RhdGUgKHNpbmNlIGNvbW1vbiB1c2FnZSBtYWtlcyBhIHNpbmdsZXRvbilcclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmbHV4U3RvcmUsIFwic3RhdGVcIiwge1xyXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICghdGhpcy5zaW5nbGV0b24pIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1JlZmx1eC5TdG9yZS5zdGF0ZSBpcyBpbmFjY2Vzc2libGUgYmVmb3JlIHRoZSBzdG9yZSBoYXMgYmVlbiBpbml0aWFsaXplZC4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5zaW5nbGV0b24uc3RhdGU7XHJcblx0XHR9LFxyXG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qIE5PVEU6XHJcblx0SWYgYSBSZWZsdXguU3RvcmUgZGVmaW5pdGlvbiBpcyBnaXZlbiBhIHN0YXRpYyBpZCBwcm9wZXJ0eSBhbmQgdXNlZFxyXG5cdHByb3Blcmx5IHdpdGhpbiBhIFJlZmx1eC5Db21wb25lbnQgb3Igd2l0aCBSZWZsdXguaW5pdFN0b3JlIHRoZW5cclxuXHRpdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBSZWZsdXguR2xvYmFsU3RhdGUgb2JqZWN0IHdoaWNoIGF1dG9tYXRpY2FsbHkgdHJhY2tzIHRoZVxyXG5cdGN1cnJlbnQgc3RhdGUgb2YgYWxsIHN1Y2ggZGVmaW5lZCBzdG9yZXMgaW4gdGhlIHByb2dyYW0uICovXHJcblx0XHJcblx0UmVmbHV4LlN0b3JlID0gUmVmbHV4U3RvcmU7XHJcblx0Ly8gLS0tLS0tLS0tLS0gRU5EIFJlZmx1eC5TdG9yZSAtLS0tLS0tLS0tLS0tXHJcblx0XHJcblx0Ly8gLS0tLS0tLS0tIEJFR0lOIFJlZmx1eCBTdGF0aWMgUHJvcHMvTWV0aG9kcyAtLS0tLS0tLS0tLS1cclxuXHQvKipcclxuXHQgKiBSZWZsdXguR2xvYmFsU3RhdGUgaXMgd2hlcmUgZGF0YSBpcyBzdG9yZWQgZm9yIGFueSBSZWZsdXguU3RvcmUgdGhhdCBoYXMgYSBzdGF0aWMgaWQgcHJvcGVydHkuIEVhY2ggc3RvcmUnc1xyXG5cdCAqIHN0YXRlIHdpbGwgYmUgb24gdGhlIFJlZmx1eC5HbG9iYWxTdGF0ZSBvYmplY3Qgd2l0aCB0aGUgaWQgYXMgdGhlIGtleS4gU28gYSBzdG9yZSB3aXRoIHRoZSBpZCBcIk15U3RvcmVcIiBhbmRcclxuXHQgKiBhIHN0YXRlIHtcImNvbG9yXCI6XCJyZWRcIn0gd2lsbCBlbmQgdXAgd2l0aCBhIFJlZmx1eC5HbG9iYWxTdGF0ZSBvZiB7XCJNeVN0b3JlXCI6e1wiY29sb3JcIjpcInJlZFwifX1cclxuXHQgKiBSZWZsdXguR2xvYmFsU3RhdGUgaXMgYW4gYWNjZXNzaWJsZSBwYXJ0IG9mIHRoZSBBUEkuIEhvd2V2ZXIsIGtlZXAgaW4gbWluZCB0aGF0IG5vbi1wcmltaXRpdmUgcHJvcGVydGllcyB5b3VcclxuXHQgKiByZWFkIG9mZiBvZiBpdCB3aWxsIGNvbnRpbnVlIHRvIG11dGF0ZSBhbmQgeW91IGNhbiBvbmx5IG1hbnVhbGx5IG11dGF0ZSBSZWZsdXguR2xvYmFsU3RhdGUgQkVGT1JFIGFueSBjb21wb25lbnRcclxuXHQgKiBtb3VudGluZyBvZiBjb21wb25lbnRzIHdpdGggRVM2IHN0b3Jlcy4gRm9yIG1vcmUgZnVuY3Rpb25hbGl0eSBsb29rIHRvIFJlZmx1eC5zZXRHbG9iYWxTdGF0ZSB0byBjaGFuZ2UgdGhlIGdsb2JhbFxyXG5cdCAqIHN0YXRlIGF0IGFueSBwb2ludCwgYW5kIFJlZmx1eC5nZXRHbG9iYWxTdGF0ZSB0byByZXR1cm4gYSBkZWVwIGNsb25lIG9mIHRoZSBSZWZsdXguR2xvYmFsU3RhdGUgb2JqZWN0IHdoaWNoIHdpbGxcclxuXHQgKiBub3QgY29udGludWUgdG8gbXV0YXRlIGFzIFJlZmx1eC5HbG9iYWxTdGF0ZSBjb250aW51ZXMgdG8gbXV0YXRlLlxyXG5cdCAqL1xyXG5cdFJlZmx1eC5HbG9iYWxTdGF0ZSA9IFJlZmx1eC5HbG9iYWxTdGF0ZSB8fCB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBSZWZsdXguc3RvcmVzXHJcblx0ICogQWxsIGluaXRpYWxpemVkIHN0b3JlcyB0aGF0IGhhdmUgYW4gaWQgd2lsbCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZWlyIHNpbmdsZXRvbiBzdG9yZWQgaGVyZSB3aXRoIHRoZSBrZXkgYmVpbmcgdGhlIGlkLlxyXG5cdCAqL1xyXG5cdFJlZmx1eC5zdG9yZXMgPSB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBSZWZsdXguZ2V0R2xvYmFsU3RhdGUgdGFrZXMgbm8gYXJndW1lbnRzLCBhbmQgcmV0dXJucyBhIGRlZXAgY2xvbmUgb2YgUmVmbHV4Lkdsb2JhbFN0YXRlIFxyXG5cdCAqIHdoaWNoIHdpbGwgbm90IGNvbnRpbnVlIHRvIG11dGF0ZSBhcyBSZWZsdXguR2xvYmFsU3RhdGUgZG9lcy4gSXQgY2FuIGVzc2VudGlhbGx5IHN0b3JlXHJcblx0ICogc25hcHNob3RzIG9mIHRoZSBnbG9iYWwgc3RhdGUgYXMgdGhlIHByb2dyYW0gZ29lcyBmb3Igc2F2aW5nIG9yIGZvciBpbi1hcHAgdGltZSB0cmF2ZWwuXHJcblx0ICovXHJcblx0UmVmbHV4LmdldEdsb2JhbFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gY2xvbmUoUmVmbHV4Lkdsb2JhbFN0YXRlKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5zZXRHbG9iYWxTdGF0ZSB0YWtlcyBvbmUgYXJndW1lbnQgdGhhdCBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBhIHBvc3NpYmxlXHJcblx0ICogZ2xvYmFsIHN0YXRlLiBJdCB1cGRhdGVzIGFsbCBzdG9yZXMgaW4gdGhlIHByb2dyYW0gdG8gcmVwcmVzZW50IGRhdGEgaW4gdGhhdCBnaXZlbiBzdGF0ZS5cclxuXHQgKiBUaGlzIGluY2x1ZGVzIHRyaWdnZXJpbmcgdGhvc2Ugc3RvcmVzIHNvIHRoYXQgdGhhdCBzdGF0ZSBpcyByZXByZXNlbnRlZCBpbiBhbnkgUmVmbHV4LkNvbXBvbmVudFxyXG5cdCAqIGluc3RhbmNlcyB0aGV5IGFyZSBhdHRhY2hlZCB0by4gUGFydGlhbCBzdGF0ZXMgbWF5IGJlIGdpdmVuIHRvIGl0LCBhbmQgb25seSB0aGUgcmVwcmVzZW50ZWRcclxuXHQgKiBzdG9yZXMvc3RhdGUgdmFsdWVzIHdpbGwgYmUgdXBkYXRlZC5cclxuXHQgKi9cclxuXHRSZWZsdXguc2V0R2xvYmFsU3RhdGUgPSBmdW5jdGlvbihvYmopIHtcclxuXHRcdGZvciAodmFyIHN0b3JlSUQgaW4gb2JqKSB7XHJcblx0XHRcdGlmIChSZWZsdXguc3RvcmVzW3N0b3JlSURdKSB7XHJcblx0XHRcdFx0UmVmbHV4LnN0b3Jlc1tzdG9yZUlEXS5zZXRTdGF0ZShvYmpbc3RvcmVJRF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlEXSA9IG9ialtzdG9yZUlEXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmVmbHV4LmluaXRTdG9yZSB0YWtlcyBvbmUgYXJndW1lbnQgKGEgY2xhc3MgdGhhdCBleHRlbmRzIFJlZmx1eC5TdG9yZSkgYW5kIHJldHVybnMgYSBzaW5nbGV0b25cclxuXHQgKiBpbnRhbmNlIG9mIHRoYXQgY2xhc3MuIEl0cyBtYWluIGZ1bmN0aW9uYWxpdHkgaXMgdG8gYmUgYWJsZSB0byBtaW1pYyB3aGF0IGhhcHBlbnMgdG8gc3RvcmVzIGF0dGFjaGVkIHRvXHJcblx0ICogdGhpcy5zdG9yZSBvciB0aGlzLnN0b3JlcyBkdXJpbmcgdGhlIG1vdW50aW5nIHBoYXNlIG9mIGEgY29tcG9uZW50IHdpdGhvdXQgaGF2aW5nIHRvIGFjdHVhbGx5IGF0dGFjaCB0aGVcclxuXHQgKiBzdG9yZSB0byBhIGNvbXBvbmVudCBpbiBvcmRlciB0byB3b3JrIHByb3Blcmx5IHdpdGggdGhlIGdsb2JhbCBzdGF0ZS5cclxuXHQgKi9cclxuXHQvLyBSZWZsdXguaW5pdGlhbGl6ZUdsb2JhbFN0b3JlIGlzIGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCBidXQgZGVwcmVjYXRlZCBzaW5jZSB0aGUgZnVuY3Rpb24gaXNcclxuXHQvLyBub3cgZm9yIG1vcmUgYnJvYWQgaW5zdGFudGlhdGlvbiBvZiBnbG9iYWxseSBzdG9yZWQgQU5EIG5vbi1nbG9iYWxseSBzdG9yZWQgY2xhc3Nlc1xyXG5cdFJlZmx1eC5pbml0aWFsaXplR2xvYmFsU3RvcmUgPSBSZWZsdXguaW5pdFN0b3JlID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0XHR2YXIgc3RvcmVJZCA9IHN0ci5pZDtcclxuXHRcdC8vIGlmIHRoZXkncmUgaW5pdGlhbGl6aW5nIHNvbWV0aGluZyB0d2ljZSB0aGVuIHdlJ3JlIGRvbmUgYWxyZWFkeSwgcmV0dXJuIGl0XHJcblx0XHRpZiAoc3RyLnNpbmdsZXRvbikge1xyXG5cdFx0XHRyZXR1cm4gc3RyLnNpbmdsZXRvbjtcclxuXHRcdH1cclxuXHRcdC8vIGlmIG5vIGlkIHRoZW4gaXQncyBlYXN5OiBqdXN0IG1ha2UgbmV3IGluc3RhbmNlIGFuZCBzZXQgdG8gc2luZ2xldG9uXHJcblx0XHRpZiAoIXN0b3JlSWQpIHtcclxuXHRcdFx0c3RyLnNpbmdsZXRvbiA9IG5ldyBzdHIoKTtcclxuXHRcdFx0cmV0dXJuIHN0ci5zaW5nbGV0b247XHJcblx0XHR9XHJcblx0XHQvLyBjcmVhdGUgdGhlIHNpbmdsZXRvbiBhbmQgYXNzaWduIGl0IHRvIHRoZSBjbGFzcydzIHNpbmdsZXRvbiBzdGF0aWMgcHJvcGVydHlcclxuXHRcdHZhciBpbnN0ID0gc3RyLnNpbmdsZXRvbiA9IG5ldyBzdHIoKTtcclxuXHRcdC8vIHN0b3JlIGl0IG9uIHRoZSBSZWZsdXguc3RvcmVzIGFycmF5IHRvIGJlIGFjY2Vzc2libGUgbGF0ZXJcclxuXHRcdFJlZmx1eC5zdG9yZXNbc3RvcmVJZF0gPSBpbnN0O1xyXG5cdFx0Ly8gdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBpdHNlbGYgc2hvdWxkIGFsc28gaGF2ZSB0aGUgaWQgcHJvcGVydHkgb2YgdGhlIGNsYXNzXHJcblx0XHRpbnN0LmlkID0gc3RvcmVJZDtcclxuXHRcdC8vIGlmIHRoZSBnbG9iYWwgc3RhdGUgaGFzIHNvbWV0aGluZyBzZXQgZm9yIHRoaXMgaWQsIGNvcHkgaXQgdG8gdGhlIHN0YXRlIGFuZCB0aGVuXHJcblx0XHQvLyBtYWtlIHN1cmUgdG8gc2V0IHRoZSBnbG9iYWwgc3RhdGUgdG8gdGhlIGVuZCByZXN1bHQsIHNpbmNlIGl0IG1heSBoYXZlIG9ubHkgYmVlbiBwYXJ0aWFsXHJcblx0XHRpZiAoUmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSWRdKSB7XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0pIHtcclxuXHRcdFx0XHRpbnN0LnN0YXRlW2tleV0gPSBSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF1ba2V5XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0gPSBpbnN0LnN0YXRlO1xyXG5cdFx0Ly8gb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBnbG9iYWwgc3RhdGUgdG8gdGhlIGRlZmF1bHQgc3RhdGUgb2YgdGhlIGNsYXNzXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0gPSBpbnN0LnN0YXRlO1xyXG5cdFx0fVxyXG5cdFx0Ly8gcmV0dXJucyB0aGUgc2luZ2xldG9uIGl0c2VsZiwgdGhvdWdoIGl0IHdpbGwgYWxzbyBiZSBhY2Nlc3NpYmxlIGFzIGFzIGBNeUNsYXNzLnNpbmdsZXRvbmBcclxuXHRcdHJldHVybiBpbnN0O1xyXG5cdH07XHJcblx0Ly8gLS0tLS0tLS0tIEVORCBSZWZsdXggU3RhdGljIFByb3BzL01ldGhvZHMgLS0tLS0tLS0tLS0tXHJcblx0XHJcblx0Ly8gc28gaXQga25vd3Mgbm90IHRvIHJlZGVmaW5lIFJlZmx1eCBzdGF0aWMgc3R1ZmYgYW5kIHN0b3JlcyBpZiBjYWxsZWQgYWdhaW5cclxuXHRfZGVmaW5lZCA9IHRydWU7XHJcbn1cclxuXHJcbi8vIGZpbHRlcnMgYSBzdGF0ZSBvYmplY3QgYnkgc3RvcmVLZXlzIGFycmF5IChpZiBpdCBleGlzdHMpXHJcbi8vIGlmIGZpbHRlcmluZyBhbmQgb2JqIGNvbnRhaW5zIG5vIHByb3BlcnRpZXMgdG8gdXNlLCByZXR1cm5zIGZhbHNlIHRvIGxldCB0aGUgY29tcG9uZW50IGtub3cgbm90IHRvIHVwZGF0ZVxyXG5mdW5jdGlvbiBmaWx0ZXJCeVN0b3JlS2V5cyhzdG9yZUtleXMsIG9iailcclxue1xyXG5cdC8vIGlmIHRoZXJlIGFyZSBub3Qgc3RvcmVLZXlzIGRlZmluZWQgdGhlbiBzaW1wbHkgcmV0dXJuIHRoZSB3aG9sZSBvcmlnaW5hbCBvYmplY3RcclxuXHRpZiAoIXN0b3JlS2V5cykge1xyXG5cdFx0cmV0dXJuIG9iajtcclxuXHR9XHJcblx0Ly8gb3RoZXJ3aXNlIGdvIHRocm91Z2ggYW5kIG9ubHkgdXBkYXRlIHByb3BlcnRpZXMgdGhhdCBhcmUgaW4gdGhlIHN0b3JlS2V5cyBhcnJheSwgYW5kIHJldHVybiBzdHJhaWdodCBmYWxzZSBpZiB0aGVyZSBhcmUgbm9uZVxyXG5cdHZhciBkb1VwZGF0ZSA9IGZhbHNlO1xyXG5cdHZhciB1cGRhdGVPYmogPSB7fTtcclxuXHRmb3IgKHZhciBpID0gMCwgaWkgPSBzdG9yZUtleXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG5cdFx0dmFyIHByb3AgPSBzdG9yZUtleXNbaV07XHJcblx0XHRpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcblx0XHRcdGRvVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0dXBkYXRlT2JqW3Byb3BdID0gb2JqW3Byb3BdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZG9VcGRhdGUgPyB1cGRhdGVPYmogOiBmYWxzZTtcclxufVxyXG5cclxuLy8gdGhpcyBpcyB1dGlsaXplZCBieSBzb21lIG9mIHRoZSBnbG9iYWwgc3RhdGUgZnVuY3Rpb25hbGl0eSBpbiBvcmRlciB0byBnZXQgYSBjbG9uZSB0aGF0IHdpbGxcclxuLy8gbm90IGNvbnRpbnVlIHRvIGJlIG1vZGlmaWVkIGFzIHRoZSBHbG9iYWxTdGF0ZSBtdXRhdGVzXHJcbmZ1bmN0aW9uIGNsb25lKGZybSwgdG8pIHtcclxuXHRpZiAoZnJtID09PSBudWxsIHx8IHR5cGVvZiBmcm0gIT09IFwib2JqZWN0XCIpIHtcclxuXHRcdHJldHVybiBmcm07XHJcblx0fVxyXG5cdGlmIChmcm0uY29uc3RydWN0b3IgIT09IE9iamVjdCAmJiBmcm0uY29uc3RydWN0b3IgIT09IEFycmF5KSB7XHJcblx0XHRyZXR1cm4gZnJtO1xyXG5cdH1cclxuXHRpZiAoZnJtLmNvbnN0cnVjdG9yID09PSBEYXRlIHx8IGZybS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwIHx8IGZybS5jb25zdHJ1Y3RvciA9PT0gRnVuY3Rpb24gfHxcclxuXHRcdGZybS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nIHx8IGZybS5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyIHx8IGZybS5jb25zdHJ1Y3RvciA9PT0gQm9vbGVhbikge1xyXG5cdFx0cmV0dXJuIG5ldyBmcm0uY29uc3RydWN0b3IoZnJtKTtcclxuXHR9XHJcblx0dG8gPSB0byB8fCBuZXcgZnJtLmNvbnN0cnVjdG9yKCk7XHJcblx0Zm9yICh2YXIgbmFtZSBpbiBmcm0pIHtcclxuXHRcdHRvW25hbWVdID0gdHlwZW9mIHRvW25hbWVdID09PSBcInVuZGVmaW5lZFwiID8gY2xvbmUoZnJtW25hbWVdLCBudWxsKSA6IHRvW25hbWVdO1xyXG5cdH1cclxuXHRyZXR1cm4gdG87XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUmVhY3Q7XHJcblxyXG4iLCJ2YXIgUmVmbHV4ID0gcmVxdWlyZSgncmVmbHV4LWNvcmUnKTtcclxuXHJcblJlZmx1eC5zZXJ2ZXJNb2RlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCc7XHJcblxyXG5SZWZsdXguY29ubmVjdCA9IHJlcXVpcmUoJy4vY29ubmVjdCcpO1xyXG5cclxuUmVmbHV4LmNvbm5lY3RGaWx0ZXIgPSByZXF1aXJlKCcuL2Nvbm5lY3RGaWx0ZXInKTtcclxuXHJcblJlZmx1eC5MaXN0ZW5lck1peGluID0gcmVxdWlyZSgnLi9MaXN0ZW5lck1peGluJyk7XHJcblxyXG5SZWZsdXgubGlzdGVuVG8gPSByZXF1aXJlKCcuL2xpc3RlblRvJyk7XHJcblxyXG5SZWZsdXgubGlzdGVuVG9NYW55ID0gcmVxdWlyZSgnLi9saXN0ZW5Ub01hbnknKTtcclxuXHJcbnJlcXVpcmUoJy4vYWRkRVM2Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJlZmx1eDtcclxuIiwidmFyIExpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi9MaXN0ZW5lck1ldGhvZHMnKTtcclxuXHJcbi8qKlxyXG4gKiBBIG1peGluIGZhY3RvcnkgZm9yIGEgUmVhY3QgY29tcG9uZW50LiBNZWFudCBhcyBhIG1vcmUgY29udmVuaWVudCB3YXkgb2YgdXNpbmcgdGhlIGBMaXN0ZW5lck1peGluYCxcclxuICogd2l0aG91dCBoYXZpbmcgdG8gbWFudWFsbHkgc2V0IGxpc3RlbmVycyBpbiB0aGUgYGNvbXBvbmVudERpZE1vdW50YCBtZXRob2QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QWN0aW9ufFN0b3JlfSBsaXN0ZW5hYmxlIEFuIEFjdGlvbiBvciBTdG9yZSB0aGF0IHNob3VsZCBiZVxyXG4gKiAgbGlzdGVuZWQgdG8uXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIgYXMgZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZGVmYXVsdENhbGxiYWNrIFRoZSBjYWxsYmFjayB0byByZWdpc3RlciBhcyBkZWZhdWx0IGhhbmRsZXJcclxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IHRvIGJlIHVzZWQgYXMgYSBtaXhpbiwgd2hpY2ggc2V0cyB1cCB0aGUgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBsaXN0ZW5hYmxlLlxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0ZW5hYmxlLGNhbGxiYWNrLGluaXRpYWwpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXQgdXAgdGhlIG1peGluIGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLiBJbXBvcnQgbWV0aG9kcyBmcm9tIGBMaXN0ZW5lck1ldGhvZHNgXHJcbiAgICAgICAgICogYW5kIHRoZW4gbWFrZSB0aGUgY2FsbCB0byBgbGlzdGVuVG9gIHdpdGggdGhlIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZmFjdG9yeSBmdW5jdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBtIGluIExpc3RlbmVyTWV0aG9kcyl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1ttXSAhPT0gTGlzdGVuZXJNZXRob2RzW21dKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1ttXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2FuJ3QgaGF2ZSBvdGhlciBwcm9wZXJ0eSAnXCIrbStcIicgd2hlbiB1c2luZyBSZWZsdXgubGlzdGVuVG8hXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbV0gPSBMaXN0ZW5lck1ldGhvZHNbbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhsaXN0ZW5hYmxlLGNhbGxiYWNrLGluaXRpYWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2xlYW5zIHVwIGFsbCBsaXN0ZW5lciBwcmV2aW91c2x5IHJlZ2lzdGVyZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IExpc3RlbmVyTWV0aG9kcy5zdG9wTGlzdGVuaW5nVG9BbGxcclxuICAgIH07XHJcbn07XHJcbiIsInZhciBMaXN0ZW5lck1ldGhvZHMgPSByZXF1aXJlKCdyZWZsdXgtY29yZS9saWIvTGlzdGVuZXJNZXRob2RzJyk7XHJcblxyXG4vKipcclxuICogQSBtaXhpbiBmYWN0b3J5IGZvciBhIFJlYWN0IGNvbXBvbmVudC4gTWVhbnQgYXMgYSBtb3JlIGNvbnZlbmllbnQgd2F5IG9mIHVzaW5nIHRoZSBgbGlzdGVuZXJNaXhpbmAsXHJcbiAqIHdpdGhvdXQgaGF2aW5nIHRvIG1hbnVhbGx5IHNldCBsaXN0ZW5lcnMgaW4gdGhlIGBjb21wb25lbnREaWRNb3VudGAgbWV0aG9kLiBUaGlzIHZlcnNpb24gaXMgdXNlZFxyXG4gKiB0byBhdXRvbWF0aWNhbGx5IHNldCB1cCBhIGBsaXN0ZW5Ub01hbnlgIGNhbGwuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0ZW5hYmxlcyBBbiBvYmplY3Qgb2YgbGlzdGVuYWJsZXNcclxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IHRvIGJlIHVzZWQgYXMgYSBtaXhpbiwgd2hpY2ggc2V0cyB1cCB0aGUgbGlzdGVuZXJzIGZvciB0aGUgZ2l2ZW4gbGlzdGVuYWJsZXMuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3RlbmFibGVzKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0IHVwIHRoZSBtaXhpbiBiZWZvcmUgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy4gSW1wb3J0IG1ldGhvZHMgZnJvbSBgTGlzdGVuZXJNZXRob2RzYFxyXG4gICAgICAgICAqIGFuZCB0aGVuIG1ha2UgdGhlIGNhbGwgdG8gYGxpc3RlblRvYCB3aXRoIHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZhY3RvcnkgZnVuY3Rpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgbSBpbiBMaXN0ZW5lck1ldGhvZHMpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbbV0gIT09IExpc3RlbmVyTWV0aG9kc1ttXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbbV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkNhbid0IGhhdmUgb3RoZXIgcHJvcGVydHkgJ1wiK20rXCInIHdoZW4gdXNpbmcgUmVmbHV4Lmxpc3RlblRvTWFueSFcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1ttXSA9IExpc3RlbmVyTWV0aG9kc1ttXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvTWFueShsaXN0ZW5hYmxlcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGVhbnMgdXAgYWxsIGxpc3RlbmVyIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb21wb25lbnRXaWxsVW5tb3VudDogTGlzdGVuZXJNZXRob2RzLnN0b3BMaXN0ZW5pbmdUb0FsbFxyXG4gICAgfTtcclxufTtcclxuIl19
