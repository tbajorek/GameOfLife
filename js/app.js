(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _application = require('./application');

var _application2 = _interopRequireDefault(_application);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_reactDom2.default.render(_react2.default.createElement(_application2.default, null), document.getElementById('app'));

},{"./application":2,"react":"react","react-dom":"react-dom"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('./store');

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _board = require('./board/board');

var _board2 = _interopRequireDefault(_board);

var _model = require('./board/model');

var _model2 = _interopRequireDefault(_model);

var _panel = require('./panel/panel');

var _panel2 = _interopRequireDefault(_panel);

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Application = function (_Reflux$Component) {
    _inherits(Application, _Reflux$Component);

    function Application() {
        _classCallCheck(this, Application);

        var _this = _possibleConstructorReturn(this, (Application.__proto__ || Object.getPrototypeOf(Application)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Application, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'application' },
                _react2.default.createElement(_header2.default, null),
                _react2.default.createElement(
                    'div',
                    { className: 'row' },
                    _react2.default.createElement(_panel2.default, null),
                    _react2.default.createElement(_board2.default, null)
                ),
                _react2.default.createElement(_footer2.default, null)
            );
        }
    }]);

    return Application;
}(_reflux2.default.Component);

exports.default = Application;

},{"./board/board":3,"./board/model":4,"./footer":6,"./header":7,"./panel/panel":18,"./store":19,"react":"react","reflux":40}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Board = function (_Reflux$Component) {
    _inherits(Board, _Reflux$Component);

    function Board() {
        _classCallCheck(this, Board);

        var _this = _possibleConstructorReturn(this, (Board.__proto__ || Object.getPrototypeOf(Board)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        _this.dead = '#f4f1f1';
        _this.alive = '#075e00';
        _this.clearColor = 'white';
        return _this;
    }

    _createClass(Board, [{
        key: 'init',
        value: function init() {
            if (this.canvas == undefined) {
                this.canvas = this.refs.board.getContext('2d');
            }
            if (this.width == undefined) {
                this.width = parseInt(window.getComputedStyle(this.refs.board).width);
            }
            if (this.height == undefined) {
                this.height = parseInt(window.getComputedStyle(this.refs.board).height);
            }
        }
    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            this.clear();
            this.redraw(nextState.model.board);
            return false;
        }
    }, {
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.clear();
            this.redraw(this.state.model.board);
        }
    }, {
        key: 'clear',
        value: function clear() {
            this.init();
            this.canvas.fillStyle = this.clearColor;
            this.canvas.fillRect(0, 0, this.width, this.height);
        }
    }, {
        key: 'drawRect',
        value: function drawRect(r, c, data, xsize, ysize) {
            var xs = c * (xsize + 1);
            var ys = r * (ysize + 1);
            this.canvas.fillStyle = data[r][c] ? this.alive : this.dead;
            this.canvas.fillRect(xs, ys, xsize, ysize);
        }
    }, {
        key: 'redraw',
        value: function redraw(data) {
            var xsize = Math.round((this.width - data[0].length + 1) / data[0].length);
            var ysize = Math.round((this.height - data.length + 1) / data.length);
            for (var r in data) {
                r = parseInt(r);
                for (var c in data[r]) {
                    c = parseInt(c);
                    this.drawRect(r, c, data, xsize, ysize);
                }
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement('canvas', { id: 'canvas', className: 'board', ref: 'board', width: '700px', height: '700px' });
        }
    }]);

    return Board;
}(_reflux2.default.Component);

exports.default = Board;

},{"../store":19,"react":"react","reflux":40}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _history = require("../history");

var _history2 = _interopRequireDefault(_history);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Model = function () {
    function Model(width, height, density) {
        _classCallCheck(this, Model);

        if (width == undefined && height == undefined && density == undefined) return;
        this.generateBoard(width, height, density);
        this.shifts = [];
        this.calcNext = function (r, c, board) {
            return 0;
        };this.count = 0;
    }

    _createClass(Model, [{
        key: "generateBoard",
        value: function generateBoard(width, height, density) {
            this.width = width;
            this.height = height;
            this.size = this.height * this.width;
            this.history = new _history2.default(100, this.size);
            this.density = density;
            this.population = 0;
            var board = new Array(height);
            for (var r = 0; r < height; ++r) {
                board[r] = new Array(width);
                for (var c = 0; c < width; ++c) {
                    board[r][c] = 0;
                }
            }
            var border = parseInt(this.density * this.size);
            var counter = 0;
            while (counter < border) {
                var point = this.randomPoint();
                if (board[point.y][point.x] == 0) {
                    board[point.y][point.x] = 1;
                    ++counter;
                }
            }
            this.population = border;
            this.board = board;console.log(this.count);
            this.history.addNormalized(this.population);
        }
    }, {
        key: "initializeByArray",
        value: function initializeByArray(initValue) {
            this.board = initValue;
            this.width = this.board[0].length;
            this.height = this.board.length;
            this.size = this.width * this.height;
            for (var r in this.board) {
                r = parseInt(r);
                for (var c in this.board[r]) {
                    c = parseInt(c);
                    if (this.board[r][c]) {
                        ++this.population;
                    }
                }
            }
        }
    }, {
        key: "randomPoint",
        value: function randomPoint() {
            var x = Math.floor(Math.random() * this.width);
            var y = Math.floor(Math.random() * this.height);this.count++;
            return { "x": x, "y": y };
        }
    }, {
        key: "setCalcNext",
        value: function setCalcNext(calcNext) {
            this.calcNext = calcNext;
        }
    }, {
        key: "setShifts",
        value: function setShifts(shifts) {
            this.shifts = shifts;
        }
    }, {
        key: "getNormalizedValue",
        value: function getNormalizedValue(v, reference) {
            return parseInt((v + reference) % reference);
        }
    }, {
        key: "getNormalizedPoint",
        value: function getNormalizedPoint(r, c) {
            var x = this.getNormalizedValue(c, this.width);
            var y = this.getNormalizedValue(r, this.height);
            return { "c": x, "r": y };
        }
    }, {
        key: "getValue",
        value: function getValue(r, c) {
            var point = this.getNormalizedPoint(r, c); //console.log(point);
            return this.board[point.r][point.c];
        }
    }, {
        key: "getAliveNumber",
        value: function getAliveNumber(r, c) {
            var counter = 0;
            for (var i in this.shifts) {
                if (this.getValue(r + this.shifts[i][0], c + this.shifts[i][1])) {
                    ++counter;
                }
            }
            return counter;
        }
    }, {
        key: "nextStep",
        value: function nextStep() {
            this.population = 0;
            for (var r in this.board) {
                r = parseInt(r);
                for (var c in this.board[r]) {
                    c = parseInt(c);
                    this.board[r][c] = this.calcNext(this.getValue(r, c), this.getAliveNumber(r, c));
                    if (this.board[r][c]) {
                        ++this.population;
                    }
                }
            }
            this.history.addNormalized(this.population);
        }
    }]);

    return Model;
}();

exports.default = Model;

},{"../history":8}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ReactHighcharts = require('react-highcharts');

var Chart = function (_React$Component) {
    _inherits(Chart, _React$Component);

    function Chart() {
        _classCallCheck(this, Chart);

        return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).apply(this, arguments));
    }

    _createClass(Chart, [{
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            var chart = this.refs.chart.getChart();
            var history = nextProps.model.history;
            if (history.time == 0) {
                chart.series[0].setData([]);
                chart.redraw();
            }
            if (history.isFull()) {
                chart.series[0].data[0].remove();
            }
            chart.series[0].addPoint({ x: history.time, y: history.getInPercent() });
            return history.time == 0;
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'chart' },
                _react2.default.createElement(ReactHighcharts, { config: this.props.config, ref: 'chart' })
            );
        }
    }]);

    return Chart;
}(_react2.default.Component);

exports.default = Chart;

},{"react":"react","react-highcharts":22}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('./store');

var _chart = require('./chart');

var _chart2 = _interopRequireDefault(_chart);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Footer = function (_Reflux$Component) {
    _inherits(Footer, _Reflux$Component);

    function Footer() {
        _classCallCheck(this, Footer);

        var _this = _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Footer, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'row footer' },
                _react2.default.createElement(_chart2.default, { model: this.state.model, config: this.state.chartConfig })
            );
        }
    }]);

    return Footer;
}(_reflux2.default.Component);

exports.default = Footer;

},{"./chart":5,"./store":19,"react":"react","reflux":40}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$Component) {
    _inherits(Header, _React$Component);

    function Header() {
        _classCallCheck(this, Header);

        return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));
    }

    _createClass(Header, [{
        key: "render",
        value: function render() {
            return _react2.default.createElement(
                "div",
                { className: "row header" },
                "Game of Life - asynchroniczny"
            );
        }
    }]);

    return Header;
}(_react2.default.Component);

exports.default = Header;

},{"react":"react"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var History = function () {
    function History(limit, maxValue, precision) {
        _classCallCheck(this, History);

        if (limit == undefined) {
            limit = 100;
        }
        if (maxValue == undefined) {
            maxValue = 1;
        }
        if (precision == undefined) {
            precision = 4;
        }
        this.limit = limit;
        this.time = -1;
        this.maxValue = maxValue;
        this.lastValue = null;
        this.precision = precision;
    }

    _createClass(History, [{
        key: 'add',
        value: function add(value) {
            this.lastValue = this.getWithPrecision(value, this.precision);
            ++this.time;
        }
    }, {
        key: 'addNormalized',
        value: function addNormalized(value) {
            this.lastValue = this.getWithPrecision(value / this.maxValue, this.precision);
            ++this.time;
        }
    }, {
        key: 'getWithPrecision',
        value: function getWithPrecision(value, precision) {
            return Number(value).toFixed(precision);
        }
    }, {
        key: 'getInPercent',
        value: function getInPercent(symbol) {
            var value = this.getWithPrecision(this.lastValue * 100.0, this.precision - 2);
            if (symbol === true) {
                value += '%';
                return value;
            } else {
                return parseFloat(value);
            }
        }
    }, {
        key: 'isFull',
        value: function isFull() {
            return this.time >= this.limit;
        }
    }]);

    return History;
}();

exports.default = History;

},{}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _size = require('./input/size');

var _size2 = _interopRequireDefault(_size);

var _density = require('./input/density');

var _density2 = _interopRequireDefault(_density);

var _information = require('./input/information');

var _information2 = _interopRequireDefault(_information);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var About = function (_React$Component) {
    _inherits(About, _React$Component);

    function About() {
        _classCallCheck(this, About);

        return _possibleConstructorReturn(this, (About.__proto__ || Object.getPrototypeOf(About)).apply(this, arguments));
    }

    _createClass(About, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-about-area' },
                _react2.default.createElement(
                    'a',
                    { className: 'element', href: './dokumentacja.pdf' },
                    _react2.default.createElement('i', { className: 'fa fa-file-pdf-o', 'aria-hidden': 'true' }),
                    '\xA0Dokumentacja'
                ),
                _react2.default.createElement(
                    'a',
                    { className: 'element', href: 'GameOfLife.zip' },
                    _react2.default.createElement('i', { className: 'fa fa-download', 'aria-hidden': 'true' }),
                    '\xA0Pobierz kod'
                ),
                _react2.default.createElement(
                    'span',
                    { className: 'element' },
                    'Autor: Tomasz Bajorek'
                )
            );
        }
    }]);

    return About;
}(_react2.default.Component);

exports.default = About;

},{"./input/density":14,"./input/information":15,"./input/size":16,"react":"react"}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OneStep = function (_Reflux$Component) {
    _inherits(OneStep, _Reflux$Component);

    function OneStep() {
        _classCallCheck(this, OneStep);

        var _this = _possibleConstructorReturn(this, (OneStep.__proto__ || Object.getPrototypeOf(OneStep)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(OneStep, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button one-step', title: 'Jeden krok', disabled: this.state.started ? "true" : "", onClick: _store.Actions.next },
                _react2.default.createElement('i', { className: 'fa fa-forward', 'aria-hidden': 'true' })
            );
        }
    }]);

    return OneStep;
}(_reflux2.default.Component);

exports.default = OneStep;

},{"../../store":19,"react":"react","reflux":40}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Reset = function (_Reflux$Component) {
    _inherits(Reset, _Reflux$Component);

    function Reset() {
        _classCallCheck(this, Reset);

        var _this = _possibleConstructorReturn(this, (Reset.__proto__ || Object.getPrototypeOf(Reset)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Reset, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button reset', title: 'Reset', disabled: this.state.started ? "true" : "", onClick: _store.Actions.reset },
                _react2.default.createElement('i', { className: 'fa fa-refresh', 'aria-hidden': 'true' })
            );
        }
    }]);

    return Reset;
}(_reflux2.default.Component);

exports.default = Reset;

},{"../../store":19,"react":"react","reflux":40}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var StartStop = function (_Reflux$Component) {
    _inherits(StartStop, _Reflux$Component);

    function StartStop() {
        _classCallCheck(this, StartStop);

        var _this = _possibleConstructorReturn(this, (StartStop.__proto__ || Object.getPrototypeOf(StartStop)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(StartStop, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'button',
                { className: 'control-button start-stop', title: this.state.started ? "Pauza" : "Start", onClick: _store.Actions.startStop },
                _react2.default.createElement('i', { className: this.state.started ? "fa fa-pause" : "fa fa-play", 'aria-hidden': 'true' })
            );
        }
    }]);

    return StartStop;
}(_reflux2.default.Component);

exports.default = StartStop;

},{"../../store":19,"react":"react","reflux":40}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _startstop = require('./button/startstop');

var _startstop2 = _interopRequireDefault(_startstop);

var _onestep = require('./button/onestep');

var _onestep2 = _interopRequireDefault(_onestep);

var _reset = require('./button/reset');

var _reset2 = _interopRequireDefault(_reset);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ButtonArea = function (_React$Component) {
    _inherits(ButtonArea, _React$Component);

    function ButtonArea() {
        _classCallCheck(this, ButtonArea);

        return _possibleConstructorReturn(this, (ButtonArea.__proto__ || Object.getPrototypeOf(ButtonArea)).apply(this, arguments));
    }

    _createClass(ButtonArea, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-button-area' },
                _react2.default.createElement(_startstop2.default, null),
                _react2.default.createElement(_onestep2.default, null),
                _react2.default.createElement(_reset2.default, null)
            );
        }
    }]);

    return ButtonArea;
}(_react2.default.Component);

exports.default = ButtonArea;

},{"./button/onestep":10,"./button/reset":11,"./button/startstop":12,"react":"react"}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Density = function (_Reflux$Component) {
    _inherits(Density, _Reflux$Component);

    function Density() {
        _classCallCheck(this, Density);

        var _this = _possibleConstructorReturn(this, (Density.__proto__ || Object.getPrototypeOf(Density)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Density, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'param-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'G\u0119sto\u015B\u0107:\xA0'
                ),
                _react2.default.createElement('input', { type: 'number', step: '0.01', max: '1.0', min: '0.01', className: 'param param-density', disabled: this.state.started ? "true" : "", value: this.state.density, onChange: _store.Actions.changeDensity }),
                '\xA0[0;1]'
            );
        }
    }]);

    return Density;
}(_reflux2.default.Component);

exports.default = Density;

},{"../../store":19,"react":"react","reflux":40}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Information = function (_Reflux$Component) {
    _inherits(Information, _Reflux$Component);

    function Information() {
        _classCallCheck(this, Information);

        var _this = _possibleConstructorReturn(this, (Information.__proto__ || Object.getPrototypeOf(Information)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Information, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'info-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Populacja:\xA0',
                    this.state.model.history.getInPercent(true)
                ),
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Czas:\xA0',
                    this.state.model.history.time
                )
            );
        }
    }]);

    return Information;
}(_reflux2.default.Component);

exports.default = Information;

},{"../../store":19,"react":"react","reflux":40}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _store = require('../../store');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Size = function (_Reflux$Component) {
    _inherits(Size, _Reflux$Component);

    function Size() {
        _classCallCheck(this, Size);

        var _this = _possibleConstructorReturn(this, (Size.__proto__ || Object.getPrototypeOf(Size)).call(this));

        _this.state = {};
        _this.store = _store.Store;
        return _this;
    }

    _createClass(Size, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'param-block' },
                _react2.default.createElement(
                    'span',
                    { className: 'param' },
                    'Wymiary:\xA0'
                ),
                _react2.default.createElement('input', { type: 'number', step: '1', max: '280', min: '2', className: 'param param-width', value: this.state.width, onChange: _store.Actions.changeWidth, disabled: this.state.started ? "true" : "" }),
                '\xA0x\xA0',
                _react2.default.createElement('input', { type: 'number', step: '1', max: '280', min: '2', className: 'param param-height', value: this.state.height, onChange: _store.Actions.changeHeight, disabled: this.state.started ? "true" : "" })
            );
        }
    }]);

    return Size;
}(_reflux2.default.Component);

exports.default = Size;

},{"../../store":19,"react":"react","reflux":40}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _size = require('./input/size');

var _size2 = _interopRequireDefault(_size);

var _density = require('./input/density');

var _density2 = _interopRequireDefault(_density);

var _information = require('./input/information');

var _information2 = _interopRequireDefault(_information);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var InputArea = function (_React$Component) {
    _inherits(InputArea, _React$Component);

    function InputArea() {
        _classCallCheck(this, InputArea);

        return _possibleConstructorReturn(this, (InputArea.__proto__ || Object.getPrototypeOf(InputArea)).apply(this, arguments));
    }

    _createClass(InputArea, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'control-area control-input-area' },
                _react2.default.createElement(_size2.default, null),
                _react2.default.createElement(_density2.default, null),
                _react2.default.createElement('hr', null),
                _react2.default.createElement(_information2.default, null)
            );
        }
    }]);

    return InputArea;
}(_react2.default.Component);

exports.default = InputArea;

},{"./input/density":14,"./input/information":15,"./input/size":16,"react":"react"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _inputarea = require('./inputarea');

var _inputarea2 = _interopRequireDefault(_inputarea);

var _buttonarea = require('./buttonarea');

var _buttonarea2 = _interopRequireDefault(_buttonarea);

var _about = require('./about');

var _about2 = _interopRequireDefault(_about);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Panel = function (_React$Component) {
    _inherits(Panel, _React$Component);

    function Panel() {
        _classCallCheck(this, Panel);

        return _possibleConstructorReturn(this, (Panel.__proto__ || Object.getPrototypeOf(Panel)).apply(this, arguments));
    }

    _createClass(Panel, [{
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'panel' },
                _react2.default.createElement(_inputarea2.default, null),
                _react2.default.createElement(_buttonarea2.default, null),
                _react2.default.createElement(_about2.default, null)
            );
        }
    }]);

    return Panel;
}(_react2.default.Component);

exports.default = Panel;

},{"./about":9,"./buttonarea":13,"./inputarea":17,"react":"react"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Actions = exports.Store = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _model = require('./board/model');

var _model2 = _interopRequireDefault(_model);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Actions = _reflux2.default.createActions(['startStop', 'next', 'reset', 'changeWidth', 'changeHeight', 'changeDensity']);

var Store = function (_Reflux$Store) {
    _inherits(Store, _Reflux$Store);

    function Store() {
        _classCallCheck(this, Store);

        var _this = _possibleConstructorReturn(this, (Store.__proto__ || Object.getPrototypeOf(Store)).call(this));

        _this.state = {
            time: 0,
            started: 0,
            interval: null,
            width: 100,
            height: 100,
            density: 0.1
        };
        _this.state.model = new _model2.default(_this.state.width, _this.state.height, _this.state.density);
        _this.state.model.setShifts(_this.getMooreArea());
        _this.state.model.setCalcNext(function (val, alive) {
            if (val == 1 && (alive == 2 || alive == 3)) {
                return 1;
            } else if (val == 0 && alive == 3) {
                return 1;
            }
            return 0;
        });

        _this.state.chartConfig = {
            xAxis: {
                categories: []
            },
            series: [{
                data: [],
                showInLegend: false,
                name: 'Populacja (%)',
                marker: {
                    enabled: false
                }
            }],
            yAxis: {
                min: 0,
                max: 100,
                title: {
                    text: 'Populacja (%)',
                    rotation: -90
                }
            },
            chart: {
                width: '1000',
                height: '170',
                animation: false
            },
            title: {
                text: '',
                style: {
                    display: 'none'
                }
            },
            subtitle: {
                text: '',
                style: {
                    display: 'none'
                }
            }
        };

        _this.listenables = Actions;
        return _this;
    }

    _createClass(Store, [{
        key: 'getMooreArea',
        value: function getMooreArea() {
            return [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];
        }
    }, {
        key: 'onStartStop',
        value: function onStartStop() {
            if (this.state.started == 0) {
                var store = this;
                var newInterval = setInterval(function () {
                    store.onNext();
                }, 100);
                this.setState({ started: 1, interval: newInterval });
            } else {
                clearInterval(this.state.interval);
                this.setState({ started: 0, interval: null });
            }
        }
    }, {
        key: 'onNext',
        value: function onNext() {
            this.state.model.nextStep();
            var newModel = this.state.model;
            var newChartConfig = this.state.chartConfig;
            var newTime = ++this.state.time;
            this.setState({ model: newModel, time: newTime, chartConfig: newChartConfig });
        }
    }, {
        key: 'onReset',
        value: function onReset() {
            this.state.model.generateBoard(this.state.width, this.state.height, this.state.density);
            var newModel = this.state.model;
            var newChartConfig = this.state.chartConfig;
            this.setState({ model: newModel, time: 0, chartConfig: newChartConfig });
        }
    }, {
        key: 'onChangeWidth',
        value: function onChangeWidth(event) {
            this.setState({ "width": parseInt(event.target.value) });
        }
    }, {
        key: 'onChangeHeight',
        value: function onChangeHeight(event) {
            this.setState({ "height": parseInt(event.target.value) });
        }
    }, {
        key: 'onChangeDensity',
        value: function onChangeDensity(event) {
            this.setState({ "density": parseFloat(event.target.value) });
        }
    }]);

    return Store;
}(_reflux2.default.Store);

exports.Store = Store;
exports.Actions = Actions;

},{"./board/model":4,"react":"react","reflux":40}],20:[function(require,module,exports){
'use strict';

var has = Object.prototype.hasOwnProperty;

//
// We store our EE objects in a plain object whose properties are event names.
// If `Object.create(null)` is not supported we prefix the event names with a
// `~` to make sure that the built-in object properties are not overridden or
// used as an attack vector.
// We also assume that `Object.create(null)` is available when the event name
// is an ES6 Symbol.
//
var prefix = typeof Object.create !== 'function' ? '~' : false;

/**
 * Representation of a single EventEmitter function.
 *
 * @param {Function} fn Event handler to be called.
 * @param {Mixed} context Context for function execution.
 * @param {Boolean} [once=false] Only emit once
 * @api private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Minimal EventEmitter interface that is molded against the Node.js
 * EventEmitter interface.
 *
 * @constructor
 * @api public
 */
function EventEmitter() { /* Nothing to set */ }

/**
 * Hold the assigned EventEmitters by name.
 *
 * @type {Object}
 * @private
 */
EventEmitter.prototype._events = undefined;

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @api public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var events = this._events
    , names = []
    , name;

  if (!events) return names;

  for (name in events) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return a list of assigned event listeners.
 *
 * @param {String} event The events that should be listed.
 * @param {Boolean} exists We only need to know if there are listeners.
 * @returns {Array|Boolean}
 * @api public
 */
EventEmitter.prototype.listeners = function listeners(event, exists) {
  var evt = prefix ? prefix + event : event
    , available = this._events && this._events[evt];

  if (exists) return !!available;
  if (!available) return [];
  if (available.fn) return [available.fn];

  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {
    ee[i] = available[i].fn;
  }

  return ee;
};

/**
 * Emit an event to all registered event listeners.
 *
 * @param {String} event The name of the event.
 * @returns {Boolean} Indication if we've emitted an event.
 * @api public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if ('function' === typeof listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Register a new EventListener for the given event.
 *
 * @param {String} event Name of the event.
 * @param {Function} fn Callback function.
 * @param {Mixed} [context=this] The context of the function.
 * @api public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  var listener = new EE(fn, context || this)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Add an EventListener that's only called once.
 *
 * @param {String} event Name of the event.
 * @param {Function} fn Callback function.
 * @param {Mixed} [context=this] The context of the function.
 * @api public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  var listener = new EE(fn, context || this, true)
    , evt = prefix ? prefix + event : event;

  if (!this._events) this._events = prefix ? {} : Object.create(null);
  if (!this._events[evt]) this._events[evt] = listener;
  else {
    if (!this._events[evt].fn) this._events[evt].push(listener);
    else this._events[evt] = [
      this._events[evt], listener
    ];
  }

  return this;
};

/**
 * Remove event listeners.
 *
 * @param {String} event The event we want to remove.
 * @param {Function} fn The listener that we need to find.
 * @param {Mixed} context Only remove listeners matching this context.
 * @param {Boolean} once Only remove once listeners.
 * @api public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events || !this._events[evt]) return this;

  var listeners = this._events[evt]
    , events = [];

  if (fn) {
    if (listeners.fn) {
      if (
           listeners.fn !== fn
        || (once && !listeners.once)
        || (context && listeners.context !== context)
      ) {
        events.push(listeners);
      }
    } else {
      for (var i = 0, length = listeners.length; i < length; i++) {
        if (
             listeners[i].fn !== fn
          || (once && !listeners[i].once)
          || (context && listeners[i].context !== context)
        ) {
          events.push(listeners[i]);
        }
      }
    }
  }

  //
  // Reset the array, or remove it completely if we have no more listeners.
  //
  if (events.length) {
    this._events[evt] = events.length === 1 ? events[0] : events;
  } else {
    delete this._events[evt];
  }

  return this;
};

/**
 * Remove all listeners or only the listeners for the specified event.
 *
 * @param {String} event The event want to remove all listeners for.
 * @api public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  if (!this._events) return this;

  if (event) delete this._events[prefix ? prefix + event : event];
  else this._events = prefix ? {} : Object.create(null);

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// This function doesn't apply anymore.
//
EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
  return this;
};

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Expose the module.
//
if ('undefined' !== typeof module) {
  module.exports = EventEmitter;
}

},{}],21:[function(require,module,exports){
/*
 Highcharts JS v5.0.9 (2017-03-08)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(I,a){"object"===typeof module&&module.exports?module.exports=I.document?a(I):a:I.Highcharts=a(I)})("undefined"!==typeof window?window:this,function(I){I=function(){var a=window,B=a.document,z=a.navigator&&a.navigator.userAgent||"",C=B&&B.createElementNS&&!!B.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,E=/(edge|msie|trident)/i.test(z)&&!window.opera,u=!C,h=/Firefox/.test(z),n=h&&4>parseInt(z.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",
version:"5.0.9",deg2rad:2*Math.PI/360,doc:B,hasBidiBug:n,hasTouch:B&&void 0!==B.documentElement.ontouchstart,isMS:E,isWebKit:/AppleWebKit/.test(z),isFirefox:h,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(z),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:C,vml:u,win:a,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}();(function(a){var B=[],z=a.charts,C=a.doc,E=a.win;a.error=function(u,h){u=a.isNumber(u)?"Highcharts error #"+
u+": www.highcharts.com/errors/"+u:u;if(h)throw Error(u);E.console&&console.log(u)};a.Fx=function(a,h,n){this.options=h;this.elem=a;this.prop=n};a.Fx.prototype={dSetter:function(){var a=this.paths[0],h=this.paths[1],n=[],t=this.now,l=a.length,k;if(1===t)n=this.toD;else if(l===h.length&&1>t)for(;l--;)k=parseFloat(a[l]),n[l]=isNaN(k)?a[l]:t*parseFloat(h[l]-k)+k;else n=h;this.elem.attr("d",n,null,!0)},update:function(){var a=this.elem,h=this.prop,n=this.now,t=this.options.step;if(this[h+"Setter"])this[h+
"Setter"]();else a.attr?a.element&&a.attr(h,n,null,!0):a.style[h]=n+this.unit;t&&t.call(a,n,this)},run:function(a,h,n){var u=this,l=function(a){return l.stopped?!1:u.step(a)},k;this.startTime=+new Date;this.start=a;this.end=h;this.unit=n;this.now=this.start;this.pos=0;l.elem=this.elem;l.prop=this.prop;l()&&1===B.push(l)&&(l.timerId=setInterval(function(){for(k=0;k<B.length;k++)B[k]()||B.splice(k--,1);B.length||clearInterval(l.timerId)},13))},step:function(a){var h=+new Date,u,t=this.options;u=this.elem;
var l=t.complete,k=t.duration,e=t.curAnim,c;if(u.attr&&!u.element)u=!1;else if(a||h>=k+this.startTime){this.now=this.end;this.pos=1;this.update();a=e[this.prop]=!0;for(c in e)!0!==e[c]&&(a=!1);a&&l&&l.call(u);u=!1}else this.pos=t.easing((h-this.startTime)/k),this.now=this.start+(this.end-this.start)*this.pos,this.update(),u=!0;return u},initPath:function(u,h,n){function t(a){var b,f;for(r=a.length;r--;)b="M"===a[r]||"L"===a[r],f=/[a-zA-Z]/.test(a[r+3]),b&&f&&a.splice(r+1,0,a[r+1],a[r+2],a[r+1],a[r+
2])}function l(a,f){for(;a.length<m;){a[0]=f[m-a.length];var d=a.slice(0,b);[].splice.apply(a,[0,0].concat(d));A&&(d=a.slice(a.length-b),[].splice.apply(a,[a.length,0].concat(d)),r--)}a[0]="M"}function k(a,f){for(var c=(m-a.length)/b;0<c&&c--;)d=a.slice().splice(a.length/v-b,b*v),d[0]=f[m-b-c*b],H&&(d[b-6]=d[b-2],d[b-5]=d[b-1]),[].splice.apply(a,[a.length/v,0].concat(d)),A&&c--}h=h||"";var e,c=u.startX,p=u.endX,H=-1<h.indexOf("C"),b=H?7:3,m,d,r;h=h.split(" ");n=n.slice();var A=u.isArea,v=A?2:1,f;
H&&(t(h),t(n));if(c&&p){for(r=0;r<c.length;r++)if(c[r]===p[0]){e=r;break}else if(c[0]===p[p.length-c.length+r]){e=r;f=!0;break}void 0===e&&(h=[])}h.length&&a.isNumber(e)&&(m=n.length+e*v*b,f?(l(h,n),k(n,h)):(l(n,h),k(h,n)));return[h,n]}};a.extend=function(a,h){var u;a||(a={});for(u in h)a[u]=h[u];return a};a.merge=function(){var u,h=arguments,n,t={},l=function(k,e){var c,p;"object"!==typeof k&&(k={});for(p in e)e.hasOwnProperty(p)&&(c=e[p],a.isObject(c,!0)&&"renderTo"!==p&&"number"!==typeof c.nodeType?
k[p]=l(k[p]||{},c):k[p]=e[p]);return k};!0===h[0]&&(t=h[1],h=Array.prototype.slice.call(h,2));n=h.length;for(u=0;u<n;u++)t=l(t,h[u]);return t};a.pInt=function(a,h){return parseInt(a,h||10)};a.isString=function(a){return"string"===typeof a};a.isArray=function(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a};a.isObject=function(u,h){return u&&"object"===typeof u&&(!h||!a.isArray(u))};a.isNumber=function(a){return"number"===typeof a&&!isNaN(a)};a.erase=
function(a,h){for(var u=a.length;u--;)if(a[u]===h){a.splice(u,1);break}};a.defined=function(a){return void 0!==a&&null!==a};a.attr=function(u,h,n){var t,l;if(a.isString(h))a.defined(n)?u.setAttribute(h,n):u&&u.getAttribute&&(l=u.getAttribute(h));else if(a.defined(h)&&a.isObject(h))for(t in h)u.setAttribute(t,h[t]);return l};a.splat=function(u){return a.isArray(u)?u:[u]};a.syncTimeout=function(a,h,n){if(h)return setTimeout(a,h,n);a.call(0,n)};a.pick=function(){var a=arguments,h,n,t=a.length;for(h=
0;h<t;h++)if(n=a[h],void 0!==n&&null!==n)return n};a.css=function(u,h){a.isMS&&!a.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity\x3d"+100*h.opacity+")");a.extend(u.style,h)};a.createElement=function(u,h,n,t,l){u=C.createElement(u);var k=a.css;h&&a.extend(u,h);l&&k(u,{padding:0,border:"none",margin:0});n&&k(u,n);t&&t.appendChild(u);return u};a.extendClass=function(u,h){var n=function(){};n.prototype=new u;a.extend(n.prototype,h);return n};a.pad=function(a,h,n){return Array((h||2)+1-String(a).length).join(n||
0)+a};a.relativeLength=function(a,h){return/%$/.test(a)?h*parseFloat(a)/100:parseFloat(a)};a.wrap=function(a,h,n){var t=a[h];a[h]=function(){var a=Array.prototype.slice.call(arguments),k=arguments,e=this;e.proceed=function(){t.apply(e,arguments.length?arguments:k)};a.unshift(t);a=n.apply(this,a);e.proceed=null;return a}};a.getTZOffset=function(u){var h=a.Date;return 6E4*(h.hcGetTimezoneOffset&&h.hcGetTimezoneOffset(u)||h.hcTimezoneOffset||0)};a.dateFormat=function(u,h,n){if(!a.defined(h)||isNaN(h))return a.defaultOptions.lang.invalidDate||
"";u=a.pick(u,"%Y-%m-%d %H:%M:%S");var t=a.Date,l=new t(h-a.getTZOffset(h)),k,e=l[t.hcGetHours](),c=l[t.hcGetDay](),p=l[t.hcGetDate](),H=l[t.hcGetMonth](),b=l[t.hcGetFullYear](),m=a.defaultOptions.lang,d=m.weekdays,r=m.shortWeekdays,A=a.pad,t=a.extend({a:r?r[c]:d[c].substr(0,3),A:d[c],d:A(p),e:A(p,2," "),w:c,b:m.shortMonths[H],B:m.months[H],m:A(H+1),y:b.toString().substr(2,2),Y:b,H:A(e),k:e,I:A(e%12||12),l:e%12||12,M:A(l[t.hcGetMinutes]()),p:12>e?"AM":"PM",P:12>e?"am":"pm",S:A(l.getSeconds()),L:A(Math.round(h%
1E3),3)},a.dateFormats);for(k in t)for(;-1!==u.indexOf("%"+k);)u=u.replace("%"+k,"function"===typeof t[k]?t[k](h):t[k]);return n?u.substr(0,1).toUpperCase()+u.substr(1):u};a.formatSingle=function(u,h){var n=/\.([0-9])/,t=a.defaultOptions.lang;/f$/.test(u)?(n=(n=u.match(n))?n[1]:-1,null!==h&&(h=a.numberFormat(h,n,t.decimalPoint,-1<u.indexOf(",")?t.thousandsSep:""))):h=a.dateFormat(u,h);return h};a.format=function(u,h){for(var n="{",t=!1,l,k,e,c,p=[],H;u;){n=u.indexOf(n);if(-1===n)break;l=u.slice(0,
n);if(t){l=l.split(":");k=l.shift().split(".");c=k.length;H=h;for(e=0;e<c;e++)H=H[k[e]];l.length&&(H=a.formatSingle(l.join(":"),H));p.push(H)}else p.push(l);u=u.slice(n+1);n=(t=!t)?"}":"{"}p.push(u);return p.join("")};a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))};a.normalizeTickInterval=function(u,h,n,t,l){var k,e=u;n=a.pick(n,1);k=u/n;h||(h=l?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===t&&(1===n?h=a.grep(h,function(a){return 0===a%1}):.1>=n&&(h=[1/n])));
for(t=0;t<h.length&&!(e=h[t],l&&e*n>=u||!l&&k<=(h[t]+(h[t+1]||h[t]))/2);t++);return e=a.correctFloat(e*n,-Math.round(Math.log(.001)/Math.LN10))};a.stableSort=function(a,h){var n=a.length,t,l;for(l=0;l<n;l++)a[l].safeI=l;a.sort(function(a,e){t=h(a,e);return 0===t?a.safeI-e.safeI:t});for(l=0;l<n;l++)delete a[l].safeI};a.arrayMin=function(a){for(var h=a.length,n=a[0];h--;)a[h]<n&&(n=a[h]);return n};a.arrayMax=function(a){for(var h=a.length,n=a[0];h--;)a[h]>n&&(n=a[h]);return n};a.destroyObjectProperties=
function(a,h){for(var n in a)a[n]&&a[n]!==h&&a[n].destroy&&a[n].destroy(),delete a[n]};a.discardElement=function(u){var h=a.garbageBin;h||(h=a.createElement("div"));u&&h.appendChild(u);h.innerHTML=""};a.correctFloat=function(a,h){return parseFloat(a.toPrecision(h||14))};a.setAnimation=function(u,h){h.renderer.globalAnimation=a.pick(u,h.options.chart.animation,!0)};a.animObject=function(u){return a.isObject(u)?a.merge(u):{duration:u?500:0}};a.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,
day:864E5,week:6048E5,month:24192E5,year:314496E5};a.numberFormat=function(u,h,n,t){u=+u||0;h=+h;var l=a.defaultOptions.lang,k=(u.toString().split(".")[1]||"").length,e,c;-1===h?h=Math.min(k,20):a.isNumber(h)||(h=2);c=(Math.abs(u)+Math.pow(10,-Math.max(h,k)-1)).toFixed(h);k=String(a.pInt(c));e=3<k.length?k.length%3:0;n=a.pick(n,l.decimalPoint);t=a.pick(t,l.thousandsSep);u=(0>u?"-":"")+(e?k.substr(0,e)+t:"");u+=k.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+t);h&&(u+=n+c.slice(-h));return u};Math.easeInOutSine=
function(a){return-.5*(Math.cos(Math.PI*a)-1)};a.getStyle=function(u,h){return"width"===h?Math.min(u.offsetWidth,u.scrollWidth)-a.getStyle(u,"padding-left")-a.getStyle(u,"padding-right"):"height"===h?Math.min(u.offsetHeight,u.scrollHeight)-a.getStyle(u,"padding-top")-a.getStyle(u,"padding-bottom"):(u=E.getComputedStyle(u,void 0))&&a.pInt(u.getPropertyValue(h))};a.inArray=function(a,h){return h.indexOf?h.indexOf(a):[].indexOf.call(h,a)};a.grep=function(a,h){return[].filter.call(a,h)};a.find=function(a,
h){return[].find.call(a,h)};a.map=function(a,h){for(var n=[],t=0,l=a.length;t<l;t++)n[t]=h.call(a[t],a[t],t,a);return n};a.offset=function(a){var h=C.documentElement;a=a.getBoundingClientRect();return{top:a.top+(E.pageYOffset||h.scrollTop)-(h.clientTop||0),left:a.left+(E.pageXOffset||h.scrollLeft)-(h.clientLeft||0)}};a.stop=function(a,h){for(var n=B.length;n--;)B[n].elem!==a||h&&h!==B[n].prop||(B[n].stopped=!0)};a.each=function(a,h,n){return Array.prototype.forEach.call(a,h,n)};a.addEvent=function(u,
h,n){function t(a){a.target=a.srcElement||E;n.call(u,a)}var l=u.hcEvents=u.hcEvents||{};u.addEventListener?u.addEventListener(h,n,!1):u.attachEvent&&(u.hcEventsIE||(u.hcEventsIE={}),u.hcEventsIE[n.toString()]=t,u.attachEvent("on"+h,t));l[h]||(l[h]=[]);l[h].push(n);return function(){a.removeEvent(u,h,n)}};a.removeEvent=function(u,h,n){function t(a,c){u.removeEventListener?u.removeEventListener(a,c,!1):u.attachEvent&&(c=u.hcEventsIE[c.toString()],u.detachEvent("on"+a,c))}function l(){var a,c;if(u.nodeName)for(c in h?
(a={},a[h]=!0):a=e,a)if(e[c])for(a=e[c].length;a--;)t(c,e[c][a])}var k,e=u.hcEvents,c;e&&(h?(k=e[h]||[],n?(c=a.inArray(n,k),-1<c&&(k.splice(c,1),e[h]=k),t(h,n)):(l(),e[h]=[])):(l(),u.hcEvents={}))};a.fireEvent=function(u,h,n,t){var l;l=u.hcEvents;var k,e;n=n||{};if(C.createEvent&&(u.dispatchEvent||u.fireEvent))l=C.createEvent("Events"),l.initEvent(h,!0,!0),a.extend(l,n),u.dispatchEvent?u.dispatchEvent(l):u.fireEvent(h,l);else if(l)for(l=l[h]||[],k=l.length,n.target||a.extend(n,{preventDefault:function(){n.defaultPrevented=
!0},target:u,type:h}),h=0;h<k;h++)(e=l[h])&&!1===e.call(u,n)&&n.preventDefault();t&&!n.defaultPrevented&&t(n)};a.animate=function(u,h,n){var t,l="",k,e,c;a.isObject(n)||(t=arguments,n={duration:t[2],easing:t[3],complete:t[4]});a.isNumber(n.duration)||(n.duration=400);n.easing="function"===typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine;n.curAnim=a.merge(h);for(c in h)a.stop(u,c),e=new a.Fx(u,n,c),k=null,"d"===c?(e.paths=e.initPath(u,u.d,h.d),e.toD=h.d,t=0,k=1):u.attr?t=u.attr(c):(t=parseFloat(a.getStyle(u,
c))||0,"opacity"!==c&&(l="px")),k||(k=h[c]),k&&k.match&&k.match("px")&&(k=k.replace(/px/g,"")),e.run(t,k,l)};a.seriesType=function(u,h,n,t,l){var k=a.getOptions(),e=a.seriesTypes;k.plotOptions[u]=a.merge(k.plotOptions[h],n);e[u]=a.extendClass(e[h]||function(){},t);e[u].prototype.type=u;l&&(e[u].prototype.pointClass=a.extendClass(a.Point,l));return e[u]};a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),h=0;return function(){return"highcharts-"+a+"-"+h++}}();E.jQuery&&(E.jQuery.fn.highcharts=
function(){var u=[].slice.call(arguments);if(this[0])return u[0]?(new (a[a.isString(u[0])?u.shift():"Chart"])(this[0],u[0],u[1]),this):z[a.attr(this[0],"data-highcharts-chart")]});C&&!C.defaultView&&(a.getStyle=function(u,h){var n={width:"clientWidth",height:"clientHeight"}[h];if(u.style[h])return a.pInt(u.style[h]);"opacity"===h&&(h="filter");if(n)return u.style.zoom=1,Math.max(u[n]-2*a.getStyle(u,"padding"),0);u=u.currentStyle[h.replace(/\-(\w)/g,function(a,l){return l.toUpperCase()})];"filter"===
h&&(u=u.replace(/alpha\(opacity=([0-9]+)\)/,function(a,l){return l/100}));return""===u?1:a.pInt(u)});Array.prototype.forEach||(a.each=function(a,h,n){for(var t=0,l=a.length;t<l;t++)if(!1===h.call(n,a[t],t,a))return t});Array.prototype.indexOf||(a.inArray=function(a,h){var n,t=0;if(h)for(n=h.length;t<n;t++)if(h[t]===a)return t;return-1});Array.prototype.filter||(a.grep=function(a,h){for(var n=[],t=0,l=a.length;t<l;t++)h(a[t],t)&&n.push(a[t]);return n});Array.prototype.find||(a.find=function(a,h){var n,
t=a.length;for(n=0;n<t;n++)if(h(a[n],n))return a[n]})})(I);(function(a){var B=a.each,z=a.isNumber,C=a.map,E=a.merge,u=a.pInt;a.Color=function(h){if(!(this instanceof a.Color))return new a.Color(h);this.init(h)};a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[u(a[1]),u(a[2]),u(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[u(a[1]),
u(a[2]),u(a[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(h){var n,t,l,k;if((this.input=h=this.names[h]||h)&&h.stops)this.stops=C(h.stops,function(e){return new a.Color(e[1])});else if(h&&"#"===h[0]&&(n=h.length,h=parseInt(h.substr(1),16),7===n?t=[(h&16711680)>>16,(h&65280)>>8,h&255,1]:4===n&&(t=[(h&3840)>>4|(h&3840)>>8,(h&240)>>4|h&240,(h&15)<<4|h&15,1])),!t)for(l=this.parsers.length;l--&&!t;)k=this.parsers[l],(n=k.regex.exec(h))&&(t=k.parse(n));this.rgba=t||[]},get:function(a){var h=
this.input,t=this.rgba,l;this.stops?(l=E(h),l.stops=[].concat(l.stops),B(this.stops,function(k,e){l.stops[e]=[l.stops[e][0],k.get(a)]})):l=t&&z(t[0])?"rgb"===a||!a&&1===t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"a"===a?t[3]:"rgba("+t.join(",")+")":h;return l},brighten:function(a){var h,t=this.rgba;if(this.stops)B(this.stops,function(l){l.brighten(a)});else if(z(a)&&0!==a)for(h=0;3>h;h++)t[h]+=u(255*a),0>t[h]&&(t[h]=0),255<t[h]&&(t[h]=255);return this},setOpacity:function(a){this.rgba[3]=a;return this}};
a.color=function(h){return new a.Color(h)}})(I);(function(a){var B,z,C=a.addEvent,E=a.animate,u=a.attr,h=a.charts,n=a.color,t=a.css,l=a.createElement,k=a.defined,e=a.deg2rad,c=a.destroyObjectProperties,p=a.doc,H=a.each,b=a.extend,m=a.erase,d=a.grep,r=a.hasTouch,A=a.inArray,v=a.isArray,f=a.isFirefox,y=a.isMS,G=a.isObject,F=a.isString,q=a.isWebKit,x=a.merge,J=a.noop,K=a.pick,L=a.pInt,g=a.removeEvent,D=a.stop,S=a.svg,M=a.SVG_NS,R=a.symbolSizes,N=a.win;B=a.SVGElement=function(){return this};B.prototype=
{opacity:1,SVG_NS:M,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(a,g){this.element="span"===g?l(g):p.createElementNS(this.SVG_NS,g);this.renderer=a},animate:function(w,g,b){g=a.animObject(K(g,this.renderer.globalAnimation,!0));0!==g.duration?(b&&(g.complete=b),E(this,w,g)):(this.attr(w,null,b),g.step&&g.step.call(this));return this},colorGradient:function(w,g,b){var f=this.renderer,
d,c,q,D,O,y,r,G,e,m,p,l=[],Q;w.linearGradient?c="linearGradient":w.radialGradient&&(c="radialGradient");if(c){q=w[c];O=f.gradients;r=w.stops;m=b.radialReference;v(q)&&(w[c]=q={x1:q[0],y1:q[1],x2:q[2],y2:q[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===c&&m&&!k(q.gradientUnits)&&(D=q,q=x(q,f.getRadialAttr(m,D),{gradientUnits:"userSpaceOnUse"}));for(p in q)"id"!==p&&l.push(p,q[p]);for(p in r)l.push(r[p]);l=l.join(",");O[l]?m=O[l].attr("id"):(q.id=m=a.uniqueKey(),O[l]=y=f.createElement(c).attr(q).add(f.defs),
y.radAttr=D,y.stops=[],H(r,function(w){0===w[1].indexOf("rgba")?(d=a.color(w[1]),G=d.get("rgb"),e=d.get("a")):(G=w[1],e=1);w=f.createElement("stop").attr({offset:w[0],"stop-color":G,"stop-opacity":e}).add(y);y.stops.push(w)}));Q="url("+f.url+"#"+m+")";b.setAttribute(g,Q);b.gradient=l;w.toString=function(){return Q}}},applyTextOutline:function(a){var w=this.element,g,b,f,d;-1!==a.indexOf("contrast")&&(a=a.replace(/contrast/g,this.renderer.getContrast(w.style.fill)));this.fakeTS=!0;this.ySetter=this.xSetter;
g=[].slice.call(w.getElementsByTagName("tspan"));a=a.split(" ");b=a[a.length-1];(f=a[0])&&"none"!==f&&(f=f.replace(/(^[\d\.]+)(.*?)$/g,function(a,w,g){return 2*w+g}),H(g,function(a){"highcharts-text-outline"===a.getAttribute("class")&&m(g,w.removeChild(a))}),d=w.firstChild,H(g,function(a,g){0===g&&(a.setAttribute("x",w.getAttribute("x")),g=w.getAttribute("y"),a.setAttribute("y",g||0),null===g&&w.setAttribute("y",0));a=a.cloneNode(1);u(a,{"class":"highcharts-text-outline",fill:b,stroke:b,"stroke-width":f,
"stroke-linejoin":"round"});w.insertBefore(a,d)}))},attr:function(a,g,b,f){var w,d=this.element,q,c=this,y;"string"===typeof a&&void 0!==g&&(w=a,a={},a[w]=g);if("string"===typeof a)c=(this[a+"Getter"]||this._defaultGetter).call(this,a,d);else{for(w in a)g=a[w],y=!1,f||D(this,w),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(w)&&(q||(this.symbolAttr(a),q=!0),y=!0),!this.rotation||"x"!==w&&"y"!==w||(this.doTransform=!0),y||(y=this[w+"Setter"]||this._defaultSetter,y.call(this,
g,w,d),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(w)&&this.updateShadows(w,g,y));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}b&&b();return c},updateShadows:function(a,g,b){for(var w=this.shadows,f=w.length;f--;)b.call(w[f],"height"===a?Math.max(g-(w[f].cutHeight||0),0):"d"===a?this.d:g,a,w[f])},addClass:function(a,g){var w=this.attr("class")||"";-1===w.indexOf(a)&&(g||(a=(w+(w?" ":"")+a).replace("  "," ")),this.attr("class",a));return this},hasClass:function(a){return-1!==
u(this.element,"class").indexOf(a)},removeClass:function(a){u(this.element,"class",(u(this.element,"class")||"").replace(a,""));return this},symbolAttr:function(a){var w=this;H("x y r start end width height innerR anchorX anchorY".split(" "),function(g){w[g]=K(a[g],w[g])});w.attr({d:w.renderer.symbols[w.symbolName](w.x,w.y,w.width,w.height,w)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,g){var w,f={},b;g=g||a.strokeWidth||0;b=Math.round(g)%
2/2;a.x=Math.floor(a.x||this.x||0)+b;a.y=Math.floor(a.y||this.y||0)+b;a.width=Math.floor((a.width||this.width||0)-2*b);a.height=Math.floor((a.height||this.height||0)-2*b);k(a.strokeWidth)&&(a.strokeWidth=g);for(w in a)this[w]!==a[w]&&(this[w]=f[w]=a[w]);return f},css:function(a){var w=this.styles,g={},f=this.element,d,q="",c=!w,D=["textOverflow","width"];a&&a.color&&(a.fill=a.color);if(w)for(d in a)a[d]!==w[d]&&(g[d]=a[d],c=!0);if(c){w&&(a=b(w,g));w=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===
f.nodeName.toLowerCase()&&L(a.width);this.styles=a;w&&!S&&this.renderer.forExport&&delete a.width;if(y&&!S)t(this.element,a);else{w=function(a,w){return"-"+w.toLowerCase()};for(d in a)-1===A(d,D)&&(q+=d.replace(/([A-Z])/g,w)+":"+a[d]+";");q&&u(f,"style",q)}this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,g){var w=this,f=w.element;r&&"click"===
a?(f.ontouchstart=function(a){w.touchEventFired=Date.now();a.preventDefault();g.call(f,a)},f.onclick=function(a){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(w.touchEventFired||0))&&g.call(f,a)}):f["on"+a]=g;return this},setRadialReference:function(a){var w=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;w&&w.radAttr&&w.animate(this.renderer.getRadialAttr(a,w.radAttr));return this},translate:function(a,g){return this.attr({translateX:a,translateY:g})},
invert:function(a){this.inverted=a;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,g=this.translateY||0,f=this.scaleX,b=this.scaleY,d=this.inverted,q=this.rotation,c=this.element;d&&(a+=this.width,g+=this.height);a=["translate("+a+","+g+")"];d?a.push("rotate(90) scale(-1,1)"):q&&a.push("rotate("+q+" "+(c.getAttribute("x")||0)+" "+(c.getAttribute("y")||0)+")");(k(f)||k(b))&&a.push("scale("+K(f,1)+" "+K(b,1)+")");a.length&&c.setAttribute("transform",a.join(" "))},
toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,g,f){var w,b,d,q,c={};b=this.renderer;d=b.alignedObjects;var D,y;if(a){if(this.alignOptions=a,this.alignByTranslate=g,!f||F(f))this.alignTo=w=f||"renderer",m(d,this),d.push(this),f=null}else a=this.alignOptions,g=this.alignByTranslate,w=this.alignTo;f=K(f,b[w],b);w=a.align;b=a.verticalAlign;d=(f.x||0)+(a.x||0);q=(f.y||0)+(a.y||0);"right"===w?D=1:"center"===w&&(D=2);D&&(d+=(f.width-(a.width||0))/D);c[g?
"translateX":"x"]=Math.round(d);"bottom"===b?y=1:"middle"===b&&(y=2);y&&(q+=(f.height-(a.height||0))/y);c[g?"translateY":"y"]=Math.round(q);this[this.placed?"animate":"attr"](c);this.placed=!0;this.alignAttr=c;return this},getBBox:function(a,g){var w,f=this.renderer,d,q=this.element,c=this.styles,D,y=this.textStr,x,r=f.cache,G=f.cacheKeys,m;g=K(g,this.rotation);d=g*e;D=c&&c.fontSize;void 0!==y&&(m=y.toString(),-1===m.indexOf("\x3c")&&(m=m.replace(/[0-9]/g,"0")),m+=["",g||0,D,c&&c.width,c&&c.textOverflow].join());
m&&!a&&(w=r[m]);if(!w){if(q.namespaceURI===this.SVG_NS||f.forExport){try{(x=this.fakeTS&&function(a){H(q.querySelectorAll(".highcharts-text-outline"),function(w){w.style.display=a})})&&x("none"),w=q.getBBox?b({},q.getBBox()):{width:q.offsetWidth,height:q.offsetHeight},x&&x("")}catch(X){}if(!w||0>w.width)w={width:0,height:0}}else w=this.htmlGetBBox();f.isSVG&&(a=w.width,f=w.height,c&&"11px"===c.fontSize&&17===Math.round(f)&&(w.height=f=14),g&&(w.width=Math.abs(f*Math.sin(d))+Math.abs(a*Math.cos(d)),
w.height=Math.abs(f*Math.cos(d))+Math.abs(a*Math.sin(d))));if(m&&0<w.height){for(;250<G.length;)delete r[G.shift()];r[m]||G.push(m);r[m]=w}}return w},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var w=this;w.animate({opacity:0},{duration:a||150,complete:function(){w.attr({y:-9999})}})},add:function(a){var w=this.renderer,g=this.element,f;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;
void 0!==this.textStr&&w.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)f=this.zIndexSetter();f||(a?a.element:w.box).appendChild(g);if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var w=a.parentNode;w&&w.removeChild(a)},destroy:function(){var a=this.element||{},g=this.renderer.isSVG&&"SPAN"===a.nodeName&&this.parentGroup,f,b;a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null;D(this);this.clipPath&&(this.clipPath=this.clipPath.destroy());if(this.stops){for(b=
0;b<this.stops.length;b++)this.stops[b]=this.stops[b].destroy();this.stops=null}this.safeRemoveChild(a);for(this.destroyShadows();g&&g.div&&0===g.div.childNodes.length;)a=g.parentGroup,this.safeRemoveChild(g.div),delete g.div,g=a;this.alignTo&&m(this.renderer.alignedObjects,this);for(f in this)delete this[f];return null},shadow:function(a,g,f){var w=[],b,d,c=this.element,q,D,y,x;if(!a)this.destroyShadows();else if(!this.shadows){D=K(a.width,3);y=(a.opacity||.15)/D;x=this.parentInverted?"(-1,-1)":
"("+K(a.offsetX,1)+", "+K(a.offsetY,1)+")";for(b=1;b<=D;b++)d=c.cloneNode(0),q=2*D+1-2*b,u(d,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":y*b,"stroke-width":q,transform:"translate"+x,fill:"none"}),f&&(u(d,"height",Math.max(u(d,"height")-q,0)),d.cutHeight=q),g?g.element.appendChild(d):c.parentNode.insertBefore(d,c),w.push(d);this.shadows=w}return this},destroyShadows:function(){H(this.shadows||[],function(a){this.safeRemoveChild(a)},this);this.shadows=void 0},xGetter:function(a){"circle"===
this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy"));return this._defaultGetter(a)},_defaultGetter:function(a){a=K(this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function(a,g,f){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");f.setAttribute(g,a);this[g]=a},dashstyleSetter:function(a){var w,g=this["stroke-width"];"inherit"===g&&(g=1);if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot",
"3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(w=a.length;w--;)a[w]=L(a[w])*g;a=a.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,g,f){this[g]=a;f.setAttribute(g,a)},titleSetter:function(a){var w=this.element.getElementsByTagName("title")[0];
w||(w=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(w));w.firstChild&&w.removeChild(w.firstChild);w.appendChild(p.createTextNode(String(K(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,g,f){"string"===typeof a?f.setAttribute(g,a):a&&this.colorGradient(a,g,f)},visibilitySetter:function(a,g,f){"inherit"===a?f.removeAttribute(g):f.setAttribute(g,a)},zIndexSetter:function(a,
g){var w=this.renderer,f=this.parentGroup,b=(f||w).element||w.box,d,c=this.element,q;d=this.added;var D;k(a)&&(c.zIndex=a,a=+a,this[g]===a&&(d=!1),this[g]=a);if(d){(a=this.zIndex)&&f&&(f.handleZ=!0);g=b.childNodes;for(D=0;D<g.length&&!q;D++)f=g[D],d=f.zIndex,f!==c&&(L(d)>a||!k(a)&&k(d)||0>a&&!k(d)&&b!==w.box)&&(b.insertBefore(c,f),q=!0);q||b.appendChild(c)}return q},_defaultSetter:function(a,g,f){f.setAttribute(g,a)}};B.prototype.yGetter=B.prototype.xGetter;B.prototype.translateXSetter=B.prototype.translateYSetter=
B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=function(a,g){this[g]=a;this.doTransform=!0};B.prototype["stroke-widthSetter"]=B.prototype.strokeSetter=function(a,g,f){this[g]=a;this.stroke&&this["stroke-width"]?(B.prototype.fillSetter.call(this,this.stroke,"stroke",f),f.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===g&&0===a&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1)};z=a.SVGRenderer=
function(){this.init.apply(this,arguments)};z.prototype={Element:B,SVG_NS:M,init:function(a,g,b,d,c,D){var w;d=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(d));w=d.element;a.appendChild(w);-1===a.innerHTML.indexOf("xmlns")&&u(w,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=w;this.boxWrapper=d;this.alignedObjects=[];this.url=(f||q)&&p.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,
"%20"):"";this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 5.0.9"));this.defs=this.createElement("defs").add();this.allowHTML=D;this.forExport=c;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(g,b,!1);var y;f&&a.getBoundingClientRect&&(g=function(){t(a,{left:0,top:0});y=a.getBoundingClientRect();t(a,{left:Math.ceil(y.left)-y.left+"px",top:Math.ceil(y.top)-y.top+"px"})},g(),this.unSubPixelFix=C(N,"resize",g))},getStyle:function(a){return this.style=
b({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();c(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null},createElement:function(a){var g=new this.Element;
g.init(this,a);return g},draw:J,getRadialAttr:function(a,g){return{cx:a[0]-a[2]/2+g.cx*a[2],cy:a[1]-a[2]/2+g.cy*a[2],r:g.r*a[2]}},buildText:function(a){var g=a.element,f=this,w=f.forExport,b=K(a.textStr,"").toString(),c=-1!==b.indexOf("\x3c"),q=g.childNodes,D,y,x,r,G=u(g,"x"),m=a.styles,e=a.textWidth,l=m&&m.lineHeight,v=m&&m.textOutline,k=m&&"ellipsis"===m.textOverflow,h=m&&"nowrap"===m.whiteSpace,F=m&&m.fontSize,A,J=q.length,m=e&&!a.added&&this.box,n=function(a){var w;w=/(px|em)$/.test(a&&a.style.fontSize)?
a.style.fontSize:F||f.style.fontSize||12;return l?L(l):f.fontMetrics(w,a.getAttribute("style")?a:g).h};A=[b,k,h,l,v,F,e].join();if(A!==a.textCache){for(a.textCache=A;J--;)g.removeChild(q[J]);c||v||k||e||-1!==b.indexOf(" ")?(D=/<.*class="([^"]+)".*>/,y=/<.*style="([^"]+)".*>/,x=/<.*href="(http[^"]+)".*>/,m&&m.appendChild(g),b=c?b.replace(/<(b|strong)>/g,'\x3cspan style\x3d"font-weight:bold"\x3e').replace(/<(i|em)>/g,'\x3cspan style\x3d"font-style:italic"\x3e').replace(/<a/g,"\x3cspan").replace(/<\/(b|strong|i|em|a)>/g,
"\x3c/span\x3e").split(/<br.*?>/g):[b],b=d(b,function(a){return""!==a}),H(b,function(b,d){var c,q=0;b=b.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||\x3cspan").replace(/<\/span>/g,"\x3c/span\x3e|||");c=b.split("|||");H(c,function(b){if(""!==b||1===c.length){var m={},v=p.createElementNS(f.SVG_NS,"tspan"),l,F;D.test(b)&&(l=b.match(D)[1],u(v,"class",l));y.test(b)&&(F=b.match(y)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(v,"style",F));x.test(b)&&!w&&(u(v,"onclick",'location.href\x3d"'+b.match(x)[1]+
'"'),t(v,{cursor:"pointer"}));b=(b.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e");if(" "!==b){v.appendChild(p.createTextNode(b));q?m.dx=0:d&&null!==G&&(m.x=G);u(v,m);g.appendChild(v);!q&&d&&(!S&&w&&t(v,{display:"block"}),u(v,"dy",n(v)));if(e){m=b.replace(/([^\^])-/g,"$1- ").split(" ");l=1<c.length||d||1<m.length&&!h;for(var A,H,O=[],J=n(v),K=a.rotation,L=b,P=L.length;(l||k)&&(m.length||O.length);)a.rotation=0,A=a.getBBox(!0),H=A.width,!S&&f.forExport&&(H=f.measureSpanWidth(v.firstChild.data,
a.styles)),A=H>e,void 0===r&&(r=A),k&&r?(P/=2,""===L||!A&&.5>P?m=[]:(L=b.substring(0,L.length+(A?-1:1)*Math.ceil(P)),m=[L+(3<e?"\u2026":"")],v.removeChild(v.firstChild))):A&&1!==m.length?(v.removeChild(v.firstChild),O.unshift(m.pop())):(m=O,O=[],m.length&&!h&&(v=p.createElementNS(M,"tspan"),u(v,{dy:J,x:G}),F&&u(v,"style",F),g.appendChild(v)),H>e&&(e=H)),m.length&&v.appendChild(p.createTextNode(m.join(" ").replace(/- /g,"-")));a.rotation=K}q++}}})}),r&&a.attr("title",a.textStr),m&&m.removeChild(g),
v&&a.applyTextOutline&&a.applyTextOutline(v)):g.appendChild(p.createTextNode(b.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")))}},getContrast:function(a){a=n(a).rgba;return 510<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,g,f,d,c,q,D,m,r){var w=this.label(a,g,f,r,null,null,null,null,"button"),G=0;w.attr(x({padding:8,r:2},c));var e,v,p,l;c=x({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},c);e=c.style;delete c.style;q=x(c,{fill:"#e6e6e6"},
q);v=q.style;delete q.style;D=x(c,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},D);p=D.style;delete D.style;m=x(c,{style:{color:"#cccccc"}},m);l=m.style;delete m.style;C(w.element,y?"mouseover":"mouseenter",function(){3!==G&&w.setState(1)});C(w.element,y?"mouseout":"mouseleave",function(){3!==G&&w.setState(G)});w.setState=function(a){1!==a&&(w.state=G=a);w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||
0]);w.attr([c,q,D,m][a||0]).css([e,v,p,l][a||0])};w.attr(c).css(b({cursor:"default"},e));return w.on("click",function(a){3!==G&&d.call(w,a)})},crispLine:function(a,g){a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-g%2/2);a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+g%2/2);return a},path:function(a){var g={fill:"none"};v(a)?g.d=a:G(a)&&b(g,a);return this.createElement("path").attr(g)},circle:function(a,g,f){a=G(a)?a:{x:a,y:g,r:f};g=this.createElement("circle");g.xSetter=g.ySetter=function(a,g,f){f.setAttribute("c"+
g,a)};return g.attr(a)},arc:function(a,g,f,b,d,c){G(a)?(b=a,g=b.y,f=b.r,a=b.x):b={innerR:b,start:d,end:c};a=this.symbol("arc",a,g,f,f,b);a.r=f;return a},rect:function(a,g,f,b,d,c){d=G(a)?a.r:d;var w=this.createElement("rect");a=G(a)?a:void 0===a?{}:{x:a,y:g,width:Math.max(f,0),height:Math.max(b,0)};void 0!==c&&(a.strokeWidth=c,a=w.crisp(a));a.fill="none";d&&(a.r=d);w.rSetter=function(a,g,f){u(f,{rx:a,ry:a})};return w.attr(a)},setSize:function(a,g,f){var b=this.alignedObjects,d=b.length;this.width=
a;this.height=g;for(this.boxWrapper.animate({width:a,height:g},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:K(f,!0)?void 0:0});d--;)b[d].align()},g:function(a){var g=this.createElement("g");return a?g.attr({"class":"highcharts-"+a}):g},image:function(a,g,f,d,c){var w={preserveAspectRatio:"none"};1<arguments.length&&b(w,{x:g,y:f,width:d,height:c});w=this.createElement("image").attr(w);w.element.setAttributeNS?w.element.setAttributeNS("http://www.w3.org/1999/xlink",
"href",a):w.element.setAttribute("hc-svg-href",a);return w},symbol:function(a,g,f,d,c,q){var w=this,D,y=this.symbols[a],m=k(g)&&y&&this.symbols[a](Math.round(g),Math.round(f),d,c,q),x=/^url\((.*?)\)$/,G,r;y?(D=this.path(m),D.attr("fill","none"),b(D,{symbolName:a,x:g,y:f,width:d,height:c}),q&&b(D,q)):x.test(a)&&(G=a.match(x)[1],D=this.image(G),D.imgwidth=K(R[G]&&R[G].width,q&&q.width),D.imgheight=K(R[G]&&R[G].height,q&&q.height),r=function(){D.attr({width:D.width,height:D.height})},H(["width","height"],
function(a){D[a+"Setter"]=function(a,g){var f={},b=this["img"+g],d="width"===g?"translateX":"translateY";this[g]=a;k(b)&&(this.element&&this.element.setAttribute(g,b),this.alignByTranslate||(f[d]=((this[g]||0)-b)/2,this.attr(f)))}}),k(g)&&D.attr({x:g,y:f}),D.isImg=!0,k(D.imgwidth)&&k(D.imgheight)?r():(D.attr({width:0,height:0}),l("img",{onload:function(){var a=h[w.chartIndex];0===this.width&&(t(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this));R[G]={width:this.width,height:this.height};
D.imgwidth=this.width;D.imgheight=this.height;D.element&&r();this.parentNode&&this.parentNode.removeChild(this);w.imgCount--;if(!w.imgCount&&a&&a.onload)a.onload()},src:G}),this.imgCount++));return D},symbols:{circle:function(a,g,f,b){return this.arc(a+f/2,g+b/2,f/2,b/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,g,f,b){return["M",a,g,"L",a+f,g,a+f,g+b,a,g+b,"Z"]},triangle:function(a,g,f,b){return["M",a+f/2,g,"L",a+f,g+b,a,g+b,"Z"]},"triangle-down":function(a,g,f,b){return["M",a,g,"L",a+f,
g,a+f/2,g+b,"Z"]},diamond:function(a,g,f,b){return["M",a+f/2,g,"L",a+f,g+b/2,a+f/2,g+b,a,g+b/2,"Z"]},arc:function(a,g,f,b,d){var c=d.start,w=d.r||f,q=d.r||b||f,D=d.end-.001;f=d.innerR;b=d.open;var y=Math.cos(c),m=Math.sin(c),x=Math.cos(D),D=Math.sin(D);d=d.end-c<Math.PI?0:1;w=["M",a+w*y,g+q*m,"A",w,q,0,d,1,a+w*x,g+q*D];k(f)&&w.push(b?"M":"L",a+f*x,g+f*D,"A",f,f,0,d,0,a+f*y,g+f*m);w.push(b?"":"Z");return w},callout:function(a,g,f,b,d){var c=Math.min(d&&d.r||0,f,b),q=c+6,D=d&&d.anchorX;d=d&&d.anchorY;
var w;w=["M",a+c,g,"L",a+f-c,g,"C",a+f,g,a+f,g,a+f,g+c,"L",a+f,g+b-c,"C",a+f,g+b,a+f,g+b,a+f-c,g+b,"L",a+c,g+b,"C",a,g+b,a,g+b,a,g+b-c,"L",a,g+c,"C",a,g,a,g,a+c,g];D&&D>f?d>g+q&&d<g+b-q?w.splice(13,3,"L",a+f,d-6,a+f+6,d,a+f,d+6,a+f,g+b-c):w.splice(13,3,"L",a+f,b/2,D,d,a+f,b/2,a+f,g+b-c):D&&0>D?d>g+q&&d<g+b-q?w.splice(33,3,"L",a,d+6,a-6,d,a,d-6,a,g+c):w.splice(33,3,"L",a,b/2,D,d,a,b/2,a,g+c):d&&d>b&&D>a+q&&D<a+f-q?w.splice(23,3,"L",D+6,g+b,D,g+b+6,D-6,g+b,a+c,g+b):d&&0>d&&D>a+q&&D<a+f-q&&w.splice(3,
3,"L",D-6,g,D,g-6,D+6,g,f-c,g);return w}},clipRect:function(g,f,b,d){var c=a.uniqueKey(),q=this.createElement("clipPath").attr({id:c}).add(this.defs);g=this.rect(g,f,b,d,0).add(q);g.id=c;g.clipPath=q;g.count=0;return g},text:function(a,g,f,b){var d=!S&&this.forExport,c={};if(b&&(this.allowHTML||!this.forExport))return this.html(a,g,f);c.x=Math.round(g||0);f&&(c.y=Math.round(f));if(a||0===a)c.text=a;a=this.createElement("text").attr(c);d&&a.css({position:"absolute"});b||(a.xSetter=function(a,g,f){var b=
f.getElementsByTagName("tspan"),d,c=f.getAttribute(g),q;for(q=0;q<b.length;q++)d=b[q],d.getAttribute(g)===c&&d.setAttribute(g,a);f.setAttribute(g,a)});return a},fontMetrics:function(a,g){a=a||g&&g.style&&g.style.fontSize||this.style&&this.style.fontSize;a=/px/.test(a)?L(a):/em/.test(a)?parseFloat(a)*(g?this.fontMetrics(null,g.parentNode).f:16):12;g=24>a?a+3:Math.round(1.2*a);return{h:g,b:Math.round(.8*g),f:a}},rotCorr:function(a,g,f){var b=a;g&&f&&(b=Math.max(b*Math.cos(g*e),4));return{x:-a/3*Math.sin(g*
e),y:b}},label:function(f,d,c,q,D,y,m,G,r){var w=this,e=w.g("button"!==r&&"label"),v=e.text=w.text("",0,0,m).attr({zIndex:1}),p,l,F=0,A=3,h=0,J,t,S,n,M,K={},L,u,O=/^url\((.*?)\)$/.test(q),R=O,P,Q,N,U;r&&e.addClass("highcharts-"+r);R=O;P=function(){return(L||0)%2/2};Q=function(){var a=v.element.style,g={};l=(void 0===J||void 0===t||M)&&k(v.textStr)&&v.getBBox();e.width=(J||l.width||0)+2*A+h;e.height=(t||l.height||0)+2*A;u=A+w.fontMetrics(a&&a.fontSize,v).b;R&&(p||(e.box=p=w.symbols[q]||O?w.symbol(q):
w.rect(),p.addClass(("button"===r?"":"highcharts-label-box")+(r?" highcharts-"+r+"-box":"")),p.add(e),a=P(),g.x=a,g.y=(G?-u:0)+a),g.width=Math.round(e.width),g.height=Math.round(e.height),p.attr(b(g,K)),K={})};N=function(){var a=h+A,g;g=G?0:u;k(J)&&l&&("center"===M||"right"===M)&&(a+={center:.5,right:1}[M]*(J-l.width));if(a!==v.x||g!==v.y)v.attr("x",a),void 0!==g&&v.attr("y",g);v.x=a;v.y=g};U=function(a,g){p?p.attr(a,g):K[a]=g};e.onAdd=function(){v.add(e);e.attr({text:f||0===f?f:"",x:d,y:c});p&&k(D)&&
e.attr({anchorX:D,anchorY:y})};e.widthSetter=function(g){J=a.isNumber(g)?g:null};e.heightSetter=function(a){t=a};e["text-alignSetter"]=function(a){M=a};e.paddingSetter=function(a){k(a)&&a!==A&&(A=e.padding=a,N())};e.paddingLeftSetter=function(a){k(a)&&a!==h&&(h=a,N())};e.alignSetter=function(a){a={left:0,center:.5,right:1}[a];a!==F&&(F=a,l&&e.attr({x:S}))};e.textSetter=function(a){void 0!==a&&v.textSetter(a);Q();N()};e["stroke-widthSetter"]=function(a,g){a&&(R=!0);L=this["stroke-width"]=a;U(g,a)};
e.strokeSetter=e.fillSetter=e.rSetter=function(a,g){"fill"===g&&a&&(R=!0);U(g,a)};e.anchorXSetter=function(a,g){D=a;U(g,Math.round(a)-P()-S)};e.anchorYSetter=function(a,g){y=a;U(g,a-n)};e.xSetter=function(a){e.x=a;F&&(a-=F*((J||l.width)+2*A));S=Math.round(a);e.attr("translateX",S)};e.ySetter=function(a){n=e.y=Math.round(a);e.attr("translateY",n)};var W=e.css;return b(e,{css:function(a){if(a){var g={};a=x(a);H(e.textProps,function(f){void 0!==a[f]&&(g[f]=a[f],delete a[f])});v.css(g)}return W.call(e,
a)},getBBox:function(){return{width:l.width+2*A,height:l.height+2*A,x:l.x-A,y:l.y-A}},shadow:function(a){a&&(Q(),p&&p.shadow(a));return e},destroy:function(){g(e.element,"mouseenter");g(e.element,"mouseleave");v&&(v=v.destroy());p&&(p=p.destroy());B.prototype.destroy.call(e);e=w=Q=N=U=null}})}};a.Renderer=z})(I);(function(a){var B=a.attr,z=a.createElement,C=a.css,E=a.defined,u=a.each,h=a.extend,n=a.isFirefox,t=a.isMS,l=a.isWebKit,k=a.pInt,e=a.SVGRenderer,c=a.win,p=a.wrap;h(a.SVGElement.prototype,
{htmlCss:function(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=h(this.styles,a);C(this.element,a);return this},htmlGetBBox:function(){var a=this.element;"text"===a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,
b=this.element,c=this.translateX||0,d=this.translateY||0,e=this.x||0,p=this.y||0,v=this.textAlign||"left",f={left:0,center:.5,right:1}[v],y=this.styles;C(b,{marginLeft:c,marginTop:d});this.shadows&&u(this.shadows,function(a){C(a,{marginLeft:c+1,marginTop:d+1})});this.inverted&&u(b.childNodes,function(f){a.invertChild(f,b)});if("SPAN"===b.tagName){var G=this.rotation,F=k(this.textWidth),q=y&&y.whiteSpace,x=[G,v,b.innerHTML,this.textWidth,this.textAlign].join();x!==this.cTT&&(y=a.fontMetrics(b.style.fontSize).b,
E(G)&&this.setSpanRotation(G,f,y),C(b,{width:"",whiteSpace:q||"nowrap"}),b.offsetWidth>F&&/[ \-]/.test(b.textContent||b.innerText)&&C(b,{width:F+"px",display:"block",whiteSpace:q||"normal"}),this.getSpanCorrection(b.offsetWidth,y,f,G,v));C(b,{left:e+(this.xCorr||0)+"px",top:p+(this.yCorr||0)+"px"});l&&(y=b.offsetHeight);this.cTT=x}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,e){var d={},m=t?"-ms-transform":l?"-webkit-transform":n?"MozTransform":c.opera?"-o-transform":"";d[m]=d.transform=
"rotate("+a+"deg)";d[m+(n?"Origin":"-origin")]=d.transformOrigin=100*b+"% "+e+"px";C(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c;this.yCorr=-b}});h(e.prototype,{html:function(a,b,c){var d=this.createElement("span"),e=d.element,m=d.renderer,v=m.isSVG,f=function(a,f){u(["opacity","visibility"],function(b){p(a,b+"Setter",function(a,b,d,c){a.call(this,b,d,c);f[d]=b})})};d.textSetter=function(a){a!==e.innerHTML&&delete this.bBox;e.innerHTML=this.textStr=a;d.htmlUpdateTransform()};
v&&f(d,d.element.style);d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,f){"align"===f&&(f="textAlign");d[f]=a;d.htmlUpdateTransform()};d.attr({text:a,x:Math.round(b),y:Math.round(c)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"});e.style.whiteSpace="nowrap";d.css=d.htmlCss;v&&(d.add=function(a){var b,c=m.box.parentNode,q=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)q.push(a),a=a.parentGroup;u(q.reverse(),function(a){var y,e=B(a.element,
"class");e&&(e={className:e});b=a.div=a.div||z("div",e,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||c);y=b.style;h(a,{on:function(){d.on.apply({element:q[0].div},arguments);return a},translateXSetter:function(f,g){y.left=f+"px";a[g]=f;a.doTransform=!0},translateYSetter:function(f,g){y.top=f+"px";a[g]=f;a.doTransform=!0}});f(a,y)})}}else b=c;b.appendChild(e);d.added=!0;d.alignOnAdd&&
d.htmlUpdateTransform();return d});return d}})})(I);(function(a){var B,z,C=a.createElement,E=a.css,u=a.defined,h=a.deg2rad,n=a.discardElement,t=a.doc,l=a.each,k=a.erase,e=a.extend;B=a.extendClass;var c=a.isArray,p=a.isNumber,H=a.isObject,b=a.merge;z=a.noop;var m=a.pick,d=a.pInt,r=a.SVGElement,A=a.SVGRenderer,v=a.win;a.svg||(z={docMode8:t&&8===t.documentMode,init:function(a,b){var f=["\x3c",b,' filled\x3d"f" stroked\x3d"f"'],d=["position: ","absolute",";"],c="div"===b;("shape"===b||c)&&d.push("left:0;top:0;width:1px;height:1px;");
d.push("visibility: ",c?"hidden":"visible");f.push(' style\x3d"',d.join(""),'"/\x3e');b&&(f=c||"span"===b||"img"===b?f.join(""):a.prepVML(f),this.element=C(f));this.renderer=a},add:function(a){var f=this.renderer,b=this.element,d=f.box,c=a&&a.inverted,d=a?a.element||a:d;a&&(this.parentGroup=a);c&&f.invertChild(b,d);d.appendChild(b);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();this.className&&this.attr("class",this.className);return this},
updateTransform:r.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=Math.cos(a*h),d=Math.sin(a*h);E(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11\x3d",b,", M12\x3d",-d,", M21\x3d",d,", M22\x3d",b,", sizingMethod\x3d'auto expand')"].join(""):"none"})},getSpanCorrection:function(a,b,d,c,q){var f=c?Math.cos(c*h):1,e=c?Math.sin(c*h):0,y=m(this.elemHeight,this.element.offsetHeight),r;this.xCorr=0>f&&-a;this.yCorr=0>e&&-y;r=0>f*e;this.xCorr+=e*b*(r?1-
d:d);this.yCorr-=f*b*(c?r?d:1-d:1);q&&"left"!==q&&(this.xCorr-=a*d*(0>f?-1:1),c&&(this.yCorr-=y*d*(0>e?-1:1)),E(this.element,{textAlign:q}))},pathToVML:function(a){for(var f=a.length,b=[];f--;)p(a[f])?b[f]=Math.round(10*a[f])-5:"Z"===a[f]?b[f]="x":(b[f]=a[f],!a.isArc||"wa"!==a[f]&&"at"!==a[f]||(b[f+5]===b[f+7]&&(b[f+7]+=a[f+7]>a[f+5]?1:-1),b[f+6]===b[f+8]&&(b[f+8]+=a[f+8]>a[f+6]?1:-1)));return b.join(" ")||"x"},clip:function(a){var f=this,b;a?(b=a.members,k(b,f),b.push(f),f.destroyClip=function(){k(b,
f)},a=a.getCSS(f)):(f.destroyClip&&f.destroyClip(),a={clip:f.docMode8?"inherit":"rect(auto)"});return f.css(a)},css:r.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&n(a)},destroy:function(){this.destroyClip&&this.destroyClip();return r.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var a=v.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var f;a=a.split(/[ ,]/);f=a.length;if(9===f||11===f)a[f-4]=a[f-2]=d(a[f-2])-10*b;return a.join(" ")},
shadow:function(a,b,c){var f=[],q,e=this.element,y=this.renderer,r,v=e.style,g,D=e.path,p,l,G,k;D&&"string"!==typeof D.value&&(D="x");l=D;if(a){G=m(a.width,3);k=(a.opacity||.15)/G;for(q=1;3>=q;q++)p=2*G+1-2*q,c&&(l=this.cutOffPath(D.value,p+.5)),g=['\x3cshape isShadow\x3d"true" strokeweight\x3d"',p,'" filled\x3d"false" path\x3d"',l,'" coordsize\x3d"10 10" style\x3d"',e.style.cssText,'" /\x3e'],r=C(y.prepVML(g),null,{left:d(v.left)+m(a.offsetX,1),top:d(v.top)+m(a.offsetY,1)}),c&&(r.cutOff=p+1),g=['\x3cstroke color\x3d"',
a.color||"#000000",'" opacity\x3d"',k*q,'"/\x3e'],C(y.prepVML(g),null,null,r),b?b.element.appendChild(r):e.parentNode.insertBefore(r,e),f.push(r);this.shadows=f}return this},updateShadows:z,setAttr:function(a,b){this.docMode8?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){(this.added?this.element:this).className=a},dashstyleSetter:function(a,b,d){(d.getElementsByTagName("stroke")[0]||C(this.renderer.prepVML(["\x3cstroke/\x3e"]),null,null,d))[b]=a||"solid";this[b]=a},dSetter:function(a,
b,d){var f=this.shadows;a=a||[];this.d=a.join&&a.join(" ");d.path=a=this.pathToVML(a);if(f)for(d=f.length;d--;)f[d].path=f[d].cutOff?this.cutOffPath(a,f[d].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,d){var f=d.nodeName;"SPAN"===f?d.style.color=a:"IMG"!==f&&(d.filled="none"!==a,this.setAttr("fillcolor",this.renderer.color(a,d,b,this)))},"fill-opacitySetter":function(a,b,d){C(this.renderer.prepVML(["\x3c",b.split("-")[0],' opacity\x3d"',a,'"/\x3e']),null,null,d)},opacitySetter:z,rotationSetter:function(a,
b,d){d=d.style;this[b]=d[b]=a;d.left=-Math.round(Math.sin(a*h)+1)+"px";d.top=Math.round(Math.cos(a*h))+"px"},strokeSetter:function(a,b,d){this.setAttr("strokecolor",this.renderer.color(a,d,b,this))},"stroke-widthSetter":function(a,b,d){d.stroked=!!a;this[b]=a;p(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,d){"inherit"===a&&(a="visible");this.shadows&&l(this.shadows,function(f){f.style[b]=a});"DIV"===d.nodeName&&(a="hidden"===
a?"-999em":0,this.docMode8||(d.style[b]=a?"visible":"hidden"),b="top");d.style[b]=a},xSetter:function(a,b,d){this[b]=a;"x"===b?b="left":"y"===b&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):d.style[b]=a},zIndexSetter:function(a,b,d){d.style[b]=a}},z["stroke-opacitySetter"]=z["fill-opacitySetter"],a.VMLElement=z=B(r,z),z.prototype.ySetter=z.prototype.widthSetter=z.prototype.heightSetter=z.prototype.xSetter,z={Element:z,isIE8:-1<v.navigator.userAgent.indexOf("MSIE 8.0"),init:function(a,
b,d){var f,c;this.alignedObjects=[];f=this.createElement("div").css({position:"relative"});c=f.element;a.appendChild(f.element);this.isVML=!0;this.box=c;this.boxWrapper=f;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,d,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{t.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(x){t.styleSheets[0].cssText+=
"hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,d,c){var f=this.createElement(),m=H(a);return e(f,{members:[],count:0,left:(m?a.x:a)+1,top:(m?a.y:b)+1,width:(m?a.width:d)-1,height:(m?a.height:c)-1,getCSS:function(a){var b=a.element,d=b.nodeName,g=a.inverted,f=this.top-("shape"===d?b.offsetTop:0),c=this.left,b=c+this.width,q=f+this.height,f={clip:"rect("+Math.round(g?
c:f)+"px,"+Math.round(g?q:b)+"px,"+Math.round(g?b:q)+"px,"+Math.round(g?f:c)+"px)"};!g&&a.docMode8&&"DIV"===d&&e(f,{width:b+"px",height:q+"px"});return f},updateClipping:function(){l(f.members,function(a){a.element&&a.css(f.getCSS(a))})}})},color:function(b,d,c,e){var f=this,m,r=/^rgba/,v,p,g="none";b&&b.linearGradient?p="gradient":b&&b.radialGradient&&(p="pattern");if(p){var D,y,k=b.linearGradient||b.radialGradient,A,h,w,G,t,F="";b=b.stops;var n,H=[],u=function(){v=['\x3cfill colors\x3d"'+H.join(",")+
'" opacity\x3d"',w,'" o:opacity2\x3d"',h,'" type\x3d"',p,'" ',F,'focus\x3d"100%" method\x3d"any" /\x3e'];C(f.prepVML(v),null,null,d)};A=b[0];n=b[b.length-1];0<A[0]&&b.unshift([0,A[1]]);1>n[0]&&b.push([1,n[1]]);l(b,function(g,b){r.test(g[1])?(m=a.color(g[1]),D=m.get("rgb"),y=m.get("a")):(D=g[1],y=1);H.push(100*g[0]+"% "+D);b?(w=y,G=D):(h=y,t=D)});if("fill"===c)if("gradient"===p)c=k.x1||k[0]||0,b=k.y1||k[1]||0,A=k.x2||k[2]||0,k=k.y2||k[3]||0,F='angle\x3d"'+(90-180*Math.atan((k-b)/(A-c))/Math.PI)+'"',
u();else{var g=k.r,z=2*g,B=2*g,E=k.cx,V=k.cy,I=d.radialReference,T,g=function(){I&&(T=e.getBBox(),E+=(I[0]-T.x)/T.width-.5,V+=(I[1]-T.y)/T.height-.5,z*=I[2]/T.width,B*=I[2]/T.height);F='src\x3d"'+a.getOptions().global.VMLRadialGradientURL+'" size\x3d"'+z+","+B+'" origin\x3d"0.5,0.5" position\x3d"'+E+","+V+'" color2\x3d"'+t+'" ';u()};e.added?g():e.onAdd=g;g=G}else g=D}else r.test(b)&&"IMG"!==d.tagName?(m=a.color(b),e[c+"-opacitySetter"](m.get("a"),c,d),g=m.get("rgb")):(g=d.getElementsByTagName(c),
g.length&&(g[0].opacity=1,g[0].type="solid"),g=b);return g},prepVML:function(a){var b=this.isIE8;a=a.join("");b?(a=a.replace("/\x3e",' xmlns\x3d"urn:schemas-microsoft-com:vml" /\x3e'),a=-1===a.indexOf('style\x3d"')?a.replace("/\x3e",' style\x3d"display:inline-block;behavior:url(#default#VML);" /\x3e'):a.replace('style\x3d"','style\x3d"display:inline-block;behavior:url(#default#VML);')):a=a.replace("\x3c","\x3chcv:");return a},text:A.prototype.html,path:function(a){var b={coordsize:"10 10"};c(a)?b.d=
a:H(a)&&e(b,a);return this.createElement("shape").attr(b)},circle:function(a,b,d){var f=this.symbol("circle");H(a)&&(d=a.r,b=a.y,a=a.x);f.isCircle=!0;f.r=d;return f.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement("div").attr(b)},image:function(a,b,d,c,q){var f=this.createElement("img").attr({src:a});1<arguments.length&&f.attr({x:b,y:d,width:c,height:q});return f},createElement:function(a){return"rect"===a?this.symbol(a):A.prototype.createElement.call(this,
a)},invertChild:function(a,b){var f=this;b=b.style;var c="IMG"===a.tagName&&a.style;E(a,{flip:"x",left:d(b.width)-(c?d(c.top):1),top:d(b.height)-(c?d(c.left):1),rotation:-90});l(a.childNodes,function(b){f.invertChild(b,a)})},symbols:{arc:function(a,b,d,c,q){var f=q.start,e=q.end,m=q.r||d||c;d=q.innerR;c=Math.cos(f);var r=Math.sin(f),g=Math.cos(e),D=Math.sin(e);if(0===e-f)return["x"];f=["wa",a-m,b-m,a+m,b+m,a+m*c,b+m*r,a+m*g,b+m*D];q.open&&!d&&f.push("e","M",a,b);f.push("at",a-d,b-d,a+d,b+d,a+d*g,
b+d*D,a+d*c,b+d*r,"x","e");f.isArc=!0;return f},circle:function(a,b,d,c,q){q&&u(q.r)&&(d=c=2*q.r);q&&q.isCircle&&(a-=d/2,b-=c/2);return["wa",a,b,a+d,b+c,a+d,b+c/2,a+d,b+c/2,"e"]},rect:function(a,b,d,c,q){return A.prototype.symbols[u(q)&&q.r?"callout":"square"].call(0,a,b,d,c,q)}}},a.VMLRenderer=B=function(){this.init.apply(this,arguments)},B.prototype=b(A.prototype,z),a.Renderer=B);A.prototype.measureSpanWidth=function(a,b){var d=t.createElement("span");a=t.createTextNode(a);d.appendChild(a);E(d,
b);this.box.appendChild(d);b=d.offsetWidth;n(d);return b}})(I);(function(a){function B(){var l=a.defaultOptions.global,k=t.moment;if(l.timezone){if(k)return function(a){return-k.tz(a,l.timezone).utcOffset()};a.error(25)}return l.useUTC&&l.getTimezoneOffset}function z(){var l=a.defaultOptions.global,k,e=l.useUTC,c=e?"getUTC":"get",p=e?"setUTC":"set";a.Date=k=l.Date||t.Date;k.hcTimezoneOffset=e&&l.timezoneOffset;k.hcGetTimezoneOffset=B();k.hcMakeTime=function(a,b,c,d,r,p){var m;e?(m=k.UTC.apply(0,arguments),
m+=u(m)):m=(new k(a,b,n(c,1),n(d,0),n(r,0),n(p,0))).getTime();return m};E("Minutes Hours Day Date Month FullYear".split(" "),function(a){k["hcGet"+a]=c+a});E("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(a){k["hcSet"+a]=p+a})}var C=a.color,E=a.each,u=a.getTZOffset,h=a.merge,n=a.pick,t=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],
lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.9/gfx/vml-radial-gradient.png"},
chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",
labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",
top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:C("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',
pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};a.setOptions=function(l){a.defaultOptions=h(!0,a.defaultOptions,l);z();
return a.defaultOptions};a.getOptions=function(){return a.defaultOptions};a.defaultPlotOptions=a.defaultOptions.plotOptions;z()})(I);(function(a){var B=a.arrayMax,z=a.arrayMin,C=a.defined,E=a.destroyObjectProperties,u=a.each,h=a.erase,n=a.merge,t=a.pick;a.PlotLineOrBand=function(a,k){this.axis=a;k&&(this.options=k,this.id=k.id)};a.PlotLineOrBand.prototype={render:function(){var a=this,k=a.axis,e=k.horiz,c=a.options,p=c.label,h=a.label,b=c.to,m=c.from,d=c.value,r=C(m)&&C(b),A=C(d),v=a.svgElem,f=!v,
y=[],G,F=c.color,q=t(c.zIndex,0),x=c.events,y={"class":"highcharts-plot-"+(r?"band ":"line ")+(c.className||"")},J={},u=k.chart.renderer,L=r?"bands":"lines",g=k.log2lin;k.isLog&&(m=g(m),b=g(b),d=g(d));A?(y={stroke:F,"stroke-width":c.width},c.dashStyle&&(y.dashstyle=c.dashStyle)):r&&(F&&(y.fill=F),c.borderWidth&&(y.stroke=c.borderColor,y["stroke-width"]=c.borderWidth));J.zIndex=q;L+="-"+q;(F=k[L])||(k[L]=F=u.g("plot-"+L).attr(J).add());f&&(a.svgElem=v=u.path().attr(y).add(F));if(A)y=k.getPlotLinePath(d,
v.strokeWidth());else if(r)y=k.getPlotBandPath(m,b,c);else return;if(f&&y&&y.length){if(v.attr({d:y}),x)for(G in c=function(b){v.on(b,function(g){x[b].apply(a,[g])})},x)c(G)}else v&&(y?(v.show(),v.animate({d:y})):(v.hide(),h&&(a.label=h=h.destroy())));p&&C(p.text)&&y&&y.length&&0<k.width&&0<k.height&&!y.flat?(p=n({align:e&&r&&"center",x:e?!r&&4:10,verticalAlign:!e&&r&&"middle",y:e?r?16:10:r?6:-4,rotation:e&&!r&&90},p),this.renderLabel(p,y,r,q)):h&&h.hide();return a},renderLabel:function(a,k,e,c){var p=
this.label,l=this.axis.chart.renderer;p||(p={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+(e?"band":"line")+"-label "+(a.className||"")},p.zIndex=c,this.label=p=l.text(a.text,0,0,a.useHTML).attr(p).add(),p.css(a.style));c=[k[1],k[4],e?k[6]:k[1]];k=[k[2],k[5],e?k[7]:k[2]];e=z(c);l=z(k);p.align(a,!1,{x:e,y:l,width:B(c)-e,height:B(k)-l});p.show()},destroy:function(){h(this.axis.plotLinesAndBands,this);delete this.axis;E(this)}};a.AxisPlotLineOrBandExtension={getPlotBandPath:function(a,
k){k=this.getPlotLinePath(k,null,null,!0);(a=this.getPlotLinePath(a,null,null,!0))&&k?(a.flat=a.toString()===k.toString(),a.push(k[4],k[5],k[1],k[2],"z")):a=null;return a},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(l,k){var e=(new a.PlotLineOrBand(this,l)).render(),c=this.userOptions;e&&(k&&(c[k]=c[k]||[],c[k].push(l)),this.plotLinesAndBands.push(e));return e},removePlotBandOrLine:function(a){for(var k=
this.plotLinesAndBands,e=this.options,c=this.userOptions,p=k.length;p--;)k[p].id===a&&k[p].destroy();u([e.plotLines||[],c.plotLines||[],e.plotBands||[],c.plotBands||[]],function(c){for(p=c.length;p--;)c[p].id===a&&h(c,c[p])})}}})(I);(function(a){var B=a.correctFloat,z=a.defined,C=a.destroyObjectProperties,E=a.isNumber,u=a.merge,h=a.pick,n=a.deg2rad;a.Tick=function(a,l,k,e){this.axis=a;this.pos=l;this.type=k||"";this.isNew=!0;k||e||this.addLabel()};a.Tick.prototype={addLabel:function(){var a=this.axis,
l=a.options,k=a.chart,e=a.categories,c=a.names,p=this.pos,n=l.labels,b=a.tickPositions,m=p===b[0],d=p===b[b.length-1],c=e?h(e[p],c[p],p):p,e=this.label,b=b.info,r;a.isDatetimeAxis&&b&&(r=l.dateTimeLabelFormats[b.higherRanks[p]||b.unitName]);this.isFirst=m;this.isLast=d;l=a.labelFormatter.call({axis:a,chart:k,isFirst:m,isLast:d,dateTimeLabelFormat:r,value:a.isLog?B(a.lin2log(c)):c});z(e)?e&&e.attr({text:l}):(this.labelLength=(this.label=e=z(l)&&n.enabled?k.renderer.text(l,0,0,n.useHTML).css(u(n.style)).add(a.labelGroup):
null)&&e.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var l=this.axis,k=a.x,e=l.chart.chartWidth,c=l.chart.spacing,p=h(l.labelLeft,Math.min(l.pos,c[3])),c=h(l.labelRight,Math.max(l.pos+l.len,e-c[1])),t=this.label,b=this.rotation,m={left:0,center:.5,right:1}[l.labelAlign],d=t.getBBox().width,r=l.getSlotWidth(),A=r,v=1,f,y={};if(b)0>b&&k-m*d<p?f=Math.round(k/Math.cos(b*n)-p):0<b&&k+m*
d>c&&(f=Math.round((e-k)/Math.cos(b*n)));else if(e=k+(1-m)*d,k-m*d<p?A=a.x+A*(1-m)-p:e>c&&(A=c-a.x+A*m,v=-1),A=Math.min(r,A),A<r&&"center"===l.labelAlign&&(a.x+=v*(r-A-m*(r-Math.min(d,A)))),d>A||l.autoRotation&&(t.styles||{}).width)f=A;f&&(y.width=f,(l.options.labels.style||{}).textOverflow||(y.textOverflow="ellipsis"),t.css(y))},getPosition:function(a,l,k,e){var c=this.axis,p=c.chart,h=e&&p.oldChartHeight||p.chartHeight;return{x:a?c.translate(l+k,null,null,e)+c.transB:c.left+c.offset+(c.opposite?
(e&&p.oldChartWidth||p.chartWidth)-c.right-c.left:0),y:a?h-c.bottom+c.offset-(c.opposite?c.height:0):h-c.translate(l+k,null,null,e)-c.transB}},getLabelPosition:function(a,h,k,e,c,p,H,b){var m=this.axis,d=m.transA,r=m.reversed,l=m.staggerLines,v=m.tickRotCorr||{x:0,y:0},f=c.y;z(f)||(f=0===m.side?k.rotation?-8:-k.getBBox().height:2===m.side?v.y+8:Math.cos(k.rotation*n)*(v.y-k.getBBox(!1,0).height/2));a=a+c.x+v.x-(p&&e?p*d*(r?-1:1):0);h=h+f-(p&&!e?p*d*(r?1:-1):0);l&&(k=H/(b||1)%l,m.opposite&&(k=l-k-
1),h+=m.labelOffset/l*k);return{x:a,y:Math.round(h)}},getMarkPath:function(a,h,k,e,c,p){return p.crispLine(["M",a,h,"L",a+(c?0:-k),h+(c?k:0)],e)},renderGridLine:function(a,h,k){var e=this.axis,c=e.options,p=this.gridLine,l={},b=this.pos,m=this.type,d=e.tickmarkOffset,r=e.chart.renderer,A=m?m+"Grid":"grid",v=c[A+"LineWidth"],f=c[A+"LineColor"],c=c[A+"LineDashStyle"];p||(l.stroke=f,l["stroke-width"]=v,c&&(l.dashstyle=c),m||(l.zIndex=1),a&&(l.opacity=0),this.gridLine=p=r.path().attr(l).addClass("highcharts-"+
(m?m+"-":"")+"grid-line").add(e.gridGroup));if(!a&&p&&(a=e.getPlotLinePath(b+d,p.strokeWidth()*k,a,!0)))p[this.isNew?"attr":"animate"]({d:a,opacity:h})},renderMark:function(a,l,k){var e=this.axis,c=e.options,p=e.chart.renderer,n=this.type,b=n?n+"Tick":"tick",m=e.tickSize(b),d=this.mark,r=!d,A=a.x;a=a.y;var v=h(c[b+"Width"],!n&&e.isXAxis?1:0),c=c[b+"Color"];m&&(e.opposite&&(m[0]=-m[0]),r&&(this.mark=d=p.path().addClass("highcharts-"+(n?n+"-":"")+"tick").add(e.axisGroup),d.attr({stroke:c,"stroke-width":v})),
d[r?"attr":"animate"]({d:this.getMarkPath(A,a,m[0],d.strokeWidth()*k,e.horiz,p),opacity:l}))},renderLabel:function(a,l,k,e){var c=this.axis,p=c.horiz,n=c.options,b=this.label,m=n.labels,d=m.step,r=c.tickmarkOffset,A=!0,v=a.x;a=a.y;b&&E(v)&&(b.xy=a=this.getLabelPosition(v,a,b,p,m,r,e,d),this.isFirst&&!this.isLast&&!h(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!h(n.showLastLabel,1)?A=!1:!p||c.isRadial||m.step||m.rotation||l||0===k||this.handleOverflow(a),d&&e%d&&(A=!1),A&&E(a.y)?(a.opacity=k,
b[this.isNew?"attr":"animate"](a)):b.attr("y",-9999),this.isNew=!1)},render:function(a,l,k){var e=this.axis,c=e.horiz,p=this.getPosition(c,this.pos,e.tickmarkOffset,l),n=p.x,b=p.y,e=c&&n===e.pos+e.len||!c&&b===e.pos?-1:1;k=h(k,1);this.isActive=!0;this.renderGridLine(l,k,e);this.renderMark(p,k,e);this.renderLabel(p,l,k,a)},destroy:function(){C(this,this.axis)}}})(I);(function(a){var B=a.addEvent,z=a.animObject,C=a.arrayMax,E=a.arrayMin,u=a.AxisPlotLineOrBandExtension,h=a.color,n=a.correctFloat,t=a.defaultOptions,
l=a.defined,k=a.deg2rad,e=a.destroyObjectProperties,c=a.each,p=a.extend,H=a.fireEvent,b=a.format,m=a.getMagnitude,d=a.grep,r=a.inArray,A=a.isArray,v=a.isNumber,f=a.isString,y=a.merge,G=a.normalizeTickInterval,F=a.pick,q=a.PlotLineOrBand,x=a.removeEvent,J=a.splat,K=a.syncTimeout,L=a.Tick;a.Axis=function(){this.init.apply(this,arguments)};a.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",
year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},
defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],
x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,b){var g=b.isX;this.chart=a;this.horiz=a.inverted?!g:g;this.isXAxis=g;this.coll=this.coll||(g?"xAxis":"yAxis");this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var d=this.options,c=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.reversed=d.reversed;this.visible=
!1!==d.visible;this.zoomEnabled=!1!==d.zoomEnabled;this.hasNames="category"===c||!0===d.categories;this.categories=d.categories||this.hasNames;this.names=this.names||[];this.isLog="logarithmic"===c;this.isDatetimeAxis="datetime"===c;this.positiveValuesOnly=this.isLog&&!this.allowNegativeLog;this.isLinked=l(d.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=d.minRange||d.maxZoom;this.range=d.range;
this.offset=d.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=F(d.crosshair,J(a.options.tooltip.crosshairs)[g?0:1],!1);var f;b=this.options.events;-1===r(this,a.axes)&&(g?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];a.inverted&&g&&void 0===this.reversed&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in b)B(this,f,b[f]);this.lin2log=d.linearToLogConverter||
this.lin2log;this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(a){this.options=y(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],y(t[this.coll],a))},defaultLabelFormatter:function(){var g=this.axis,d=this.value,c=g.categories,f=this.dateTimeLabelFormat,q=t.lang,e=q.numericSymbols,q=q.numericSymbolMagnitude||1E3,w=e&&e.length,
m,r=g.options.labels.format,g=g.isLog?Math.abs(d):g.tickInterval;if(r)m=b(r,this);else if(c)m=d;else if(f)m=a.dateFormat(f,d);else if(w&&1E3<=g)for(;w--&&void 0===m;)c=Math.pow(q,w+1),g>=c&&0===10*d%c&&null!==e[w]&&0!==d&&(m=a.numberFormat(d/c,-1)+e[w]);void 0===m&&(m=1E4<=Math.abs(d)?a.numberFormat(d,-1):a.numberFormat(d,-1,void 0,""));return m},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();
c(a.series,function(g){if(g.visible||!b.options.chart.ignoreHiddenSeries){var c=g.options,f=c.threshold,q;a.hasVisibleSeries=!0;a.positiveValuesOnly&&0>=f&&(f=null);if(a.isXAxis)c=g.xData,c.length&&(g=E(c),v(g)||g instanceof Date||(c=d(c,function(a){return v(a)}),g=E(c)),a.dataMin=Math.min(F(a.dataMin,c[0]),g),a.dataMax=Math.max(F(a.dataMax,c[0]),C(c)));else if(g.getExtremes(),q=g.dataMax,g=g.dataMin,l(g)&&l(q)&&(a.dataMin=Math.min(F(a.dataMin,g),g),a.dataMax=Math.max(F(a.dataMax,q),q)),l(f)&&(a.threshold=
f),!c.softThreshold||a.positiveValuesOnly)a.softThreshold=!1}})},translate:function(a,b,d,c,f,q){var g=this.linkedParent||this,D=1,e=0,m=c?g.oldTransA:g.transA;c=c?g.oldMin:g.min;var r=g.minPixelPadding;f=(g.isOrdinal||g.isBroken||g.isLog&&f)&&g.lin2val;m||(m=g.transA);d&&(D*=-1,e=g.len);g.reversed&&(D*=-1,e-=D*(g.sector||g.len));b?(a=(a*D+e-r)/m+c,f&&(a=g.lin2val(a))):(f&&(a=g.val2lin(a)),a=D*(a-c)*m+e+D*r+(v(q)?m*q:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,
!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,d,c,f){var g=this.chart,q=this.left,D=this.top,e,m,r=d&&g.oldChartHeight||g.chartHeight,p=d&&g.oldChartWidth||g.chartWidth,x;e=this.transB;var k=function(a,b,g){if(a<b||a>g)c?a=Math.min(Math.max(b,a),g):x=!0;return a};f=F(f,this.translate(a,null,null,d));a=d=Math.round(f+e);e=m=Math.round(r-f-e);v(f)?this.horiz?(e=D,m=r-this.bottom,a=d=k(a,q,q+this.width)):(a=q,d=
p-this.right,e=m=k(e,D,D+this.height)):x=!0;return x&&!c?null:g.renderer.crispLine(["M",a,e,"L",d,m],b||1)},getLinearTickPositions:function(a,b,d){var g,c=n(Math.floor(b/a)*a);d=n(Math.ceil(d/a)*a);var f=[];if(this.single)return[b];for(b=c;b<=d;){f.push(b);b=n(b+a);if(b===g)break;g=b}return f},getMinorTickPositions:function(){var a=this,b=a.options,d=a.tickPositions,f=a.minorTickInterval,q=[],e=a.pointRangePadding||0,m=a.min-e,e=a.max+e,r=e-m;if(r&&r/f<a.len/3)if(a.isLog)c(this.paddedTicks,function(b,
g,d){g&&q.push.apply(q,a.getLogTickPositions(f,d[g-1],d[g],!0))});else if(a.isDatetimeAxis&&"auto"===b.minorTickInterval)q=q.concat(a.getTimeTicks(a.normalizeTimeTickInterval(f),m,e,b.startOfWeek));else for(b=m+(d[0]-m)%f;b<=e&&b!==q[0];b+=f)q.push(b);0!==q.length&&a.trimTicks(q);return q},adjustForMinRange:function(){var a=this.options,b=this.min,d=this.max,f,q=this.dataMax-this.dataMin>=this.minRange,e,m,r,p,v,x;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(a.min)||l(a.max)?this.minRange=
null:(c(this.series,function(a){p=a.xData;for(m=v=a.xIncrement?1:p.length-1;0<m;m--)if(r=p[m]-p[m-1],void 0===e||r<e)e=r}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin)));d-b<this.minRange&&(x=this.minRange,f=(x-d+b)/2,f=[b-f,F(a.min,b-f)],q&&(f[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=C(f),d=[b+x,F(a.max,b+x)],q&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),d=E(d),d-b<x&&(f[0]=d-x,f[1]=F(a.min,d-x),b=C(f)));this.min=b;this.max=d},getClosest:function(){var a;this.categories?
a=1:c(this.series,function(b){var g=b.closestPointRange,d=b.visible||!b.chart.options.chart.ignoreHiddenSeries;!b.noSharedTooltip&&l(g)&&d&&(a=l(a)?Math.min(a,g):g)});return a},nameToX:function(a){var b=A(this.categories),g=b?this.categories:this.names,d=a.options.x,c;a.series.requireSorting=!1;l(d)||(d=!1===this.options.uniqueNames?a.series.autoIncrement():r(a.name,g));-1===d?b||(c=g.length):c=d;this.names[c]=a.name;return c},updateNames:function(){var a=this;0<this.names.length&&(this.names.length=
0,this.minRange=void 0,c(this.series||[],function(b){b.xIncrement=null;if(!b.points||b.isDirtyData)b.processData(),b.generatePoints();c(b.points,function(g,d){var c;g.options&&(c=a.nameToX(g),c!==g.x&&(g.x=c,b.xData[d]=c))})}))},setAxisTranslation:function(a){var b=this,g=b.max-b.min,d=b.axisPointRange||0,q,e=0,m=0,r=b.linkedParent,p=!!b.categories,v=b.transA,x=b.isXAxis;if(x||p||d)q=b.getClosest(),r?(e=r.minPointOffset,m=r.pointRangePadding):c(b.series,function(a){var g=p?1:x?F(a.options.pointRange,
q,0):b.axisPointRange||0;a=a.options.pointPlacement;d=Math.max(d,g);b.single||(e=Math.max(e,f(a)?0:g/2),m=Math.max(m,"on"===a?0:g))}),r=b.ordinalSlope&&q?b.ordinalSlope/q:1,b.minPointOffset=e*=r,b.pointRangePadding=m*=r,b.pointRange=Math.min(d,g),x&&(b.closestPointRange=q);a&&(b.oldTransA=v);b.translationSlope=b.transA=v=b.options.staticScale||b.len/(g+m||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=v*e},minFromRange:function(){return this.max-this.range},setTickInterval:function(b){var g=
this,d=g.chart,f=g.options,q=g.isLog,e=g.log2lin,r=g.isDatetimeAxis,p=g.isXAxis,x=g.isLinked,k=f.maxPadding,h=f.minPadding,y=f.tickInterval,A=f.tickPixelInterval,J=g.categories,t=g.threshold,u=g.softThreshold,L,K,z,B;r||J||x||this.getTickAmount();z=F(g.userMin,f.min);B=F(g.userMax,f.max);x?(g.linkedParent=d[g.coll][f.linkedTo],d=g.linkedParent.getExtremes(),g.min=F(d.min,d.dataMin),g.max=F(d.max,d.dataMax),f.type!==g.linkedParent.options.type&&a.error(11,1)):(!u&&l(t)&&(g.dataMin>=t?(L=t,h=0):g.dataMax<=
t&&(K=t,k=0)),g.min=F(z,L,g.dataMin),g.max=F(B,K,g.dataMax));q&&(g.positiveValuesOnly&&!b&&0>=Math.min(g.min,F(g.dataMin,g.min))&&a.error(10,1),g.min=n(e(g.min),15),g.max=n(e(g.max),15));g.range&&l(g.max)&&(g.userMin=g.min=z=Math.max(g.min,g.minFromRange()),g.userMax=B=g.max,g.range=null);H(g,"foundExtremes");g.beforePadding&&g.beforePadding();g.adjustForMinRange();!(J||g.axisPointRange||g.usePercentage||x)&&l(g.min)&&l(g.max)&&(e=g.max-g.min)&&(!l(z)&&h&&(g.min-=e*h),!l(B)&&k&&(g.max+=e*k));v(f.floor)?
g.min=Math.max(g.min,f.floor):v(f.softMin)&&(g.min=Math.min(g.min,f.softMin));v(f.ceiling)?g.max=Math.min(g.max,f.ceiling):v(f.softMax)&&(g.max=Math.max(g.max,f.softMax));u&&l(g.dataMin)&&(t=t||0,!l(z)&&g.min<t&&g.dataMin>=t?g.min=t:!l(B)&&g.max>t&&g.dataMax<=t&&(g.max=t));g.tickInterval=g.min===g.max||void 0===g.min||void 0===g.max?1:x&&!y&&A===g.linkedParent.options.tickPixelInterval?y=g.linkedParent.tickInterval:F(y,this.tickAmount?(g.max-g.min)/Math.max(this.tickAmount-1,1):void 0,J?1:(g.max-
g.min)*A/Math.max(g.len,A));p&&!b&&c(g.series,function(a){a.processData(g.min!==g.oldMin||g.max!==g.oldMax)});g.setAxisTranslation(!0);g.beforeSetTickPositions&&g.beforeSetTickPositions();g.postProcessTickInterval&&(g.tickInterval=g.postProcessTickInterval(g.tickInterval));g.pointRange&&!y&&(g.tickInterval=Math.max(g.pointRange,g.tickInterval));b=F(f.minTickInterval,g.isDatetimeAxis&&g.closestPointRange);!y&&g.tickInterval<b&&(g.tickInterval=b);r||q||y||(g.tickInterval=G(g.tickInterval,null,m(g.tickInterval),
F(f.allowDecimals,!(.5<g.tickInterval&&5>g.tickInterval&&1E3<g.max&&9999>g.max)),!!this.tickAmount));this.tickAmount||(g.tickInterval=g.unsquish());this.setTickPositions()},setTickPositions:function(){var a=this.options,b,d=a.tickPositions,c=a.tickPositioner,f=a.startOnTick,q=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===a.minorTickInterval&&this.tickInterval?this.tickInterval/5:a.minorTickInterval;this.single=
this.min===this.max&&l(this.min)&&!this.tickAmount&&!1!==a.allowDecimals;this.tickPositions=b=d&&d.slice();!b&&(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,c&&(c=c.apply(this,
[this.min,this.max])))&&(this.tickPositions=b=c);this.paddedTicks=b.slice(0);this.trimTicks(b,f,q);this.isLinked||(this.single&&(this.min-=.5,this.max+=.5),d||c||this.adjustTickAmount())},trimTicks:function(a,b,d){var g=a[0],c=a[a.length-1],f=this.minPointOffset||0;if(!this.isLinked){if(b)this.min=g;else for(;this.min-f>a[0];)a.shift();if(d)this.max=c;else for(;this.max+f<a[a.length-1];)a.pop();0===a.length&&l(g)&&a.push((c+g)/2)}},alignToOthers:function(){var a={},b,d=this.options;!1===this.chart.options.chart.alignTicks||
!1===d.alignTicks||this.isLog||c(this.chart[this.coll],function(g){var d=g.options,d=[g.horiz?d.left:d.top,d.width,d.height,d.pane].join();g.series.length&&(a[d]?b=!0:a[d]=1)});return b},getTickAmount:function(){var a=this.options,b=a.tickAmount,d=a.tickPixelInterval;!l(a.tickInterval)&&this.len<d&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2);!b&&this.alignToOthers()&&(b=Math.ceil(this.len/d)+1);4>b&&(this.finalTickAmt=b,b=5);this.tickAmount=b},adjustTickAmount:function(){var a=
this.tickInterval,b=this.tickPositions,d=this.tickAmount,c=this.finalTickAmt,f=b&&b.length;if(f<d){for(;b.length<d;)b.push(n(b[b.length-1]+a));this.transA*=(f-1)/(d-1);this.max=b[b.length-1]}else f>d&&(this.tickInterval*=2,this.setTickPositions());if(l(c)){for(a=d=b.length;a--;)(3===c&&1===a%2||2>=c&&0<a&&a<d-1)&&b.splice(a,1);this.finalTickAmt=void 0}},setScale:function(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;
c(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=!0});b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,
b,d,f,q){var g=this,e=g.chart;d=F(d,!0);c(g.series,function(a){delete a.kdTree});q=p(q,{min:a,max:b});H(g,"setExtremes",q,function(){g.userMin=a;g.userMax=b;g.eventArgs=q;d&&e.redraw(f)})},zoom:function(a,b){var g=this.dataMin,d=this.dataMax,c=this.options,f=Math.min(g,F(c.min,g)),c=Math.max(d,F(c.max,d));if(a!==this.min||b!==this.max)this.allowZoomOutside||(l(g)&&(a<f&&(a=f),a>c&&(a=c)),l(d)&&(b<f&&(b=f),b>c&&(b=c))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"});
return!0},setAxisSize:function(){var a=this.chart,b=this.options,d=b.offsets||[0,0,0,0],c=this.horiz,f=F(b.width,a.plotWidth-d[3]+d[1]),q=F(b.height,a.plotHeight-d[0]+d[2]),e=F(b.top,a.plotTop+d[0]),b=F(b.left,a.plotLeft+d[3]),d=/%$/;d.test(q)&&(q=Math.round(parseFloat(q)/100*a.plotHeight));d.test(e)&&(e=Math.round(parseFloat(e)/100*a.plotHeight+a.plotTop));this.left=b;this.top=e;this.width=f;this.height=q;this.bottom=a.chartHeight-q-e;this.right=a.chartWidth-f-b;this.len=Math.max(c?f:q,0);this.pos=
c?b:e},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?n(b(this.min)):this.min,max:a?n(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,g=this.lin2log,d=b?g(this.min):this.min,b=b?g(this.max):this.max;null===a?a=d:d>a?a=d:b<a&&(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=(F(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},
tickSize:function(a){var b=this.options,g=b[a+"Length"],d=F(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(d&&g)return"inside"===b[a+"Position"]&&(g=-g),[g,d]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var a=this.options.labels,b=this.horiz,d=this.tickInterval,f=d,q=this.len/(((this.categories?1:0)+this.max-this.min)/d),e,m=a.rotation,r=this.labelMetrics(),p,x=
Number.MAX_VALUE,v,h=function(a){a/=q||1;a=1<a?Math.ceil(a):1;return a*d};b?(v=!a.staggerLines&&!a.step&&(l(m)?[m]:q<F(a.autoRotationLimit,80)&&a.autoRotation))&&c(v,function(a){var b;if(a===m||a&&-90<=a&&90>=a)p=h(Math.abs(r.h/Math.sin(k*a))),b=p+Math.abs(a/360),b<x&&(x=b,e=a,f=p)}):a.step||(f=h(r.h));this.autoRotation=v;this.labelRotation=F(e,m);return f},getSlotWidth:function(){var a=this.chart,b=this.horiz,d=this.options.labels,c=Math.max(this.tickPositions.length-(this.categories?0:1),1),f=a.margin[3];
return b&&2>(d.step||0)&&!d.rotation&&(this.staggerLines||1)*this.len/c||!b&&(f&&f-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var a=this.chart,b=a.renderer,d=this.tickPositions,q=this.ticks,e=this.options.labels,m=this.horiz,r=this.getSlotWidth(),p=Math.max(1,Math.round(r-2*(e.padding||5))),x={},v=this.labelMetrics(),k=e.style&&e.style.textOverflow,h,l=0,A,n;f(e.rotation)||(x.rotation=e.rotation||0);c(d,function(a){(a=q[a])&&a.labelLength>l&&(l=a.labelLength)});this.maxLabelLength=
l;if(this.autoRotation)l>p&&l>v.h?x.rotation=this.labelRotation:this.labelRotation=0;else if(r&&(h={width:p+"px"},!k))for(h.textOverflow="clip",A=d.length;!m&&A--;)if(n=d[A],p=q[n].label)p.styles&&"ellipsis"===p.styles.textOverflow?p.css({textOverflow:"clip"}):q[n].labelLength>r&&p.css({width:r+"px"}),p.getBBox().height>this.len/d.length-(v.h-v.f)&&(p.specCss={textOverflow:"ellipsis"});x.rotation&&(h={width:(l>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+"px"},k||(h.textOverflow="ellipsis"));
if(this.labelAlign=e.align||this.autoLabelAlign(this.labelRotation))x.align=this.labelAlign;c(d,function(a){var b=(a=q[a])&&a.label;b&&(b.attr(x),h&&b.css(y(h,b.specCss)),delete b.specCss,a.rotation=x.rotation)});this.tickRotCorr=b.rotCorr(v.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},addTitle:function(a){var b=this.chart.renderer,d=this.horiz,g=this.opposite,c=this.options.title,f;this.axisTitle||((f=c.textAlign)||
(f=(d?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[c.align]),this.axisTitle=b.text(c.text,0,0,c.useHTML).attr({zIndex:7,rotation:c.rotation||0,align:f}).addClass("highcharts-axis-title").css(c.style).add(this.axisGroup),this.axisTitle.isNew=!0);this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new L(this,a)},getOffset:function(){var a=this,b=a.chart,d=b.renderer,f=a.options,q=a.tickPositions,
e=a.ticks,m=a.horiz,r=a.side,p=b.inverted?[1,0,3,2][r]:r,x,v,h=0,k,y=0,A=f.title,n=f.labels,G=0,J=b.axisOffset,b=b.clipOffset,t=[-1,1,1,-1][r],u,H=f.className,L=a.axisParent,K=this.tickSize("tick");x=a.hasData();a.showAxis=v=x||F(f.showEmpty,!0);a.staggerLines=a.horiz&&n.staggerLines;a.axisGroup||(a.gridGroup=d.g("grid").attr({zIndex:f.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(H||"")).add(L),a.axisGroup=d.g("axis").attr({zIndex:f.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+
" "+(H||"")).add(L),a.labelGroup=d.g("axis-labels").attr({zIndex:n.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(H||"")).add(L));if(x||a.isLinked)c(q,function(b,d){a.generateTick(b,d)}),a.renderUnsquish(),!1===n.reserveSpace||0!==r&&2!==r&&{1:"left",3:"right"}[r]!==a.labelAlign&&"center"!==a.labelAlign||c(q,function(a){G=Math.max(e[a].getLabelSize(),G)}),a.staggerLines&&(G*=a.staggerLines,a.labelOffset=G*(a.opposite?-1:1));else for(u in e)e[u].destroy(),delete e[u];A&&A.text&&
!1!==A.enabled&&(a.addTitle(v),v&&(h=a.axisTitle.getBBox()[m?"height":"width"],k=A.offset,y=l(k)?0:F(A.margin,m?5:10)));a.renderLine();a.offset=t*F(f.offset,J[r]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};d=0===r?-a.labelMetrics().h:2===r?a.tickRotCorr.y:0;y=Math.abs(G)+y;G&&(y=y-d+t*(m?F(n.y,a.tickRotCorr.y+8*t):n.x));a.axisTitleMargin=F(k,y);J[r]=Math.max(J[r],a.axisTitleMargin+h+t*a.offset,y,x&&q.length&&K?K[0]+t*a.offset:0);f=f.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2);b[p]=Math.max(b[p],
f)},getLinePath:function(a){var b=this.chart,d=this.opposite,g=this.offset,f=this.horiz,c=this.left+(d?this.width:0)+g,g=b.chartHeight-this.bottom-(d?this.height:0)+g;d&&(a*=-1);return b.renderer.crispLine(["M",f?this.left:c,f?g:this.top,"L",f?b.chartWidth-this.right:c,f?g:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,
zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,d=this.top,f=this.len,c=this.options.title,q=a?b:d,e=this.opposite,m=this.offset,r=c.x||0,p=c.y||0,x=this.chart.renderer.fontMetrics(c.style&&c.style.fontSize,this.axisTitle).f,f={low:q+(a?0:f),middle:q+f/2,high:q+(a?f:0)}[c.align],b=(a?d+this.height:b)+(a?1:-1)*(e?-1:1)*this.axisTitleMargin+(2===this.side?x:0);return{x:a?f+r:b+(e?this.width:0)+m+r,y:a?b+p-(e?this.height:0)+m:f+p}},renderMinorTick:function(a){var b=this.chart.hasRendered&&
v(this.oldMin),d=this.minorTicks;d[a]||(d[a]=new L(this,a,"minor"));b&&d[a].isNew&&d[a].render(null,!0);d[a].render(null,!1,1)},renderTick:function(a,b){var d=this.isLinked,g=this.ticks,f=this.chart.hasRendered&&v(this.oldMin);if(!d||a>=this.min&&a<=this.max)g[a]||(g[a]=new L(this,a)),f&&g[a].isNew&&g[a].render(b,!0,.1),g[a].render(b)},render:function(){var a=this,b=a.chart,d=a.options,f=a.isLog,e=a.lin2log,m=a.isLinked,r=a.tickPositions,p=a.axisTitle,x=a.ticks,v=a.minorTicks,h=a.alternateBands,k=
d.stackLabels,y=d.alternateGridColor,l=a.tickmarkOffset,A=a.axisLine,n=a.showAxis,G=z(b.renderer.globalAnimation),J,t;a.labelEdge.length=0;a.overlap=!1;c([x,v,h],function(a){for(var b in a)a[b].isActive=!1});if(a.hasData()||m)a.minorTickInterval&&!a.categories&&c(a.getMinorTickPositions(),function(b){a.renderMinorTick(b)}),r.length&&(c(r,function(b,d){a.renderTick(b,d)}),l&&(0===a.min||a.single)&&(x[-1]||(x[-1]=new L(a,-1,null,!0)),x[-1].render(-1))),y&&c(r,function(d,g){t=void 0!==r[g+1]?r[g+1]+
l:a.max-l;0===g%2&&d<a.max&&t<=a.max+(b.polar?-l:l)&&(h[d]||(h[d]=new q(a)),J=d+l,h[d].options={from:f?e(J):J,to:f?e(t):t,color:y},h[d].render(),h[d].isActive=!0)}),a._addedPlotLB||(c((d.plotLines||[]).concat(d.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0);c([x,v,h],function(a){var d,g,f=[],c=G.duration;for(d in a)a[d].isActive||(a[d].render(d,!1,0),a[d].isActive=!1,f.push(d));K(function(){for(g=f.length;g--;)a[f[g]]&&!a[f[g]].isActive&&(a[f[g]].destroy(),delete a[f[g]])},
a!==h&&b.hasRendered&&c?c:0)});A&&(A[A.isPlaced?"animate":"attr"]({d:this.getLinePath(A.strokeWidth())}),A.isPlaced=!0,A[n?"show":"hide"](!0));p&&n&&(p[p.isNew?"attr":"animate"](a.getTitlePosition()),p.isNew=!1);k&&k.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){this.visible&&(this.render(),c(this.plotLinesAndBands,function(a){a.render()}));c(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var b=this,
d=b.stacks,g,f=b.plotLinesAndBands,q;a||x(b);for(g in d)e(d[g]),d[g]=null;c([b.ticks,b.minorTicks,b.alternateBands],function(a){e(a)});if(f)for(a=f.length;a--;)f[a].destroy();c("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});for(q in b)b.hasOwnProperty(q)&&-1===r(q,b.keepProps)&&delete b[q]},drawCrosshair:function(a,b){var d,f=this.crosshair,g=F(f.snap,!0),c,q=this.cross;a||(a=this.cross&&this.cross.e);this.crosshair&&
!1!==(l(b)||!g)?(g?l(b)&&(c=this.isXAxis?b.plotX:this.len-b.plotY):c=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),l(c)&&(d=this.getPlotLinePath(b&&(this.isXAxis?b.x:F(b.stackY,b.y)),null,null,null,c)||null),l(d)?(b=this.categories&&!this.isRadial,q||(this.cross=q=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+f.className).attr({zIndex:F(f.zIndex,2)}).add(),q.attr({stroke:f.color||(b?h("#ccd6eb").setOpacity(.25).get():"#cccccc"),
"stroke-width":F(f.width,1)}),f.dashStyle&&q.attr({dashstyle:f.dashStyle})),q.show().attr({d:d}),b&&!f.width&&q.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}};p(a.Axis.prototype,u)})(I);(function(a){var B=a.Axis,z=a.Date,C=a.dateFormat,E=a.defaultOptions,u=a.defined,h=a.each,n=a.extend,t=a.getMagnitude,l=a.getTZOffset,k=a.normalizeTickInterval,e=a.pick,c=a.timeUnits;B.prototype.getTimeTicks=function(a,
k,b,m){var d=[],r={},p=E.global.useUTC,v,f=new z(k-Math.abs(l(k))),y=z.hcMakeTime,G=a.unitRange,t=a.count,q;if(u(k)){f[z.hcSetMilliseconds](G>=c.second?0:t*Math.floor(f.getMilliseconds()/t));if(G>=c.second)f[z.hcSetSeconds](G>=c.minute?0:t*Math.floor(f.getSeconds()/t));if(G>=c.minute)f[z.hcSetMinutes](G>=c.hour?0:t*Math.floor(f[z.hcGetMinutes]()/t));if(G>=c.hour)f[z.hcSetHours](G>=c.day?0:t*Math.floor(f[z.hcGetHours]()/t));if(G>=c.day)f[z.hcSetDate](G>=c.month?1:t*Math.floor(f[z.hcGetDate]()/t));
G>=c.month&&(f[z.hcSetMonth](G>=c.year?0:t*Math.floor(f[z.hcGetMonth]()/t)),v=f[z.hcGetFullYear]());if(G>=c.year)f[z.hcSetFullYear](v-v%t);if(G===c.week)f[z.hcSetDate](f[z.hcGetDate]()-f[z.hcGetDay]()+e(m,1));v=f[z.hcGetFullYear]();m=f[z.hcGetMonth]();var x=f[z.hcGetDate](),J=f[z.hcGetHours]();if(z.hcTimezoneOffset||z.hcGetTimezoneOffset)q=(!p||!!z.hcGetTimezoneOffset)&&(b-k>4*c.month||l(k)!==l(b)),f=f.getTime(),f=new z(f+l(f));p=f.getTime();for(k=1;p<b;)d.push(p),p=G===c.year?y(v+k*t,0):G===c.month?
y(v,m+k*t):!q||G!==c.day&&G!==c.week?q&&G===c.hour?y(v,m,x,J+k*t):p+G*t:y(v,m,x+k*t*(G===c.day?1:7)),k++;d.push(p);G<=c.hour&&1E4>d.length&&h(d,function(a){0===a%18E5&&"000000000"===C("%H%M%S%L",a)&&(r[a]="day")})}d.info=n(a,{higherRanks:r,totalRange:G*t});return d};B.prototype.normalizeTimeTickInterval=function(a,e){var b=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,
3,4,6]],["year",null]];e=b[b.length-1];var m=c[e[0]],d=e[1],r;for(r=0;r<b.length&&!(e=b[r],m=c[e[0]],d=e[1],b[r+1]&&a<=(m*d[d.length-1]+c[b[r+1][0]])/2);r++);m===c.year&&a<5*m&&(d=[1,2,5]);a=k(a/m,d,"year"===e[0]?Math.max(t(a/m),1):1);return{unitRange:m,count:a,unitName:e[0]}}})(I);(function(a){var B=a.Axis,z=a.getMagnitude,C=a.map,E=a.normalizeTickInterval,u=a.pick;B.prototype.getLogTickPositions=function(a,n,t,l){var k=this.options,e=this.len,c=this.lin2log,p=this.log2lin,h=[];l||(this._minorAutoInterval=
null);if(.5<=a)a=Math.round(a),h=this.getLinearTickPositions(a,n,t);else if(.08<=a)for(var e=Math.floor(n),b,m,d,r,A,k=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];e<t+1&&!A;e++)for(m=k.length,b=0;b<m&&!A;b++)d=p(c(e)*k[b]),d>n&&(!l||r<=t)&&void 0!==r&&h.push(r),r>t&&(A=!0),r=d;else n=c(n),t=c(t),a=k[l?"minorTickInterval":"tickInterval"],a=u("auto"===a?null:a,this._minorAutoInterval,k.tickPixelInterval/(l?5:1)*(t-n)/((l?e/this.tickPositions.length:e)||1)),a=E(a,null,z(a)),h=C(this.getLinearTickPositions(a,
n,t),p),l||(this._minorAutoInterval=a/5);l||(this.tickInterval=a);return h};B.prototype.log2lin=function(a){return Math.log(a)/Math.LN10};B.prototype.lin2log=function(a){return Math.pow(10,a)}})(I);(function(a){var B=a.dateFormat,z=a.each,C=a.extend,E=a.format,u=a.isNumber,h=a.map,n=a.merge,t=a.pick,l=a.splat,k=a.syncTimeout,e=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)};a.Tooltip.prototype={init:function(a,e){this.chart=a;this.options=e;this.crosshairs=[];this.now={x:0,y:0};
this.isHidden=!0;this.split=e.split&&!a.inverted;this.shared=e.shared||this.split},cleanSplit:function(a){z(this.chart.series,function(c){var e=c&&c.tt;e&&(!e.isActive||a?c.tt=e.destroy():e.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,e=this.options;this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),
this.label.attr({zIndex:8}).add());return this.label},update:function(a){this.destroy();this.init(this.chart,n(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,e,k,b){var c=this,d=c.now,r=!1!==c.options.animation&&!c.isHidden&&(1<Math.abs(a-d.x)||1<Math.abs(e-d.y)),p=c.followPointer||1<c.len;C(d,{x:r?(2*
d.x+a)/3:a,y:r?(d.y+e)/2:e,anchorX:p?void 0:r?(2*d.anchorX+k)/3:k,anchorY:p?void 0:r?(d.anchorY+b)/2:b});c.getLabel().attr(d);r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){c&&c.move(a,e,k,b)},32))},hide:function(a){var c=this;clearTimeout(this.hideTimer);a=t(a,this.options.hideDelay,500);this.isHidden||(this.hideTimer=k(function(){c.getLabel()[a?"fadeOut":"hide"]();c.isHidden=!0},a))},getAnchor:function(a,e){var c,b=this.chart,m=b.inverted,d=b.plotTop,r=b.plotLeft,
p=0,v=0,f,k;a=l(a);c=a[0].tooltipPos;this.followPointer&&e&&(void 0===e.chartX&&(e=b.pointer.normalize(e)),c=[e.chartX-b.plotLeft,e.chartY-d]);c||(z(a,function(a){f=a.series.yAxis;k=a.series.xAxis;p+=a.plotX+(!m&&k?k.left-r:0);v+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!m&&f?f.top-d:0)}),p/=a.length,v/=a.length,c=[m?b.plotWidth-v:p,this.shared&&!m&&1<a.length&&e?e.chartY-d:m?b.plotHeight-p:v]);return h(c,Math.round)},getPosition:function(a,e,k){var b=this.chart,c=this.distance,d={},r=k.h||0,
p,v=["y",b.chartHeight,e,k.plotY+b.plotTop,b.plotTop,b.plotTop+b.plotHeight],f=["x",b.chartWidth,a,k.plotX+b.plotLeft,b.plotLeft,b.plotLeft+b.plotWidth],h=!this.followPointer&&t(k.ttBelow,!b.inverted===!!k.negative),l=function(a,b,f,g,q,e){var m=f<g-c,x=g+c+f<b,v=g-c-f;g+=c;if(h&&x)d[a]=g;else if(!h&&m)d[a]=v;else if(m)d[a]=Math.min(e-f,0>v-r?v:v-r);else if(x)d[a]=Math.max(q,g+r+f>b?g:g+r);else return!1},n=function(a,b,f,g){var q;g<c||g>b-c?q=!1:d[a]=g<f/2?1:g>b-f/2?b-f-2:g-f/2;return q},q=function(a){var b=
v;v=f;f=b;p=a},x=function(){!1!==l.apply(0,v)?!1!==n.apply(0,f)||p||(q(!0),x()):p?d.x=d.y=0:(q(!0),x())};(b.inverted||1<this.len)&&q();x();return d},defaultFormatter:function(a){var c=this.points||l(this),e;e=[a.tooltipFooterHeaderFormatter(c[0])];e=e.concat(a.bodyFormatter(c));e.push(a.tooltipFooterHeaderFormatter(c[0],!0));return e},refresh:function(a,e){var c,b=this.options,m,d=a,r,p={},v=[];c=b.formatter||this.defaultFormatter;var p=this.shared,f;clearTimeout(this.hideTimer);this.followPointer=
l(d)[0].series.tooltipOptions.followPointer;r=this.getAnchor(d,e);e=r[0];m=r[1];!p||d.series&&d.series.noSharedTooltip?p=d.getLabelConfig():(z(d,function(a){a.setState("hover");v.push(a.getLabelConfig())}),p={x:d[0].category,y:d[0].y},p.points=v,d=d[0]);this.len=v.length;p=c.call(p,this);f=d.series;this.distance=t(f.tooltipOptions.distance,16);!1===p?this.hide():(c=this.getLabel(),this.isHidden&&c.attr({opacity:1}).show(),this.split?this.renderSplit(p,a):(c.attr({text:p&&p.join?p.join(""):p}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+
t(d.colorIndex,f.colorIndex)),c.attr({stroke:b.borderColor||d.color||f.color||"#666666"}),this.updatePosition({plotX:e,plotY:m,negative:d.negative,ttBelow:d.ttBelow,h:r[2]||0})),this.isHidden=!1)},renderSplit:function(c,e){var p=this,b=[],m=this.chart,d=m.renderer,r=!0,k=this.options,v,f=this.getLabel();z(c.slice(0,e.length+1),function(a,c){c=e[c-1]||{isHeader:!0,plotX:e[0].plotX};var h=c.series||p,q=h.tt,x=c.series||{},l="highcharts-color-"+t(c.colorIndex,x.colorIndex,"none");q||(h.tt=q=d.label(null,
null,null,"callout").addClass("highcharts-tooltip-box "+l).attr({padding:k.padding,r:k.borderRadius,fill:k.backgroundColor,stroke:c.color||x.color||"#333333","stroke-width":k.borderWidth}).add(f));q.isActive=!0;q.attr({text:a});q.css(k.style);a=q.getBBox();x=a.width+q.strokeWidth();c.isHeader?(v=a.height,x=Math.max(0,Math.min(c.plotX+m.plotLeft-x/2,m.chartWidth-x))):x=c.plotX+m.plotLeft-t(k.distance,16)-x;0>x&&(r=!1);a=(c.series&&c.series.yAxis&&c.series.yAxis.pos)+(c.plotY||0);a-=m.plotTop;b.push({target:c.isHeader?
m.plotHeight+v:a,rank:c.isHeader?1:0,size:h.tt.getBBox().height+1,point:c,x:x,tt:q})});this.cleanSplit();a.distribute(b,m.plotHeight+v);z(b,function(a){var b=a.point,d=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:r||b.isHeader?a.x:b.plotX+m.plotLeft+t(k.distance,16),y:a.pos+m.plotTop,anchorX:b.isHeader?b.plotX+m.plotLeft:b.plotX+d.xAxis.pos,anchorY:b.isHeader?a.pos+m.plotTop-15:b.plotY+d.yAxis.pos})})},updatePosition:function(a){var c=this.chart,e=this.getLabel(),e=(this.options.positioner||
this.getPosition).call(this,e.width,e.height,a);this.move(Math.round(e.x),Math.round(e.y||0),a.plotX+c.plotLeft,a.plotY+c.plotTop)},getDateFormat:function(a,p,k,b){var c=B("%m-%d %H:%M:%S.%L",p),d,r,h={millisecond:15,second:12,minute:9,hour:6,day:3},v="millisecond";for(r in e){if(a===e.week&&+B("%w",p)===k&&"00:00:00.000"===c.substr(6)){r="week";break}if(e[r]>a){r=v;break}if(h[r]&&c.substr(h[r])!=="01-01 00:00:00.000".substr(h[r]))break;"week"!==r&&(v=r)}r&&(d=b[r]);return d},getXDateFormat:function(a,
e,k){e=e.dateTimeLabelFormats;var b=k&&k.closestPointRange;return(b?this.getDateFormat(b,a.x,k.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(a,e){var c=e?"footer":"header";e=a.series;var b=e.tooltipOptions,m=b.xDateFormat,d=e.xAxis,r=d&&"datetime"===d.options.type&&u(a.key),c=b[c+"Format"];r&&!m&&(m=this.getXDateFormat(a,b,d));r&&m&&(c=c.replace("{point.key}","{point.key:"+m+"}"));return E(c,{point:a,series:e})},bodyFormatter:function(a){return h(a,function(a){var c=
a.series.tooltipOptions;return(c.pointFormatter||a.point.tooltipFormatter).call(a.point,c.pointFormat)})}}})(I);(function(a){var B=a.addEvent,z=a.attr,C=a.charts,E=a.color,u=a.css,h=a.defined,n=a.doc,t=a.each,l=a.extend,k=a.fireEvent,e=a.offset,c=a.pick,p=a.removeEvent,H=a.splat,b=a.Tooltip,m=a.win;a.Pointer=function(a,b){this.init(a,b)};a.Pointer.prototype={init:function(a,e){this.options=e;this.chart=a;this.runChartClick=e.chart.events&&!!e.chart.events.click;this.pinchDown=[];this.lastValidTouch=
{};b&&e.tooltip.enabled&&(a.tooltip=new b(a,e.tooltip),this.followTouchMove=c(e.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function(a){var b=this.chart,d=b.options.chart,e=d.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(e=c(d.pinchType,e));this.zoomX=a=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=a&&!b||e&&b;this.zoomVert=e&&!b||a&&b;this.hasZoom=a||e},normalize:function(a,b){var d,c;a=a||m.event;a.target||(a.target=a.srcElement);c=a.touches?a.touches.length?a.touches.item(0):
a.changedTouches[0]:a;b||(this.chartPosition=b=e(this.chart.container));void 0===c.pageX?(d=Math.max(a.x,a.clientX-b.left),b=a.y):(d=c.pageX-b.left,b=c.pageY-b.top);return l(a,{chartX:Math.round(d),chartY:Math.round(b)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};t(this.chart.axes,function(d){b[d.isXAxis?"xAxis":"yAxis"].push({axis:d,value:d.toValue(a[d.horiz?"chartX":"chartY"])})});return b},getKDPoints:function(a,b,e){var d=[],f,m,r;t(a,function(a){f=a.noSharedTooltip&&b;m=!b&&a.directTouch;
a.visible&&!f&&!m&&c(a.options.enableMouseTracking,!0)&&(r=a.searchPoint(e,!f&&1===a.kdDimensions))&&r.series&&d.push(r)});d.sort(function(a,d){var f=a.distX-d.distX,c=a.dist-d.dist,e=(d.series.group&&d.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);return 0!==f&&b?f:0!==c?c:0!==e?e:a.series.index>d.series.index?-1:1});if(b)for(a=d.length;a--;)(d[a].x!==d[0].x||d[a].series.noSharedTooltip)&&d.splice(a,1);return d},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=
a.parentNode;return b},getHoverData:function(a,b,e,m,f,k){var d=a;a=b;var r;if(m)f?(r=[],t(e,function(a){var b=a.noSharedTooltip&&f,e=!f&&a.directTouch;a.visible&&!b&&!e&&c(a.options.enableMouseTracking,!0)&&(a=a.searchKDTree({clientX:d.clientX,plotY:d.plotY},!b&&1===a.kdDimensions))&&a.series&&r.push(a)}),0===r.length&&(r=[d])):r=[d];else{if(a&&!a.options.stickyTracking)r=this.getKDPoints([a],f,k);else{if(!f)if(a)a.options.stickyTracking||(e=[a]);else for(m=0;m<e.length;m++)if(e[m].directTouch||
!e[m].options.stickyTracking)e=[];r=this.getKDPoints(e,f,k)}a=(d=r[0])&&d.series}r.sort(function(a,b){return a.series.index-b.series.index});return{hoverPoint:d,hoverSeries:a,hoverPoints:r}},runPointActions:function(b,c){var d=this.chart,e=d.tooltip,f=e?e.shared:!1,m=c||d.hoverPoint,r=m&&m.series||d.hoverSeries;c=this.getHoverData(m,r,d.series,!!c||r&&r.directTouch,f,b);var k,q,m=c.hoverPoint;k=(r=c.hoverSeries)&&r.tooltipOptions.followPointer;q=(f=f&&m&&!m.series.noSharedTooltip)?c.hoverPoints:[m];
if(m&&(m!==d.hoverPoint||e&&e.isHidden)){t(d.hoverPoints||[],function(b){-1===a.inArray(b,q)&&b.setState()});t(q||[],function(a){a.setState("hover")});if(d.hoverSeries!==r)r.onMouseOver();r&&!r.directTouch&&(d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),m.firePointEvent("mouseOver"));d.hoverPoints=q;d.hoverPoint=m;e&&e.refresh(f?q:m,b)}else k&&e&&!e.isHidden&&(m=e.getAnchor([{}],b),e.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(n,"mousemove",function(b){var d=
C[a.hoverChartIndex];if(d)d.pointer.onDocumentMouseMove(b)}));t(q,function(a){t(d.axes,function(d){(!a||a.series&&a.series[d.coll]===d)&&d.drawCrosshair(b,a)})})},reset:function(a,b){var d=this.chart,c=d.hoverSeries,f=d.hoverPoint,e=d.hoverPoints,m=d.tooltip,r=m&&m.shared?e:f;a&&r&&t(H(r),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)});if(a)m&&r&&(m.refresh(r),f&&(f.setState(f.state,!0),t(d.axes,function(a){a.crosshair&&a.drawCrosshair(null,f)})));else{if(f)f.onMouseOut();e&&t(e,function(a){a.setState()});
if(c)c.onMouseOut();m&&m.hide(b);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());t(d.axes,function(a){a.hideCrosshair()});this.hoverX=d.hoverPoints=d.hoverPoint=null}},scaleGroups:function(a,b){var d=this.chart,c;t(d.series,function(f){c=a||f.getPlotBox();f.xAxis&&f.xAxis.zoomEnabled&&f.group&&(f.group.attr(c),f.markerGroup&&(f.markerGroup.attr(c),f.markerGroup.clip(b?d.clipRect:null)),f.dataLabelsGroup&&f.dataLabelsGroup.attr(c))});d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=
this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,d=b.options.chart,c=a.chartX,f=a.chartY,e=this.zoomHor,m=this.zoomVert,k=b.plotLeft,q=b.plotTop,x=b.plotWidth,p=b.plotHeight,h,l=this.selectionMarker,g=this.mouseDownX,n=this.mouseDownY,t=d.panKey&&a[d.panKey+"Key"];l&&l.touch||(c<k?c=k:c>k+x&&(c=k+x),f<q?f=q:f>q+p&&(f=q+p),this.hasDragged=Math.sqrt(Math.pow(g-c,2)+Math.pow(n-f,2)),10<this.hasDragged&&
(h=b.isInsidePlot(g-k,n-q),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!t&&!l&&(this.selectionMarker=l=b.renderer.rect(k,q,e?1:x,m?1:p,0).attr({fill:d.selectionMarkerFill||E("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),l&&e&&(c-=g,l.attr({width:Math.abs(c),x:(0<c?0:c)+g})),l&&m&&(c=f-n,l.attr({height:Math.abs(c),y:(0<c?0:c)+n})),h&&!l&&d.panning&&b.pan(a,d.panning)))},drop:function(a){var b=this,d=this.chart,c=this.hasPinched;if(this.selectionMarker){var f=
{originalEvent:a,xAxis:[],yAxis:[]},e=this.selectionMarker,m=e.attr?e.attr("x"):e.x,p=e.attr?e.attr("y"):e.y,q=e.attr?e.attr("width"):e.width,x=e.attr?e.attr("height"):e.height,n;if(this.hasDragged||c)t(d.axes,function(d){if(d.zoomEnabled&&h(d.min)&&(c||b[{xAxis:"zoomX",yAxis:"zoomY"}[d.coll]])){var e=d.horiz,g="touchend"===a.type?d.minPixelPadding:0,r=d.toValue((e?m:p)+g),e=d.toValue((e?m+q:p+x)-g);f[d.coll].push({axis:d,min:Math.min(r,e),max:Math.max(r,e)});n=!0}}),n&&k(d,"selection",f,function(a){d.zoom(l(a,
c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups()}d&&(u(d.container,{cursor:d._cursor}),d.cancelClick=10<this.hasDragged,d.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);this.zoomOption(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(b){C[a.hoverChartIndex]&&C[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,
d=this.chartPosition;a=this.normalize(a,d);!d||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var d=C[a.hoverChartIndex];d&&(b.relatedTarget||b.toElement)&&(d.pointer.reset(),d.pointer.chartPosition=null)},onContainerMouseMove:function(b){var d=this.chart;h(a.hoverChartIndex)&&C[a.hoverChartIndex]&&C[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=d.index);b=this.normalize(b);b.returnValue=!1;
"mousedown"===d.mouseIsDown&&this.drag(b);!this.inClass(b.target,"highcharts-tracker")&&!d.isInsidePlot(b.chartX-d.plotLeft,b.chartY-d.plotTop)||d.openMenu||this.runPointActions(b)},inClass:function(a,b){for(var d;a;){if(d=z(a,"class")){if(-1!==d.indexOf(b))return!0;if(-1!==d.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement;if(!(!b||!a||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||
this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")))b.onMouseOut()},onContainerClick:function(a){var b=this.chart,d=b.hoverPoint,c=b.plotLeft,f=b.plotTop;a=this.normalize(a);b.cancelClick||(d&&this.inClass(a.target,"highcharts-tracker")?(k(d.series,"click",l(a,{point:d})),b.hoverPoint&&d.firePointEvent("click",a)):(l(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-c,a.chartY-f)&&k(b,"click",a)))},setDOMEvents:function(){var b=this,c=b.chart.container;c.onmousedown=
function(a){b.onContainerMouseDown(a)};c.onmousemove=function(a){b.onContainerMouseMove(a)};c.onclick=function(a){b.onContainerClick(a)};B(c,"mouseleave",b.onContainerMouseLeave);1===a.chartCount&&B(n,"mouseup",b.onDocumentMouseUp);a.hasTouch&&(c.ontouchstart=function(a){b.onContainerTouchStart(a)},c.ontouchmove=function(a){b.onContainerTouchMove(a)},1===a.chartCount&&B(n,"touchend",b.onDocumentTouchEnd))},destroy:function(){var b;p(this.chart.container,"mouseleave",this.onContainerMouseLeave);a.chartCount||
(p(n,"mouseup",this.onDocumentMouseUp),p(n,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(b in this)this[b]=null}}})(I);(function(a){var B=a.charts,z=a.each,C=a.extend,E=a.map,u=a.noop,h=a.pick;C(a.Pointer.prototype,{pinchTranslate:function(a,h,l,k,e,c){this.zoomHor&&this.pinchTranslateDirection(!0,a,h,l,k,e,c);this.zoomVert&&this.pinchTranslateDirection(!1,a,h,l,k,e,c)},pinchTranslateDirection:function(a,h,l,k,e,c,p,u){var b=this.chart,m=a?"x":"y",d=a?"X":"Y",r="chart"+
d,n=a?"width":"height",v=b["plot"+(a?"Left":"Top")],f,y,t=u||1,F=b.inverted,q=b.bounds[a?"h":"v"],x=1===h.length,J=h[0][r],K=l[0][r],L=!x&&h[1][r],g=!x&&l[1][r],D;l=function(){!x&&20<Math.abs(J-L)&&(t=u||Math.abs(K-g)/Math.abs(J-L));y=(v-K)/t+J;f=b["plot"+(a?"Width":"Height")]/t};l();h=y;h<q.min?(h=q.min,D=!0):h+f>q.max&&(h=q.max-f,D=!0);D?(K-=.8*(K-p[m][0]),x||(g-=.8*(g-p[m][1])),l()):p[m]=[K,g];F||(c[m]=y-v,c[n]=f);c=F?1/t:t;e[n]=f;e[m]=h;k[F?a?"scaleY":"scaleX":"scale"+d]=t;k["translate"+d]=c*
v+(K-c*J)},pinch:function(a){var n=this,l=n.chart,k=n.pinchDown,e=a.touches,c=e.length,p=n.lastValidTouch,H=n.hasZoom,b=n.selectionMarker,m={},d=1===c&&(n.inClass(a.target,"highcharts-tracker")&&l.runTrackerClick||n.runChartClick),r={};1<c&&(n.initiated=!0);H&&n.initiated&&!d&&a.preventDefault();E(e,function(a){return n.normalize(a)});"touchstart"===a.type?(z(e,function(a,b){k[b]={chartX:a.chartX,chartY:a.chartY}}),p.x=[k[0].chartX,k[1]&&k[1].chartX],p.y=[k[0].chartY,k[1]&&k[1].chartY],z(l.axes,function(a){if(a.zoomEnabled){var b=
l.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,c=a.toPixels(h(a.options.min,a.dataMin)),e=a.toPixels(h(a.options.max,a.dataMax)),m=Math.max(c,e);b.min=Math.min(a.pos,Math.min(c,e)-d);b.max=Math.max(a.pos+a.len,m+d)}}),n.res=!0):n.followTouchMove&&1===c?this.runPointActions(n.normalize(a)):k.length&&(b||(n.selectionMarker=b=C({destroy:u,touch:!0},l.plotBox)),n.pinchTranslate(k,e,m,b,r,p),n.hasPinched=H,n.scaleGroups(m,r),n.res&&(n.res=!1,this.reset(!1,0)))},touch:function(n,t){var l=this.chart,k,e;
if(l.index!==a.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});a.hoverChartIndex=l.index;1===n.touches.length?(n=this.normalize(n),(e=l.isInsidePlot(n.chartX-l.plotLeft,n.chartY-l.plotTop))&&!l.openMenu?(t&&this.runPointActions(n),"touchmove"===n.type&&(t=this.pinchDown,k=t[0]?4<=Math.sqrt(Math.pow(t[0].chartX-n.chartX,2)+Math.pow(t[0].chartY-n.chartY,2)):!1),h(k,!0)&&this.pinch(n)):t&&this.reset()):2===n.touches.length&&this.pinch(n)},onContainerTouchStart:function(a){this.zoomOption(a);
this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(h){B[a.hoverChartIndex]&&B[a.hoverChartIndex].pointer.drop(h)}})})(I);(function(a){var B=a.addEvent,z=a.charts,C=a.css,E=a.doc,u=a.extend,h=a.noop,n=a.Pointer,t=a.removeEvent,l=a.win,k=a.wrap;if(l.PointerEvent||l.MSPointerEvent){var e={},c=!!l.PointerEvent,p=function(){var a,c=[];c.item=function(a){return this[a]};for(a in e)e.hasOwnProperty(a)&&c.push({pageX:e[a].pageX,pageY:e[a].pageY,target:e[a].target});
return c},H=function(b,c,d,e){"touch"!==b.pointerType&&b.pointerType!==b.MSPOINTER_TYPE_TOUCH||!z[a.hoverChartIndex]||(e(b),e=z[a.hoverChartIndex].pointer,e[c]({type:d,target:b.currentTarget,preventDefault:h,touches:p()}))};u(n.prototype,{onContainerPointerDown:function(a){H(a,"onContainerTouchStart","touchstart",function(a){e[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){H(a,"onContainerTouchMove","touchmove",function(a){e[a.pointerId]={pageX:a.pageX,
pageY:a.pageY};e[a.pointerId].target||(e[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){H(a,"onDocumentTouchEnd","touchend",function(a){delete e[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,c?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,c?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(E,c?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});k(n.prototype,"init",function(a,c,d){a.call(this,c,d);this.hasZoom&&
C(c.container,{"-ms-touch-action":"none","touch-action":"none"})});k(n.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(B)});k(n.prototype,"destroy",function(a){this.batchMSEvents(t);a.call(this)})}})(I);(function(a){var B,z=a.addEvent,C=a.css,E=a.discardElement,u=a.defined,h=a.each,n=a.isFirefox,t=a.marginNames,l=a.merge,k=a.pick,e=a.setAnimation,c=a.stableSort,p=a.win,H=a.wrap;B=a.Legend=function(a,c){this.init(a,c)};B.prototype={init:function(a,
c){this.chart=a;this.setOptions(c);c.enabled&&(this.render(),z(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var b=k(a.padding,8);this.options=a;this.itemStyle=a.itemStyle;this.itemHiddenStyle=l(this.itemStyle,a.itemHiddenStyle);this.itemMarginTop=a.itemMarginTop||0;this.initialItemX=this.padding=b;this.initialItemY=b-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=k(a.symbolWidth,16);this.pages=[]},update:function(a,c){var b=this.chart;this.setOptions(l(!0,
this.options,a));this.destroy();b.isDirtyLegend=b.isDirtyBox=!0;k(c,!0)&&b.redraw()},colorizeItem:function(a,c){a.legendGroup[c?"removeClass":"addClass"]("highcharts-legend-item-hidden");var b=this.options,e=a.legendItem,m=a.legendLine,k=a.legendSymbol,f=this.itemHiddenStyle.color,b=c?b.itemStyle.color:f,p=c?a.color||f:f,h=a.options&&a.options.marker,l={fill:p},q;e&&e.css({fill:b,color:b});m&&m.attr({stroke:p});if(k){if(h&&k.isMarker&&(l=a.pointAttribs(),!c))for(q in l)l[q]=f;k.attr(l)}},positionItem:function(a){var b=
this.options,d=b.symbolPadding,b=!b.rtl,c=a._legendItemPos,e=c[0],c=c[1],k=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?e:this.legendWidth-e-2*d-4,c);k&&(k.x=e,k.y=c)},destroyItem:function(a){var b=a.checkbox;h(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&E(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}h(this.getAllItems(),function(b){h(["legendItem","legendGroup"],a,b)});h("clipRect up down pager nav box title group".split(" "),
a,this);this.display=null},positionCheckboxes:function(a){var b=this.group&&this.group.alignAttr,d,c=this.clipHeight||this.legendHeight,e=this.titleHeight;b&&(d=b.translateY,h(this.allItems,function(m){var f=m.checkbox,k;f&&(k=d+e+f.y+(a||0)+3,C(f,{left:b.translateX+m.checkboxOffset+f.x-20+"px",top:k+"px",display:k>d-6&&k<d+c-6?"":"none"}))}))},renderTitle:function(){var a=this.padding,c=this.options.title,d=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,a-3,a-4,null,null,null,
null,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)),a=this.title.getBBox(),d=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:d}));this.titleHeight=d},setText:function(b){var c=this.options;b.legendItem.attr({text:c.labelFormat?a.format(c.labelFormat,b):c.labelFormatter.call(b)})},renderItem:function(a){var b=this.chart,d=b.renderer,c=this.options,e="horizontal"===c.layout,p=this.symbolWidth,f=c.symbolPadding,h=this.itemStyle,n=this.itemHiddenStyle,t=this.padding,
q=e?k(c.itemDistance,20):0,x=!c.rtl,J=c.width,u=c.itemMarginBottom||0,L=this.itemMarginTop,g=this.initialItemX,D=a.legendItem,H=!a.series,z=!H&&a.series.drawLegendSymbol?a.series:a,B=z.options,B=this.createCheckboxForItem&&B&&B.showCheckbox,C=c.useHTML;D||(a.legendGroup=d.g("legend-item").addClass("highcharts-"+z.type+"-series highcharts-color-"+a.colorIndex+(a.options.className?" "+a.options.className:"")+(H?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=D=
d.text("",x?p+f:-f,this.baseline||0,C).css(l(a.visible?h:n)).attr({align:x?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(h=h.fontSize,this.fontMetrics=d.fontMetrics(h,D),this.baseline=this.fontMetrics.f+3+L,D.attr("y",this.baseline)),this.symbolHeight=c.symbolHeight||this.fontMetrics.f,z.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,D,C),B&&this.createCheckboxForItem(a));this.colorizeItem(a,a.visible);this.setText(a);d=D.getBBox();p=a.checkboxOffset=c.itemWidth||
a.legendItemWidth||p+f+d.width+q+(B?20:0);this.itemHeight=f=Math.round(a.legendItemHeight||d.height);e&&this.itemX-g+p>(J||b.chartWidth-2*t-g-c.x)&&(this.itemX=g,this.itemY+=L+this.lastLineHeight+u,this.lastLineHeight=0);this.maxItemWidth=Math.max(this.maxItemWidth,p);this.lastItemY=L+this.itemY+u;this.lastLineHeight=Math.max(f,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];e?this.itemX+=p:(this.itemY+=L+f+u,this.lastLineHeight=f);this.offsetWidth=J||Math.max((e?this.itemX-g-q:p)+t,
this.offsetWidth)},getAllItems:function(){var a=[];h(this.chart.series,function(b){var d=b&&b.options;b&&k(d.showInLegend,u(d.linkedTo)?!1:void 0,!0)&&(a=a.concat(b.legendItems||("point"===d.legendType?b.data:b)))});return a},adjustMargins:function(a,c){var b=this.chart,e=this.options,m=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);e.floating||h([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(d,f){d.test(m)&&!u(a[f])&&(b[t[f]]=Math.max(b[t[f]],b.legend[(f+1)%
2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*e[f%2?"x":"y"]+k(e.margin,12)+c[f]))})},render:function(){var a=this,e=a.chart,d=e.renderer,k=a.group,p,n,f,y,t=a.box,u=a.options,q=a.padding;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;k||(a.group=k=d.g("legend").attr({zIndex:7}).add(),a.contentGroup=d.g().attr({zIndex:1}).add(k),a.scrollGroup=d.g().add(a.contentGroup));a.renderTitle();p=a.getAllItems();c(p,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&
b.options.legendIndex||0)});u.reversed&&p.reverse();a.allItems=p;a.display=n=!!p.length;a.lastLineHeight=0;h(p,function(b){a.renderItem(b)});f=(u.width||a.offsetWidth)+q;y=a.lastItemY+a.lastLineHeight+a.titleHeight;y=a.handleOverflow(y);y+=q;t||(a.box=t=d.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(k),t.isNew=!0);t.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow);0<f&&0<y&&(t[t.isNew?"attr":"animate"](t.crisp({x:0,
y:0,width:f,height:y},t.strokeWidth())),t.isNew=!1);t[n?"show":"hide"]();a.legendWidth=f;a.legendHeight=y;h(p,function(b){a.positionItem(b)});n&&k.align(l(u,{width:f,height:y}),!0,"spacingBox");e.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,d=this.chart,c=d.renderer,e=this.options,p=e.y,d=d.spacingBox.height+("top"===e.verticalAlign?-p:p)-this.padding,p=e.maxHeight,f,l=this.clipRect,n=e.navigation,t=k(n.animation,!0),q=n.arrowSize||12,x=this.nav,u=this.pages,K=this.padding,
L,g=this.allItems,D=function(a){a?l.attr({height:a}):l&&(b.clipRect=l.destroy(),b.contentGroup.clip());b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+K+"px,9999px,"+(K+a)+"px,0)":"auto")};"horizontal"!==e.layout||"middle"===e.verticalAlign||e.floating||(d/=2);p&&(d=Math.min(d,p));u.length=0;a>d&&!1!==n.enabled?(this.clipHeight=f=Math.max(d-20-this.titleHeight-K,0),this.currentPage=k(this.currentPage,1),this.fullHeight=a,h(g,function(a,b){var d=a._legendItemPos[1];a=Math.round(a.legendItem.getBBox().height);
var c=u.length;if(!c||d-u[c-1]>f&&(L||d)!==u[c-1])u.push(L||d),c++;b===g.length-1&&d+a-u[c-1]>f&&u.push(d);d!==L&&(L=d)}),l||(l=b.clipRect=c.clipRect(0,K,9999,0),b.contentGroup.clip(l)),D(f),x||(this.nav=x=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,q,q).on("click",function(){b.scroll(-1,t)}).add(x),this.pager=c.text("",15,10).addClass("highcharts-legend-navigation").css(n.style).add(x),this.down=c.symbol("triangle-down",0,0,q,q).on("click",function(){b.scroll(1,t)}).add(x)),
b.scroll(0),a=d):x&&(D(),this.nav=x.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,c){var b=this.pages,m=b.length;a=this.currentPage+a;var k=this.clipHeight,p=this.options.navigation,f=this.pager,h=this.padding;a>m&&(a=m);0<a&&(void 0!==c&&e(c,this.chart),this.nav.attr({translateX:h,translateY:k+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),f.attr({text:a+
"/"+m}),this.down.attr({x:18+this.pager.getBBox().width,"class":a===m?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?p.inactiveColor:p.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===m?p.inactiveColor:p.activeColor}).css({cursor:a===m?"default":"pointer"}),c=-b[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=a,this.positionCheckboxes(c))}};a.LegendSymbolMixin={drawRectangle:function(a,c){var b=
a.symbolHeight,e=a.options.squareSymbol;c.legendSymbol=this.chart.renderer.rect(e?(a.symbolWidth-b)/2:0,a.baseline-b+1,e?b:a.symbolWidth,b,k(a.options.symbolRadius,b/2)).addClass("highcharts-point").attr({zIndex:3}).add(c.legendGroup)},drawLineMarker:function(a){var b=this.options,c=b.marker,e=a.symbolWidth,p=a.symbolHeight,h=p/2,f=this.chart.renderer,n=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);var t;t={"stroke-width":b.lineWidth||0};b.dashStyle&&(t.dashstyle=b.dashStyle);this.legendLine=
f.path(["M",0,a,"L",e,a]).addClass("highcharts-graph").attr(t).add(n);c&&!1!==c.enabled&&(b=Math.min(k(c.radius,h),h),0===this.symbol.indexOf("url")&&(c=l(c,{width:p,height:p}),b=0),this.legendSymbol=c=f.symbol(this.symbol,e/2-b,a-b,2*b,2*b,c).addClass("highcharts-point").add(n),c.isMarker=!0)}};(/Trident\/7\.0/.test(p.navigator.userAgent)||n)&&H(B.prototype,"positionItem",function(a,c){var b=this,e=function(){c._legendItemPos&&a.call(b,c)};e();setTimeout(e)})})(I);(function(a){var B=a.addEvent,z=
a.animate,C=a.animObject,E=a.attr,u=a.doc,h=a.Axis,n=a.createElement,t=a.defaultOptions,l=a.discardElement,k=a.charts,e=a.css,c=a.defined,p=a.each,H=a.extend,b=a.find,m=a.fireEvent,d=a.getStyle,r=a.grep,A=a.isNumber,v=a.isObject,f=a.isString,y=a.Legend,G=a.marginNames,F=a.merge,q=a.Pointer,x=a.pick,J=a.pInt,K=a.removeEvent,L=a.seriesTypes,g=a.splat,D=a.svg,S=a.syncTimeout,M=a.win,R=a.Renderer,N=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new N(a,b,c)};N.prototype=
{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);if(f(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1])},init:function(b,c){var d,f=b.series;b.series=null;d=F(t,b);d.series=b.series=f;this.userOptions=b;b=d.chart;f=b.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.callback=c;this.isResizing=0;this.options=d;this.axes=[];this.series=[];this.hasCartesianSeries=b.showAxes;var g;this.index=k.length;k.push(this);a.chartCount++;if(f)for(g in f)B(this,g,
f[g]);this.xAxis=[];this.yAxis=[];this.pointCount=this.colorCounter=this.symbolCounter=0;this.firstRender()},initSeries:function(b){var c=this.options.chart;(c=L[b.type||c.type||c.defaultSeriesType])||a.error(17,!0);c=new c;c.init(this,b);return c},orderSeries:function(a){var b=this.series;for(a=a||0;a<b.length;a++)b[a]&&(b[a].index=a,b[a].name=b[a].name||"Series "+(b[a].index+1))},isInsidePlot:function(a,b,c){var d=c?b:a;a=c?a:b;return 0<=d&&d<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(b){var c=
this.axes,d=this.series,f=this.pointer,g=this.legend,e=this.isDirtyLegend,q,k,h=this.hasCartesianSeries,x=this.isDirtyBox,l,w=this.renderer,r=w.isHidden(),n=[];this.setResponsive&&this.setResponsive(!1);a.setAnimation(b,this);r&&this.cloneRenderTo();this.layOutTitles();for(b=d.length;b--;)if(l=d[b],l.options.stacking&&(q=!0,l.isDirty)){k=!0;break}if(k)for(b=d.length;b--;)l=d[b],l.options.stacking&&(l.isDirty=!0);p(d,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),
e=!0);a.isDirtyData&&m(a,"updatedData")});e&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1);q&&this.getStacks();h&&p(c,function(a){a.updateNames();a.setScale()});this.getMargins();h&&(p(c,function(a){a.isDirty&&(x=!0)}),p(c,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,n.push(function(){m(a,"afterSetExtremes",H(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(x||q)&&a.redraw()}));x&&this.drawChartBox();m(this,"predraw");p(d,function(a){(x||a.isDirty)&&a.visible&&a.redraw();
a.isDirtyData=!1});f&&f.reset(!0);w.draw();m(this,"redraw");m(this,"render");r&&this.cloneRenderTo(!0);p(n,function(a){a.call()})},get:function(a){function c(b){return b.id===a||b.options&&b.options.id===a}var d,f=this.series,g;d=b(this.axes,c)||b(this.series,c);for(g=0;!d&&g<f.length;g++)d=b(f[g].points||[],c);return d},getAxes:function(){var a=this,b=this.options,c=b.xAxis=g(b.xAxis||{}),b=b.yAxis=g(b.yAxis||{});p(c,function(a,b){a.index=b;a.isX=!0});p(b,function(a,b){a.index=b});c=c.concat(b);
p(c,function(b){new h(a,b)})},getSelectedPoints:function(){var a=[];p(this.series,function(b){a=a.concat(r(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return r(this.series,function(a){return a.selected})},setTitle:function(a,b,c){var d=this,f=d.options,g;g=f.title=F({style:{color:"#333333",fontSize:f.isStock?"16px":"18px"}},f.title,a);f=f.subtitle=F({style:{color:"#666666"}},f.subtitle,b);p([["title",a,g],["subtitle",b,f]],function(a,b){var c=a[0],f=d[c],
g=a[1];a=a[2];f&&g&&(d[c]=f=f.destroy());a&&a.text&&!f&&(d[c]=d.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+c,zIndex:a.zIndex||4}).add(),d[c].update=function(a){d.setTitle(!b&&a,b&&a)},d[c].css(a.style))});d.layOutTitles(c)},layOutTitles:function(a){var b=0,c,d=this.renderer,f=this.spacingBox;p(["title","subtitle"],function(a){var c=this[a],g=this.options[a],e;c&&(e=g.style.fontSize,e=d.fontMetrics(e,c).b,c.css({width:(g.width||f.width+g.widthAdjust)+"px"}).align(H({y:b+
e+("title"===a?-3:2)},g),!1,"spacingBox"),g.floating||g.verticalAlign||(b=Math.ceil(b+c.getBBox().height)))},this);c=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&x(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var b=this.options.chart,f=b.width,b=b.height,g=this.renderToClone||this.renderTo;c(f)||(this.containerWidth=d(g,"width"));c(b)||(this.containerHeight=d(g,"height"));this.chartWidth=Math.max(0,f||this.containerWidth||600);
this.chartHeight=Math.max(0,a.relativeLength(b,this.chartWidth)||this.containerHeight||400)},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;if(a){if(b){for(;b.childNodes.length;)this.renderTo.appendChild(b.firstChild);l(b);delete this.renderToClone}}else c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),e(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block",
"important"),u.body.appendChild(b),c&&b.appendChild(c)},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var b,c=this.options,d=c.chart,g,e;b=this.renderTo;var q=a.uniqueKey(),m;b||(this.renderTo=b=d.renderTo);f(b)&&(this.renderTo=b=u.getElementById(b));b||a.error(13,!0);g=J(E(b,"data-highcharts-chart"));A(g)&&k[g]&&k[g].hasRendered&&k[g].destroy();E(b,"data-highcharts-chart",this.index);b.innerHTML="";d.skipClone||b.offsetWidth||this.cloneRenderTo();
this.getChartSize();g=this.chartWidth;e=this.chartHeight;m=H({position:"relative",overflow:"hidden",width:g+"px",height:e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},d.style);this.container=b=n("div",{id:q},m,this.renderToClone||b);this._cursor=b.style.cursor;this.renderer=new (a[d.renderer]||R)(b,g,e,null,d.forExport,c.exporting&&c.exporting.allowHTML);this.setClassName(d.className);this.renderer.setStyle(d.style);this.renderer.chartIndex=this.index},
getMargins:function(a){var b=this.spacing,d=this.margin,f=this.titleOffset;this.resetMargins();f&&!c(d[0])&&(this.plotTop=Math.max(this.plotTop,f+this.options.title.margin+b[0]));this.legend.display&&this.legend.adjustMargins(d,b);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],d=a.margin;a.hasCartesianSeries&&
p(a.axes,function(a){a.visible&&a.getOffset()});p(G,function(f,g){c(d[g])||(a[f]+=b[g])});a.setChartSize()},reflow:function(a){var b=this,f=b.options.chart,g=b.renderTo,e=c(f.width),q=f.width||d(g,"width"),f=f.height||d(g,"height"),g=a?a.target:M;if(!e&&!b.isPrinting&&q&&f&&(g===M||g===u)){if(q!==b.containerWidth||f!==b.containerHeight)clearTimeout(b.reflowTimeout),b.reflowTimeout=S(function(){b.container&&b.setSize(void 0,void 0,!1)},a?100:0);b.containerWidth=q;b.containerHeight=f}},initReflow:function(){var a=
this,b;b=B(M,"resize",function(b){a.reflow(b)});B(a,"destroy",b)},setSize:function(b,c,d){var f=this,g=f.renderer;f.isResizing+=1;a.setAnimation(d,f);f.oldChartHeight=f.chartHeight;f.oldChartWidth=f.chartWidth;void 0!==b&&(f.options.chart.width=b);void 0!==c&&(f.options.chart.height=c);f.getChartSize();b=g.globalAnimation;(b?z:e)(f.container,{width:f.chartWidth+"px",height:f.chartHeight+"px"},b);f.setChartSize(!0);g.setSize(f.chartWidth,f.chartHeight,d);p(f.axes,function(a){a.isDirty=!0;a.setScale()});
f.isDirtyLegend=!0;f.isDirtyBox=!0;f.layOutTitles();f.getMargins();f.redraw(d);f.oldChartHeight=null;m(f,"resize");S(function(){f&&m(f,"endResize",null,function(){--f.isResizing})},C(b).duration)},setChartSize:function(a){var b=this.inverted,c=this.renderer,d=this.chartWidth,f=this.chartHeight,g=this.options.chart,e=this.spacing,q=this.clipOffset,k,m,h,x;this.plotLeft=k=Math.round(this.plotLeft);this.plotTop=m=Math.round(this.plotTop);this.plotWidth=h=Math.max(0,Math.round(d-k-this.marginRight));
this.plotHeight=x=Math.max(0,Math.round(f-m-this.marginBottom));this.plotSizeX=b?x:h;this.plotSizeY=b?h:x;this.plotBorderWidth=g.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:e[3],y:e[0],width:d-e[3]-e[1],height:f-e[0]-e[2]};this.plotBox=c.plotBox={x:k,y:m,width:h,height:x};d=2*Math.floor(this.plotBorderWidth/2);b=Math.ceil(Math.max(d,q[3])/2);c=Math.ceil(Math.max(d,q[0])/2);this.clipBox={x:b,y:c,width:Math.floor(this.plotSizeX-Math.max(d,q[1])/2-b),height:Math.max(0,Math.floor(this.plotSizeY-
Math.max(d,q[2])/2-c))};a||p(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart;p(["margin","spacing"],function(c){var d=b[c],f=v(d)?d:[d,d,d,d];p(["Top","Right","Bottom","Left"],function(d,g){a[c][g]=x(b[c+d],f[g])})});p(G,function(b,c){a[b]=x(a.margin[c],a.spacing[c])});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,f=this.chartBackground,
g=this.plotBackground,e=this.plotBorder,q,k=this.plotBGImage,m=a.backgroundColor,p=a.plotBackgroundColor,h=a.plotBackgroundImage,x,l=this.plotLeft,r=this.plotTop,n=this.plotWidth,v=this.plotHeight,t=this.plotBox,y=this.clipRect,u=this.clipBox,J="animate";f||(this.chartBackground=f=b.rect().addClass("highcharts-background").add(),J="attr");q=a.borderWidth||0;x=q+(a.shadow?8:0);m={fill:m||"none"};if(q||f["stroke-width"])m.stroke=a.borderColor,m["stroke-width"]=q;f.attr(m).shadow(a.shadow);f[J]({x:x/
2,y:x/2,width:c-x-q%2,height:d-x-q%2,r:a.borderRadius});J="animate";g||(J="attr",this.plotBackground=g=b.rect().addClass("highcharts-plot-background").add());g[J](t);g.attr({fill:p||"none"}).shadow(a.plotShadow);h&&(k?k.animate(t):this.plotBGImage=b.image(h,l,r,n,v).add());y?y.animate({width:u.width,height:u.height}):this.clipRect=b.clipRect(u);J="animate";e||(J="attr",this.plotBorder=e=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());e.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||
0,fill:"none"});e[J](e.crisp({x:l,y:r,width:n,height:v},-e.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,c,d=a.options.series,f,g;p(["inverted","angular","polar"],function(e){c=L[b.type||b.defaultSeriesType];g=b[e]||c&&c.prototype[e];for(f=d&&d.length;!g&&f--;)(c=L[d[f].type])&&c.prototype[e]&&(g=!0);a[e]=g})},linkSeries:function(){var a=this,b=a.series;p(b,function(a){a.linkedSeries.length=0});p(b,function(b){var c=b.options.linkedTo;f(c)&&(c=":previous"===
c?a.series[b.index-1]:a.get(c))&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=x(b.options.visible,c.options.visible,b.visible))})},renderSeries:function(){p(this.series,function(a){a.translate();a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&p(b.items,function(c){var d=H(b.style,c.style),f=J(d.left)+a.plotLeft,g=J(d.top)+a.plotTop+12;delete d.left;delete d.top;a.renderer.text(c.html,f,g).attr({zIndex:2}).css(d).add()})},render:function(){var a=
this.axes,b=this.renderer,c=this.options,d,f,g;this.setTitle();this.legend=new y(this,c.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();c=this.plotWidth;d=this.plotHeight-=21;p(a,function(a){a.setScale()});this.getAxisMargins();f=1.1<c/this.plotWidth;g=1.05<d/this.plotHeight;if(f||g)p(a,function(a){(a.horiz&&f||!a.horiz&&g)&&a.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&p(a,function(a){a.visible&&a.render()});this.seriesGroup||
(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function(a){var b=this;a=F(!0,this.options.credits,a);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(M.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),
this.credits.update=function(a){b.credits=b.credits.destroy();b.addCredits(a)})},destroy:function(){var b=this,c=b.axes,d=b.series,f=b.container,g,e=f&&f.parentNode;m(b,"destroy");k[b.index]=void 0;a.chartCount--;b.renderTo.removeAttribute("data-highcharts-chart");K(b);for(g=c.length;g--;)c[g]=c[g].destroy();this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(g=d.length;g--;)d[g]=d[g].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),
function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())});f&&(f.innerHTML="",K(f),e&&l(f));for(g in b)delete b[g]},isReadyToRender:function(){var a=this;return D||M!=M.top||"complete"===u.readyState?!0:(u.attachEvent("onreadystatechange",function(){u.detachEvent("onreadystatechange",a.firstRender);"complete"===u.readyState&&a.firstRender()}),!1)},firstRender:function(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();m(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();
a.getAxes();p(b.series||[],function(b){a.initSeries(b)});a.linkSeries();m(a,"beforeRender");q&&(a.pointer=new q(a,b));a.render();if(!a.renderer.imgCount&&a.onload)a.onload();a.cloneRenderTo(!0)}},onload:function(){p([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this);m(this,"load");m(this,"render");c(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}}})(I);(function(a){var B,z=a.each,C=a.extend,E=a.erase,u=a.fireEvent,
h=a.format,n=a.isArray,t=a.isNumber,l=a.pick,k=a.removeEvent;B=a.Point=function(){};B.prototype={init:function(a,c,k){this.series=a;this.color=a.color;this.applyOptions(c,k);a.options.colorByPoint?(c=a.options.colors||a.chart.options.colors,this.color=this.color||c[a.colorCounter],c=c.length,k=a.colorCounter,a.colorCounter++,a.colorCounter===c&&(a.colorCounter=0)):k=a.colorIndex;this.colorIndex=l(this.colorIndex,k);a.chart.pointCount++;return this},applyOptions:function(a,c){var e=this.series,k=e.options.pointValKey||
e.pointValKey;a=B.prototype.optionsToObject.call(this,a);C(this,a);this.options=this.options?C(this.options,a):a;a.group&&delete this.group;k&&(this.y=this[k]);this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!t(this.y,!0));this.selected&&(this.state="select");"name"in this&&void 0===c&&e.xAxis&&e.xAxis.hasNames&&(this.x=e.xAxis.nameToX(this));void 0===this.x&&e&&(this.x=void 0===c?e.autoIncrement(this):c);return this},optionsToObject:function(a){var c={},e=this.series,k=e.options.keys,
b=k||e.pointArrayMap||["y"],m=b.length,d=0,h=0;if(t(a)||null===a)c[b[0]]=a;else if(n(a))for(!k&&a.length>m&&(e=typeof a[0],"string"===e?c.name=a[0]:"number"===e&&(c.x=a[0]),d++);h<m;)k&&void 0===a[d]||(c[b[h]]=a[d]),d++,h++;else"object"===typeof a&&(c=a,a.dataLabels&&(e._hasPointLabels=!0),a.marker&&(e._hasPointMarkers=!0));return c},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":
"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var a=this.series,c=a.zones,a=a.zoneAxis||"y",k=0,h;for(h=c[k];this[a]>=h.value;)h=c[++k];h&&h.color&&!this.options.color&&(this.color=h.color);return h},destroy:function(){var a=this.series.chart,c=a.hoverPoints,h;a.pointCount--;c&&(this.setState(),E(c,this),c.length||
(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)k(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(h in this)this[h]=null},destroyElements:function(){for(var a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],c,k=6;k--;)c=a[k],this[c]&&(this[c]=this[c].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,
point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var c=this.series,e=c.tooltipOptions,k=l(e.valueDecimals,""),b=e.valuePrefix||"",m=e.valueSuffix||"";z(c.pointArrayMap||["y"],function(c){c="{point."+c;if(b||m)a=a.replace(c+"}",b+c+"}"+m);a=a.replace(c+"}",c+":,."+k+"f}")});return h(a,{point:this,series:this.series})},firePointEvent:function(a,c,k){var e=this,b=this.series.options;(b.point.events[a]||e.options&&e.options.events&&e.options.events[a])&&
this.importEvents();"click"===a&&b.allowPointSelect&&(k=function(a){e.select&&e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});u(this,a,c,k)},visible:!0}})(I);(function(a){var B=a.addEvent,z=a.animObject,C=a.arrayMax,E=a.arrayMin,u=a.correctFloat,h=a.Date,n=a.defaultOptions,t=a.defaultPlotOptions,l=a.defined,k=a.each,e=a.erase,c=a.extend,p=a.fireEvent,H=a.grep,b=a.isArray,m=a.isNumber,d=a.isString,r=a.merge,A=a.pick,v=a.removeEvent,f=a.splat,y=a.SVGElement,G=a.syncTimeout,F=a.win;a.Series=a.seriesType("line",
null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",
x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,b){var d=this,f,e,g=a.series,q;d.chart=a;d.options=b=d.setOptions(b);d.linkedSeries=[];d.bindAxes();c(d,{name:b.name,
state:"",visible:!1!==b.visible,selected:!0===b.selected});e=b.events;for(f in e)B(d,f,e[f]);if(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;d.getColor();d.getSymbol();k(d.parallelArrays,function(a){d[a+"Data"]=[]});d.setData(b.data,!1);d.isCartesian&&(a.hasCartesianSeries=!0);g.length&&(q=g[g.length-1]);d._i=A(q&&q._i,-1)+1;a.orderSeries(this.insert(g))},insert:function(a){var b=this.options.index,c;if(m(b)){for(c=a.length;c--;)if(b>=A(a[c].options.index,
a[c]._i)){a.splice(c+1,0,this);break}-1===c&&a.unshift(this);c+=1}else a.push(this);return A(c,a.length-1)},bindAxes:function(){var b=this,c=b.options,d=b.chart,f;k(b.axisTypes||[],function(e){k(d[e],function(a){f=a.options;if(c[e]===f.index||void 0!==c[e]&&c[e]===f.id||void 0===c[e]&&0===f.index)b.insert(a.series),b[e]=a,a.isDirty=!0});b[e]||b.optionalAxis===e||a.error(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments,f=m(b)?function(d){var f="y"===d&&c.toYData?c.toYData(a):
a[d];c[d+"Data"][b]=f}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))};k(c.parallelArrays,f)},autoIncrement:function(){var a=this.options,b=this.xIncrement,c,d=a.pointIntervalUnit,b=A(b,a.pointStart,0);this.pointInterval=c=A(this.pointInterval,a.pointInterval,1);d&&(a=new h(b),"day"===d?a=+a[h.hcSetDate](a[h.hcGetDate]()+c):"month"===d?a=+a[h.hcSetMonth](a[h.hcGetMonth]()+c):"year"===d&&(a=+a[h.hcSetFullYear](a[h.hcGetFullYear]()+c)),c=a-b);this.xIncrement=b+c;return b},
setOptions:function(a){var b=this.chart,c=b.options.plotOptions,b=b.userOptions||{},d=b.plotOptions||{},f=c[this.type];this.userOptions=a;c=r(f,c.series,a);this.tooltipOptions=r(n.tooltip,n.plotOptions[this.type].tooltip,b.tooltip,d.series&&d.series.tooltip,d[this.type]&&d[this.type].tooltip,a.tooltip);null===f.marker&&delete c.marker;this.zoneAxis=c.zoneAxis;a=this.zones=(c.zones||[]).slice();!c.negativeColor&&!c.negativeFillColor||c.zones||a.push({value:c[this.zoneAxis+"Threshold"]||c.threshold||
0,className:"highcharts-negative",color:c.negativeColor,fillColor:c.negativeFillColor});a.length&&l(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor});return c},getCyclic:function(a,b,c){var d,f=this.chart,g=this.userOptions,e=a+"Index",q=a+"Counter",k=c?c.length:A(f.options.chart[a+"Count"],f[a+"Count"]);b||(d=A(g[e],g["_"+e]),l(d)||(f.series.length||(f[q]=0),g["_"+e]=d=f[q]%k,f[q]+=1),c&&(b=c[d]));void 0!==d&&(this[e]=d);this[a]=b},getColor:function(){this.options.colorByPoint?
this.options.color=null:this.getCyclic("color",this.options.color||t[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function(c,f,e,h){var q=this,g=q.points,p=g&&g.length||0,l,x=q.options,r=q.chart,n=null,v=q.xAxis,t=x.turboThreshold,y=this.xData,u=this.yData,G=(l=q.pointArrayMap)&&l.length;c=c||[];l=c.length;f=A(f,!0);if(!1!==h&&l&&p===l&&!q.cropped&&
!q.hasGroupedData&&q.visible)k(c,function(a,b){g[b].update&&a!==x.data[b]&&g[b].update(a,!1,null,!1)});else{q.xIncrement=null;q.colorCounter=0;k(this.parallelArrays,function(a){q[a+"Data"].length=0});if(t&&l>t){for(e=0;null===n&&e<l;)n=c[e],e++;if(m(n))for(e=0;e<l;e++)y[e]=this.autoIncrement(),u[e]=c[e];else if(b(n))if(G)for(e=0;e<l;e++)n=c[e],y[e]=n[0],u[e]=n.slice(1,G+1);else for(e=0;e<l;e++)n=c[e],y[e]=n[0],u[e]=n[1];else a.error(12)}else for(e=0;e<l;e++)void 0!==c[e]&&(n={series:q},q.pointClass.prototype.applyOptions.apply(n,
[c[e]]),q.updateParallelArrays(n,e));d(u[0])&&a.error(14,!0);q.data=[];q.options.data=q.userOptions.data=c;for(e=p;e--;)g[e]&&g[e].destroy&&g[e].destroy();v&&(v.minRange=v.userMinRange);q.isDirty=r.isDirtyBox=!0;q.isDirtyData=!!g;e=!1}"point"===x.legendType&&(this.processData(),this.generatePoints());f&&r.redraw(e)},processData:function(b){var c=this.xData,d=this.yData,f=c.length,e;e=0;var g,q,k=this.xAxis,m,h=this.options;m=h.cropThreshold;var l=this.getExtremesFromAll||h.getExtremesFromAll,p=this.isCartesian,
h=k&&k.val2lin,n=k&&k.isLog,r,v;if(p&&!this.isDirty&&!k.isDirty&&!this.yAxis.isDirty&&!b)return!1;k&&(b=k.getExtremes(),r=b.min,v=b.max);if(p&&this.sorted&&!l&&(!m||f>m||this.forceCrop))if(c[f-1]<r||c[0]>v)c=[],d=[];else if(c[0]<r||c[f-1]>v)e=this.cropData(this.xData,this.yData,r,v),c=e.xData,d=e.yData,e=e.start,g=!0;for(m=c.length||1;--m;)f=n?h(c[m])-h(c[m-1]):c[m]-c[m-1],0<f&&(void 0===q||f<q)?q=f:0>f&&this.requireSorting&&a.error(15);this.cropped=g;this.cropStart=e;this.processedXData=c;this.processedYData=
d;this.closestPointRange=q},cropData:function(a,b,c,d){var f=a.length,g=0,e=f,q=A(this.cropShoulder,1),k;for(k=0;k<f;k++)if(a[k]>=c){g=Math.max(0,k-q);break}for(c=k;c<f;c++)if(a[c]>d){e=c+q;break}return{xData:a.slice(g,e),yData:b.slice(g,e),start:g,end:e}},generatePoints:function(){var a=this.options.data,b=this.data,c,d=this.processedXData,e=this.processedYData,g=this.pointClass,k=d.length,m=this.cropStart||0,h,l=this.hasGroupedData,p,n=[],r;b||l||(b=[],b.length=a.length,b=this.data=b);for(r=0;r<
k;r++)h=m+r,l?(p=(new g).init(this,[d[r]].concat(f(e[r]))),p.dataGroup=this.groupMap[r]):(p=b[h])||void 0===a[h]||(b[h]=p=(new g).init(this,a[h],d[r])),p.index=h,n[r]=p;if(b&&(k!==(c=b.length)||l))for(r=0;r<c;r++)r!==m||l||(r+=k),b[r]&&(b[r].destroyElements(),b[r].plotX=void 0);this.data=b;this.points=n},getExtremes:function(a){var c=this.yAxis,d=this.processedXData,f,e=[],g=0;f=this.xAxis.getExtremes();var q=f.min,k=f.max,h,l,p,r;a=a||this.stackedYData||this.processedYData||[];f=a.length;for(r=0;r<
f;r++)if(l=d[r],p=a[r],h=(m(p,!0)||b(p))&&(!c.positiveValuesOnly||p.length||0<p),l=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[r+1]||l)>=q&&(d[r-1]||l)<=k,h&&l)if(h=p.length)for(;h--;)null!==p[h]&&(e[g++]=p[h]);else e[g++]=p;this.dataMin=E(e);this.dataMax=C(e)},translate:function(){this.processedXData||this.processData();this.generatePoints();var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,f=this.yAxis,e=this.points,k=e.length,h=!!this.modifyValue,p=a.pointPlacement,
r="between"===p||m(p),n=a.threshold,v=a.startFromThreshold?n:0,t,y,G,F,H=Number.MAX_VALUE;"between"===p&&(p=.5);m(p)&&(p*=A(a.pointRange||c.pointRange));for(a=0;a<k;a++){var z=e[a],B=z.x,C=z.y;y=z.low;var E=b&&f.stacks[(this.negStacks&&C<(v?0:n)?"-":"")+this.stackKey],I;f.positiveValuesOnly&&null!==C&&0>=C&&(z.isNull=!0);z.plotX=t=u(Math.min(Math.max(-1E5,c.translate(B,0,0,0,1,p,"flags"===this.type)),1E5));b&&this.visible&&!z.isNull&&E&&E[B]&&(F=this.getStackIndicator(F,B,this.index),I=E[B],C=I.points[F.key],
y=C[0],C=C[1],y===v&&F.key===E[B].base&&(y=A(n,f.min)),f.positiveValuesOnly&&0>=y&&(y=null),z.total=z.stackTotal=I.total,z.percentage=I.total&&z.y/I.total*100,z.stackY=C,I.setOffset(this.pointXOffset||0,this.barW||0));z.yBottom=l(y)?f.translate(y,0,1,0,1):null;h&&(C=this.modifyValue(C,z));z.plotY=y="number"===typeof C&&Infinity!==C?Math.min(Math.max(-1E5,f.translate(C,0,1,0,1)),1E5):void 0;z.isInside=void 0!==y&&0<=y&&y<=f.len&&0<=t&&t<=c.len;z.clientX=r?u(c.translate(B,0,0,0,1,p)):t;z.negative=z.y<
(n||0);z.category=d&&void 0!==d[z.x]?d[z.x]:z.x;z.isNull||(void 0!==G&&(H=Math.min(H,Math.abs(t-G))),G=t);z.zone=this.zones.length&&z.getZone()}this.closestPointRangePx=H},getValidPoints:function(a,b){var c=this.chart;return H(a||this.points||[],function(a){return b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted)?!1:!a.isNull})},setClip:function(a){var b=this.chart,c=this.options,d=b.renderer,f=b.inverted,e=this.clipBox,q=e||b.clipBox,k=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,q.height,
c.xAxis,c.yAxis].join(),m=b[k],h=b[k+"m"];m||(a&&(q.width=0,b[k+"m"]=h=d.clipRect(-99,f?-b.plotLeft:-b.plotTop,99,f?b.chartWidth:b.chartHeight)),b[k]=m=d.clipRect(q),m.count={length:0});a&&!m.count[this.index]&&(m.count[this.index]=!0,m.count.length+=1);!1!==c.clip&&(this.group.clip(a||e?m:b.clipRect),this.markerGroup.clip(h),this.sharedClipKey=k);a||(m.count[this.index]&&(delete m.count[this.index],--m.count.length),0===m.count.length&&k&&b[k]&&(e||(b[k]=b[k].destroy()),b[k+"m"]&&(this.markerGroup.clip(),
b[k+"m"]=b[k+"m"].destroy())))},animate:function(a){var b=this.chart,c=z(this.options.animation),d;a?this.setClip(c):(d=this.sharedClipKey,(a=b[d])&&a.animate({width:b.plotSizeX},c),b[d+"m"]&&b[d+"m"].animate({width:b.plotSizeX+99},c),this.animate=null)},afterAnimate:function(){this.setClip();p(this,"afterAnimate")},drawPoints:function(){var a=this.points,b=this.chart,c,d,f,e,k=this.options.marker,h,p,l,r,n=this.markerGroup,v=A(k.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=2*k.radius);
if(!1!==k.enabled||this._hasPointMarkers)for(d=0;d<a.length;d++)f=a[d],c=f.plotY,e=f.graphic,h=f.marker||{},p=!!f.marker,l=v&&void 0===h.enabled||h.enabled,r=f.isInside,l&&m(c)&&null!==f.y?(c=A(h.symbol,this.symbol),f.hasImage=0===c.indexOf("url"),l=this.markerAttribs(f,f.selected&&"select"),e?e[r?"show":"hide"](!0).animate(l):r&&(0<l.width||f.hasImage)&&(f.graphic=e=b.renderer.symbol(c,l.x,l.y,l.width,l.height,p?h:k).add(n)),e&&e.attr(this.pointAttribs(f,f.selected&&"select")),e&&e.addClass(f.getClassName(),
!0)):e&&(f.graphic=e.destroy())},markerAttribs:function(a,b){var c=this.options.marker,d=a.marker||{},f=A(d.radius,c.radius);b&&(c=c.states[b],b=d.states&&d.states[b],f=A(b&&b.radius,c&&c.radius,f+(c&&c.radiusPlus||0)));a.hasImage&&(f=0);a={x:Math.floor(a.plotX)-f,y:a.plotY-f};f&&(a.width=a.height=2*f);return a},pointAttribs:function(a,b){var c=this.options.marker,d=a&&a.options,f=d&&d.marker||{},e=this.color,q=d&&d.color,k=a&&a.color,d=A(f.lineWidth,c.lineWidth);a=a&&a.zone&&a.zone.color;e=q||a||
k||e;a=f.fillColor||c.fillColor||e;e=f.lineColor||c.lineColor||e;b&&(c=c.states[b],b=f.states&&f.states[b]||{},d=A(b.lineWidth,c.lineWidth,d+A(b.lineWidthPlus,c.lineWidthPlus,0)),a=b.fillColor||c.fillColor||a,e=b.lineColor||c.lineColor||e);return{stroke:e,"stroke-width":d,fill:a}},destroy:function(){var a=this,b=a.chart,c=/AppleWebKit\/533/.test(F.navigator.userAgent),d,f=a.data||[],g,m,h;p(a,"destroy");v(a);k(a.axisTypes||[],function(b){(h=a[b])&&h.series&&(e(h.series,a),h.isDirty=h.forceRedraw=
!0)});a.legendItem&&a.chart.legend.destroyItem(a);for(d=f.length;d--;)(g=f[d])&&g.destroy&&g.destroy();a.points=null;clearTimeout(a.animationTimeout);for(m in a)a[m]instanceof y&&!a[m].survive&&(d=c&&"group"===m?"hide":"destroy",a[m][d]());b.hoverSeries===a&&(b.hoverSeries=null);e(b.series,a);b.orderSeries();for(m in a)delete a[m]},getGraphPath:function(a,b,c){var d=this,f=d.options,e=f.step,q,m=[],h=[],p;a=a||d.points;(q=a.reversed)&&a.reverse();(e={right:1,center:2}[e]||e&&3)&&q&&(e=4-e);!f.connectNulls||
b||c||(a=this.getValidPoints(a));k(a,function(g,k){var q=g.plotX,r=g.plotY,n=a[k-1];(g.leftCliff||n&&n.rightCliff)&&!c&&(p=!0);g.isNull&&!l(b)&&0<k?p=!f.connectNulls:g.isNull&&!b?p=!0:(0===k||p?k=["M",g.plotX,g.plotY]:d.getPointSpline?k=d.getPointSpline(a,g,k):e?(k=1===e?["L",n.plotX,r]:2===e?["L",(n.plotX+q)/2,n.plotY,"L",(n.plotX+q)/2,r]:["L",q,n.plotY],k.push("L",q,r)):k=["L",q,r],h.push(g.x),e&&h.push(g.x),m.push.apply(m,k),p=!1)});m.xMap=h;return d.graphPath=m},drawGraph:function(){var a=this,
b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),d=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];k(this.zones,function(c,f){d.push(["zone-graph-"+f,"highcharts-graph highcharts-zone-graph-"+f+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])});k(d,function(d,f){var e=d[0],g=a[e];g?(g.endX=c.xMap,g.animate({d:c})):c.length&&(a[e]=a.chart.renderer.path(c).addClass(d[1]).attr({zIndex:1}).add(a.group),g={stroke:d[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&
a.color||"none"},d[3]?g.dashstyle=d[3]:"square"!==b.linecap&&(g["stroke-linecap"]=g["stroke-linejoin"]="round"),g=a[e].attr(g).shadow(2>f&&b.shadow));g&&(g.startX=c.xMap,g.isArea=c.isArea)})},applyZones:function(){var a=this,b=this.chart,c=b.renderer,d=this.zones,f,e,m=this.clips||[],h,p=this.graph,l=this.area,r=Math.max(b.chartWidth,b.chartHeight),n=this[(this.zoneAxis||"y")+"Axis"],v,t,y=b.inverted,u,G,F,H,z=!1;d.length&&(p||l)&&n&&void 0!==n.min&&(t=n.reversed,u=n.horiz,p&&p.hide(),l&&l.hide(),
v=n.getExtremes(),k(d,function(d,g){f=t?u?b.plotWidth:0:u?0:n.toPixels(v.min);f=Math.min(Math.max(A(e,f),0),r);e=Math.min(Math.max(Math.round(n.toPixels(A(d.value,v.max),!0)),0),r);z&&(f=e=n.toPixels(v.max));G=Math.abs(f-e);F=Math.min(f,e);H=Math.max(f,e);n.isXAxis?(h={x:y?H:F,y:0,width:G,height:r},u||(h.x=b.plotHeight-h.x)):(h={x:0,y:y?H:F,width:r,height:G},u&&(h.y=b.plotWidth-h.y));y&&c.isVML&&(h=n.isXAxis?{x:0,y:t?F:H,height:h.width,width:b.chartWidth}:{x:h.y-b.plotLeft-b.spacingBox.x,y:0,width:h.height,
height:b.chartHeight});m[g]?m[g].animate(h):(m[g]=c.clipRect(h),p&&a["zone-graph-"+g].clip(m[g]),l&&a["zone-area-"+g].clip(m[g]));z=d.value>v.max}),this.clips=m)},invertGroups:function(a){function b(){k(["group","markerGroup"],function(b){c[b]&&(d.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a))})}var c=this,d=c.chart,f;c.xAxis&&(f=B(d,"resize",b),B(c,"destroy",f),b(a),c.invertGroups=b)},plotGroup:function(a,b,c,d,f){var e=
this[a],k=!e;k&&(this[a]=e=this.chart.renderer.g(b).attr({zIndex:d||.1}).add(f),e.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||"")));e.attr({visibility:c})[k?"attr":"animate"](this.getPlotBox());return e},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=
this,b=a.chart,c,d=a.options,f=!!a.animate&&b.renderer.isSVG&&z(d.animation).duration,e=a.visible?"inherit":"hidden",k=d.zIndex,m=a.hasRendered,h=b.seriesGroup,p=b.inverted;c=a.plotGroup("group","series",e,k,h);a.markerGroup=a.plotGroup("markerGroup","markers",e,k,h);f&&a.animate(!0);c.inverted=a.isCartesian?p:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();a.invertGroups(p);
!1===d.clip||a.sharedClipKey||m||c.clip(b.clipRect);f&&a.animate();m||(a.animationTimeout=G(function(){a.afterAnimate()},f));a.isDirty=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,d=this.xAxis,f=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:A(d&&d.left,a.plotLeft),translateY:A(f&&f.top,a.plotTop)}));this.translate();this.render();b&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX",
"plotY"],searchPoint:function(a,b){var c=this.xAxis,d=this.yAxis,f=this.chart.inverted;return this.searchKDTree({clientX:f?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:f?d.len-a.chartX+d.pos:a.chartY-d.pos},b)},buildKDTree:function(){function a(c,d,f){var e,g;if(g=c&&c.length)return e=b.kdAxisArray[d%f],c.sort(function(a,b){return a[e]-b[e]}),g=Math.floor(g/2),{point:c[g],left:a(c.slice(0,g),d+1,f),right:a(c.slice(g+1),d+1,f)}}this.buildingKdTree=!0;var b=this,c=b.kdDimensions;delete b.kdTree;G(function(){b.kdTree=
a(b.getValidPoints(null,!b.directTouch),c,c);b.buildingKdTree=!1},b.options.kdNow?0:1)},searchKDTree:function(a,b){function c(a,b,g,m){var h=b.point,p=d.kdAxisArray[g%m],q,r,n=h;r=l(a[f])&&l(h[f])?Math.pow(a[f]-h[f],2):null;q=l(a[e])&&l(h[e])?Math.pow(a[e]-h[e],2):null;q=(r||0)+(q||0);h.dist=l(q)?Math.sqrt(q):Number.MAX_VALUE;h.distX=l(r)?Math.sqrt(r):Number.MAX_VALUE;p=a[p]-h[p];q=0>p?"left":"right";r=0>p?"right":"left";b[q]&&(q=c(a,b[q],g+1,m),n=q[k]<n[k]?q:h);b[r]&&Math.sqrt(p*p)<n[k]&&(a=c(a,
b[r],g+1,m),n=a[k]<n[k]?a:n);return n}var d=this,f=this.kdAxisArray[0],e=this.kdAxisArray[1],k=b?"distX":"dist";this.kdTree||this.buildingKdTree||this.buildKDTree();if(this.kdTree)return c(a,this.kdTree,this.kdDimensions,this.kdDimensions)}})})(I);(function(a){function B(a,e,c,h,n){var b=a.chart.inverted;this.axis=a;this.isNegative=c;this.options=e;this.x=h;this.total=null;this.points={};this.stack=n;this.rightCliff=this.leftCliff=0;this.alignOptions={align:e.align||(b?c?"left":"right":"center"),
verticalAlign:e.verticalAlign||(b?"middle":c?"bottom":"top"),y:l(e.y,b?4:c?14:-6),x:l(e.x,b?c?-6:6:0)};this.textAlign=e.textAlign||(b?c?"right":"left":"center")}var z=a.Axis,C=a.Chart,E=a.correctFloat,u=a.defined,h=a.destroyObjectProperties,n=a.each,t=a.format,l=a.pick;a=a.Series;B.prototype={destroy:function(){h(this,this.axis)},render:function(a){var e=this.options,c=e.format,c=c?t(c,this):e.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,
null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,e){var c=this.axis,k=c.chart,h=k.inverted,b=c.reversed,b=this.isNegative&&!b||!this.isNegative&&b,m=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=Math.abs(m-c);a=k.xAxis[0].translate(this.x)+a;var d=k.plotHeight,h={x:h?b?m:m-c:a,y:h?d-a-e:b?d-m-c:d-m,width:h?c:e,height:h?e:c};if(e=this.label)e.align(this.alignOptions,null,h),h=e.alignAttr,e[!1===
this.options.crop||k.isInsidePlot(h.x,h.y)?"show":"hide"](!0)}};C.prototype.getStacks=function(){var a=this;n(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});n(a.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==a.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+l(e.options.stack,""))})};z.prototype.buildStacks=function(){var a=this.series,e,c=l(this.options.reversedStacks,!0),h=a.length,n;if(!this.isXAxis){this.usePercentage=!1;for(n=h;n--;)a[c?n:h-n-1].setStackedPoints();
for(n=h;n--;)e=a[c?n:h-n-1],e.setStackCliffs&&e.setStackCliffs();if(this.usePercentage)for(n=0;n<h;n++)a[n].setPercentStacks()}};z.prototype.renderStackTotals=function(){var a=this.chart,e=a.renderer,c=this.stacks,h,l,b=this.stackTotalGroup;b||(this.stackTotalGroup=b=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());b.translate(a.plotLeft,a.plotTop);for(h in c)for(l in a=c[h],a)a[l].render(b)};z.prototype.resetStacks=function(){var a=this.stacks,e,c;if(!this.isXAxis)for(e in a)for(c in a[e])a[e][c].touched<
this.stacksTouched?(a[e][c].destroy(),delete a[e][c]):(a[e][c].total=null,a[e][c].cum=null)};z.prototype.cleanStacks=function(){var a,e,c;if(!this.isXAxis)for(e in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(c in a[e])a[e][c].cum=a[e][c].total};a.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,e=this.processedYData,c=[],h=e.length,n=this.options,b=n.threshold,m=n.startFromThreshold?
b:0,d=n.stack,n=n.stacking,r=this.stackKey,t="-"+r,v=this.negStacks,f=this.yAxis,y=f.stacks,G=f.oldStacks,F,q,x,z,K,C,g;f.stacksTouched+=1;for(K=0;K<h;K++)C=a[K],g=e[K],F=this.getStackIndicator(F,C,this.index),z=F.key,x=(q=v&&g<(m?0:b))?t:r,y[x]||(y[x]={}),y[x][C]||(G[x]&&G[x][C]?(y[x][C]=G[x][C],y[x][C].total=null):y[x][C]=new B(f,f.options.stackLabels,q,C,d)),x=y[x][C],null!==g&&(x.points[z]=x.points[this.index]=[l(x.cum,m)],u(x.cum)||(x.base=z),x.touched=f.stacksTouched,0<F.index&&!1===this.singleStacks&&
(x.points[z][0]=x.points[this.index+","+C+",0"][0])),"percent"===n?(q=q?r:t,v&&y[q]&&y[q][C]?(q=y[q][C],x.total=q.total=Math.max(q.total,x.total)+Math.abs(g)||0):x.total=E(x.total+(Math.abs(g)||0))):x.total=E(x.total+(g||0)),x.cum=l(x.cum,m)+(g||0),null!==g&&(x.points[z].push(x.cum),c[K]=x.cum);"percent"===n&&(f.usePercentage=!0);this.stackedYData=c;f.oldStacks={}}};a.prototype.setPercentStacks=function(){var a=this,e=a.stackKey,c=a.yAxis.stacks,h=a.processedXData,l;n([e,"-"+e],function(b){for(var e=
h.length,d,k;e--;)if(d=h[e],l=a.getStackIndicator(l,d,a.index,b),d=(k=c[b]&&c[b][d])&&k.points[l.key])k=k.total?100/k.total:0,d[0]=E(d[0]*k),d[1]=E(d[1]*k),a.stackedYData[e]=d[1]})};a.prototype.getStackIndicator=function(a,e,c,h){!u(a)||a.x!==e||h&&a.key!==h?a={x:e,index:0,key:h}:a.index++;a.key=[c,e,a.index].join();return a}})(I);(function(a){var B=a.addEvent,z=a.animate,C=a.Axis,E=a.createElement,u=a.css,h=a.defined,n=a.each,t=a.erase,l=a.extend,k=a.fireEvent,e=a.inArray,c=a.isNumber,p=a.isObject,
H=a.merge,b=a.pick,m=a.Point,d=a.Series,r=a.seriesTypes,A=a.setAnimation,v=a.splat;l(a.Chart.prototype,{addSeries:function(a,c,d){var f,e=this;a&&(c=b(c,!0),k(e,"addSeries",{options:a},function(){f=e.initSeries(a);e.isDirtyLegend=!0;e.linkSeries();c&&e.redraw(d)}));return f},addAxis:function(a,c,d,e){var f=c?"xAxis":"yAxis",h=this.options;a=H(a,{index:this[f].length,isX:c});new C(this,a);h[f]=v(h[f]||{});h[f].push(a);b(d,!0)&&this.redraw(e)},showLoading:function(a){var b=this,c=b.options,d=b.loadingDiv,
f=c.loading,e=function(){d&&u(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};d||(b.loadingDiv=d=E("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=E("span",{className:"highcharts-loading-inner"},null,d),B(b,"redraw",e));d.className="highcharts-loading";b.loadingSpan.innerHTML=a||c.lang.loading;u(d,l(f.style,{zIndex:10}));u(b.loadingSpan,f.labelStyle);b.loadingShown||(u(d,{opacity:0,display:""}),z(d,{opacity:f.style.opacity||
.5},{duration:f.showDuration||0}));b.loadingShown=!0;e()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",z(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){u(b,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(a,d){var f,k={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},m=a.chart,l,p;if(m){H(!0,this.options.chart,m);"className"in m&&this.setClassName(m.className);if("inverted"in m||"polar"in m)this.propFromSeries(),l=!0;for(f in m)m.hasOwnProperty(f)&&(-1!==e("chart."+f,this.propsRequireUpdateSeries)&&(p=!0),-1!==e(f,this.propsRequireDirtyBox)&&(this.isDirtyBox=
!0));"style"in m&&this.renderer.setStyle(m.style)}for(f in a){if(this[f]&&"function"===typeof this[f].update)this[f].update(a[f],!1);else if("function"===typeof this[k[f]])this[k[f]](a[f]);"chart"!==f&&-1!==e(f,this.propsRequireUpdateSeries)&&(p=!0)}a.colors&&(this.options.colors=a.colors);a.plotOptions&&H(!0,this.options.plotOptions,a.plotOptions);n(["xAxis","yAxis","series"],function(b){a[b]&&n(v(a[b]),function(a,c){(c=h(a.id)&&this.get(a.id)||this[b][c])&&c.coll===b&&c.update(a,!1)},this)},this);
l&&n(this.axes,function(a){a.update({},!1)});p&&n(this.series,function(a){a.update({},!1)});a.loading&&H(!0,this.options.loading,a.loading);f=m&&m.width;m=m&&m.height;c(f)&&f!==this.chartWidth||c(m)&&m!==this.chartHeight?this.setSize(f,m):b(d,!0)&&this.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}});l(m.prototype,{update:function(a,c,d,e){function f(){h.applyOptions(a);null===h.y&&k&&(h.graphic=k.destroy());p(a,!0)&&(k&&k.element&&a&&a.marker&&a.marker.symbol&&(h.graphic=k.destroy()),
a&&a.dataLabels&&h.dataLabel&&(h.dataLabel=h.dataLabel.destroy()));l=h.index;m.updateParallelArrays(h,l);n.data[l]=p(n.data[l],!0)||p(a,!0)?h.options:a;m.isDirty=m.isDirtyData=!0;!m.fixedBox&&m.hasCartesianSeries&&(g.isDirtyBox=!0);"point"===n.legendType&&(g.isDirtyLegend=!0);c&&g.redraw(d)}var h=this,m=h.series,k=h.graphic,l,g=m.chart,n=m.options;c=b(c,!0);!1===e?f():h.firePointEvent("update",{options:a},f)},remove:function(a,b){this.series.removePoint(e(this,this.series.data),a,b)}});l(d.prototype,
{addPoint:function(a,c,d,e){var f=this.options,h=this.data,m=this.chart,k=this.xAxis,k=k&&k.hasNames&&k.names,l=f.data,g,p,n=this.xData,r,v;c=b(c,!0);g={series:this};this.pointClass.prototype.applyOptions.apply(g,[a]);v=g.x;r=n.length;if(this.requireSorting&&v<n[r-1])for(p=!0;r&&n[r-1]>v;)r--;this.updateParallelArrays(g,"splice",r,0,0);this.updateParallelArrays(g,r);k&&g.name&&(k[v]=g.name);l.splice(r,0,a);p&&(this.data.splice(r,0,null),this.processData());"point"===f.legendType&&this.generatePoints();
d&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(g,"shift"),l.shift()));this.isDirtyData=this.isDirty=!0;c&&m.redraw(e)},removePoint:function(a,c,d){var f=this,e=f.data,h=e[a],m=f.points,k=f.chart,l=function(){m&&m.length===e.length&&m.splice(a,1);e.splice(a,1);f.options.data.splice(a,1);f.updateParallelArrays(h||{series:f},"splice",a,1);h&&h.destroy();f.isDirty=!0;f.isDirtyData=!0;c&&k.redraw()};A(d,k);c=b(c,!0);h?h.firePointEvent("remove",null,l):l()},remove:function(a,
c,d){function f(){e.destroy();h.isDirtyLegend=h.isDirtyBox=!0;h.linkSeries();b(a,!0)&&h.redraw(c)}var e=this,h=e.chart;!1!==d?k(e,"remove",null,f):f()},update:function(a,c){var d=this,f=this.chart,e=this.userOptions,h=this.oldType||this.type,m=a.type||e.type||f.options.chart.type,k=r[h].prototype,p=["group","markerGroup","dataLabelsGroup"],g;if(m&&m!==h||void 0!==a.zIndex)p.length=0;n(p,function(a){p[a]=d[a];delete d[a]});a=H(e,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},
a);this.remove(!1,null,!1);for(g in k)this[g]=void 0;l(this,r[m||h].prototype);n(p,function(a){d[a]=p[a]});this.init(f,a);this.oldType=h;f.linkSeries();b(c,!0)&&f.redraw(!1)}});l(C.prototype,{update:function(a,c){var d=this.chart;a=d.options[this.coll][this.options.index]=H(this.userOptions,a);this.destroy(!0);this.init(d,l(a,{events:void 0}));d.isDirtyBox=!0;b(c,!0)&&d.redraw()},remove:function(a){for(var c=this.chart,d=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);t(c.axes,this);
t(c[d],this);c.options[d].splice(this.options.index,1);n(c[d],function(a,b){a.options.index=b});this.destroy();c.isDirtyBox=!0;b(a,!0)&&c.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})})(I);(function(a){var B=a.color,z=a.each,C=a.map,E=a.pick,u=a.Series,h=a.seriesType;h("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var a=[],h=[],l=this.xAxis,k=this.yAxis,e=k.stacks[this.stackKey],c={},
p=this.points,u=this.index,b=k.series,m=b.length,d,r=E(k.options.reversedStacks,!0)?1:-1,A,v;if(this.options.stacking){for(A=0;A<p.length;A++)c[p[A].x]=p[A];for(v in e)null!==e[v].total&&h.push(v);h.sort(function(a,b){return a-b});d=C(b,function(){return this.visible});z(h,function(b,p){var f=0,n,q;if(c[b]&&!c[b].isNull)a.push(c[b]),z([-1,1],function(a){var f=1===a?"rightNull":"leftNull",k=0,l=e[h[p+a]];if(l)for(A=u;0<=A&&A<m;)n=l.points[A],n||(A===u?c[b][f]=!0:d[A]&&(q=e[b].points[A])&&(k-=q[1]-
q[0])),A+=r;c[b][1===a?"rightCliff":"leftCliff"]=k});else{for(A=u;0<=A&&A<m;){if(n=e[b].points[A]){f=n[1];break}A+=r}f=k.translate(f,0,1,0,1);a.push({isNull:!0,plotX:l.translate(b,0,0,0,1),x:b,plotY:f,yBottom:f})}})}return a},getGraphPath:function(a){var h=u.prototype.getGraphPath,l=this.options,k=l.stacking,e=this.yAxis,c,p,n=[],b=[],m=this.index,d,r=e.stacks[this.stackKey],A=l.threshold,v=e.getThreshold(l.threshold),f,l=l.connectNulls||"percent"===k,y=function(c,f,h){var l=a[c];c=k&&r[l.x].points[m];
var p=l[h+"Null"]||0;h=l[h+"Cliff"]||0;var q,t,l=!0;h||p?(q=(p?c[0]:c[1])+h,t=c[0]+h,l=!!p):!k&&a[f]&&a[f].isNull&&(q=t=A);void 0!==q&&(b.push({plotX:d,plotY:null===q?v:e.getThreshold(q),isNull:l,isCliff:!0}),n.push({plotX:d,plotY:null===t?v:e.getThreshold(t),doCurve:!1}))};a=a||this.points;k&&(a=this.getStackPoints());for(c=0;c<a.length;c++)if(p=a[c].isNull,d=E(a[c].rectPlotX,a[c].plotX),f=E(a[c].yBottom,v),!p||l)l||y(c,c-1,"left"),p&&!k&&l||(b.push(a[c]),n.push({x:c,plotX:d,plotY:f})),l||y(c,c+
1,"right");c=h.call(this,b,!0,!0);n.reversed=!0;p=h.call(this,n,!0,!0);p.length&&(p[0]="L");p=c.concat(p);h=h.call(this,b,!1,l);p.xMap=c.xMap;this.areaPath=p;return h},drawGraph:function(){this.areaPath=[];u.prototype.drawGraph.apply(this);var a=this,h=this.areaPath,l=this.options,k=[["area","highcharts-area",this.color,l.fillColor]];z(this.zones,function(e,c){k.push(["zone-area-"+c,"highcharts-area highcharts-zone-area-"+c+" "+e.className,e.color||a.color,e.fillColor||l.fillColor])});z(k,function(e){var c=
e[0],k=a[c];k?(k.endX=h.xMap,k.animate({d:h})):(k=a[c]=a.chart.renderer.path(h).addClass(e[1]).attr({fill:E(e[3],B(e[2]).setOpacity(E(l.fillOpacity,.75)).get()),zIndex:0}).add(a.group),k.isArea=!0);k.startX=h.xMap;k.shiftUnit=l.step?2:1})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(I);(function(a){var B=a.pick;a=a.seriesType;a("spline","line",{},{getPointSpline:function(a,C,E){var u=C.plotX,h=C.plotY,n=a[E-1];E=a[E+1];var t,l,k,e;if(n&&!n.isNull&&!1!==n.doCurve&&!C.isCliff&&E&&!E.isNull&&
!1!==E.doCurve&&!C.isCliff){a=n.plotY;k=E.plotX;E=E.plotY;var c=0;t=(1.5*u+n.plotX)/2.5;l=(1.5*h+a)/2.5;k=(1.5*u+k)/2.5;e=(1.5*h+E)/2.5;k!==t&&(c=(e-l)*(k-u)/(k-t)+h-e);l+=c;e+=c;l>a&&l>h?(l=Math.max(a,h),e=2*h-l):l<a&&l<h&&(l=Math.min(a,h),e=2*h-l);e>E&&e>h?(e=Math.max(E,h),l=2*h-e):e<E&&e<h&&(e=Math.min(E,h),l=2*h-e);C.rightContX=k;C.rightContY=e}C=["C",B(n.rightContX,n.plotX),B(n.rightContY,n.plotY),B(t,u),B(l,h),u,h];n.rightContX=n.rightContY=null;return C}})})(I);(function(a){var B=a.seriesTypes.area.prototype,
z=a.seriesType;z("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:B.getStackPoints,getGraphPath:B.getGraphPath,setStackCliffs:B.setStackCliffs,drawGraph:B.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(I);(function(a){var B=a.animObject,z=a.color,C=a.each,E=a.extend,u=a.isNumber,h=a.merge,n=a.pick,t=a.Series,l=a.seriesType,k=a.svg;l("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,
brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){t.prototype.init.apply(this,arguments);var a=this,c=a.chart;c.hasRendered&&C(c.series,function(c){c.type===a.type&&(c.isDirty=!0)})},getColumnMetrics:function(){var a=
this,c=a.options,h=a.xAxis,k=a.yAxis,b=h.reversed,m,d={},l=0;!1===c.grouping?l=1:C(a.chart.series,function(b){var c=b.options,f=b.yAxis,e;b.type===a.type&&b.visible&&k.len===f.len&&k.pos===f.pos&&(c.stacking?(m=b.stackKey,void 0===d[m]&&(d[m]=l++),e=d[m]):!1!==c.grouping&&(e=l++),b.columnIndex=e)});var t=Math.min(Math.abs(h.transA)*(h.ordinalSlope||c.pointRange||h.closestPointRange||h.tickInterval||1),h.len),v=t*c.groupPadding,f=(t-2*v)/(l||1),c=Math.min(c.maxPointWidth||h.len,n(c.pointWidth,f*(1-
2*c.pointPadding)));a.columnMetrics={width:c,offset:(f-c)/2+(v+((a.columnIndex||0)+(b?1:0))*f-t/2)*(b?-1:1)};return a.columnMetrics},crispCol:function(a,c,h,k){var b=this.chart,e=this.borderWidth,d=-(e%2?.5:0),e=e%2?.5:1;b.inverted&&b.renderer.isVML&&(e+=1);h=Math.round(a+h)+d;a=Math.round(a)+d;k=Math.round(c+k)+e;d=.5>=Math.abs(c)&&.5<k;c=Math.round(c)+e;k-=c;d&&k&&(--c,k+=1);return{x:a,y:c,width:h-a,height:k}},translate:function(){var a=this,c=a.chart,h=a.options,k=a.dense=2>a.closestPointRange*
a.xAxis.transA,k=a.borderWidth=n(h.borderWidth,k?0:1),b=a.yAxis,m=a.translatedThreshold=b.getThreshold(h.threshold),d=n(h.minPointLength,5),l=a.getColumnMetrics(),u=l.width,v=a.barW=Math.max(u,1+2*k),f=a.pointXOffset=l.offset;c.inverted&&(m-=.5);h.pointPadding&&(v=Math.ceil(v));t.prototype.translate.apply(a);C(a.points,function(e){var h=n(e.yBottom,m),k=999+Math.abs(h),k=Math.min(Math.max(-k,e.plotY),b.len+k),l=e.plotX+f,p=v,r=Math.min(k,h),t,y=Math.max(k,h)-r;Math.abs(y)<d&&d&&(y=d,t=!b.reversed&&
!e.negative||b.reversed&&e.negative,r=Math.abs(r-m)>d?h-d:m-(t?d:0));e.barX=l;e.pointWidth=u;e.tooltipPos=c.inverted?[b.len+b.pos-c.plotLeft-k,a.xAxis.len-l-p/2,y]:[l+p/2,k+b.pos-c.plotTop,y];e.shapeType="rect";e.shapeArgs=a.crispCol.apply(a,e.isNull?[e.plotX,b.len/2,0,0]:[l,r,p,y])})},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,c){var e=this.options,k,b=this.pointAttrToOptions||
{};k=b.stroke||"borderColor";var m=b["stroke-width"]||"borderWidth",d=a&&a.color||this.color,l=a[k]||e[k]||this.color||d,n=a[m]||e[m]||this[m]||0,b=e.dashStyle;a&&this.zones.length&&(d=(d=a.getZone())&&d.color||a.options.color||this.color);c&&(a=h(e.states[c],a.options.states&&a.options.states[c]||{}),c=a.brightness,d=a.color||void 0!==c&&z(d).brighten(a.brightness).get()||d,l=a[k]||l,n=a[m]||n,b=a.dashStyle||b);k={fill:d,stroke:l,"stroke-width":n};e.borderRadius&&(k.r=e.borderRadius);b&&(k.dashstyle=
b);return k},drawPoints:function(){var a=this,c=this.chart,k=a.options,l=c.renderer,b=k.animationLimit||250,m;C(a.points,function(d){var e=d.graphic;if(u(d.plotY)&&null!==d.y){m=d.shapeArgs;if(e)e[c.pointCount<b?"animate":"attr"](h(m));else d.graphic=e=l[d.shapeType](m).add(d.group||a.group);e.attr(a.pointAttribs(d,d.selected&&"select")).shadow(k.shadow,null,k.stacking&&!k.borderRadius);e.addClass(d.getClassName(),!0)}else e&&(d.graphic=e.destroy())})},animate:function(a){var c=this,e=this.yAxis,
h=c.options,b=this.chart.inverted,m={};k&&(a?(m.scaleY=.001,a=Math.min(e.pos+e.len,Math.max(e.pos,e.toPixels(h.threshold))),b?m.translateX=a-e.len:m.translateY=a,c.group.attr(m)):(m[b?"translateX":"translateY"]=e.pos,c.group.animate(m,E(B(c.options.animation),{step:function(a,b){c.group.attr({scaleY:Math.max(.001,b.pos)})}})),c.animate=null))},remove:function(){var a=this,c=a.chart;c.hasRendered&&C(c.series,function(c){c.type===a.type&&(c.isDirty=!0)});t.prototype.remove.apply(a,arguments)}})})(I);
(function(a){a=a.seriesType;a("bar","column",null,{inverted:!0})})(I);(function(a){var B=a.Series;a=a.seriesType;a("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cspan style\x3d"font-size: 0.85em"\x3e {series.name}\x3c/span\x3e\x3cbr/\x3e',pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group",
"markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&B.prototype.drawGraph.call(this)}})})(I);(function(a){var B=a.pick,z=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var a=this.options,E=this.chart,u=2*(a.slicedOffset||0),h=E.plotWidth-2*u,E=E.plotHeight-2*u,n=a.center,n=[B(n[0],"50%"),B(n[1],"50%"),a.size||"100%",a.innerSize||0],t=Math.min(h,E),l,k;for(l=0;4>l;++l)k=n[l],a=2>l||2===l&&/%$/.test(k),n[l]=z(k,[h,E,t,n[2]][l])+
(a?u:0);n[3]>n[2]&&(n[3]=n[2]);return n}}})(I);(function(a){var B=a.addEvent,z=a.defined,C=a.each,E=a.extend,u=a.inArray,h=a.noop,n=a.pick,t=a.Point,l=a.Series,k=a.seriesType,e=a.setAnimation;k("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",
borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var c=this,e=c.points,b=c.startAngleRad;a||(C(e,function(a){var d=a.graphic,e=a.shapeArgs;d&&(d.attr({r:a.startR||c.center[3]/2,start:b,end:b}),d.animate({r:e.r,start:e.start,end:e.end},c.options.animation))}),c.animate=null)},updateTotals:function(){var a,
e=0,h=this.points,b=h.length,k,d=this.options.ignoreHiddenPoint;for(a=0;a<b;a++)k=h[a],0>k.y&&(k.y=null),e+=d&&!k.visible?0:k.y;this.total=e;for(a=0;a<b;a++)k=h[a],k.percentage=0<e&&(k.visible||!d)?k.y/e*100:0,k.total=e},generatePoints:function(){l.prototype.generatePoints.call(this);this.updateTotals()},translate:function(a){this.generatePoints();var c=0,e=this.options,b=e.slicedOffset,h=b+(e.borderWidth||0),d,k,l,v=e.startAngle||0,f=this.startAngleRad=Math.PI/180*(v-90),v=(this.endAngleRad=Math.PI/
180*(n(e.endAngle,v+360)-90))-f,t=this.points,u=e.dataLabels.distance,e=e.ignoreHiddenPoint,F,q=t.length,x;a||(this.center=a=this.getCenter());this.getX=function(b,c){l=Math.asin(Math.min((b-a[1])/(a[2]/2+u),1));return a[0]+(c?-1:1)*Math.cos(l)*(a[2]/2+u)};for(F=0;F<q;F++){x=t[F];d=f+c*v;if(!e||x.visible)c+=x.percentage/100;k=f+c*v;x.shapeType="arc";x.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1E3*d)/1E3,end:Math.round(1E3*k)/1E3};l=(k+d)/2;l>1.5*Math.PI?l-=2*Math.PI:l<-Math.PI/
2&&(l+=2*Math.PI);x.slicedTranslation={translateX:Math.round(Math.cos(l)*b),translateY:Math.round(Math.sin(l)*b)};d=Math.cos(l)*a[2]/2;k=Math.sin(l)*a[2]/2;x.tooltipPos=[a[0]+.7*d,a[1]+.7*k];x.half=l<-Math.PI/2||l>Math.PI/2?1:0;x.angle=l;h=Math.min(h,u/5);x.labelPos=[a[0]+d+Math.cos(l)*u,a[1]+k+Math.sin(l)*u,a[0]+d+Math.cos(l)*h,a[1]+k+Math.sin(l)*h,a[0]+d,a[1]+k,0>u?"center":x.half?"right":"left",l]}},drawGraph:null,drawPoints:function(){var a=this,e=a.chart.renderer,h,b,k,d,l=a.options.shadow;l&&
!a.shadowGroup&&(a.shadowGroup=e.g("shadow").add(a.group));C(a.points,function(c){if(null!==c.y){b=c.graphic;d=c.shapeArgs;h=c.getTranslate();var m=c.shadowGroup;l&&!m&&(m=c.shadowGroup=e.g("shadow").add(a.shadowGroup));m&&m.attr(h);k=a.pointAttribs(c,c.selected&&"select");b?b.setRadialReference(a.center).attr(k).animate(E(d,h)):(c.graphic=b=e[c.shapeType](d).setRadialReference(a.center).attr(h).add(a.group),c.visible||b.attr({visibility:"hidden"}),b.attr(k).attr({"stroke-linejoin":"round"}).shadow(l,
m));b.addClass(c.getClassName())}})},searchPoint:h,sortByAngle:function(a,e){a.sort(function(a,b){return void 0!==a.angle&&(b.angle-a.angle)*e})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:a.CenteredSeriesMixin.getCenter,getSymbol:h},{init:function(){t.prototype.init.apply(this,arguments);var a=this,e;a.name=n(a.name,"Slice");e=function(c){a.slice("select"===c.type)};B(a,"select",e);B(a,"unselect",e);return a},setVisible:function(a,e){var c=this,b=c.series,h=b.chart,d=b.options.ignoreHiddenPoint;
e=n(e,d);a!==c.visible&&(c.visible=c.options.visible=a=void 0===a?!c.visible:a,b.options.data[u(c,b.data)]=c.options,C(["graphic","dataLabel","connector","shadowGroup"],function(b){if(c[b])c[b][a?"show":"hide"](!0)}),c.legendItem&&h.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),d&&(b.isDirty=!0),e&&h.redraw())},slice:function(a,h,k){var b=this.series;e(k,b.chart);n(h,!0);this.sliced=this.options.sliced=z(a)?a:!this.sliced;b.options.data[u(this,b.data)]=this.options;this.graphic.animate(this.getTranslate());
this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+a,c.r+a,{innerR:this.shapeArgs.r,start:c.start,end:c.end})}})})(I);(function(a){var B=a.addEvent,z=a.arrayMax,C=a.defined,E=a.each,u=a.extend,h=a.format,n=a.map,t=a.merge,l=a.noop,k=a.pick,e=a.relativeLength,c=a.Series,
p=a.seriesTypes,H=a.stableSort;a.distribute=function(a,c){function b(a,b){return a.target-b.target}var e,h=!0,k=a,f=[],l;l=0;for(e=a.length;e--;)l+=a[e].size;if(l>c){H(a,function(a,b){return(b.rank||0)-(a.rank||0)});for(l=e=0;l<=c;)l+=a[e].size,e++;f=a.splice(e-1,a.length)}H(a,b);for(a=n(a,function(a){return{size:a.size,targets:[a.target]}});h;){for(e=a.length;e--;)h=a[e],l=(Math.min.apply(0,h.targets)+Math.max.apply(0,h.targets))/2,h.pos=Math.min(Math.max(0,l-h.size/2),c-h.size);e=a.length;for(h=
!1;e--;)0<e&&a[e-1].pos+a[e-1].size>a[e].pos&&(a[e-1].size+=a[e].size,a[e-1].targets=a[e-1].targets.concat(a[e].targets),a[e-1].pos+a[e-1].size>c&&(a[e-1].pos=c-a[e-1].size),a.splice(e,1),h=!0)}e=0;E(a,function(a){var b=0;E(a.targets,function(){k[e].pos=a.pos+b;b+=k[e].size;e++})});k.push.apply(k,f);H(k,b)};c.prototype.drawDataLabels=function(){var a=this,c=a.options,d=c.dataLabels,e=a.points,l,n,f=a.hasRendered||0,p,u,F=k(d.defer,!0),q=a.chart.renderer;if(d.enabled||a._hasPointLabels)a.dlProcessOptions&&
a.dlProcessOptions(d),u=a.plotGroup("dataLabelsGroup","data-labels",F&&!f?"hidden":"visible",d.zIndex||6),F&&(u.attr({opacity:+f}),f||B(a,"afterAnimate",function(){a.visible&&u.show(!0);u[c.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=d,E(e,function(b){var f,e=b.dataLabel,m,g,r,v=b.connector,y=!e,x;l=b.dlOptions||b.options&&b.options.dataLabels;if(f=k(l&&l.enabled,n.enabled)&&null!==b.y)for(g in d=t(n,l),m=b.getLabelConfig(),p=d.format?h(d.format,m):d.formatter.call(m,d),x=d.style,
r=d.rotation,x.color=k(d.color,x.color,a.color,"#000000"),"contrast"===x.color&&(x.color=d.inside||0>d.distance||c.stacking?q.getContrast(b.color||a.color):"#000000"),c.cursor&&(x.cursor=c.cursor),m={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:r,padding:d.padding,zIndex:1},m)void 0===m[g]&&delete m[g];!e||f&&C(p)?f&&C(p)&&(e?m.text=p:(e=b.dataLabel=q[r?"text":"label"](p,0,-9999,d.shape,null,null,d.useHTML,null,"data-label"),e.addClass("highcharts-data-label-color-"+
b.colorIndex+" "+(d.className||"")+(d.useHTML?"highcharts-tracker":""))),e.attr(m),e.css(x).shadow(d.shadow),e.added||e.add(u),a.alignDataLabel(b,e,d,null,y)):(b.dataLabel=e.destroy(),v&&(b.connector=v.destroy()))})};c.prototype.alignDataLabel=function(a,c,d,e,h){var b=this.chart,f=b.inverted,l=k(a.plotX,-9999),m=k(a.plotY,-9999),n=c.getBBox(),q,p=d.rotation,r=d.align,t=this.visible&&(a.series.forceDL||b.isInsidePlot(l,Math.round(m),f)||e&&b.isInsidePlot(l,f?e.x+1:e.y+e.height-1,f)),A="justify"===
k(d.overflow,"justify");t&&(q=d.style.fontSize,q=b.renderer.fontMetrics(q,c).b,e=u({x:f?b.plotWidth-m:l,y:Math.round(f?b.plotHeight-l:m),width:0,height:0},e),u(d,{width:n.width,height:n.height}),p?(A=!1,f=b.renderer.rotCorr(q,p),f={x:e.x+d.x+e.width/2+f.x,y:e.y+d.y+{top:0,middle:.5,bottom:1}[d.verticalAlign]*e.height},c[h?"attr":"animate"](f).attr({align:r}),l=(p+720)%360,l=180<l&&360>l,"left"===r?f.y-=l?n.height:0:"center"===r?(f.x-=n.width/2,f.y-=n.height/2):"right"===r&&(f.x-=n.width,f.y-=l?0:
n.height)):(c.align(d,null,e),f=c.alignAttr),A?this.justifyDataLabel(c,d,f,n,e,h):k(d.crop,!0)&&(t=b.isInsidePlot(f.x,f.y)&&b.isInsidePlot(f.x+n.width,f.y+n.height)),d.shape&&!p&&c.attr({anchorX:a.plotX,anchorY:a.plotY}));t||(c.attr({y:-9999}),c.placed=!1)};c.prototype.justifyDataLabel=function(a,c,d,e,h,k){var b=this.chart,l=c.align,m=c.verticalAlign,n,q,p=a.box?0:a.padding||0;n=d.x+p;0>n&&("right"===l?c.align="left":c.x=-n,q=!0);n=d.x+e.width-p;n>b.plotWidth&&("left"===l?c.align="right":c.x=b.plotWidth-
n,q=!0);n=d.y+p;0>n&&("bottom"===m?c.verticalAlign="top":c.y=-n,q=!0);n=d.y+e.height-p;n>b.plotHeight&&("top"===m?c.verticalAlign="bottom":c.y=b.plotHeight-n,q=!0);q&&(a.placed=!k,a.align(c,null,h))};p.pie&&(p.pie.prototype.drawDataLabels=function(){var b=this,e=b.data,d,h=b.chart,l=b.options.dataLabels,p=k(l.connectorPadding,10),f=k(l.connectorWidth,1),t=h.plotWidth,u=h.plotHeight,F,q=l.distance,x=b.center,B=x[2]/2,C=x[1],H=0<q,g,D,I,M,R=[[],[]],N,w,O,Q,P=[0,0,0,0];b.visible&&(l.enabled||b._hasPointLabels)&&
(E(e,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),c.prototype.drawDataLabels.apply(b),E(e,function(a){a.dataLabel&&a.visible&&(R[a.half].push(a),a.dataLabel._pos=null)}),E(R,function(c,f){var e,k,m=c.length,r,v,y;if(m)for(b.sortByAngle(c,f-.5),0<q&&(e=Math.max(0,C-B-q),k=Math.min(C+B+q,h.plotHeight),r=n(c,function(a){if(a.dataLabel)return y=a.dataLabel.getBBox().height||21,{target:a.labelPos[1]-
e+y/2,size:y,rank:a.y}}),a.distribute(r,k+y-e)),Q=0;Q<m;Q++)d=c[Q],I=d.labelPos,g=d.dataLabel,O=!1===d.visible?"hidden":"inherit",v=I[1],r?void 0===r[Q].pos?O="hidden":(M=r[Q].size,w=e+r[Q].pos):w=v,N=l.justify?x[0]+(f?-1:1)*(B+q):b.getX(w<e+2||w>k-2?v:w,f),g._attr={visibility:O,align:I[6]},g._pos={x:N+l.x+({left:p,right:-p}[I[6]]||0),y:w+l.y-10},I.x=N,I.y=w,null===b.options.size&&(D=g.getBBox().width,v=null,N-D<p?(v=Math.round(D-N+p),P[3]=Math.max(v,P[3])):N+D>t-p&&(v=Math.round(N+D-t+p),P[1]=Math.max(v,
P[1])),0>w-M/2?P[0]=Math.max(Math.round(-w+M/2),P[0]):w+M/2>u&&(P[2]=Math.max(Math.round(w+M/2-u),P[2])),g.sideOverflow=v)}),0===z(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),H&&f&&E(this.points,function(a){var c;F=a.connector;if((g=a.dataLabel)&&g._pos&&a.visible){O=g._attr.visibility;if(c=!F)a.connector=F=h.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+a.colorIndex).add(b.dataLabelsGroup),F.attr({"stroke-width":f,stroke:l.connectorColor||a.color||
"#666666"});F[c?"attr":"animate"]({d:b.connectorPath(a.labelPos)});F.attr("visibility",O)}else F&&(a.connector=F.destroy())}))},p.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return k(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},p.pie.prototype.placeDataLabels=function(){E(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&
(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=l,p.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,h=c.center,k=c.minSize||80,l,f;null!==h[0]?l=Math.max(b[2]-Math.max(a[1],a[3]),k):(l=Math.max(b[2]-a[1]-a[3],k),b[0]+=(a[3]-a[1])/2);null!==h[1]?l=Math.max(Math.min(l,b[2]-
Math.max(a[0],a[2])),k):(l=Math.max(Math.min(l,b[2]-a[0]-a[2]),k),b[1]+=(a[0]-a[2])/2);l<b[2]?(b[2]=l,b[3]=Math.min(e(c.innerSize||0,l),l),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):f=!0;return f});p.column&&(p.column.prototype.alignDataLabel=function(a,e,d,h,l){var b=this.chart.inverted,f=a.series,m=a.dlBox||a.shapeArgs,n=k(a.below,a.plotY>k(this.translatedThreshold,f.yAxis.len)),p=k(d.inside,!!this.options.stacking);m&&(h=t(m),0>h.y&&(h.height+=h.y,h.y=0),m=h.y+h.height-f.yAxis.len,
0<m&&(h.height-=m),b&&(h={x:f.yAxis.len-h.y-h.height,y:f.xAxis.len-h.x-h.width,width:h.height,height:h.width}),p||(b?(h.x+=n?0:h.width,h.width=0):(h.y+=n?h.height:0,h.height=0)));d.align=k(d.align,!b||p?"center":n?"right":"left");d.verticalAlign=k(d.verticalAlign,b||p?"middle":n?"top":"bottom");c.prototype.alignDataLabel.call(this,a,e,d,h,l)})})(I);(function(a){var B=a.Chart,z=a.each,C=a.pick,E=a.addEvent;B.prototype.callbacks.push(function(a){function h(){var h=[];z(a.series||[],function(a){var l=
a.options.dataLabels,k=a.dataLabelCollections||["dataLabel"];(l.enabled||a._hasPointLabels)&&!l.allowOverlap&&a.visible&&z(k,function(e){z(a.points,function(a){a[e]&&(a[e].labelrank=C(a.labelrank,a.shapeArgs&&a.shapeArgs.height),h.push(a[e]))})})});a.hideOverlappingLabels(h)}h();E(a,"redraw",h)});B.prototype.hideOverlappingLabels=function(a){var h=a.length,n,t,l,k,e,c,p,u,b,m=function(a,b,c,e,f,h,k,l){return!(f>a+c||f+k<a||h>b+e||h+l<b)};for(t=0;t<h;t++)if(n=a[t])n.oldOpacity=n.opacity,n.newOpacity=
1;a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(t=0;t<h;t++)for(l=a[t],n=t+1;n<h;++n)if(k=a[n],l&&k&&l.placed&&k.placed&&0!==l.newOpacity&&0!==k.newOpacity&&(e=l.alignAttr,c=k.alignAttr,p=l.parentGroup,u=k.parentGroup,b=2*(l.box?0:l.padding),e=m(e.x+p.translateX,e.y+p.translateY,l.width-b,l.height-b,c.x+u.translateX,c.y+u.translateY,k.width-b,k.height-b)))(l.labelrank<k.labelrank?l:k).newOpacity=0;z(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):
b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}})(I);(function(a){var B=a.addEvent,z=a.Chart,C=a.createElement,E=a.css,u=a.defaultOptions,h=a.defaultPlotOptions,n=a.each,t=a.extend,l=a.fireEvent,k=a.hasTouch,e=a.inArray,c=a.isObject,p=a.Legend,H=a.merge,b=a.pick,m=a.Point,d=a.Series,r=a.seriesTypes,A=a.svg;a=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart.pointer,c=function(a){var c=b.getPointFromEvent(a);if(void 0!==c)c.onMouseOver(a)};
n(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)});a._hasTracking||(n(a.trackerGroups,function(d){if(a[d]){a[d].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(a){b.onTrackerMouseOut(a)});if(k)a[d].on("touchstart",c);a.options.cursor&&a[d].css(E).css({cursor:a.options.cursor})}}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=this,b=a.options,c=b.trackByArea,d=[].concat(c?
a.areaPath:a.graphPath),e=d.length,h=a.chart,l=h.pointer,m=h.renderer,p=h.options.tooltip.snap,t=a.tracker,g,r=function(){if(h.hoverSeries!==a)a.onMouseOver()},u="rgba(192,192,192,"+(A?.0001:.002)+")";if(e&&!c)for(g=e+1;g--;)"M"===d[g]&&d.splice(g+1,0,d[g+1]-p,d[g+2],"L"),(g&&"M"===d[g]||g===e)&&d.splice(g,0,"L",d[g-2]+p,d[g-1]);t?t.attr({d:d}):a.graph&&(a.tracker=m.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:u,fill:c?u:"none","stroke-width":a.graph.strokeWidth()+
(c?0:2*p),zIndex:2}).add(a.group),n([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(a){l.onTrackerMouseOut(a)});b.cursor&&a.css({cursor:b.cursor});if(k)a.on("touchstart",r)}))}};r.column&&(r.column.prototype.drawTracker=a.drawTrackerPoint);r.pie&&(r.pie.prototype.drawTracker=a.drawTrackerPoint);r.scatter&&(r.scatter.prototype.drawTracker=a.drawTrackerPoint);t(p.prototype,{setItemEvents:function(a,b,c){var d=this,e=d.chart.renderer.boxWrapper,
f="highcharts-legend-"+(a.series?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover");e.addClass(f);b.css(d.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d.itemStyle:d.itemHiddenStyle);e.removeClass(f);a.setState()}).on("click",function(b){var c=function(){a.setVisible&&a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):l(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=C("input",
{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);B(a.checkbox,"click",function(b){l(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});u.legend.itemStyle.cursor="pointer";t(z.prototype,{showResetZoom:function(){var a=this,b=u.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,h="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},
d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,h)},zoomOut:function(){var a=this;l(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var d,e=this.pointer,h=!1,k;!a||a.resetSelection?n(this.axes,function(a){d=a.zoom()}):n(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;e[b.isXAxis?"zoomX":"zoomY"]&&(d=b.zoom(a.min,a.max),b.displayBtn&&(h=!0))});k=this.resetZoomButton;h&&!k?this.showResetZoom():
!h&&c(k)&&(this.resetZoomButton=k.destroy());d&&this.redraw(b(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var c=this,d=c.hoverPoints,e;d&&n(d,function(a){a.setState()});n("xy"===b?[1,0]:[1],function(b){b=c[b?"xAxis":"yAxis"][0];var d=b.horiz,f=a[d?"chartX":"chartY"],d=d?"mouseDownX":"mouseDownY",h=c[d],k=(b.pointRange||0)/2,g=b.getExtremes(),l=b.toValue(h-f,!0)+k,k=b.toValue(h+b.len-f,!0)-k,m=k<l,h=m?k:l,l=m?l:k,m=b.toValue(b.toPixels(g.min)-b.minPixelPadding),
k=b.toValue(b.toPixels(g.max)+b.minPixelPadding),m=Math.min(g.dataMin,m)-h,g=l-Math.max(g.dataMax,k);b.series.length&&0>m&&0>g&&(b.setExtremes(h,l,!1,!1,{trigger:"pan"}),e=!0);c[d]=f});e&&c.redraw(!1);E(c.container,{cursor:"move"})}});t(m.prototype,{select:function(a,c){var d=this,f=d.series,h=f.chart;a=b(a,!d.selected);d.firePointEvent(a?"select":"unselect",{accumulate:c},function(){d.selected=d.options.selected=a;f.options.data[e(d,f.data)]=d.options;d.setState(a&&"select");c||n(h.getSelectedPoints(),
function(a){a.selected&&a!==d&&(a.selected=a.options.selected=!1,f.options.data[e(a,f.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series.chart.pointer;this.firePointEvent("mouseOver");b.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;this.firePointEvent("mouseOut");n(a.hoverPoints||[],function(a){a.setState()});a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=H(this.series.options.point,
this.options).events,b;this.events=a;for(b in a)B(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a,c){var d=Math.floor(this.plotX),e=this.plotY,f=this.series,k=f.options.states[a]||{},l=h[f.type].marker&&f.options.marker,m=l&&!1===l.enabled,n=l&&l.states&&l.states[a]||{},p=!1===n.enabled,g=f.stateMarkerGraphic,r=this.marker||{},u=f.chart,v=f.halo,z,A=l&&f.markerAttribs;a=a||"";if(!(a===this.state&&!c||this.selected&&"select"!==a||!1===k.enabled||a&&(p||m&&!1===n.enabled)||a&&r.states&&
r.states[a]&&!1===r.states[a].enabled)){A&&(z=f.markerAttribs(this,a));if(this.graphic)this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.attr(f.pointAttribs(this,a)),z&&this.graphic.animate(z,b(u.options.chart.animation,n.animation,l.animation)),g&&g.hide();else{if(a&&n){l=r.symbol||f.symbol;g&&g.currentSymbol!==l&&(g=g.destroy());if(g)g[c?"animate":"attr"]({x:z.x,y:z.y});else l&&(f.stateMarkerGraphic=g=u.renderer.symbol(l,
z.x,z.y,z.width,z.height).add(f.markerGroup),g.currentSymbol=l);g&&g.attr(f.pointAttribs(this,a))}g&&(g[a&&u.isInsidePlot(d,e,u.inverted)?"show":"hide"](),g.element.point=this)}(d=k.halo)&&d.size?(v||(f.halo=v=u.renderer.path().add(A?f.markerGroup:f.group)),v[c?"animate":"attr"]({d:this.haloPath(d.size)}),v.attr({"class":"highcharts-halo highcharts-color-"+b(this.colorIndex,f.colorIndex)}),v.point=this,v.attr(t({fill:this.color||f.color,"fill-opacity":d.opacity,zIndex:-1},d.attributes))):v&&v.point&&
v.point.haloPath&&v.animate({d:v.point.haloPath(0)});this.state=a}},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}});t(d.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&l(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null;if(d)d.onMouseOut();
this&&a.events.mouseOut&&l(this,"mouseOut");!c||a.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide();this.setState()},setState:function(a){var c=this,d=c.options,e=c.graph,h=d.states,k=d.lineWidth,d=0;a=a||"";if(c.state!==a&&(n([c.group,c.markerGroup,c.dataLabelsGroup],function(b){b&&(c.state&&b.removeClass("highcharts-series-"+c.state),a&&b.addClass("highcharts-series-"+a))}),c.state=a,!h[a]||!1!==h[a].enabled)&&(a&&(k=h[a].lineWidth||k+(h[a].lineWidthPlus||0)),e&&!e.dashstyle))for(k={"stroke-width":k},
e.animate(k,b(c.chart.options.chart.animation,h[a]&&h[a].animation));c["zone-graph-"+d];)c["zone-graph-"+d].attr(k),d+=1},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f,h=d.options.chart.ignoreHiddenSeries,k=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!k:a)?"show":"hide";n(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){if(c[a])c[a][f]()});if(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)c.onMouseOut();e&&d.legend.colorizeItem(c,
a);c.isDirty=!0;c.options.stacking&&n(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});n(c.linkedSeries,function(b){b.setVisible(a,!1)});h&&(d.isDirtyBox=!0);!1!==b&&d.redraw();l(c,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);l(this,a?"select":"unselect")},drawTracker:a.drawTrackerGraph})})(I);(function(a){var B=a.Chart,z=a.each,C=a.inArray,E=
a.isArray,u=a.isObject,h=a.pick,n=a.splat;B.prototype.setResponsive=function(h){var l=this.options.responsive,k=[],e=this.currentResponsive;l&&l.rules&&z(l.rules,function(c){void 0===c._id&&(c._id=a.uniqueKey());this.matchResponsiveRule(c,k,h)},this);var c=a.merge.apply(0,a.map(k,function(c){return a.find(l.rules,function(a){return a._id===c}).chartOptions})),k=k.toString()||void 0;k!==(e&&e.ruleIds)&&(e&&this.update(e.undoOptions,h),k?(this.currentResponsive={ruleIds:k,mergedOptions:c,undoOptions:this.currentOptions(c)},
this.update(c,h)):this.currentResponsive=void 0)};B.prototype.matchResponsiveRule=function(a,l){var k=a.condition;(k.callback||function(){return this.chartWidth<=h(k.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=h(k.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=h(k.minWidth,0)&&this.chartHeight>=h(k.minHeight,0)}).call(this)&&l.push(a._id)};B.prototype.currentOptions=function(a){function h(a,c,k,l){var b,e;for(b in a)if(!l&&-1<C(b,["series","xAxis","yAxis"]))for(a[b]=n(a[b]),k[b]=[],e=0;e<a[b].length;e++)c[b][e]&&
(k[b][e]={},h(a[b][e],c[b][e],k[b][e],l+1));else u(a[b])?(k[b]=E(a[b])?[]:{},h(a[b],c[b]||{},k[b],l+1)):k[b]=c[b]||null}var k={};h(a,this.options,k,0);return k}})(I);return I});

},{}],22:[function(require,module,exports){
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react"),require("highcharts")):"function"==typeof define&&define.amd?define(["react","highcharts"],r):"object"==typeof exports?exports.ReactHighcharts=r(require("react"),require("highcharts")):t.ReactHighcharts=r(t.React,t.Highcharts)}(this,function(t,r){return function(t){function r(o){if(e[o])return e[o].exports;var n=e[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){t.exports=e(3)},function(r,e){r.exports=t},function(t,r,e){(function(r){"use strict";var o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},n=e(1),i="undefined"==typeof r?window:r;t.exports=function(r,e){var c="Highcharts"+r,s=n.createClass({displayName:c,propTypes:{config:n.PropTypes.object.isRequired,isPureConfig:n.PropTypes.bool,neverReflow:n.PropTypes.bool,callback:n.PropTypes.func,domProps:n.PropTypes.object},defaultProps:{callback:function(){},domProps:{}},renderChart:function(t){var n=this;if(!t)throw new Error("Config must be specified for the "+c+" component");var s=t.chart;this.chart=new e[r](o({},t,{chart:o({},s,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||i&&i.requestAnimationFrame&&requestAnimationFrame(function(){n.chart&&n.chart.options&&n.chart.reflow()})},shouldComponentUpdate:function(t){return!!(t.neverReflow||t.isPureConfig&&this.props.config===t.config)||(this.renderChart(t.config),!1)},getChart:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){return n.createElement("div",o({ref:"chart"},this.props.domProps))}});return s.Highcharts=e,s.withHighcharts=function(e){return t.exports(r,e)},s}}).call(r,function(){return this}())},function(t,r,e){"use strict";t.exports=e(2)("Chart",e(4))},function(t,e){t.exports=r}])});
},{"highcharts":21,"react":"react"}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

// this needs to be set to true before Keep.js starts storing, done via useKeep
var use = false;

var createdStores = [];

var createdActions = [];

function useKeep() {
	var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

	use = bool;
}

function addStore(str) {
	if (use) {
		createdStores.push(str);
	}
}

function addAction(act) {
	if (use) {
		createdActions.push(act);
	}
}

function reset() {
	while (createdStores.length) {
		createdStores.pop();
	}
	while (createdActions.length) {
		createdActions.pop();
	}
}

exports.useKeep = useKeep;
exports.addStore = addStore;
exports.addAction = addAction;
exports.createdStores = createdStores;
exports.createdActions = createdActions;
exports.reset = reset;
},{}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.joinStrict = exports.joinConcat = exports.joinLeading = exports.joinTrailing = exports.fetchInitialState = exports.stopListeningToAll = exports.stopListeningTo = exports.listenTo = exports.validateListening = exports.listenToMany = exports.hasListener = undefined;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _joins = require("./joins");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * Extract child listenables from a parent from their
 * children property and return them in a keyed Object
 *
 * @param {Object} listenable The parent listenable
 */
var mapChildListenables = function mapChildListenables(listenable) {
    var i = 0,
        children = {},
        childName;
    for (; i < (listenable.children || []).length; ++i) {
        childName = listenable.children[i];
        if (listenable[childName]) {
            children[childName] = listenable[childName];
        }
    }
    return children;
};

/**
 * Make a flat dictionary of all listenables including their
 * possible children (recursively), concatenating names in camelCase.
 *
 * @param {Object} listenables The top-level listenables
 */
var flattenListenables = function flattenListenables(listenables) {
    var flattened = {};
    for (var key in listenables) {
        var listenable = listenables[key];
        var childMap = mapChildListenables(listenable);

        // recursively flatten children
        var children = flattenListenables(childMap);

        // add the primary listenable and chilren
        flattened[key] = listenable;
        for (var childKey in children) {
            var childListenable = children[childKey];
            flattened[key + _.capitalize(childKey)] = childListenable;
        }
    }

    return flattened;
};

/**
 * An internal utility function used by `validateListening`
 *
 * @param {Action|Store} listenable The listenable we want to search for
 * @returns {Boolean} The result of a recursive search among `this.subscriptions`
 */
var hasListener = exports.hasListener = function hasListener(listenable) {
    var i = 0,
        j,
        listener,
        listenables;
    for (; i < (this.subscriptions || []).length; ++i) {
        listenables = [].concat(this.subscriptions[i].listenable);
        for (j = 0; j < listenables.length; j++) {
            listener = listenables[j];
            if (listener === listenable || listener.hasListener && listener.hasListener(listenable)) {
                return true;
            }
        }
    }
    return false;
};

/**
 * A convenience method that listens to all listenables in the given object.
 *
 * @param {Object} listenables An object of listenables. Keys will be used as callback method names.
 */
var listenToMany = exports.listenToMany = function listenToMany(listenables) {
    var allListenables = flattenListenables(listenables);
    for (var key in allListenables) {
        var cbname = _.callbackName(key),
            localname = this[cbname] ? cbname : this[key] ? key : undefined;
        if (localname) {
            this.listenTo(allListenables[key], localname, this[cbname + "Default"] || this[localname + "Default"] || localname);
        }
    }
};

/**
 * Checks if the current context can listen to the supplied listenable
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @returns {String|Undefined} An error message, or undefined if there was no problem.
 */
var validateListening = exports.validateListening = function validateListening(listenable) {
    if (listenable === this) {
        return "Listener is not able to listen to itself";
    }
    if (!_.isFunction(listenable.listen)) {
        return listenable + " is missing a listen method";
    }
    if (listenable.hasListener && listenable.hasListener(this)) {
        return "Listener cannot listen to this listenable because of circular loop";
    }
};

/**
 * Sets up a subscription to the given listenable for the context object
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @param {Function|String} callback The callback to register as event handler
 * @param {Function|String} defaultCallback The callback to register as default handler
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is the object being listened to
 */
var listenTo = exports.listenTo = function listenTo(listenable, callback, defaultCallback) {
    var desub,
        unsubscriber,
        subscriptionobj,
        subs = this.subscriptions = this.subscriptions || [];
    _.throwIf(this.validateListening(listenable));
    this.fetchInitialState(listenable, defaultCallback);
    desub = listenable.listen(this[callback] || callback, this);
    unsubscriber = function unsubscriber() {
        var index = subs.indexOf(subscriptionobj);
        _.throwIf(index === -1, "Tried to remove listen already gone from subscriptions list!");
        subs.splice(index, 1);
        desub();
    };
    subscriptionobj = {
        stop: unsubscriber,
        listenable: listenable
    };
    subs.push(subscriptionobj);
    return subscriptionobj;
};

/**
 * Stops listening to a single listenable
 *
 * @param {Action|Store} listenable The action or store we no longer want to listen to
 * @returns {Boolean} True if a subscription was found and removed, otherwise false.
 */
var stopListeningTo = exports.stopListeningTo = function stopListeningTo(listenable) {
    var sub,
        i = 0,
        subs = this.subscriptions || [];
    for (; i < subs.length; i++) {
        sub = subs[i];
        if (sub.listenable === listenable) {
            sub.stop();
            _.throwIf(subs.indexOf(sub) !== -1, "Failed to remove listen from subscriptions list!");
            return true;
        }
    }
    return false;
};

/**
 * Stops all subscriptions and empties subscriptions array
 */
var stopListeningToAll = exports.stopListeningToAll = function stopListeningToAll() {
    var remaining,
        subs = this.subscriptions || [];
    while (remaining = subs.length) {
        subs[0].stop();
        _.throwIf(subs.length !== remaining - 1, "Failed to remove listen from subscriptions list!");
    }
};

/**
 * Used in `listenTo`. Fetches initial data from a publisher if it has a `getInitialState` method.
 * @param {Action|Store} listenable The publisher we want to get initial state from
 * @param {Function|String} defaultCallback The method to receive the data
 */
var fetchInitialState = exports.fetchInitialState = function fetchInitialState(listenable, defaultCallback) {
    defaultCallback = defaultCallback && this[defaultCallback] || defaultCallback;
    var me = this;
    if (_.isFunction(defaultCallback) && _.isFunction(listenable.getInitialState)) {
        var data = listenable.getInitialState();
        if (data && _.isFunction(data.then)) {
            data.then(function () {
                defaultCallback.apply(me, arguments);
            });
        } else {
            defaultCallback.call(this, data);
        }
    }
};

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with the last emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinTrailing = exports.joinTrailing = (0, _joins.instanceJoinCreator)("last");

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with the first emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinLeading = exports.joinLeading = (0, _joins.instanceJoinCreator)("first");

/**
 * The callback will be called once all listenables have triggered at least once.
 * It will be invoked with all emission from each listenable.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinConcat = exports.joinConcat = (0, _joins.instanceJoinCreator)("all");

/**
 * The callback will be called once all listenables have triggered.
 * If a callback triggers twice before that happens, an error is thrown.
 * @param {...Publishers} publishers Publishers that should be tracked.
 * @param {Function|String} callback The method to call when all publishers have emitted
 * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables
 */
var joinStrict = exports.joinStrict = (0, _joins.instanceJoinCreator)("strict");
},{"./joins":32,"./utils":34}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.deferWith = exports.triggerAsync = exports.trigger = exports.listen = exports.shouldEmit = exports.preEmit = undefined;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * A module of methods for object that you want to be able to listen to.
 * This module is consumed by `createStore` and `createAction`
 */

/**
 * Hook used by the publisher that is invoked before emitting
 * and before `shouldEmit`. The arguments are the ones that the action
 * is invoked with. If this function returns something other than
 * undefined, that will be passed on as arguments for shouldEmit and
 * emission.
 */
var preEmit = exports.preEmit = function preEmit() {};

/**
 * Hook used by the publisher after `preEmit` to determine if the
 * event should be emitted with given arguments. This may be overridden
 * in your application, default implementation always returns true.
 *
 * @returns {Boolean} true if event should be emitted
 */
var shouldEmit = exports.shouldEmit = function shouldEmit() {
    return true;
};

/**
 * Subscribes the given callback for action triggered
 *
 * @param {Function} callback The callback to register as event handler
 * @param {Mixed} [optional] bindContext The context to bind the callback with
 * @returns {Function} Callback that unsubscribes the registered event handler
 */
var listen = exports.listen = function listen(callback, bindContext) {
    bindContext = bindContext || this;
    var eventHandler = function eventHandler(args) {
        if (aborted) {
            return;
        }
        callback.apply(bindContext, args);
    },
        me = this,
        aborted = false;
    this.emitter.addListener(this.eventLabel, eventHandler);
    return function () {
        aborted = true;
        me.emitter.removeListener(me.eventLabel, eventHandler);
    };
};

/**
 * Publishes an event using `this.emitter` (if `shouldEmit` agrees)
 */
var trigger = exports.trigger = function trigger() {
    var args = arguments,
        pre = this.preEmit.apply(this, args);
    args = pre === undefined ? args : _.isArguments(pre) ? pre : [].concat(pre);
    if (this.shouldEmit.apply(this, args)) {
        this.emitter.emit(this.eventLabel, args);
    }
};

/**
 * Tries to publish the event on the next tick
 */
var triggerAsync = exports.triggerAsync = function triggerAsync() {
    var args = arguments,
        me = this;
    _.nextTick(function () {
        me.trigger.apply(me, args);
    });
};

/**
 * Wraps the trigger mechanism with a deferral function.
 *
 * @param {Function} callback the deferral function,
 *        first argument is the resolving function and the
 *        rest are the arguments provided from the previous
 *        trigger invocation
 */
var deferWith = exports.deferWith = function deferWith(callback) {
    var oldTrigger = this.trigger,
        ctx = this,
        resolver = function resolver() {
        oldTrigger.apply(ctx, arguments);
    };
    this.trigger = function () {
        callback.apply(ctx, [resolver].concat([].splice.call(arguments, 0)));
    };
};
},{"./utils":34}],27:[function(require,module,exports){
arguments[4][23][0].apply(exports,arguments)
},{"dup":23}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.bindMethods = bindMethods;
function bindMethods(store, definition) {
    for (var name in definition) {
        if (Object.getOwnPropertyDescriptor && Object.defineProperty) {
            var propertyDescriptor = Object.getOwnPropertyDescriptor(definition, name);

            if (!propertyDescriptor.value || typeof propertyDescriptor.value !== "function" || !definition.hasOwnProperty(name)) {
                continue;
            }

            store[name] = definition[name].bind(store);
        } else {
            var property = definition[name];

            if (typeof property !== "function" || !definition.hasOwnProperty(name)) {
                continue;
            }

            store[name] = property.bind(store);
        }
    }

    return store;
}
},{}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createAction = createAction;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _ActionMethods = require("./ActionMethods");

var ActionMethods = _interopRequireWildcard(_ActionMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _Keep = require("./Keep");

var Keep = _interopRequireWildcard(_Keep);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var allowed = { preEmit: 1, shouldEmit: 1 };

/**
 * Creates an action functor object. It is mixed in with functions
 * from the `PublisherMethods` mixin. `preEmit` and `shouldEmit` may
 * be overridden in the definition object.
 *
 * @param {Object} definition The action object definition
 */
function createAction(definition) {

    definition = definition || {};
    if (!_.isObject(definition)) {
        definition = { actionName: definition };
    }

    for (var a in ActionMethods) {
        if (!allowed[a] && PublisherMethods[a]) {
            throw new Error("Cannot override API method " + a + " in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");
        }
    }

    for (var d in definition) {
        if (!allowed[d] && PublisherMethods[d]) {
            throw new Error("Cannot override API method " + d + " in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");
        }
    }

    definition.children = definition.children || [];
    if (definition.asyncResult) {
        definition.children = definition.children.concat(["completed", "failed"]);
    }

    var i = 0,
        childActions = {};
    for (; i < definition.children.length; i++) {
        var chDef = definition.children[i];
        var chName = typeof chDef === "string" ? chDef : chDef.actionName;
        childActions[chName] = createAction(chDef);
    }

    var context = _.extend({
        eventLabel: "action",
        emitter: new _.EventEmitter(),
        _isAction: true
    }, PublisherMethods, ActionMethods, definition);

    var functor = function functor() {
        var hasChildActions = false;
        /* eslint no-unused-vars:0 */
        for (var ignore in functor.childActions) {
            hasChildActions = true;break;
        }
        var async = !functor.sync && typeof functor.sync !== "undefined" || hasChildActions;
        var triggerType = async ? "triggerAsync" : "trigger";
        return functor[triggerType].apply(functor, arguments);
    };

    _.extend(functor, childActions, context);

    Keep.addAction(functor);

    return functor;
}
},{"./ActionMethods":23,"./Keep":24,"./PublisherMethods":26,"./utils":34}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createStore = createStore;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _Keep = require("./Keep");

var Keep = _interopRequireWildcard(_Keep);

var _mixer = require("./mixer");

var _bindMethods = require("./bindMethods");

var _StoreMethods = require("./StoreMethods");

var StoreMethods = _interopRequireWildcard(_StoreMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _ListenerMethods = require("./ListenerMethods");

var ListenerMethods = _interopRequireWildcard(_ListenerMethods);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var allowed = { preEmit: 1, shouldEmit: 1 };

/**
 * Creates an event emitting Data Store. It is mixed in with functions
 * from the `ListenerMethods` and `PublisherMethods` mixins. `preEmit`
 * and `shouldEmit` may be overridden in the definition object.
 *
 * @param {Object} definition The data store object definition
 * @returns {Store} A data store instance
 */
function createStore(definition) {

    definition = definition || {};

    for (var a in StoreMethods) {
        if (!allowed[a] && (PublisherMethods[a] || ListenerMethods[a])) {
            throw new Error("Cannot override API method " + a + " in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");
        }
    }

    for (var d in definition) {
        if (!allowed[d] && (PublisherMethods[d] || ListenerMethods[d])) {
            throw new Error("Cannot override API method " + d + " in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");
        }
    }

    definition = (0, _mixer.mix)(definition);

    function Store() {
        var i = 0,
            arr;
        this.subscriptions = [];
        this.emitter = new _.EventEmitter();
        this.eventLabel = "change";
        (0, _bindMethods.bindMethods)(this, definition);
        if (this.init && _.isFunction(this.init)) {
            this.init();
        }
        if (this.listenables) {
            arr = [].concat(this.listenables);
            for (; i < arr.length; i++) {
                this.listenToMany(arr[i]);
            }
        }
    }

    _.extend(Store.prototype, ListenerMethods, PublisherMethods, StoreMethods, definition);

    var store = new Store();
    Keep.addStore(store);

    return store;
}
},{"./Keep":24,"./ListenerMethods":25,"./PublisherMethods":26,"./StoreMethods":27,"./bindMethods":28,"./mixer":33,"./utils":34}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.__keep = exports.joinConcat = exports.joinStrict = exports.joinLeading = exports.all = exports.joinTrailing = exports.use = exports.nextTick = exports.setEventEmitter = exports.createActions = exports.createStore = exports.createAction = exports.utils = exports.StoreMethods = exports.PublisherMethods = exports.ListenerMethods = exports.ActionMethods = exports.version = undefined;

var _ActionMethods = require("./ActionMethods");

var ActionMethods = _interopRequireWildcard(_ActionMethods);

var _ListenerMethods = require("./ListenerMethods");

var ListenerMethods = _interopRequireWildcard(_ListenerMethods);

var _PublisherMethods = require("./PublisherMethods");

var PublisherMethods = _interopRequireWildcard(_PublisherMethods);

var _StoreMethods = require("./StoreMethods");

var StoreMethods = _interopRequireWildcard(_StoreMethods);

var _joins = require("./joins");

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

var _createAction = require("./createAction");

var _createStore = require("./createStore");

var _Keep = require("./Keep");

var __keep = _interopRequireWildcard(_Keep);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var version = {
    "reflux-core": "1.0.0"
};

var joinTrailing = (0, _joins.staticJoinCreator)("last");
var all = joinTrailing; // Reflux.all alias for backward compatibility
var joinLeading = (0, _joins.staticJoinCreator)("first");
var joinStrict = (0, _joins.staticJoinCreator)("strict");
var joinConcat = (0, _joins.staticJoinCreator)("all");

var utils = _;


/**
 * Convenience function for creating a set of actions
 *
 * @param definitions the definitions for the actions to be created
 * @returns an object with actions of corresponding action names
 */
var createActions = function () {
    var reducer = function reducer(definitions, actions) {
        Object.keys(definitions).forEach(function (actionName) {
            var val = definitions[actionName];
            actions[actionName] = (0, _createAction.createAction)(val);
        });
    };

    return function (definitions) {
        var actions = {};
        if (definitions instanceof Array) {
            definitions.forEach(function (val) {
                if (_.isObject(val)) {
                    reducer(val, actions);
                } else {
                    actions[val] = (0, _createAction.createAction)(val);
                }
            });
        } else {
            reducer(definitions, actions);
        }
        return actions;
    };
}();

/**
 * Sets the eventmitter that Reflux uses
 */
function setEventEmitter(ctx) {
    _.EventEmitter = ctx;
}

/**
 * Sets the method used for deferring actions and stores
 */
function nextTick(nextTick) {
    _.nextTick = nextTick;
}

function use(pluginCb) {
    pluginCb(this);
}

/**
 * Provides the set of created actions and stores for introspection
 */
/*eslint-disable no-underscore-dangle*/


// export in format that supports syntax: var Reflux = require('reflux-core');
exports.version = version;
exports.ActionMethods = ActionMethods;
exports.ListenerMethods = ListenerMethods;
exports.PublisherMethods = PublisherMethods;
exports.StoreMethods = StoreMethods;
exports.utils = utils;
exports.createAction = _createAction.createAction;
exports.createStore = _createStore.createStore;
exports.createActions = createActions;
exports.setEventEmitter = setEventEmitter;
exports.nextTick = nextTick;
exports.use = use;
exports.joinTrailing = joinTrailing;
exports.all = all;
exports.joinLeading = joinLeading;
exports.joinStrict = joinStrict;
exports.joinConcat = joinConcat;
exports.__keep = __keep;
/*eslint-enable no-underscore-dangle*/

// export in format that supports syntax: import Reflux from 'reflux-core';

Object.defineProperty(exports, "default", {
    get: function get() {
        return exports;
    }
});

/**
 * Warn if Function.prototype.bind not available
 */
if (!Function.prototype.bind) {
    console.error("Function.prototype.bind not available. " + "ES5 shim required. " + "https://github.com/spoike/refluxjs#es5");
}
},{"./ActionMethods":23,"./Keep":24,"./ListenerMethods":25,"./PublisherMethods":26,"./StoreMethods":27,"./createAction":29,"./createStore":30,"./joins":32,"./utils":34}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.staticJoinCreator = staticJoinCreator;
exports.instanceJoinCreator = instanceJoinCreator;

var _createStore = require("./createStore");

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * Internal module used to create static and instance join methods
 */

var slice = Array.prototype.slice,
    strategyMethodNames = {
    strict: "joinStrict",
    first: "joinLeading",
    last: "joinTrailing",
    all: "joinConcat"
};

/**
 * Used in `index.js` to create the static join methods
 * @param {String} strategy Which strategy to use when tracking listenable trigger arguments
 * @returns {Function} A static function which returns a store with a join listen on the given listenables using the given strategy
 */
function staticJoinCreator(strategy) {
    return function () /* listenables... */{
        var listenables = slice.call(arguments);
        return (0, _createStore.createStore)({
            init: function init() {
                this[strategyMethodNames[strategy]].apply(this, listenables.concat("triggerAsync"));
            }
        });
    };
}

/**
 * Used in `ListenerMethods.js` to create the instance join methods
 * @param {String} strategy Which strategy to use when tracking listenable trigger arguments
 * @returns {Function} An instance method which sets up a join listen on the given listenables using the given strategy
 */
function instanceJoinCreator(strategy) {
    return function () /* listenables..., callback*/{
        _.throwIf(arguments.length < 2, "Cannot create a join with less than 2 listenables!");
        var listenables = slice.call(arguments),
            callback = listenables.pop(),
            numberOfListenables = listenables.length,
            join = {
            numberOfListenables: numberOfListenables,
            callback: this[callback] || callback,
            listener: this,
            strategy: strategy
        },
            i,
            cancels = [],
            subobj;
        for (i = 0; i < numberOfListenables; i++) {
            _.throwIf(this.validateListening(listenables[i]));
        }
        for (i = 0; i < numberOfListenables; i++) {
            cancels.push(listenables[i].listen(newListener(i, join), this));
        }
        reset(join);
        subobj = { listenable: listenables };
        subobj.stop = makeStopper(subobj, cancels, this);
        this.subscriptions = (this.subscriptions || []).concat(subobj);
        return subobj;
    };
}

// ---- internal join functions ----

function makeStopper(subobj, cancels, context) {
    return function () {
        var i,
            subs = context.subscriptions,
            index = subs ? subs.indexOf(subobj) : -1;
        _.throwIf(index === -1, "Tried to remove join already gone from subscriptions list!");
        for (i = 0; i < cancels.length; i++) {
            cancels[i]();
        }
        subs.splice(index, 1);
    };
}

function reset(join) {
    join.listenablesEmitted = new Array(join.numberOfListenables);
    join.args = new Array(join.numberOfListenables);
}

function newListener(i, join) {
    return function () {
        var callargs = slice.call(arguments);
        if (join.listenablesEmitted[i]) {
            switch (join.strategy) {
                case "strict":
                    throw new Error("Strict join failed because listener triggered twice.");
                case "last":
                    join.args[i] = callargs;break;
                case "all":
                    join.args[i].push(callargs);
            }
        } else {
            join.listenablesEmitted[i] = true;
            join.args[i] = join.strategy === "all" ? [callargs] : callargs;
        }
        emitIfAllListenablesEmitted(join);
    };
}

function emitIfAllListenablesEmitted(join) {
    for (var i = 0; i < join.numberOfListenables; i++) {
        if (!join.listenablesEmitted[i]) {
            return;
        }
    }
    join.callback.apply(join.listener, join.args);
    reset(join);
}
},{"./createStore":30,"./utils":34}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mix = mix;

var _utils = require("./utils");

var _ = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function mix(def) {
    var composed = {
        init: [],
        preEmit: [],
        shouldEmit: []
    };

    var updated = function mixDef(mixin) {
        var mixed = {};
        if (mixin.mixins) {
            mixin.mixins.forEach(function (subMixin) {
                _.extend(mixed, mixDef(subMixin));
            });
        }
        _.extend(mixed, mixin);
        Object.keys(composed).forEach(function (composable) {
            if (mixin.hasOwnProperty(composable)) {
                composed[composable].push(mixin[composable]);
            }
        });
        return mixed;
    }(def);

    if (composed.init.length > 1) {
        updated.init = function () {
            var args = arguments;
            composed.init.forEach(function (init) {
                init.apply(this, args);
            }, this);
        };
    }
    if (composed.preEmit.length > 1) {
        updated.preEmit = function () {
            return composed.preEmit.reduce(function (args, preEmit) {
                var newValue = preEmit.apply(this, args);
                return newValue === undefined ? args : [newValue];
            }.bind(this), arguments);
        };
    }
    if (composed.shouldEmit.length > 1) {
        updated.shouldEmit = function () {
            var args = arguments;
            return !composed.shouldEmit.some(function (shouldEmit) {
                return !shouldEmit.apply(this, args);
            }, this);
        };
    }
    Object.keys(composed).forEach(function (composable) {
        if (composed[composable].length === 1) {
            updated[composable] = composed[composable][0];
        }
    });

    return updated;
}
},{"./utils":34}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.capitalize = capitalize;
exports.callbackName = callbackName;
exports.isObject = isObject;
exports.extend = extend;
exports.isFunction = isFunction;
exports.nextTick = nextTick;
exports.object = object;
exports.isArguments = isArguments;
exports.throwIf = throwIf;
function capitalize(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}

function callbackName(string, prefix) {
    prefix = prefix || "on";
    return prefix + exports.capitalize(string);
}

/*
 * isObject, extend, isFunction, isArguments are taken from underscore/lodash in
 * order to remove the dependency
 */
function isObject(obj) {
    var type = typeof obj === "undefined" ? "undefined" : _typeof(obj);
    return type === "function" || type === "object" && !!obj;
}

function extend(obj) {
    if (!isObject(obj)) {
        return obj;
    }
    var source, keys, prop;
    for (var i = 1, length = arguments.length; i < length; i++) {
        source = arguments[i];
        keys = Object.keys(source);
        for (var j = 0; j < keys.length; j++) {
            prop = keys[j];
            if (Object.getOwnPropertyDescriptor && Object.defineProperty) {
                var propertyDescriptor = Object.getOwnPropertyDescriptor(source, prop);
                Object.defineProperty(obj, prop, propertyDescriptor);
            } else {
                obj[prop] = source[prop];
            }
        }
    }
    return obj;
}

function isFunction(value) {
    return typeof value === "function";
}

exports.EventEmitter = require("eventemitter3");

function nextTick(callback) {
    setTimeout(callback, 0);
}

function object(keys, vals) {
    var o = {},
        i = 0;
    for (; i < keys.length; i++) {
        o[keys[i]] = vals[i];
    }
    return o;
}

function isArguments(value) {
    return (typeof value === "undefined" ? "undefined" : _typeof(value)) === "object" && "callee" in value && typeof value.length === "number";
}

function throwIf(val, msg) {
    if (val) {
        throw Error(msg || val);
    }
}
},{"eventemitter3":20}],35:[function(require,module,exports){
var _ = require('reflux-core/lib/utils'),
    ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A module meant to be consumed as a mixin by a React component. Supplies the methods from
 * `ListenerMethods` mixin and takes care of teardown of subscriptions.
 * Note that if you're using the `connect` mixin you don't need this mixin, as connect will
 * import everything this mixin contains!
 */
module.exports = _.extend({

    /**
     * Cleans up all listener previously registered.
     */
    componentWillUnmount: ListenerMethods.stopListeningToAll

}, ListenerMethods);

},{"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],36:[function(require,module,exports){

/* globals React: false */

var Reflux = require('reflux-core');
Reflux.defineReact = require('./defineReact');

// useful utility for ES6 work, mimics the ability to extend
Reflux.utils.inherits = function(subClass, superClass) {
	if (typeof superClass !== "function" && superClass !== null) {
		throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
	}
	subClass.prototype = Object.create(superClass && superClass.prototype, {
		constructor: {
			value: subClass,
			enumerable: false,
			writable: true,
			configurable: true
		}
	});
	if (superClass) {
		if (Object.setPrototypeOf) {
			Object.setPrototypeOf(subClass, superClass);
		} else {
			/* jshint proto: true */
			subClass.__proto__ = superClass;
		}
	}
};

// first try to see if there's a global React var and use it
if (typeof React !== 'undefined' && React) {
	Reflux.defineReact(React);
// otherwise we're gonna resort to 'try' stuff in case of other environments
} else {
	try {
		var R = require("react"); // we ignore this in browserify manually (see grunt file), so it's more of a doublecheck for in node
		Reflux.defineReact(R);
	} catch (e) {}
}

},{"./defineReact":39,"react":"react","reflux-core":31}],37:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods'),
    ListenerMixin = require('./ListenerMixin'),
    _ = require('reflux-core/lib/utils');

module.exports = function(listenable, key) {

    _.throwIf(typeof(key) === 'undefined', 'Reflux.connect() requires a key.');

    return {
        getInitialState: function() {
            if (!_.isFunction(listenable.getInitialState)) {
                return {};
            }

            return _.object([key],[listenable.getInitialState()]);
        },
        componentDidMount: function() {
            var me = this;

            _.extend(me, ListenerMethods);

            this.listenTo(listenable, function(v) {
                me.setState(_.object([key],[v]));
            });
        },
        componentWillUnmount: ListenerMixin.componentWillUnmount
    };
};

},{"./ListenerMixin":35,"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],38:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods'),
    ListenerMixin = require('./ListenerMixin'),
    _ = require('reflux-core/lib/utils');

module.exports = function(listenable, key, filterFunc) {

    _.throwIf(_.isFunction(key), 'Reflux.connectFilter() requires a key.');

    return {
        getInitialState: function() {
            if (!_.isFunction(listenable.getInitialState)) {
                return {};
            }

            // Filter initial payload from store.
            var result = filterFunc.call(this, listenable.getInitialState());
            if (typeof(result) !== 'undefined') {
                return _.object([key], [result]);
            } else {
                return {};
            }
        },
        componentDidMount: function() {
            var me = this;

            _.extend(this, ListenerMethods);

            this.listenTo(listenable, function(value) {
                var result = filterFunc.call(me, value);
                me.setState(_.object([key], [result]));
            });
        },
        componentWillUnmount: ListenerMixin.componentWillUnmount
    };
};

},{"./ListenerMixin":35,"reflux-core/lib/ListenerMethods":25,"reflux-core/lib/utils":34}],39:[function(require,module,exports){
/* globals React: false */

var Reflux = require('reflux-core');

/**
 * Reflux.defineReact function where you can manually supply
 * the React object in order to create in case Reflux needs to load before
 * React or there is a modular environment where there won't be a global
 * React variable.
 * @note The third param is for internal usage only.
 */
var _react, _defined = false;
function defineReact(react, noLongerUsed, extend)
{
	var proto, _extend;
	
	// if no Reflux object is yet available then return and just wait until defineReact is called manually with it
	try {
		_react  = react  || _react  || React;
		_extend = extend || _react.Component;
	} catch (e) {
		return;
	}
	
	// if Reflux and React aren't present then ignore, wait until they are properly present
	// also ignore if it's been called before UNLESS there's manual extending happening
	if (!_react || !_extend || (_defined && !extend)) {
		return;
	}
	
	// ----------- BEGIN Reflux.Component ------------
	/**
	 * Reflux.Component:
	 * An implementation for idiomatic React.js classes that mix with
	 * Reflux stores. To utilize extend Reflux.Component instead of
	 * React.Component. Then you may hook any Reflux store that has a
	 * `this.state` property containing its state values to the component
	 * via `this.store` or an Array of Reflux stores via `this.stores` in
	 * the component's constructor (similar to how you assign initial state
	 * in the constructor in ES6 style React). The default values of the
	 * stores will automatically reflect in the component's state, and any
	 * further `trigger` calls from that store will update properties passed
	 * in the trigger into the component automatically.
	 */
	var RefluxComponent = function(props, context, updater) {
		_extend.call(this, props, context, updater);
	};
	
	// equivalent of `extends React.Component` or other class if provided via `extend` param
	Reflux.utils.inherits(RefluxComponent, _extend);
	
	proto = RefluxComponent.prototype;
	
	/**
	 * this.storeKeys
	 * When this is a falsey value (null by default) the component mixes in
	 * all properties from the stores attached to it and updates on changes
	 * from all of them. When set to an array of string keys it will only
	 * utilized state property names of those keys in any store attached. This
	 * lets you choose which parts of stores update the component on a component-
	 * by-component basis. If using this it is best set in the constructor.
	 */
	proto.storeKeys = null;
	
	// on the mounting of the component that is where the store/stores are attached and initialized if needed
	proto.componentWillMount = function () {
		// if there is a this.store then simply push it onto the this.stores array or make one if needed
		if (this.store) {
			if (Array.isArray(this.stores)) {
				this.stores.unshift(this.store);
			} else {
				this.stores = [this.store];
			}
		}
		
		if (this.stores) {
			this.__storeunsubscribes__ = this.__storeunsubscribes__ || [];
			var sS = this.setState.bind(this);
			// this handles the triggering of a store, checking what's updated if proto.storeKeys is utilized
			var onStoreTrigger = function(obj){
				var updateObj = filterByStoreKeys(this.storeKeys, obj);
				if (updateObj) {
					sS(updateObj);
				}
			}.bind(this);
			// for each store in this.stores...
			for (var i = 0, ii = this.stores.length; i < ii; i++) {
				var str = this.stores[i];
				// if's a function then we know it's a class getting passed, not an instance
				if (typeof str === 'function') {
					var storeId = str.id;
					// if there is NOT a .singleton property on the store then this store has not been initialized yet, so do so
					if (!str.singleton) {
						str.singleton = new str();
						if (storeId) {
							Reflux.stores[storeId] = str.singleton;
						}
					}
					// before we weren't sure if we were working with an instance or class, so now we know an instance is created set it
					// to the variables we were using so that we can just continue on knowing it's the instance we're working with
					this.stores[i] = str = str.singleton;
					// the instance should have an .id property as well if the class does, so set that here
					str.id = storeId;
					// if there is an id and there is a global state property for this store then merge
					// the properties from that global state into the default state of the store AND then
					// set the global state to that new state (since it may have previously been partial)
					if (storeId && Reflux.GlobalState[storeId]) {
						for (var key in Reflux.GlobalState[storeId]) {
							str.state[key] = Reflux.GlobalState[storeId][key];
						}
						Reflux.GlobalState[storeId] = str.state;
					// otherwise (if it has an id) set the global state to the default state of the store
					} else if (storeId) {
						Reflux.GlobalState[storeId] = str.state;
					}
					// if no id, then no messing with global state
				}
				// listen/subscribe for the ".trigger()" in the store, and track the unsubscribes so that we can unsubscribe on unmount
				if (!Reflux.serverMode) {
					this.__storeunsubscribes__.push(str.listen(onStoreTrigger));
				}
				// run set state so that it mixes in the props from the store with the component
				var updateObj = filterByStoreKeys(this.storeKeys, str.state);
				if (updateObj) {
					this.setState(updateObj);
				}
			}
		}
		
		// mapStoreToState needs to know if is ready to map or must wait
		this.__readytomap__ = true;
		// if there are mappings that were delayed, do them now
		var dmaps = this.__delayedmaps__;
		if (dmaps) {
			for (var j=0,jj=dmaps.length; j<jj; j++) {
				dmaps[j].func( dmaps[j].state );
			}
		}
		this.__delayedmaps__ = null;
	};
	
	// on the unmount phase of the component unsubscribe that which we subscribed earlier to keep our garbage trail clean
	proto.componentWillUnmount = function () {
		if (this.__storeunsubscribes__) {
			for (var i = 0, ii = this.__storeunsubscribes__.length; i < ii; i++) {
				this.__storeunsubscribes__[i]();
			}
		}
		this.__readytomap__ = false;
	};
	
	/**
	 * this.mapStoreToState
	 * This function allow you to supply map the state of a store to the
	 * state of this component manually via your own logic. This method
	 * is completely separate from this.store/this.stores and/or this.storeKeys.
	 * Call this function with an ES6 store (class or singleton instance) as the
	 * first argument and your filter function as the second. Your filter function
	 * will receive an object of the parts of the ES6 store being updated every
	 * time its setState is called. Your filter function then returns an object
	 * which will be merged with the component state (IF it has any properties at all,
	 * should you return a blank object the component will not rerender).
	 */
	proto.mapStoreToState = function(store, filterFunc)
	{
		// make sure we have a proper singleton instance to work with
		if (typeof store === 'function') {
			if (store.singleton) {
				store = store.singleton;
			} else {
				store = Reflux.initStore(store);
			}
		}
		
		// we need a closure so that the called function can remember the proper filter function to use, so function gets defined here
		var self = this;
		function onMapStoreTrigger(obj) {
			// get an object 
			var update = filterFunc.call(self, obj);
			// if no object returned from filter functions do nothing
			if (!update) {
				return;
			}
			// check if the update actually has any mapped props
			/*jshint unused: false */
			var hasProps = false;
			for (var check in update) {
				hasProps = true;
				break;
			}
			// if there were props mapped, then update via setState
			if (hasProps) {
				self.setState(update);
			}
		}
		
		// add the listener to know when the store is triggered
		this.__storeunsubscribes__ = this.__storeunsubscribes__ || [];
		this.__storeunsubscribes__.push(store.listen(onMapStoreTrigger));
		
		// now actually run onMapStoreTrigger with the full store state so that we immediately have all store state mapped to component state
		if (this.__readytomap__) {
			onMapStoreTrigger(store.state);
		} else {
			this.__delayedmaps__ = this.__delayedmaps__ || [];
			this.__delayedmaps__.push({func:onMapStoreTrigger, state:store.state});
		}
	};
	
	/**
	 * Reflux.Component.extend(OtherClass)
	 * This allows you to get classes that extend off of another React.Component
	 * inheriting class. For example if you're using a third party that uses
	 * components that allow `class MyComponent extends LibComponent` (where LibComponent
	 * itself extends React.Component) and you want to use that component with ES6 then
	 * you can make a class `var MyDualComponent = Reflux.Component.extend(LibComponent);`
	 * then you can use `class MyComponent extends MyDualComponent` to get the benefits
	 * of both libraries.
	 */
	RefluxComponent.extend = function(clss) {
		return defineReact(null, null, clss);
	};
	
	// if is being manually called with an `extend` argument present then just return the created class
	if (extend) {
		return RefluxComponent;
	}
	
	// otherwise set as Reflux.Component and continue with other normal definitions
	Reflux.Component = RefluxComponent;
	
	// also set Reflux.PureComponent (if it exists) using the .extend feature
	if (_react.PureComponent) {
		Reflux.PureComponent = RefluxComponent.extend(_react.PureComponent);
	}
	
	// ------------ END Reflux.Component ------------
	
	// --------- BEGIN Reflux.Store ------------
	/**
	 * Reflux.Store:
	 * Also implements optional Reflux.Store class that is idiomatic with
	 * the React ES6 style. You extend Reflux.Store and then the rest works
	 * the same as createStore, except the constructor instead of init, and
	 * it holds state in a state property, and a .setState method is available
	 * which automatically updates state and does a trigger. Then when using
	 * with this.store or this.stores in an ES6 component just plass the class,
	 * it will deal with a singleton instantiation of the class automatically.
	 */
	var RefluxStore = function() {
		// extending doesn't really work well here, so instead we create an internal instance
		// and just loop through its properties/methods and make a getter/setter for each
		// that will actually be getting and setting on that internal instance.
		this.__store__ = Reflux.createStore();
		this.state = {};
		var self = this;
		for (var key in this.__store__) {
			/*jshint loopfunc: true */
			(function (prop) {
				Object.defineProperty(self, prop, {
					get: function () { return self.__store__[prop]; },
					set: function (v) { self.__store__[prop] = v; }
				});
			})(key);
		}
	};
	
	proto = RefluxStore.prototype;
	
	// this defines the listenables property, mostly intended to be set as `this.listenables` in the constructor of the store
	// it is essentially a shortcut to the `listenToMany` method
	Object.defineProperty(proto, "listenables", {
		get: function () {
			return this.__listenables__;
		},
		set: function (v) {
			var Combined = {};
			if (Array.isArray(v)){
				v.forEach(function(obj) {
					for (var key in obj) {
						Combined[key] = obj[key];
					}
				});
			} else {
				Combined = v;
			}
			this.__listenables__ = Combined;
			this.listenToMany(Combined);
		},
		enumerable: true,
		configurable: true
	});
	
	// allows simple usage of `this.setState(obj)` within the store to both update the state and trigger the store to update
	// components that it is attached to in a simple way that is idiomatic with React
	proto.setState = function (obj) {
		// Object.assign(this.state, obj); // later turn this to Object.assign and remove loop once support is good enough
		for (var key in obj) {
			this.state[key] = obj[key];
		}
		// if there's an id (i.e. it's being tracked by the global state) then make sure to update the global state
		if (this.id) {
			Reflux.GlobalState[this.id] = this.state;
		}
		// trigger, because any component it's attached to is listening and will merge the store state into its own on a store trigger
		this.trigger(obj);
	};
	
	// this is a static property so that other code can identify that this is a Reflux.Store class
	// has issues specifically when using babel to transpile your ES6 stores for IE10 and below, not documented and shouldn't use yet
	Object.defineProperty(RefluxStore, "isES6Store", {
		get: function () {
			return true;
		},
		enumerable: true,
		configurable: true
	});
	
	// allows a shortcut for accessing MyStore.singleton.state as MyStore.state (since common usage makes a singleton)
	Object.defineProperty(RefluxStore, "state", {
		get: function () {
			if (!this.singleton) {
				throw new Error('Reflux.Store.state is inaccessible before the store has been initialized.');
			}
			return this.singleton.state;
		},
		enumerable: true,
		configurable: true
	});
	
	/* NOTE:
	If a Reflux.Store definition is given a static id property and used
	properly within a Reflux.Component or with Reflux.initStore then
	it will be added to the Reflux.GlobalState object which automatically tracks the
	current state of all such defined stores in the program. */
	
	Reflux.Store = RefluxStore;
	// ----------- END Reflux.Store -------------
	
	// --------- BEGIN Reflux Static Props/Methods ------------
	/**
	 * Reflux.GlobalState is where data is stored for any Reflux.Store that has a static id property. Each store's
	 * state will be on the Reflux.GlobalState object with the id as the key. So a store with the id "MyStore" and
	 * a state {"color":"red"} will end up with a Reflux.GlobalState of {"MyStore":{"color":"red"}}
	 * Reflux.GlobalState is an accessible part of the API. However, keep in mind that non-primitive properties you
	 * read off of it will continue to mutate and you can only manually mutate Reflux.GlobalState BEFORE any component
	 * mounting of components with ES6 stores. For more functionality look to Reflux.setGlobalState to change the global
	 * state at any point, and Reflux.getGlobalState to return a deep clone of the Reflux.GlobalState object which will
	 * not continue to mutate as Reflux.GlobalState continues to mutate.
	 */
	Reflux.GlobalState = Reflux.GlobalState || {};
	
	/**
	 * Reflux.stores
	 * All initialized stores that have an id will have a reference to their singleton stored here with the key being the id.
	 */
	Reflux.stores = {};
	
	/**
	 * Reflux.getGlobalState takes no arguments, and returns a deep clone of Reflux.GlobalState 
	 * which will not continue to mutate as Reflux.GlobalState does. It can essentially store
	 * snapshots of the global state as the program goes for saving or for in-app time travel.
	 */
	Reflux.getGlobalState = function() {
		return clone(Reflux.GlobalState);
	};
	
	/**
	 * Reflux.setGlobalState takes one argument that is a representation of the a possible
	 * global state. It updates all stores in the program to represent data in that given state.
	 * This includes triggering those stores so that that state is represented in any Reflux.Component
	 * instances they are attached to. Partial states may be given to it, and only the represented
	 * stores/state values will be updated.
	 */
	Reflux.setGlobalState = function(obj) {
		for (var storeID in obj) {
			if (Reflux.stores[storeID]) {
				Reflux.stores[storeID].setState(obj[storeID]);
			} else {
				Reflux.GlobalState[storeID] = obj[storeID];
			}
		}
	};
	
	/**
	 * Reflux.initStore takes one argument (a class that extends Reflux.Store) and returns a singleton
	 * intance of that class. Its main functionality is to be able to mimic what happens to stores attached to
	 * this.store or this.stores during the mounting phase of a component without having to actually attach the
	 * store to a component in order to work properly with the global state.
	 */
	// Reflux.initializeGlobalStore is kept for backwards compatibility, but deprecated since the function is
	// now for more broad instantiation of globally stored AND non-globally stored classes
	Reflux.initializeGlobalStore = Reflux.initStore = function(str) {
		var storeId = str.id;
		// if they're initializing something twice then we're done already, return it
		if (str.singleton) {
			return str.singleton;
		}
		// if no id then it's easy: just make new instance and set to singleton
		if (!storeId) {
			str.singleton = new str();
			return str.singleton;
		}
		// create the singleton and assign it to the class's singleton static property
		var inst = str.singleton = new str();
		// store it on the Reflux.stores array to be accessible later
		Reflux.stores[storeId] = inst;
		// the singleton instance itself should also have the id property of the class
		inst.id = storeId;
		// if the global state has something set for this id, copy it to the state and then
		// make sure to set the global state to the end result, since it may have only been partial
		if (Reflux.GlobalState[storeId]) {
			for (var key in Reflux.GlobalState[storeId]) {
				inst.state[key] = Reflux.GlobalState[storeId][key];
			}
			Reflux.GlobalState[storeId] = inst.state;
		// otherwise just set the global state to the default state of the class
		} else {
			Reflux.GlobalState[storeId] = inst.state;
		}
		// returns the singleton itself, though it will also be accessible as as `MyClass.singleton`
		return inst;
	};
	// --------- END Reflux Static Props/Methods ------------
	
	// so it knows not to redefine Reflux static stuff and stores if called again
	_defined = true;
}

// filters a state object by storeKeys array (if it exists)
// if filtering and obj contains no properties to use, returns false to let the component know not to update
function filterByStoreKeys(storeKeys, obj)
{
	// if there are not storeKeys defined then simply return the whole original object
	if (!storeKeys) {
		return obj;
	}
	// otherwise go through and only update properties that are in the storeKeys array, and return straight false if there are none
	var doUpdate = false;
	var updateObj = {};
	for (var i = 0, ii = storeKeys.length; i < ii; i++) {
		var prop = storeKeys[i];
		if (obj.hasOwnProperty(prop)) {
			doUpdate = true;
			updateObj[prop] = obj[prop];
		}
	}
	return doUpdate ? updateObj : false;
}

// this is utilized by some of the global state functionality in order to get a clone that will
// not continue to be modified as the GlobalState mutates
function clone(frm, to) {
	if (frm === null || typeof frm !== "object") {
		return frm;
	}
	if (frm.constructor !== Object && frm.constructor !== Array) {
		return frm;
	}
	if (frm.constructor === Date || frm.constructor === RegExp || frm.constructor === Function ||
		frm.constructor === String || frm.constructor === Number || frm.constructor === Boolean) {
		return new frm.constructor(frm);
	}
	to = to || new frm.constructor();
	for (var name in frm) {
		to[name] = typeof to[name] === "undefined" ? clone(frm[name], null) : to[name];
	}
	return to;
}

module.exports = defineReact;


},{"reflux-core":31}],40:[function(require,module,exports){
var Reflux = require('reflux-core');

Reflux.serverMode = typeof window !== 'object';

Reflux.connect = require('./connect');

Reflux.connectFilter = require('./connectFilter');

Reflux.ListenerMixin = require('./ListenerMixin');

Reflux.listenTo = require('./listenTo');

Reflux.listenToMany = require('./listenToMany');

require('./addES6');

module.exports = Reflux;

},{"./ListenerMixin":35,"./addES6":36,"./connect":37,"./connectFilter":38,"./listenTo":41,"./listenToMany":42,"reflux-core":31}],41:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A mixin factory for a React component. Meant as a more convenient way of using the `ListenerMixin`,
 * without having to manually set listeners in the `componentDidMount` method.
 *
 * @param {Action|Store} listenable An Action or Store that should be
 *  listened to.
 * @param {Function|String} callback The callback to register as event handler
 * @param {Function|String} defaultCallback The callback to register as default handler
 * @returns {Object} An object to be used as a mixin, which sets up the listener for the given listenable.
 */
module.exports = function(listenable,callback,initial){
    return {
        /**
         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`
         * and then make the call to `listenTo` with the arguments provided to the factory function
         */
        componentDidMount: function() {
            for(var m in ListenerMethods){
                if (this[m] !== ListenerMethods[m]){
                    if (this[m]){
                        throw "Can't have other property '"+m+"' when using Reflux.listenTo!";
                    }
                    this[m] = ListenerMethods[m];
                }
            }
            this.listenTo(listenable,callback,initial);
        },
        /**
         * Cleans up all listener previously registered.
         */
        componentWillUnmount: ListenerMethods.stopListeningToAll
    };
};

},{"reflux-core/lib/ListenerMethods":25}],42:[function(require,module,exports){
var ListenerMethods = require('reflux-core/lib/ListenerMethods');

/**
 * A mixin factory for a React component. Meant as a more convenient way of using the `listenerMixin`,
 * without having to manually set listeners in the `componentDidMount` method. This version is used
 * to automatically set up a `listenToMany` call.
 *
 * @param {Object} listenables An object of listenables
 * @returns {Object} An object to be used as a mixin, which sets up the listeners for the given listenables.
 */
module.exports = function(listenables){
    return {
        /**
         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`
         * and then make the call to `listenTo` with the arguments provided to the factory function
         */
        componentDidMount: function() {
            for(var m in ListenerMethods){
                if (this[m] !== ListenerMethods[m]){
                    if (this[m]){
                        throw "Can't have other property '"+m+"' when using Reflux.listenToMany!";
                    }
                    this[m] = ListenerMethods[m];
                }
            }
            this.listenToMany(listenables);
        },
        /**
         * Cleans up all listener previously registered.
         */
        componentWillUnmount: ListenerMethods.stopListeningToAll
    };
};

},{"reflux-core/lib/ListenerMethods":25}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXBwLmpzIiwiYXBwL2FwcGxpY2F0aW9uLmpzIiwiYXBwL2JvYXJkL2JvYXJkLmpzIiwiYXBwL2JvYXJkL21vZGVsLmpzIiwiYXBwL2NoYXJ0LmpzIiwiYXBwL2Zvb3Rlci5qcyIsImFwcC9oZWFkZXIuanMiLCJhcHAvaGlzdG9yeS5qcyIsImFwcC9wYW5lbC9hYm91dC5qcyIsImFwcC9wYW5lbC9idXR0b24vb25lc3RlcC5qcyIsImFwcC9wYW5lbC9idXR0b24vcmVzZXQuanMiLCJhcHAvcGFuZWwvYnV0dG9uL3N0YXJ0c3RvcC5qcyIsImFwcC9wYW5lbC9idXR0b25hcmVhLmpzIiwiYXBwL3BhbmVsL2lucHV0L2RlbnNpdHkuanMiLCJhcHAvcGFuZWwvaW5wdXQvaW5mb3JtYXRpb24uanMiLCJhcHAvcGFuZWwvaW5wdXQvc2l6ZS5qcyIsImFwcC9wYW5lbC9pbnB1dGFyZWEuanMiLCJhcHAvcGFuZWwvcGFuZWwuanMiLCJhcHAvc3RvcmUuanMiLCJub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9oaWdoY2hhcnRzL2hpZ2hjaGFydHMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtaGlnaGNoYXJ0cy9kaXN0L1JlYWN0SGlnaGNoYXJ0cy5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvQWN0aW9uTWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvS2VlcC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvTGlzdGVuZXJNZXRob2RzLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9QdWJsaXNoZXJNZXRob2RzLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9iaW5kTWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvY3JlYXRlQWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9jcmVhdGVTdG9yZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVmbHV4LWNvcmUvbGliL2pvaW5zLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC1jb3JlL2xpYi9taXhlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgtY29yZS9saWIvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9MaXN0ZW5lck1peGluLmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvYWRkRVM2LmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvY29ubmVjdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvc3JjL2Nvbm5lY3RGaWx0ZXIuanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9kZWZpbmVSZWFjdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWZsdXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZmx1eC9zcmMvbGlzdGVuVG8uanMiLCJub2RlX21vZHVsZXMvcmVmbHV4L3NyYy9saXN0ZW5Ub01hbnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsbUJBQVMsTUFBVCxDQUNJLDBEQURKLEVBRUksU0FBUyxjQUFULENBQXdCLEtBQXhCLENBRko7Ozs7Ozs7Ozs7O0FDSkE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNLFc7OztBQUNGLDJCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxhQUFmO0FBQ0kscUVBREo7QUFFSTtBQUFBO0FBQUEsc0JBQUssV0FBVSxLQUFmO0FBQ0ksd0VBREo7QUFFSTtBQUZKLGlCQUZKO0FBTUk7QUFOSixhQURKO0FBVUg7Ozs7RUFsQnFCLGlCQUFPLFM7O2tCQXFCbEIsVzs7Ozs7Ozs7Ozs7QUM5QmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7O0lBRU0sSzs7O0FBQ0YscUJBQWM7QUFBQTs7QUFBQTs7QUFFVixjQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsY0FBSyxLQUFMO0FBQ0EsY0FBSyxJQUFMLEdBQVksU0FBWjtBQUNBLGNBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxjQUFLLFVBQUwsR0FBa0IsT0FBbEI7QUFOVTtBQU9iOzs7OytCQUNNO0FBQ0gsZ0JBQUksS0FBSyxNQUFMLElBQWUsU0FBbkIsRUFBOEI7QUFDMUIscUJBQUssTUFBTCxHQUFjLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsVUFBaEIsQ0FBMkIsSUFBM0IsQ0FBZDtBQUNIO0FBQ0QsZ0JBQUksS0FBSyxLQUFMLElBQWMsU0FBbEIsRUFBNkI7QUFDekIscUJBQUssS0FBTCxHQUFXLFNBQVMsT0FBTyxnQkFBUCxDQUF3QixLQUFLLElBQUwsQ0FBVSxLQUFsQyxFQUF5QyxLQUFsRCxDQUFYO0FBQ0g7QUFDRCxnQkFBSSxLQUFLLE1BQUwsSUFBZSxTQUFuQixFQUE4QjtBQUMxQixxQkFBSyxNQUFMLEdBQVksU0FBUyxPQUFPLGdCQUFQLENBQXdCLEtBQUssSUFBTCxDQUFVLEtBQWxDLEVBQXlDLE1BQWxELENBQVo7QUFDSDtBQUNKOzs7OENBQ3FCLFMsRUFBVyxTLEVBQVc7QUFDeEMsaUJBQUssS0FBTDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxVQUFVLEtBQVYsQ0FBZ0IsS0FBNUI7QUFDQSxtQkFBTyxLQUFQO0FBQ0g7Ozs0Q0FDbUI7QUFDaEIsaUJBQUssS0FBTDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxLQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLEtBQTdCO0FBQ0g7OztnQ0FDTztBQUNKLGlCQUFLLElBQUw7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixHQUF3QixLQUFLLFVBQTdCO0FBQ0EsaUJBQUssTUFBTCxDQUFZLFFBQVosQ0FBcUIsQ0FBckIsRUFBdUIsQ0FBdkIsRUFBeUIsS0FBSyxLQUE5QixFQUFxQyxLQUFLLE1BQTFDO0FBQ0g7OztpQ0FDUSxDLEVBQUUsQyxFQUFFLEksRUFBSyxLLEVBQU0sSyxFQUFPO0FBQzNCLGdCQUFJLEtBQUcsS0FBRyxRQUFNLENBQVQsQ0FBUDtBQUNBLGdCQUFJLEtBQUcsS0FBRyxRQUFNLENBQVQsQ0FBUDtBQUNBLGlCQUFLLE1BQUwsQ0FBWSxTQUFaLEdBQXdCLEtBQUssQ0FBTCxFQUFRLENBQVIsSUFBVyxLQUFLLEtBQWhCLEdBQXNCLEtBQUssSUFBbkQ7QUFDQSxpQkFBSyxNQUFMLENBQVksUUFBWixDQUFxQixFQUFyQixFQUF5QixFQUF6QixFQUE2QixLQUE3QixFQUFvQyxLQUFwQztBQUNIOzs7K0JBQ00sSSxFQUFNO0FBQ1QsZ0JBQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxDQUFDLEtBQUssS0FBTCxHQUFXLEtBQUssQ0FBTCxFQUFRLE1BQW5CLEdBQTBCLENBQTNCLElBQThCLEtBQUssQ0FBTCxFQUFRLE1BQWpELENBQVo7QUFDQSxnQkFBSSxRQUFRLEtBQUssS0FBTCxDQUFXLENBQUMsS0FBSyxNQUFMLEdBQVksS0FBSyxNQUFqQixHQUF3QixDQUF6QixJQUE0QixLQUFLLE1BQTVDLENBQVo7QUFDQSxpQkFBSSxJQUFJLENBQVIsSUFBYSxJQUFiLEVBQW1CO0FBQ2Ysb0JBQUksU0FBUyxDQUFULENBQUo7QUFDQSxxQkFBSSxJQUFJLENBQVIsSUFBYSxLQUFLLENBQUwsQ0FBYixFQUFzQjtBQUNsQix3QkFBSSxTQUFTLENBQVQsQ0FBSjtBQUNBLHlCQUFLLFFBQUwsQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLElBQWxCLEVBQXVCLEtBQXZCLEVBQTZCLEtBQTdCO0FBQ0g7QUFDSjtBQUNKOzs7aUNBQ1E7QUFDTCxtQkFBTywwQ0FBUSxJQUFHLFFBQVgsRUFBb0IsV0FBVSxPQUE5QixFQUFzQyxLQUFJLE9BQTFDLEVBQWtELE9BQU0sT0FBeEQsRUFBZ0UsUUFBTyxPQUF2RSxHQUFQO0FBQ0g7Ozs7RUFyRGUsaUJBQU8sUzs7a0JBd0RaLEs7Ozs7Ozs7Ozs7O0FDNURmOzs7Ozs7OztJQUVNLEs7QUFDRixtQkFBWSxLQUFaLEVBQW1CLE1BQW5CLEVBQTJCLE9BQTNCLEVBQW9DO0FBQUE7O0FBQ2hDLFlBQUksU0FBUyxTQUFULElBQ0EsVUFBVSxTQURWLElBRUEsV0FBVyxTQUZmLEVBR0U7QUFDRixhQUFLLGFBQUwsQ0FBbUIsS0FBbkIsRUFBMEIsTUFBMUIsRUFBa0MsT0FBbEM7QUFDQSxhQUFLLE1BQUwsR0FBYyxFQUFkO0FBQ0EsYUFBSyxRQUFMLEdBQWdCLFVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBYSxLQUFiLEVBQW1CO0FBQUMsbUJBQU8sQ0FBUDtBQUFVLFNBQTlDLENBQStDLEtBQUssS0FBTCxHQUFXLENBQVg7QUFDbEQ7Ozs7c0NBRWEsSyxFQUFPLE0sRUFBUSxPLEVBQVM7QUFDbEMsaUJBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxpQkFBSyxNQUFMLEdBQWMsTUFBZDtBQUNBLGlCQUFLLElBQUwsR0FBWSxLQUFLLE1BQUwsR0FBWSxLQUFLLEtBQTdCO0FBQ0EsaUJBQUssT0FBTCxHQUFlLHNCQUFZLEdBQVosRUFBaUIsS0FBSyxJQUF0QixDQUFmO0FBQ0EsaUJBQUssT0FBTCxHQUFlLE9BQWY7QUFDQSxpQkFBSyxVQUFMLEdBQWtCLENBQWxCO0FBQ0EsZ0JBQUksUUFBUSxJQUFJLEtBQUosQ0FBVSxNQUFWLENBQVo7QUFDQSxpQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFhLElBQUUsTUFBZixFQUFzQixFQUFFLENBQXhCLEVBQTJCO0FBQ3ZCLHNCQUFNLENBQU4sSUFBVyxJQUFJLEtBQUosQ0FBVSxLQUFWLENBQVg7QUFDQSxxQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFhLElBQUUsS0FBZixFQUFxQixFQUFFLENBQXZCLEVBQTBCO0FBQ3RCLDBCQUFNLENBQU4sRUFBUyxDQUFULElBQWMsQ0FBZDtBQUNIO0FBQ0o7QUFDRCxnQkFBSSxTQUFTLFNBQVMsS0FBSyxPQUFMLEdBQWEsS0FBSyxJQUEzQixDQUFiO0FBQ0EsZ0JBQUksVUFBVSxDQUFkO0FBQ0EsbUJBQU8sVUFBVSxNQUFqQixFQUF5QjtBQUNyQixvQkFBSSxRQUFRLEtBQUssV0FBTCxFQUFaO0FBQ0Esb0JBQUksTUFBTSxNQUFNLENBQVosRUFBZSxNQUFNLENBQXJCLEtBQTJCLENBQS9CLEVBQWtDO0FBQzlCLDBCQUFNLE1BQU0sQ0FBWixFQUFlLE1BQU0sQ0FBckIsSUFBMEIsQ0FBMUI7QUFDQSxzQkFBRSxPQUFGO0FBQ0g7QUFDSjtBQUNELGlCQUFLLFVBQUwsR0FBa0IsTUFBbEI7QUFDQSxpQkFBSyxLQUFMLEdBQWEsS0FBYixDQUFtQixRQUFRLEdBQVIsQ0FBWSxLQUFLLEtBQWpCO0FBQ25CLGlCQUFLLE9BQUwsQ0FBYSxhQUFiLENBQTJCLEtBQUssVUFBaEM7QUFDSDs7OzBDQUVpQixTLEVBQVc7QUFDekIsaUJBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxpQkFBSyxLQUFMLEdBQWEsS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLE1BQTNCO0FBQ0EsaUJBQUssTUFBTCxHQUFjLEtBQUssS0FBTCxDQUFXLE1BQXpCO0FBQ0EsaUJBQUssSUFBTCxHQUFZLEtBQUssS0FBTCxHQUFhLEtBQUssTUFBOUI7QUFDQSxpQkFBSSxJQUFJLENBQVIsSUFBYSxLQUFLLEtBQWxCLEVBQXlCO0FBQ3JCLG9CQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0EscUJBQUssSUFBSSxDQUFULElBQWMsS0FBSyxLQUFMLENBQVcsQ0FBWCxDQUFkLEVBQTZCO0FBQ3pCLHdCQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0Esd0JBQUksS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsQ0FBSixFQUFzQjtBQUNsQiwwQkFBRSxLQUFLLFVBQVA7QUFDSDtBQUNKO0FBQ0o7QUFDSjs7O3NDQUVhO0FBQ1YsZ0JBQUksSUFBSSxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxLQUFoQyxDQUFSO0FBQ0EsZ0JBQUksSUFBSSxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxNQUFoQyxDQUFSLENBQWdELEtBQUssS0FBTDtBQUNoRCxtQkFBTyxFQUFDLEtBQUksQ0FBTCxFQUFRLEtBQUksQ0FBWixFQUFQO0FBQ0g7OztvQ0FDVyxRLEVBQVU7QUFDbEIsaUJBQUssUUFBTCxHQUFnQixRQUFoQjtBQUNIOzs7a0NBQ1MsTSxFQUFRO0FBQ2QsaUJBQUssTUFBTCxHQUFjLE1BQWQ7QUFDSDs7OzJDQUVrQixDLEVBQUcsUyxFQUFXO0FBQzdCLG1CQUFPLFNBQVMsQ0FBQyxJQUFFLFNBQUgsSUFBYyxTQUF2QixDQUFQO0FBQ0g7OzsyQ0FFa0IsQyxFQUFFLEMsRUFBRztBQUNwQixnQkFBSSxJQUFJLEtBQUssa0JBQUwsQ0FBd0IsQ0FBeEIsRUFBMkIsS0FBSyxLQUFoQyxDQUFSO0FBQ0EsZ0JBQUksSUFBSSxLQUFLLGtCQUFMLENBQXdCLENBQXhCLEVBQTJCLEtBQUssTUFBaEMsQ0FBUjtBQUNBLG1CQUFPLEVBQUMsS0FBSSxDQUFMLEVBQU8sS0FBSSxDQUFYLEVBQVA7QUFDSDs7O2lDQUVRLEMsRUFBRyxDLEVBQUc7QUFDWCxnQkFBSSxRQUFRLEtBQUssa0JBQUwsQ0FBd0IsQ0FBeEIsRUFBMkIsQ0FBM0IsQ0FBWixDQURXLENBQytCO0FBQzFDLG1CQUFPLEtBQUssS0FBTCxDQUFXLE1BQU0sQ0FBakIsRUFBb0IsTUFBTSxDQUExQixDQUFQO0FBQ0g7Ozt1Q0FFYyxDLEVBQUcsQyxFQUFHO0FBQ2pCLGdCQUFJLFVBQVUsQ0FBZDtBQUNBLGlCQUFJLElBQUksQ0FBUixJQUFhLEtBQUssTUFBbEIsRUFBMEI7QUFDdEIsb0JBQUcsS0FBSyxRQUFMLENBQWMsSUFBRSxLQUFLLE1BQUwsQ0FBWSxDQUFaLEVBQWUsQ0FBZixDQUFoQixFQUFtQyxJQUFFLEtBQUssTUFBTCxDQUFZLENBQVosRUFBZSxDQUFmLENBQXJDLENBQUgsRUFBNEQ7QUFDeEQsc0JBQUUsT0FBRjtBQUNIO0FBQ0o7QUFDRCxtQkFBTyxPQUFQO0FBQ0g7OzttQ0FFVTtBQUNQLGlCQUFLLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxpQkFBSSxJQUFJLENBQVIsSUFBYSxLQUFLLEtBQWxCLEVBQXlCO0FBQ3JCLG9CQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0EscUJBQUssSUFBSSxDQUFULElBQWMsS0FBSyxLQUFMLENBQVcsQ0FBWCxDQUFkLEVBQTZCO0FBQ3pCLHdCQUFJLFNBQVMsQ0FBVCxDQUFKO0FBQ0EseUJBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxDQUFkLElBQW1CLEtBQUssUUFBTCxDQUFjLEtBQUssUUFBTCxDQUFjLENBQWQsRUFBaUIsQ0FBakIsQ0FBZCxFQUFtQyxLQUFLLGNBQUwsQ0FBb0IsQ0FBcEIsRUFBc0IsQ0FBdEIsQ0FBbkMsQ0FBbkI7QUFDQSx3QkFBSSxLQUFLLEtBQUwsQ0FBVyxDQUFYLEVBQWMsQ0FBZCxDQUFKLEVBQXNCO0FBQ2xCLDBCQUFFLEtBQUssVUFBUDtBQUNIO0FBQ0o7QUFDSjtBQUNELGlCQUFLLE9BQUwsQ0FBYSxhQUFiLENBQTJCLEtBQUssVUFBaEM7QUFDSDs7Ozs7O2tCQUdVLEs7Ozs7Ozs7Ozs7O0FDOUdmOzs7Ozs7Ozs7Ozs7QUFDQSxJQUFNLGtCQUFrQixRQUFRLGtCQUFSLENBQXhCOztJQUVNLEs7Ozs7Ozs7Ozs7OzhDQUNvQixTLEVBQVcsUyxFQUFXO0FBQ3hDLGdCQUFJLFFBQVEsS0FBSyxJQUFMLENBQVUsS0FBVixDQUFnQixRQUFoQixFQUFaO0FBQ0EsZ0JBQUksVUFBVSxVQUFVLEtBQVYsQ0FBZ0IsT0FBOUI7QUFDQSxnQkFBSSxRQUFRLElBQVIsSUFBZ0IsQ0FBcEIsRUFBdUI7QUFDbkIsc0JBQU0sTUFBTixDQUFhLENBQWIsRUFBZ0IsT0FBaEIsQ0FBd0IsRUFBeEI7QUFDQSxzQkFBTSxNQUFOO0FBQ0g7QUFDRCxnQkFBSSxRQUFRLE1BQVIsRUFBSixFQUFzQjtBQUNsQixzQkFBTSxNQUFOLENBQWEsQ0FBYixFQUFnQixJQUFoQixDQUFxQixDQUFyQixFQUF3QixNQUF4QjtBQUNIO0FBQ0Qsa0JBQU0sTUFBTixDQUFhLENBQWIsRUFBZ0IsUUFBaEIsQ0FBeUIsRUFBQyxHQUFHLFFBQVEsSUFBWixFQUFrQixHQUFHLFFBQVEsWUFBUixFQUFyQixFQUF6QjtBQUNBLG1CQUFPLFFBQVEsSUFBUixJQUFnQixDQUF2QjtBQUNIOzs7aUNBQ1E7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxPQUFmO0FBQ0ksOENBQUMsZUFBRCxJQUFpQixRQUFRLEtBQUssS0FBTCxDQUFXLE1BQXBDLEVBQTRDLEtBQUksT0FBaEQ7QUFESixhQURKO0FBS0g7Ozs7RUFwQmUsZ0JBQU0sUzs7a0JBdUJYLEs7Ozs7Ozs7Ozs7O0FDMUJmOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRU0sTTs7O0FBQ0Ysc0JBQWM7QUFBQTs7QUFBQTs7QUFFVixjQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsY0FBSyxLQUFMO0FBSFU7QUFJYjs7OztpQ0FDUTtBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLFlBQWY7QUFDSSxpRUFBTyxPQUFPLEtBQUssS0FBTCxDQUFXLEtBQXpCLEVBQWdDLFFBQVEsS0FBSyxLQUFMLENBQVcsV0FBbkQ7QUFESixhQURKO0FBS0g7Ozs7RUFaZ0IsaUJBQU8sUzs7a0JBZWIsTTs7Ozs7Ozs7Ozs7QUNwQmY7Ozs7Ozs7Ozs7OztJQUVNLE07Ozs7Ozs7Ozs7O2lDQUNPO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsWUFBZjtBQUFBO0FBQUEsYUFESjtBQUtIOzs7O0VBUGdCLGdCQUFNLFM7O2tCQVVaLE07Ozs7Ozs7Ozs7Ozs7SUNaVCxPO0FBQ0YscUJBQVksS0FBWixFQUFtQixRQUFuQixFQUE2QixTQUE3QixFQUF3QztBQUFBOztBQUNwQyxZQUFJLFNBQVMsU0FBYixFQUF3QjtBQUNwQixvQkFBUSxHQUFSO0FBQ0g7QUFDRCxZQUFJLFlBQVksU0FBaEIsRUFBMkI7QUFDdkIsdUJBQVcsQ0FBWDtBQUNIO0FBQ0QsWUFBSSxhQUFhLFNBQWpCLEVBQTRCO0FBQ3hCLHdCQUFZLENBQVo7QUFDSDtBQUNELGFBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxhQUFLLElBQUwsR0FBWSxDQUFDLENBQWI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBaEI7QUFDQSxhQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFDQSxhQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFDSDs7Ozs0QkFFRyxLLEVBQU87QUFDUCxpQkFBSyxTQUFMLEdBQWlCLEtBQUssZ0JBQUwsQ0FBc0IsS0FBdEIsRUFBNkIsS0FBSyxTQUFsQyxDQUFqQjtBQUNBLGNBQUUsS0FBSyxJQUFQO0FBQ0g7OztzQ0FFYSxLLEVBQU87QUFDakIsaUJBQUssU0FBTCxHQUFpQixLQUFLLGdCQUFMLENBQXNCLFFBQU0sS0FBSyxRQUFqQyxFQUEyQyxLQUFLLFNBQWhELENBQWpCO0FBQ0EsY0FBRSxLQUFLLElBQVA7QUFDSDs7O3lDQUVnQixLLEVBQU8sUyxFQUFXO0FBQy9CLG1CQUFPLE9BQU8sS0FBUCxFQUFjLE9BQWQsQ0FBc0IsU0FBdEIsQ0FBUDtBQUNIOzs7cUNBRVksTSxFQUFRO0FBQ2pCLGdCQUFJLFFBQVEsS0FBSyxnQkFBTCxDQUFzQixLQUFLLFNBQUwsR0FBZSxLQUFyQyxFQUE0QyxLQUFLLFNBQUwsR0FBZSxDQUEzRCxDQUFaO0FBQ0EsZ0JBQUksV0FBVyxJQUFmLEVBQXFCO0FBQ2pCLHlCQUFTLEdBQVQ7QUFDQSx1QkFBTyxLQUFQO0FBQ0gsYUFIRCxNQUdPO0FBQ0gsdUJBQU8sV0FBVyxLQUFYLENBQVA7QUFDSDtBQUVKOzs7aUNBRVE7QUFDTCxtQkFBTyxLQUFLLElBQUwsSUFBYSxLQUFLLEtBQXpCO0FBQ0g7Ozs7OztrQkFHVSxPOzs7Ozs7Ozs7OztBQ2hEZjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRU0sSzs7Ozs7Ozs7Ozs7aUNBQ087QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxpQ0FBZjtBQUNJO0FBQUE7QUFBQSxzQkFBRyxXQUFVLFNBQWIsRUFBdUIsTUFBSyxvQkFBNUI7QUFDSSx5REFBRyxXQUFVLGtCQUFiLEVBQWdDLGVBQVksTUFBNUMsR0FESjtBQUFBO0FBQUEsaUJBREo7QUFJSTtBQUFBO0FBQUEsc0JBQUcsV0FBVSxTQUFiLEVBQXVCLE1BQUssZ0JBQTVCO0FBQ0kseURBQUcsV0FBVSxnQkFBYixFQUE4QixlQUFZLE1BQTFDLEdBREo7QUFBQTtBQUFBLGlCQUpKO0FBT0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsU0FBaEI7QUFBQTtBQUFBO0FBUEosYUFESjtBQWFIOzs7O0VBZmUsZ0JBQU0sUzs7a0JBa0JYLEs7Ozs7Ozs7Ozs7O0FDdkJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLE87OztBQUNGLHVCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBQ1E7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQVEsV0FBVSx5QkFBbEIsRUFBNEMsT0FBTSxZQUFsRCxFQUErRCxVQUFVLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsTUFBckIsR0FBOEIsRUFBdkcsRUFBMkcsU0FBUyxlQUFRLElBQTVIO0FBQ0kscURBQUcsV0FBVSxlQUFiLEVBQTZCLGVBQVksTUFBekM7QUFESixhQURKO0FBS0g7Ozs7RUFaaUIsaUJBQU8sUzs7a0JBZWQsTzs7Ozs7Ozs7Ozs7QUNuQmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7O0lBRU0sSzs7O0FBQ0YscUJBQWM7QUFBQTs7QUFBQTs7QUFFVixjQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsY0FBSyxLQUFMO0FBSFU7QUFJYjs7OztpQ0FFUTtBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBUSxXQUFVLHNCQUFsQixFQUF5QyxPQUFNLE9BQS9DLEVBQXVELFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUEvRixFQUFtRyxTQUFTLGVBQVEsS0FBcEg7QUFDSSxxREFBRyxXQUFVLGVBQWIsRUFBNkIsZUFBWSxNQUF6QztBQURKLGFBREo7QUFLSDs7OztFQWJlLGlCQUFPLFM7O2tCQWdCWixLOzs7Ozs7Ozs7OztBQ3BCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFTSxTOzs7QUFDRix5QkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxjQUFLLEtBQUw7QUFIVTtBQUliOzs7O2lDQUNRO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFRLFdBQVUsMkJBQWxCLEVBQThDLE9BQU8sS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixPQUFyQixHQUErQixPQUFwRixFQUE2RixTQUFTLGVBQVEsU0FBOUc7QUFDSSxxREFBRyxXQUFXLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsYUFBckIsR0FBcUMsWUFBbkQsRUFBaUUsZUFBWSxNQUE3RTtBQURKLGFBREo7QUFLSDs7OztFQVptQixpQkFBTyxTOztrQkFlaEIsUzs7Ozs7Ozs7Ozs7QUNuQmY7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNLFU7Ozs7Ozs7Ozs7O2lDQUNPO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsa0NBQWY7QUFDSSx3RUFESjtBQUVJLHNFQUZKO0FBR0k7QUFISixhQURKO0FBT0g7Ozs7RUFUb0IsZ0JBQU0sUzs7a0JBWWhCLFU7Ozs7Ozs7Ozs7O0FDakJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLE87OztBQUNGLHVCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxhQUFmO0FBQ0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsT0FBaEI7QUFBQTtBQUFBLGlCQURKO0FBRUkseURBQU8sTUFBSyxRQUFaLEVBQXFCLE1BQUssTUFBMUIsRUFBaUMsS0FBSSxLQUFyQyxFQUEyQyxLQUFJLE1BQS9DLEVBQXNELFdBQVUscUJBQWhFLEVBQXNGLFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUE5SCxFQUFrSSxPQUFPLEtBQUssS0FBTCxDQUFXLE9BQXBKLEVBQTZKLFVBQVUsZUFBUSxhQUEvSyxHQUZKO0FBQUE7QUFBQSxhQURKO0FBTUg7Ozs7RUFkaUIsaUJBQU8sUzs7a0JBaUJkLE87Ozs7Ozs7Ozs7O0FDckJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OztJQUVNLFc7OztBQUNGLDJCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGNBQUssS0FBTDtBQUhVO0FBSWI7Ozs7aUNBRVE7QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxZQUFmO0FBQ0k7QUFBQTtBQUFBLHNCQUFNLFdBQVUsT0FBaEI7QUFBQTtBQUF5Qyx5QkFBSyxLQUFMLENBQVcsS0FBWCxDQUFpQixPQUFqQixDQUF5QixZQUF6QixDQUFzQyxJQUF0QztBQUF6QyxpQkFESjtBQUVJO0FBQUE7QUFBQSxzQkFBTSxXQUFVLE9BQWhCO0FBQUE7QUFBb0MseUJBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsT0FBakIsQ0FBeUI7QUFBN0Q7QUFGSixhQURKO0FBTUg7Ozs7RUFkcUIsaUJBQU8sUzs7a0JBaUJsQixXOzs7Ozs7Ozs7OztBQ3JCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7SUFFTSxJOzs7QUFDRixvQkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxjQUFLLEtBQUw7QUFIVTtBQUliOzs7O2lDQUVRO0FBQ0wsbUJBQ0k7QUFBQTtBQUFBLGtCQUFLLFdBQVUsYUFBZjtBQUNJO0FBQUE7QUFBQSxzQkFBTSxXQUFVLE9BQWhCO0FBQUE7QUFBQSxpQkFESjtBQUVJLHlEQUFPLE1BQUssUUFBWixFQUFxQixNQUFLLEdBQTFCLEVBQThCLEtBQUksS0FBbEMsRUFBd0MsS0FBSSxHQUE1QyxFQUFnRCxXQUFVLG1CQUExRCxFQUE4RSxPQUFPLEtBQUssS0FBTCxDQUFXLEtBQWhHLEVBQXVHLFVBQVUsZUFBUSxXQUF6SCxFQUFzSSxVQUFVLEtBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsTUFBckIsR0FBOEIsRUFBOUssR0FGSjtBQUFBO0FBR0kseURBQU8sTUFBSyxRQUFaLEVBQXFCLE1BQUssR0FBMUIsRUFBOEIsS0FBSSxLQUFsQyxFQUF3QyxLQUFJLEdBQTVDLEVBQWdELFdBQVUsb0JBQTFELEVBQStFLE9BQU8sS0FBSyxLQUFMLENBQVcsTUFBakcsRUFBeUcsVUFBVSxlQUFRLFlBQTNILEVBQXlJLFVBQVUsS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixNQUFyQixHQUE4QixFQUFqTDtBQUhKLGFBREo7QUFPSDs7OztFQWZjLGlCQUFPLFM7O2tCQWtCWCxJOzs7Ozs7Ozs7OztBQ3RCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRU0sUzs7Ozs7Ozs7Ozs7aUNBQ087QUFDTCxtQkFDSTtBQUFBO0FBQUEsa0JBQUssV0FBVSxpQ0FBZjtBQUNJLG1FQURKO0FBRUksc0VBRko7QUFHSSx5REFISjtBQUlJO0FBSkosYUFESjtBQVFIOzs7O0VBVm1CLGdCQUFNLFM7O2tCQWFmLFM7Ozs7Ozs7Ozs7O0FDbEJmOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFTSxLOzs7Ozs7Ozs7OztpQ0FDTztBQUNMLG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxXQUFVLE9BQWY7QUFDSSx3RUFESjtBQUVJLHlFQUZKO0FBR0k7QUFISixhQURKO0FBT0g7Ozs7RUFUZSxnQkFBTSxTOztrQkFZWCxLOzs7Ozs7Ozs7Ozs7QUNqQmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFJLFVBQVUsaUJBQU8sYUFBUCxDQUFxQixDQUMvQixXQUQrQixFQUUvQixNQUYrQixFQUcvQixPQUgrQixFQUkvQixhQUorQixFQUsvQixjQUwrQixFQU0vQixlQU4rQixDQUFyQixDQUFkOztJQVNNLEs7OztBQUNGLHFCQUFjO0FBQUE7O0FBQUE7O0FBRVYsY0FBSyxLQUFMLEdBQWE7QUFDVCxrQkFBTSxDQURHO0FBRVQscUJBQVMsQ0FGQTtBQUdULHNCQUFVLElBSEQ7QUFJVCxtQkFBTyxHQUpFO0FBS1Qsb0JBQVEsR0FMQztBQU1ULHFCQUFTO0FBTkEsU0FBYjtBQVFBLGNBQUssS0FBTCxDQUFXLEtBQVgsR0FBbUIsb0JBQVUsTUFBSyxLQUFMLENBQVcsS0FBckIsRUFBNEIsTUFBSyxLQUFMLENBQVcsTUFBdkMsRUFBK0MsTUFBSyxLQUFMLENBQVcsT0FBMUQsQ0FBbkI7QUFDQSxjQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLFNBQWpCLENBQTJCLE1BQUssWUFBTCxFQUEzQjtBQUNBLGNBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsVUFBUyxHQUFULEVBQWMsS0FBZCxFQUFvQjtBQUM3QyxnQkFBSSxPQUFPLENBQVAsS0FBYSxTQUFTLENBQVQsSUFBYyxTQUFTLENBQXBDLENBQUosRUFBNEM7QUFDeEMsdUJBQU8sQ0FBUDtBQUNILGFBRkQsTUFFTyxJQUFHLE9BQU8sQ0FBUCxJQUFZLFNBQVMsQ0FBeEIsRUFBMkI7QUFDOUIsdUJBQU8sQ0FBUDtBQUNIO0FBQ0QsbUJBQU8sQ0FBUDtBQUNILFNBUEQ7O0FBU0EsY0FBSyxLQUFMLENBQVcsV0FBWCxHQUF5QjtBQUNyQixtQkFBTztBQUNILDRCQUFZO0FBRFQsYUFEYztBQUlyQixvQkFBUSxDQUFDO0FBQ0wsc0JBQU0sRUFERDtBQUVMLDhCQUFjLEtBRlQ7QUFHTCxzQkFBTSxlQUhEO0FBSUwsd0JBQVE7QUFDSiw2QkFBUztBQURMO0FBSkgsYUFBRCxDQUphO0FBWXJCLG1CQUFPO0FBQ0gscUJBQUssQ0FERjtBQUVILHFCQUFLLEdBRkY7QUFHSCx1QkFBTTtBQUNGLDBCQUFLLGVBREg7QUFFRiw4QkFBVSxDQUFDO0FBRlQ7QUFISCxhQVpjO0FBb0JyQixtQkFBTztBQUNILHVCQUFPLE1BREo7QUFFSCx3QkFBUSxLQUZMO0FBR0gsMkJBQVc7QUFIUixhQXBCYztBQXlCckIsbUJBQU87QUFDSCxzQkFBTSxFQURIO0FBRUgsdUJBQU87QUFDSCw2QkFBUztBQUROO0FBRkosYUF6QmM7QUErQnJCLHNCQUFVO0FBQ04sc0JBQU0sRUFEQTtBQUVOLHVCQUFPO0FBQ0gsNkJBQVM7QUFETjtBQUZEO0FBL0JXLFNBQXpCOztBQXVDQSxjQUFLLFdBQUwsR0FBbUIsT0FBbkI7QUE1RFU7QUE2RGI7Ozs7dUNBRWM7QUFDWCxtQkFBTyxDQUNILENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBQyxDQUFMLENBREcsRUFFSCxDQUFDLENBQUMsQ0FBRixFQUFJLENBQUosQ0FGRyxFQUdILENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBSixDQUhHLEVBSUgsQ0FBQyxDQUFELEVBQUcsQ0FBQyxDQUFKLENBSkcsRUFLSCxDQUFDLENBQUQsRUFBRyxDQUFILENBTEcsRUFNSCxDQUFDLENBQUQsRUFBRyxDQUFDLENBQUosQ0FORyxFQU9ILENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FQRyxFQVFILENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FSRyxDQUFQO0FBVUg7OztzQ0FFYTtBQUNWLGdCQUFJLEtBQUssS0FBTCxDQUFXLE9BQVgsSUFBc0IsQ0FBMUIsRUFBNkI7QUFDekIsb0JBQUksUUFBUSxJQUFaO0FBQ0Esb0JBQUksY0FBYyxZQUFZLFlBQVU7QUFDcEMsMEJBQU0sTUFBTjtBQUNILGlCQUZpQixFQUVmLEdBRmUsQ0FBbEI7QUFHQSxxQkFBSyxRQUFMLENBQWMsRUFBQyxTQUFTLENBQVYsRUFBYSxVQUFVLFdBQXZCLEVBQWQ7QUFDSCxhQU5ELE1BTU87QUFDSCw4QkFBYyxLQUFLLEtBQUwsQ0FBVyxRQUF6QjtBQUNBLHFCQUFLLFFBQUwsQ0FBYyxFQUFDLFNBQVMsQ0FBVixFQUFhLFVBQVUsSUFBdkIsRUFBZDtBQUNIO0FBQ0o7OztpQ0FFUTtBQUNMLGlCQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLFFBQWpCO0FBQ0EsZ0JBQUksV0FBVyxLQUFLLEtBQUwsQ0FBVyxLQUExQjtBQUNBLGdCQUFJLGlCQUFpQixLQUFLLEtBQUwsQ0FBVyxXQUFoQztBQUNBLGdCQUFJLFVBQVUsRUFBRSxLQUFLLEtBQUwsQ0FBVyxJQUEzQjtBQUNBLGlCQUFLLFFBQUwsQ0FBYyxFQUFDLE9BQU0sUUFBUCxFQUFpQixNQUFLLE9BQXRCLEVBQStCLGFBQWEsY0FBNUMsRUFBZDtBQUNIOzs7a0NBRVM7QUFDTixpQkFBSyxLQUFMLENBQVcsS0FBWCxDQUFpQixhQUFqQixDQUNJLEtBQUssS0FBTCxDQUFXLEtBRGYsRUFFSSxLQUFLLEtBQUwsQ0FBVyxNQUZmLEVBR0ksS0FBSyxLQUFMLENBQVcsT0FIZjtBQUtBLGdCQUFJLFdBQVcsS0FBSyxLQUFMLENBQVcsS0FBMUI7QUFDQSxnQkFBSSxpQkFBaUIsS0FBSyxLQUFMLENBQVcsV0FBaEM7QUFDQSxpQkFBSyxRQUFMLENBQWMsRUFBQyxPQUFNLFFBQVAsRUFBaUIsTUFBSyxDQUF0QixFQUF5QixhQUFhLGNBQXRDLEVBQWQ7QUFDSDs7O3NDQUVhLEssRUFBTztBQUNqQixpQkFBSyxRQUFMLENBQWMsRUFBQyxTQUFRLFNBQVMsTUFBTSxNQUFOLENBQWEsS0FBdEIsQ0FBVCxFQUFkO0FBQ0g7Ozt1Q0FFYyxLLEVBQU87QUFDbEIsaUJBQUssUUFBTCxDQUFjLEVBQUMsVUFBUyxTQUFTLE1BQU0sTUFBTixDQUFhLEtBQXRCLENBQVYsRUFBZDtBQUNIOzs7d0NBRWUsSyxFQUFPO0FBQ25CLGlCQUFLLFFBQUwsQ0FBYyxFQUFDLFdBQVUsV0FBVyxNQUFNLE1BQU4sQ0FBYSxLQUF4QixDQUFYLEVBQWQ7QUFDSDs7OztFQXZIZSxpQkFBTyxLOztRQTBIbkIsSyxHQUFBLEs7UUFBTyxPLEdBQUEsTzs7O0FDdklmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDalNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdllBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN0R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4ZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBBcHBsaWNhdGlvbiBmcm9tICcuL2FwcGxpY2F0aW9uJztcblxuUmVhY3RET00ucmVuZGVyKFxuICAgIDxBcHBsaWNhdGlvbiAvPixcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJylcbik7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7XG5pbXBvcnQgQm9hcmQgZnJvbSAnLi9ib2FyZC9ib2FyZCc7XG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9ib2FyZC9tb2RlbCc7XG5pbXBvcnQgUGFuZWwgZnJvbSAnLi9wYW5lbC9wYW5lbCc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcblxuY2xhc3MgQXBwbGljYXRpb24gZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcGxpY2F0aW9uXCI+XG4gICAgICAgICAgICAgICAgPEhlYWRlciAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxQYW5lbCAvPlxuICAgICAgICAgICAgICAgICAgICA8Qm9hcmQgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Rm9vdGVyIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcGxpY2F0aW9uOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi9zdG9yZSc7XG5cbmNsYXNzIEJvYXJkIGV4dGVuZHMgUmVmbHV4LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFN0b3JlO1xuICAgICAgICB0aGlzLmRlYWQgPSAnI2Y0ZjFmMSc7XG4gICAgICAgIHRoaXMuYWxpdmUgPSAnIzA3NWUwMCc7XG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9ICd3aGl0ZSc7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gdGhpcy5yZWZzLmJvYXJkLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoPXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVmcy5ib2FyZCkud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0PXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMucmVmcy5ib2FyZCkuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlZHJhdyhuZXh0U3RhdGUubW9kZWwuYm9hcmQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMucmVkcmF3KHRoaXMuc3RhdGUubW9kZWwuYm9hcmQpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMuY2FudmFzLmZpbGxTdHlsZSA9IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgdGhpcy5jYW52YXMuZmlsbFJlY3QoMCwwLHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG4gICAgZHJhd1JlY3QocixjLGRhdGEseHNpemUseXNpemUpIHtcbiAgICAgICAgdmFyIHhzPWMqKHhzaXplKzEpO1xuICAgICAgICB2YXIgeXM9ciooeXNpemUrMSk7XG4gICAgICAgIHRoaXMuY2FudmFzLmZpbGxTdHlsZSA9IGRhdGFbcl1bY10/dGhpcy5hbGl2ZTp0aGlzLmRlYWQ7XG4gICAgICAgIHRoaXMuY2FudmFzLmZpbGxSZWN0KHhzLCB5cywgeHNpemUsIHlzaXplKTtcbiAgICB9XG4gICAgcmVkcmF3KGRhdGEpIHtcbiAgICAgICAgdmFyIHhzaXplID0gTWF0aC5yb3VuZCgodGhpcy53aWR0aC1kYXRhWzBdLmxlbmd0aCsxKS9kYXRhWzBdLmxlbmd0aCk7XG4gICAgICAgIHZhciB5c2l6ZSA9IE1hdGgucm91bmQoKHRoaXMuaGVpZ2h0LWRhdGEubGVuZ3RoKzEpL2RhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yKGxldCByIGluIGRhdGEpIHtcbiAgICAgICAgICAgIHIgPSBwYXJzZUludChyKTtcbiAgICAgICAgICAgIGZvcihsZXQgYyBpbiBkYXRhW3JdKSB7XG4gICAgICAgICAgICAgICAgYyA9IHBhcnNlSW50KGMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1JlY3QocixjLGRhdGEseHNpemUseXNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKDxjYW52YXMgaWQ9XCJjYW52YXNcIiBjbGFzc05hbWU9XCJib2FyZFwiIHJlZj1cImJvYXJkXCIgd2lkdGg9XCI3MDBweFwiIGhlaWdodD1cIjcwMHB4XCI+PC9jYW52YXM+KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJvYXJkOyIsImltcG9ydCBIaXN0b3J5IGZyb20gJy4uL2hpc3RvcnknO1xuXG5jbGFzcyBNb2RlbCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgZGVuc2l0eSkge1xuICAgICAgICBpZiAod2lkdGggPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBoZWlnaHQgPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBkZW5zaXR5ID09IHVuZGVmaW5lZFxuICAgICAgICApIHJldHVybjtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUJvYXJkKHdpZHRoLCBoZWlnaHQsIGRlbnNpdHkpO1xuICAgICAgICB0aGlzLnNoaWZ0cyA9IFtdO1xuICAgICAgICB0aGlzLmNhbGNOZXh0ID0gZnVuY3Rpb24ocixjLGJvYXJkKXtyZXR1cm4gMDt9O3RoaXMuY291bnQ9MDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUJvYXJkKHdpZHRoLCBoZWlnaHQsIGRlbnNpdHkpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5oZWlnaHQqdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkoMTAwLCB0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLmRlbnNpdHkgPSBkZW5zaXR5O1xuICAgICAgICB0aGlzLnBvcHVsYXRpb24gPSAwO1xuICAgICAgICB2YXIgYm9hcmQgPSBuZXcgQXJyYXkoaGVpZ2h0KTtcbiAgICAgICAgZm9yICh2YXIgcj0wO3I8aGVpZ2h0Oysrcikge1xuICAgICAgICAgICAgYm9hcmRbcl0gPSBuZXcgQXJyYXkod2lkdGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgYz0wO2M8d2lkdGg7KytjKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRbcl1bY10gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBib3JkZXIgPSBwYXJzZUludCh0aGlzLmRlbnNpdHkqdGhpcy5zaXplKTtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICB3aGlsZSAoY291bnRlciA8IGJvcmRlcikge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gdGhpcy5yYW5kb21Qb2ludCgpO1xuICAgICAgICAgICAgaWYgKGJvYXJkW3BvaW50LnldW3BvaW50LnhdID09IDApIHtcbiAgICAgICAgICAgICAgICBib2FyZFtwb2ludC55XVtwb2ludC54XSA9IDE7XG4gICAgICAgICAgICAgICAgKytjb3VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9wdWxhdGlvbiA9IGJvcmRlcjtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO2NvbnNvbGUubG9nKHRoaXMuY291bnQpO1xuICAgICAgICB0aGlzLmhpc3RvcnkuYWRkTm9ybWFsaXplZCh0aGlzLnBvcHVsYXRpb24pO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVCeUFycmF5KGluaXRWYWx1ZSkge1xuICAgICAgICB0aGlzLmJvYXJkID0gaW5pdFZhbHVlO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5ib2FyZFswXS5sZW5ndGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5ib2FyZC5sZW5ndGg7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcbiAgICAgICAgZm9yKHZhciByIGluIHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHIgPSBwYXJzZUludChyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGMgaW4gdGhpcy5ib2FyZFtyXSkge1xuICAgICAgICAgICAgICAgIGMgPSBwYXJzZUludChjKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtyXVtjXSkge1xuICAgICAgICAgICAgICAgICAgICArK3RoaXMucG9wdWxhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByYW5kb21Qb2ludCgpIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLndpZHRoKTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmhlaWdodCk7dGhpcy5jb3VudCsrO1xuICAgICAgICByZXR1cm4ge1wieFwiOngsIFwieVwiOnl9O1xuICAgIH1cbiAgICBzZXRDYWxjTmV4dChjYWxjTmV4dCkge1xuICAgICAgICB0aGlzLmNhbGNOZXh0ID0gY2FsY05leHQ7XG4gICAgfVxuICAgIHNldFNoaWZ0cyhzaGlmdHMpIHtcbiAgICAgICAgdGhpcy5zaGlmdHMgPSBzaGlmdHM7XG4gICAgfVxuXG4gICAgZ2V0Tm9ybWFsaXplZFZhbHVlKHYsIHJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHYrcmVmZXJlbmNlKSVyZWZlcmVuY2UpO1xuICAgIH1cblxuICAgIGdldE5vcm1hbGl6ZWRQb2ludChyLGMpIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLmdldE5vcm1hbGl6ZWRWYWx1ZShjLCB0aGlzLndpZHRoKTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLmdldE5vcm1hbGl6ZWRWYWx1ZShyLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIHJldHVybiB7XCJjXCI6eCxcInJcIjp5fTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShyLCBjKSB7XG4gICAgICAgIGxldCBwb2ludCA9IHRoaXMuZ2V0Tm9ybWFsaXplZFBvaW50KHIsIGMpOy8vY29uc29sZS5sb2cocG9pbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZFtwb2ludC5yXVtwb2ludC5jXTtcbiAgICB9XG5cbiAgICBnZXRBbGl2ZU51bWJlcihyLCBjKSB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgZm9yKHZhciBpIGluIHRoaXMuc2hpZnRzKSB7XG4gICAgICAgICAgICBpZih0aGlzLmdldFZhbHVlKHIrdGhpcy5zaGlmdHNbaV1bMF0sIGMrdGhpcy5zaGlmdHNbaV1bMV0pKSB7XG4gICAgICAgICAgICAgICAgKytjb3VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudGVyO1xuICAgIH1cblxuICAgIG5leHRTdGVwKCkge1xuICAgICAgICB0aGlzLnBvcHVsYXRpb24gPSAwO1xuICAgICAgICBmb3IodmFyIHIgaW4gdGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgciA9IHBhcnNlSW50KHIpO1xuICAgICAgICAgICAgZm9yICh2YXIgYyBpbiB0aGlzLmJvYXJkW3JdKSB7XG4gICAgICAgICAgICAgICAgYyA9IHBhcnNlSW50KGMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbcl1bY10gPSB0aGlzLmNhbGNOZXh0KHRoaXMuZ2V0VmFsdWUociwgYyksIHRoaXMuZ2V0QWxpdmVOdW1iZXIocixjKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbcl1bY10pIHtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnBvcHVsYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlzdG9yeS5hZGROb3JtYWxpemVkKHRoaXMucG9wdWxhdGlvbik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuY29uc3QgUmVhY3RIaWdoY2hhcnRzID0gcmVxdWlyZSgncmVhY3QtaGlnaGNoYXJ0cycpO1xuXG5jbGFzcyBDaGFydCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMucmVmcy5jaGFydC5nZXRDaGFydCgpO1xuICAgICAgICBsZXQgaGlzdG9yeSA9IG5leHRQcm9wcy5tb2RlbC5oaXN0b3J5O1xuICAgICAgICBpZiAoaGlzdG9yeS50aW1lID09IDApIHtcbiAgICAgICAgICAgIGNoYXJ0LnNlcmllc1swXS5zZXREYXRhKFtdKTtcbiAgICAgICAgICAgIGNoYXJ0LnJlZHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaXN0b3J5LmlzRnVsbCgpKSB7XG4gICAgICAgICAgICBjaGFydC5zZXJpZXNbMF0uZGF0YVswXS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFydC5zZXJpZXNbMF0uYWRkUG9pbnQoe3g6IGhpc3RvcnkudGltZSwgeTogaGlzdG9yeS5nZXRJblBlcmNlbnQoKX0pO1xuICAgICAgICByZXR1cm4gaGlzdG9yeS50aW1lID09IDA7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFydFwiPlxuICAgICAgICAgICAgICAgIDxSZWFjdEhpZ2hjaGFydHMgY29uZmlnPXt0aGlzLnByb3BzLmNvbmZpZ30gcmVmPVwiY2hhcnRcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFydDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IHtTdG9yZSwgQWN0aW9uc30gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi9jaGFydCc7XG5cbmNsYXNzIEZvb3RlciBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8Q2hhcnQgbW9kZWw9e3RoaXMuc3RhdGUubW9kZWx9IGNvbmZpZz17dGhpcy5zdGF0ZS5jaGFydENvbmZpZ30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNsYXNzIEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICBHYW1lIG9mIExpZmUgLSBhc3luY2hyb25pY3pueVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7IiwiY2xhc3MgSGlzdG9yeSB7XG4gICAgY29uc3RydWN0b3IobGltaXQsIG1heFZhbHVlLCBwcmVjaXNpb24pIHtcbiAgICAgICAgaWYgKGxpbWl0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGltaXQgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFZhbHVlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWF4VmFsdWUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVjaXNpb24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSA0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgICAgICAgdGhpcy50aW1lID0gLTE7XG4gICAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICB9XG5cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB0aGlzLmdldFdpdGhQcmVjaXNpb24odmFsdWUsIHRoaXMucHJlY2lzaW9uKTtcbiAgICAgICAgKyt0aGlzLnRpbWU7XG4gICAgfVxuXG4gICAgYWRkTm9ybWFsaXplZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmxhc3RWYWx1ZSA9IHRoaXMuZ2V0V2l0aFByZWNpc2lvbih2YWx1ZS90aGlzLm1heFZhbHVlLCB0aGlzLnByZWNpc2lvbik7XG4gICAgICAgICsrdGhpcy50aW1lO1xuICAgIH1cblxuICAgIGdldFdpdGhQcmVjaXNpb24odmFsdWUsIHByZWNpc2lvbikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgfVxuXG4gICAgZ2V0SW5QZXJjZW50KHN5bWJvbCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldFdpdGhQcmVjaXNpb24odGhpcy5sYXN0VmFsdWUqMTAwLjAsIHRoaXMucHJlY2lzaW9uLTIpO1xuICAgICAgICBpZiAoc3ltYm9sID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSAnJSc7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlzRnVsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZSA+PSB0aGlzLmxpbWl0O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGlzdG9yeTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNpemUgZnJvbSAnLi9pbnB1dC9zaXplJztcbmltcG9ydCBEZW5zaXR5IGZyb20gJy4vaW5wdXQvZGVuc2l0eSc7XG5pbXBvcnQgSW5mb3JtYXRpb24gZnJvbSAnLi9pbnB1dC9pbmZvcm1hdGlvbic7XG5cbmNsYXNzIEFib3V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1hcmVhIGNvbnRyb2wtYWJvdXQtYXJlYVwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImVsZW1lbnRcIiBocmVmPVwiLi9kb2t1bWVudGFjamEucGRmXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWZpbGUtcGRmLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jm5ic3A7RG9rdW1lbnRhY2phXG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImVsZW1lbnRcIiBocmVmPVwiR2FtZU9mTGlmZS56aXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtZG93bmxvYWRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jm5ic3A7UG9iaWVyeiBrb2RcbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZWxlbWVudFwiPlxuICAgICAgICAgICAgICAgICAgICBBdXRvcjogVG9tYXN6IEJham9yZWtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBYm91dDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IHtTdG9yZSwgQWN0aW9uc30gZnJvbSAnLi4vLi4vc3RvcmUnO1xuXG5jbGFzcyBPbmVTdGVwIGV4dGVuZHMgUmVmbHV4LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFN0b3JlO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY29udHJvbC1idXR0b24gb25lLXN0ZXBcIiB0aXRsZT1cIkplZGVuIGtyb2tcIiBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSBvbkNsaWNrPXtBY3Rpb25zLm5leHR9PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWZvcndhcmRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9uZVN0ZXA7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4uLy4uL3N0b3JlJztcblxuY2xhc3MgUmVzZXQgZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvbnRyb2wtYnV0dG9uIHJlc2V0XCIgdGl0bGU9XCJSZXNldFwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcInRydWVcIiA6IFwiXCJ9IG9uQ2xpY2s9e0FjdGlvbnMucmVzZXR9PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXJlZnJlc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlc2V0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSc7XG5cbmNsYXNzIFN0YXJ0U3RvcCBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvbnRyb2wtYnV0dG9uIHN0YXJ0LXN0b3BcIiB0aXRsZT17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJQYXV6YVwiIDogXCJTdGFydFwifSBvbkNsaWNrPXtBY3Rpb25zLnN0YXJ0U3RvcH0+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcImZhIGZhLXBhdXNlXCIgOiBcImZhIGZhLXBsYXlcIn0gYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGFydFN0b3A7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdGFydFN0b3AgZnJvbSAnLi9idXR0b24vc3RhcnRzdG9wJztcbmltcG9ydCBPbmVTdGVwIGZyb20gJy4vYnV0dG9uL29uZXN0ZXAnO1xuaW1wb3J0IFJlc2V0IGZyb20gJy4vYnV0dG9uL3Jlc2V0JztcblxuY2xhc3MgQnV0dG9uQXJlYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtYXJlYSBjb250cm9sLWJ1dHRvbi1hcmVhXCI+XG4gICAgICAgICAgICAgICAgPFN0YXJ0U3RvcCAvPlxuICAgICAgICAgICAgICAgIDxPbmVTdGVwIC8+XG4gICAgICAgICAgICAgICAgPFJlc2V0IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkFyZWE7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWZsdXggZnJvbSAncmVmbHV4JztcbmltcG9ydCB7U3RvcmUsIEFjdGlvbnN9IGZyb20gJy4uLy4uL3N0b3JlJztcblxuY2xhc3MgRGVuc2l0eSBleHRlbmRzIFJlZmx1eC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIHRoaXMuc3RvcmUgPSBTdG9yZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFyYW0tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXJhbVwiPkfEmXN0b8WbxIc6Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjAuMDFcIiBtYXg9XCIxLjBcIiBtaW49XCIwLjAxXCIgY2xhc3NOYW1lPVwicGFyYW0gcGFyYW0tZGVuc2l0eVwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN0YXJ0ZWQgPyBcInRydWVcIiA6IFwiXCJ9IHZhbHVlPXt0aGlzLnN0YXRlLmRlbnNpdHl9IG9uQ2hhbmdlPXtBY3Rpb25zLmNoYW5nZURlbnNpdHl9IC8+Jm5ic3A7WzA7MV1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGVuc2l0eTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSdcblxuY2xhc3MgSW5mb3JtYXRpb24gZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXJhbVwiPlBvcHVsYWNqYTombmJzcDt7dGhpcy5zdGF0ZS5tb2RlbC5oaXN0b3J5LmdldEluUGVyY2VudCh0cnVlKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFyYW1cIj5DemFzOiZuYnNwO3t0aGlzLnN0YXRlLm1vZGVsLmhpc3RvcnkudGltZX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZm9ybWF0aW9uOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eCc7XG5pbXBvcnQge1N0b3JlLCBBY3Rpb25zfSBmcm9tICcuLi8uLi9zdG9yZSc7XG5cbmNsYXNzIFNpemUgZXh0ZW5kcyBSZWZsdXguQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICB0aGlzLnN0b3JlID0gU3RvcmU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcmFtLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFyYW1cIj5XeW1pYXJ5OiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbWF4PVwiMjgwXCIgbWluPVwiMlwiIGNsYXNzTmFtZT1cInBhcmFtIHBhcmFtLXdpZHRoXCIgdmFsdWU9e3RoaXMuc3RhdGUud2lkdGh9IG9uQ2hhbmdlPXtBY3Rpb25zLmNoYW5nZVdpZHRofSBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSAvPiZuYnNwO3gmbmJzcDtcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbWF4PVwiMjgwXCIgbWluPVwiMlwiIGNsYXNzTmFtZT1cInBhcmFtIHBhcmFtLWhlaWdodFwiIHZhbHVlPXt0aGlzLnN0YXRlLmhlaWdodH0gb25DaGFuZ2U9e0FjdGlvbnMuY2hhbmdlSGVpZ2h0fSBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdGFydGVkID8gXCJ0cnVlXCIgOiBcIlwifSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaXplO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTaXplIGZyb20gJy4vaW5wdXQvc2l6ZSc7XG5pbXBvcnQgRGVuc2l0eSBmcm9tICcuL2lucHV0L2RlbnNpdHknO1xuaW1wb3J0IEluZm9ybWF0aW9uIGZyb20gJy4vaW5wdXQvaW5mb3JtYXRpb24nO1xuXG5jbGFzcyBJbnB1dEFyZWEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWFyZWEgY29udHJvbC1pbnB1dC1hcmVhXCI+XG4gICAgICAgICAgICAgICAgPFNpemUgLz5cbiAgICAgICAgICAgICAgICA8RGVuc2l0eSAvPlxuICAgICAgICAgICAgICAgIDxociAvPlxuICAgICAgICAgICAgICAgIDxJbmZvcm1hdGlvbiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnB1dEFyZWE7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbnB1dEFyZWEgZnJvbSAnLi9pbnB1dGFyZWEnO1xuaW1wb3J0IEJ1dHRvbkFyZWEgZnJvbSAnLi9idXR0b25hcmVhJztcbmltcG9ydCBBYm91dCBmcm9tICcuL2Fib3V0JztcblxuY2xhc3MgUGFuZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbFwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dEFyZWEgLz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uQXJlYSAvPlxuICAgICAgICAgICAgICAgIDxBYm91dCAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYW5lbDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZmx1eCBmcm9tICdyZWZsdXgnO1xuaW1wb3J0IE1vZGVsIGZyb20gJy4vYm9hcmQvbW9kZWwnO1xuXG52YXIgQWN0aW9ucyA9IFJlZmx1eC5jcmVhdGVBY3Rpb25zKFtcbiAgICAnc3RhcnRTdG9wJyxcbiAgICAnbmV4dCcsXG4gICAgJ3Jlc2V0JyxcbiAgICAnY2hhbmdlV2lkdGgnLFxuICAgICdjaGFuZ2VIZWlnaHQnLFxuICAgICdjaGFuZ2VEZW5zaXR5J1xuXSk7XG5cbmNsYXNzIFN0b3JlIGV4dGVuZHMgUmVmbHV4LlN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHRpbWU6IDAsXG4gICAgICAgICAgICBzdGFydGVkOiAwLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IG51bGwsXG4gICAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgICAgICBkZW5zaXR5OiAwLjFcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnN0YXRlLndpZHRoLCB0aGlzLnN0YXRlLmhlaWdodCwgdGhpcy5zdGF0ZS5kZW5zaXR5KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbC5zZXRTaGlmdHModGhpcy5nZXRNb29yZUFyZWEoKSk7XG4gICAgICAgIHRoaXMuc3RhdGUubW9kZWwuc2V0Q2FsY05leHQoZnVuY3Rpb24odmFsLCBhbGl2ZSl7XG4gICAgICAgICAgICBpZiAodmFsID09IDEgJiYgKGFsaXZlID09IDIgfHwgYWxpdmUgPT0gMykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih2YWwgPT0gMCAmJiBhbGl2ZSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5jaGFydENvbmZpZyA9IHtcbiAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJpZXM6IFt7XG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICAgICAgc2hvd0luTGVnZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUG9wdWxhY2phICglKScsXG4gICAgICAgICAgICAgICAgbWFya2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgICB0aXRsZTp7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6J1BvcHVsYWNqYSAoJSknLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogLTkwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAwJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxNzAnLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJ0aXRsZToge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxpc3RlbmFibGVzID0gQWN0aW9ucztcbiAgICB9XG5cbiAgICBnZXRNb29yZUFyZWEoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbLTEsLTFdLFxuICAgICAgICAgICAgWy0xLDBdLFxuICAgICAgICAgICAgWy0xLDFdLFxuICAgICAgICAgICAgWzAsLTFdLFxuICAgICAgICAgICAgWzAsMV0sXG4gICAgICAgICAgICBbMSwtMV0sXG4gICAgICAgICAgICBbMSwwXSxcbiAgICAgICAgICAgIFsxLDFdXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgb25TdGFydFN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXJ0ZWQgPT0gMCkge1xuICAgICAgICAgICAgbGV0IHN0b3JlID0gdGhpcztcbiAgICAgICAgICAgIGxldCBuZXdJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc3RvcmUub25OZXh0KCk7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RhcnRlZDogMSwgaW50ZXJ2YWw6IG5ld0ludGVydmFsfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RhcnRlZDogMCwgaW50ZXJ2YWw6IG51bGx9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTmV4dCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5tb2RlbC5uZXh0U3RlcCgpO1xuICAgICAgICBsZXQgbmV3TW9kZWwgPSB0aGlzLnN0YXRlLm1vZGVsO1xuICAgICAgICBsZXQgbmV3Q2hhcnRDb25maWcgPSB0aGlzLnN0YXRlLmNoYXJ0Q29uZmlnO1xuICAgICAgICBsZXQgbmV3VGltZSA9ICsrdGhpcy5zdGF0ZS50aW1lO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHttb2RlbDpuZXdNb2RlbCwgdGltZTpuZXdUaW1lLCBjaGFydENvbmZpZzogbmV3Q2hhcnRDb25maWd9KTtcbiAgICB9XG5cbiAgICBvblJlc2V0KCkge1xuICAgICAgICB0aGlzLnN0YXRlLm1vZGVsLmdlbmVyYXRlQm9hcmQoXG4gICAgICAgICAgICB0aGlzLnN0YXRlLndpZHRoLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRlbnNpdHlcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IG5ld01vZGVsID0gdGhpcy5zdGF0ZS5tb2RlbDtcbiAgICAgICAgbGV0IG5ld0NoYXJ0Q29uZmlnID0gdGhpcy5zdGF0ZS5jaGFydENvbmZpZztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bW9kZWw6bmV3TW9kZWwsIHRpbWU6MCwgY2hhcnRDb25maWc6IG5ld0NoYXJ0Q29uZmlnfSk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2VXaWR0aChldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcIndpZHRoXCI6cGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlKX0pO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlSGVpZ2h0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1wiaGVpZ2h0XCI6cGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlKX0pO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlRGVuc2l0eShldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcImRlbnNpdHlcIjpwYXJzZUZsb2F0KGV2ZW50LnRhcmdldC52YWx1ZSl9KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7U3RvcmUsIEFjdGlvbnN9OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8vXG4vLyBXZSBzdG9yZSBvdXIgRUUgb2JqZWN0cyBpbiBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBgfmAgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Qgb3ZlcnJpZGRlbiBvclxuLy8gdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy8gV2UgYWxzbyBhc3N1bWUgdGhhdCBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgYXZhaWxhYmxlIHdoZW4gdGhlIGV2ZW50IG5hbWVcbi8vIGlzIGFuIEVTNiBTeW1ib2wuXG4vL1xudmFyIHByZWZpeCA9IHR5cGVvZiBPYmplY3QuY3JlYXRlICE9PSAnZnVuY3Rpb24nID8gJ34nIDogZmFsc2U7XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgRXZlbnRFbWl0dGVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEV2ZW50IGhhbmRsZXIgdG8gYmUgY2FsbGVkLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBDb250ZXh0IGZvciBmdW5jdGlvbiBleGVjdXRpb24uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBPbmx5IGVtaXQgb25jZVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIEV2ZW50RW1pdHRlciBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogRXZlbnRFbWl0dGVyIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHsgLyogTm90aGluZyB0byBzZXQgKi8gfVxuXG4vKipcbiAqIEhvbGQgdGhlIGFzc2lnbmVkIEV2ZW50RW1pdHRlcnMgYnkgbmFtZS5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50c1xuICAgICwgbmFtZXMgPSBbXVxuICAgICwgbmFtZTtcblxuICBpZiAoIWV2ZW50cykgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiBldmVudHMpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgbGlzdCBvZiBhc3NpZ25lZCBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBldmVudHMgdGhhdCBzaG91bGQgYmUgbGlzdGVkLlxuICogQHBhcmFtIHtCb29sZWFufSBleGlzdHMgV2Ugb25seSBuZWVkIHRvIGtub3cgaWYgdGhlcmUgYXJlIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtBcnJheXxCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQsIGV4aXN0cykge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgYXZhaWxhYmxlID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogRW1pdCBhbiBldmVudCB0byBhbGwgcmVnaXN0ZXJlZCBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBJbmRpY2F0aW9uIGlmIHdlJ3ZlIGVtaXR0ZWQgYW4gZXZlbnQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgbGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgbmV3IEV2ZW50TGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgTmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBDYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IG9mIHRoZSBmdW5jdGlvbi5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKSB0aGlzLl9ldmVudHMgPSBwcmVmaXggPyB7fSA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXI7XG4gIGVsc2Uge1xuICAgIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICAgIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbXG4gICAgICB0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJcbiAgICBdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZCBhbiBFdmVudExpc3RlbmVyIHRoYXQncyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBOYW1lIG9mIHRoZSBldmVudC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIENhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKSB0aGlzLl9ldmVudHMgPSBwcmVmaXggPyB7fSA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXI7XG4gIGVsc2Uge1xuICAgIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICAgIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbXG4gICAgICB0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJcbiAgICBdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBldmVudCB3ZSB3YW50IHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciB0aGF0IHdlIG5lZWQgdG8gZmluZC5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgT25seSByZW1vdmUgbGlzdGVuZXJzIG1hdGNoaW5nIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmNlIGxpc3RlbmVycy5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGV2ZW50cyA9IFtdO1xuXG4gIGlmIChmbikge1xuICAgIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICAgIGlmIChcbiAgICAgICAgICAgbGlzdGVuZXJzLmZuICE9PSBmblxuICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzLm9uY2UpXG4gICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVycy5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm5cbiAgICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICAgICkge1xuICAgICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gIC8vXG4gIGlmIChldmVudHMubGVuZ3RoKSB7XG4gICAgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBvciBvbmx5IHRoZSBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBldmVudCB3YW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIGlmICghdGhpcy5fZXZlbnRzKSByZXR1cm4gdGhpcztcblxuICBpZiAoZXZlbnQpIGRlbGV0ZSB0aGlzLl9ldmVudHNbcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudF07XG4gIGVsc2UgdGhpcy5fZXZlbnRzID0gcHJlZml4ID8ge30gOiBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiLypcbiBIaWdoY2hhcnRzIEpTIHY1LjAuOSAoMjAxNy0wMy0wOClcblxuIChjKSAyMDA5LTIwMTYgVG9yc3RlaW4gSG9uc2lcblxuIExpY2Vuc2U6IHd3dy5oaWdoY2hhcnRzLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKEksYSl7XCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPUkuZG9jdW1lbnQ/YShJKTphOkkuSGlnaGNoYXJ0cz1hKEkpfSkoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oSSl7ST1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdyxCPWEuZG9jdW1lbnQsej1hLm5hdmlnYXRvciYmYS5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiLEM9QiYmQi5jcmVhdGVFbGVtZW50TlMmJiEhQi5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwic3ZnXCIpLmNyZWF0ZVNWR1JlY3QsRT0vKGVkZ2V8bXNpZXx0cmlkZW50KS9pLnRlc3QoeikmJiF3aW5kb3cub3BlcmEsdT0hQyxoPS9GaXJlZm94Ly50ZXN0KHopLG49aCYmND5wYXJzZUludCh6LnNwbGl0KFwiRmlyZWZveC9cIilbMV0sMTApO3JldHVybiBhLkhpZ2hjaGFydHM/YS5IaWdoY2hhcnRzLmVycm9yKDE2LCEwKTp7cHJvZHVjdDpcIkhpZ2hjaGFydHNcIixcbnZlcnNpb246XCI1LjAuOVwiLGRlZzJyYWQ6MipNYXRoLlBJLzM2MCxkb2M6QixoYXNCaWRpQnVnOm4saGFzVG91Y2g6QiYmdm9pZCAwIT09Qi5kb2N1bWVudEVsZW1lbnQub250b3VjaHN0YXJ0LGlzTVM6RSxpc1dlYktpdDovQXBwbGVXZWJLaXQvLnRlc3QoeiksaXNGaXJlZm94OmgsaXNUb3VjaERldmljZTovKE1vYmlsZXxBbmRyb2lkfFdpbmRvd3MgUGhvbmUpLy50ZXN0KHopLFNWR19OUzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsY2hhcnRDb3VudDowLHNlcmllc1R5cGVzOnt9LHN5bWJvbFNpemVzOnt9LHN2ZzpDLHZtbDp1LHdpbjphLGNoYXJ0czpbXSxtYXJnaW5OYW1lczpbXCJwbG90VG9wXCIsXCJtYXJnaW5SaWdodFwiLFwibWFyZ2luQm90dG9tXCIsXCJwbG90TGVmdFwiXSxub29wOmZ1bmN0aW9uKCl7fX19KCk7KGZ1bmN0aW9uKGEpe3ZhciBCPVtdLHo9YS5jaGFydHMsQz1hLmRvYyxFPWEud2luO2EuZXJyb3I9ZnVuY3Rpb24odSxoKXt1PWEuaXNOdW1iZXIodSk/XCJIaWdoY2hhcnRzIGVycm9yICNcIitcbnUrXCI6IHd3dy5oaWdoY2hhcnRzLmNvbS9lcnJvcnMvXCIrdTp1O2lmKGgpdGhyb3cgRXJyb3IodSk7RS5jb25zb2xlJiZjb25zb2xlLmxvZyh1KX07YS5GeD1mdW5jdGlvbihhLGgsbil7dGhpcy5vcHRpb25zPWg7dGhpcy5lbGVtPWE7dGhpcy5wcm9wPW59O2EuRngucHJvdG90eXBlPXtkU2V0dGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXRoc1swXSxoPXRoaXMucGF0aHNbMV0sbj1bXSx0PXRoaXMubm93LGw9YS5sZW5ndGgsaztpZigxPT09dCluPXRoaXMudG9EO2Vsc2UgaWYobD09PWgubGVuZ3RoJiYxPnQpZm9yKDtsLS07KWs9cGFyc2VGbG9hdChhW2xdKSxuW2xdPWlzTmFOKGspP2FbbF06dCpwYXJzZUZsb2F0KGhbbF0taykraztlbHNlIG49aDt0aGlzLmVsZW0uYXR0cihcImRcIixuLG51bGwsITApfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW0saD10aGlzLnByb3Asbj10aGlzLm5vdyx0PXRoaXMub3B0aW9ucy5zdGVwO2lmKHRoaXNbaCtcIlNldHRlclwiXSl0aGlzW2grXG5cIlNldHRlclwiXSgpO2Vsc2UgYS5hdHRyP2EuZWxlbWVudCYmYS5hdHRyKGgsbixudWxsLCEwKTphLnN0eWxlW2hdPW4rdGhpcy51bml0O3QmJnQuY2FsbChhLG4sdGhpcyl9LHJ1bjpmdW5jdGlvbihhLGgsbil7dmFyIHU9dGhpcyxsPWZ1bmN0aW9uKGEpe3JldHVybiBsLnN0b3BwZWQ/ITE6dS5zdGVwKGEpfSxrO3RoaXMuc3RhcnRUaW1lPStuZXcgRGF0ZTt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9aDt0aGlzLnVuaXQ9bjt0aGlzLm5vdz10aGlzLnN0YXJ0O3RoaXMucG9zPTA7bC5lbGVtPXRoaXMuZWxlbTtsLnByb3A9dGhpcy5wcm9wO2woKSYmMT09PUIucHVzaChsKSYmKGwudGltZXJJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2ZvcihrPTA7azxCLmxlbmd0aDtrKyspQltrXSgpfHxCLnNwbGljZShrLS0sMSk7Qi5sZW5ndGh8fGNsZWFySW50ZXJ2YWwobC50aW1lcklkKX0sMTMpKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgaD0rbmV3IERhdGUsdSx0PXRoaXMub3B0aW9uczt1PXRoaXMuZWxlbTtcbnZhciBsPXQuY29tcGxldGUsaz10LmR1cmF0aW9uLGU9dC5jdXJBbmltLGM7aWYodS5hdHRyJiYhdS5lbGVtZW50KXU9ITE7ZWxzZSBpZihhfHxoPj1rK3RoaXMuc3RhcnRUaW1lKXt0aGlzLm5vdz10aGlzLmVuZDt0aGlzLnBvcz0xO3RoaXMudXBkYXRlKCk7YT1lW3RoaXMucHJvcF09ITA7Zm9yKGMgaW4gZSkhMCE9PWVbY10mJihhPSExKTthJiZsJiZsLmNhbGwodSk7dT0hMX1lbHNlIHRoaXMucG9zPXQuZWFzaW5nKChoLXRoaXMuc3RhcnRUaW1lKS9rKSx0aGlzLm5vdz10aGlzLnN0YXJ0Kyh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0aGlzLnBvcyx0aGlzLnVwZGF0ZSgpLHU9ITA7cmV0dXJuIHV9LGluaXRQYXRoOmZ1bmN0aW9uKHUsaCxuKXtmdW5jdGlvbiB0KGEpe3ZhciBiLGY7Zm9yKHI9YS5sZW5ndGg7ci0tOyliPVwiTVwiPT09YVtyXXx8XCJMXCI9PT1hW3JdLGY9L1thLXpBLVpdLy50ZXN0KGFbciszXSksYiYmZiYmYS5zcGxpY2UocisxLDAsYVtyKzFdLGFbcisyXSxhW3IrMV0sYVtyK1xuMl0pfWZ1bmN0aW9uIGwoYSxmKXtmb3IoO2EubGVuZ3RoPG07KXthWzBdPWZbbS1hLmxlbmd0aF07dmFyIGQ9YS5zbGljZSgwLGIpO1tdLnNwbGljZS5hcHBseShhLFswLDBdLmNvbmNhdChkKSk7QSYmKGQ9YS5zbGljZShhLmxlbmd0aC1iKSxbXS5zcGxpY2UuYXBwbHkoYSxbYS5sZW5ndGgsMF0uY29uY2F0KGQpKSxyLS0pfWFbMF09XCJNXCJ9ZnVuY3Rpb24gayhhLGYpe2Zvcih2YXIgYz0obS1hLmxlbmd0aCkvYjswPGMmJmMtLTspZD1hLnNsaWNlKCkuc3BsaWNlKGEubGVuZ3RoL3YtYixiKnYpLGRbMF09ZlttLWItYypiXSxIJiYoZFtiLTZdPWRbYi0yXSxkW2ItNV09ZFtiLTFdKSxbXS5zcGxpY2UuYXBwbHkoYSxbYS5sZW5ndGgvdiwwXS5jb25jYXQoZCkpLEEmJmMtLX1oPWh8fFwiXCI7dmFyIGUsYz11LnN0YXJ0WCxwPXUuZW5kWCxIPS0xPGguaW5kZXhPZihcIkNcIiksYj1IPzc6MyxtLGQscjtoPWguc3BsaXQoXCIgXCIpO249bi5zbGljZSgpO3ZhciBBPXUuaXNBcmVhLHY9QT8yOjEsZjtcbkgmJih0KGgpLHQobikpO2lmKGMmJnApe2ZvcihyPTA7cjxjLmxlbmd0aDtyKyspaWYoY1tyXT09PXBbMF0pe2U9cjticmVha31lbHNlIGlmKGNbMF09PT1wW3AubGVuZ3RoLWMubGVuZ3RoK3JdKXtlPXI7Zj0hMDticmVha312b2lkIDA9PT1lJiYoaD1bXSl9aC5sZW5ndGgmJmEuaXNOdW1iZXIoZSkmJihtPW4ubGVuZ3RoK2UqdipiLGY/KGwoaCxuKSxrKG4saCkpOihsKG4saCksayhoLG4pKSk7cmV0dXJuW2gsbl19fTthLmV4dGVuZD1mdW5jdGlvbihhLGgpe3ZhciB1O2F8fChhPXt9KTtmb3IodSBpbiBoKWFbdV09aFt1XTtyZXR1cm4gYX07YS5tZXJnZT1mdW5jdGlvbigpe3ZhciB1LGg9YXJndW1lbnRzLG4sdD17fSxsPWZ1bmN0aW9uKGssZSl7dmFyIGMscDtcIm9iamVjdFwiIT09dHlwZW9mIGsmJihrPXt9KTtmb3IocCBpbiBlKWUuaGFzT3duUHJvcGVydHkocCkmJihjPWVbcF0sYS5pc09iamVjdChjLCEwKSYmXCJyZW5kZXJUb1wiIT09cCYmXCJudW1iZXJcIiE9PXR5cGVvZiBjLm5vZGVUeXBlP1xua1twXT1sKGtbcF18fHt9LGMpOmtbcF09ZVtwXSk7cmV0dXJuIGt9OyEwPT09aFswXSYmKHQ9aFsxXSxoPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGgsMikpO249aC5sZW5ndGg7Zm9yKHU9MDt1PG47dSsrKXQ9bCh0LGhbdV0pO3JldHVybiB0fTthLnBJbnQ9ZnVuY3Rpb24oYSxoKXtyZXR1cm4gcGFyc2VJbnQoYSxofHwxMCl9O2EuaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfTthLmlzQXJyYXk9ZnVuY3Rpb24oYSl7YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09YXx8XCJbb2JqZWN0IEFycmF5IEl0ZXJhdG9yXVwiPT09YX07YS5pc09iamVjdD1mdW5jdGlvbih1LGgpe3JldHVybiB1JiZcIm9iamVjdFwiPT09dHlwZW9mIHUmJighaHx8IWEuaXNBcnJheSh1KSl9O2EuaXNOdW1iZXI9ZnVuY3Rpb24oYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhJiYhaXNOYU4oYSl9O2EuZXJhc2U9XG5mdW5jdGlvbihhLGgpe2Zvcih2YXIgdT1hLmxlbmd0aDt1LS07KWlmKGFbdV09PT1oKXthLnNwbGljZSh1LDEpO2JyZWFrfX07YS5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDAhPT1hJiZudWxsIT09YX07YS5hdHRyPWZ1bmN0aW9uKHUsaCxuKXt2YXIgdCxsO2lmKGEuaXNTdHJpbmcoaCkpYS5kZWZpbmVkKG4pP3Uuc2V0QXR0cmlidXRlKGgsbik6dSYmdS5nZXRBdHRyaWJ1dGUmJihsPXUuZ2V0QXR0cmlidXRlKGgpKTtlbHNlIGlmKGEuZGVmaW5lZChoKSYmYS5pc09iamVjdChoKSlmb3IodCBpbiBoKXUuc2V0QXR0cmlidXRlKHQsaFt0XSk7cmV0dXJuIGx9O2Euc3BsYXQ9ZnVuY3Rpb24odSl7cmV0dXJuIGEuaXNBcnJheSh1KT91Olt1XX07YS5zeW5jVGltZW91dD1mdW5jdGlvbihhLGgsbil7aWYoaClyZXR1cm4gc2V0VGltZW91dChhLGgsbik7YS5jYWxsKDAsbil9O2EucGljaz1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cyxoLG4sdD1hLmxlbmd0aDtmb3IoaD1cbjA7aDx0O2grKylpZihuPWFbaF0sdm9pZCAwIT09biYmbnVsbCE9PW4pcmV0dXJuIG59O2EuY3NzPWZ1bmN0aW9uKHUsaCl7YS5pc01TJiYhYS5zdmcmJmgmJnZvaWQgMCE9PWgub3BhY2l0eSYmKGguZmlsdGVyPVwiYWxwaGEob3BhY2l0eVxceDNkXCIrMTAwKmgub3BhY2l0eStcIilcIik7YS5leHRlbmQodS5zdHlsZSxoKX07YS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHUsaCxuLHQsbCl7dT1DLmNyZWF0ZUVsZW1lbnQodSk7dmFyIGs9YS5jc3M7aCYmYS5leHRlbmQodSxoKTtsJiZrKHUse3BhZGRpbmc6MCxib3JkZXI6XCJub25lXCIsbWFyZ2luOjB9KTtuJiZrKHUsbik7dCYmdC5hcHBlbmRDaGlsZCh1KTtyZXR1cm4gdX07YS5leHRlbmRDbGFzcz1mdW5jdGlvbih1LGgpe3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT1uZXcgdTthLmV4dGVuZChuLnByb3RvdHlwZSxoKTtyZXR1cm4gbn07YS5wYWQ9ZnVuY3Rpb24oYSxoLG4pe3JldHVybiBBcnJheSgoaHx8MikrMS1TdHJpbmcoYSkubGVuZ3RoKS5qb2luKG58fFxuMCkrYX07YS5yZWxhdGl2ZUxlbmd0aD1mdW5jdGlvbihhLGgpe3JldHVybi8lJC8udGVzdChhKT9oKnBhcnNlRmxvYXQoYSkvMTAwOnBhcnNlRmxvYXQoYSl9O2Eud3JhcD1mdW5jdGlvbihhLGgsbil7dmFyIHQ9YVtoXTthW2hdPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxrPWFyZ3VtZW50cyxlPXRoaXM7ZS5wcm9jZWVkPWZ1bmN0aW9uKCl7dC5hcHBseShlLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzOmspfTthLnVuc2hpZnQodCk7YT1uLmFwcGx5KHRoaXMsYSk7ZS5wcm9jZWVkPW51bGw7cmV0dXJuIGF9fTthLmdldFRaT2Zmc2V0PWZ1bmN0aW9uKHUpe3ZhciBoPWEuRGF0ZTtyZXR1cm4gNkU0KihoLmhjR2V0VGltZXpvbmVPZmZzZXQmJmguaGNHZXRUaW1lem9uZU9mZnNldCh1KXx8aC5oY1RpbWV6b25lT2Zmc2V0fHwwKX07YS5kYXRlRm9ybWF0PWZ1bmN0aW9uKHUsaCxuKXtpZighYS5kZWZpbmVkKGgpfHxpc05hTihoKSlyZXR1cm4gYS5kZWZhdWx0T3B0aW9ucy5sYW5nLmludmFsaWREYXRlfHxcblwiXCI7dT1hLnBpY2sodSxcIiVZLSVtLSVkICVIOiVNOiVTXCIpO3ZhciB0PWEuRGF0ZSxsPW5ldyB0KGgtYS5nZXRUWk9mZnNldChoKSksayxlPWxbdC5oY0dldEhvdXJzXSgpLGM9bFt0LmhjR2V0RGF5XSgpLHA9bFt0LmhjR2V0RGF0ZV0oKSxIPWxbdC5oY0dldE1vbnRoXSgpLGI9bFt0LmhjR2V0RnVsbFllYXJdKCksbT1hLmRlZmF1bHRPcHRpb25zLmxhbmcsZD1tLndlZWtkYXlzLHI9bS5zaG9ydFdlZWtkYXlzLEE9YS5wYWQsdD1hLmV4dGVuZCh7YTpyP3JbY106ZFtjXS5zdWJzdHIoMCwzKSxBOmRbY10sZDpBKHApLGU6QShwLDIsXCIgXCIpLHc6YyxiOm0uc2hvcnRNb250aHNbSF0sQjptLm1vbnRoc1tIXSxtOkEoSCsxKSx5OmIudG9TdHJpbmcoKS5zdWJzdHIoMiwyKSxZOmIsSDpBKGUpLGs6ZSxJOkEoZSUxMnx8MTIpLGw6ZSUxMnx8MTIsTTpBKGxbdC5oY0dldE1pbnV0ZXNdKCkpLHA6MTI+ZT9cIkFNXCI6XCJQTVwiLFA6MTI+ZT9cImFtXCI6XCJwbVwiLFM6QShsLmdldFNlY29uZHMoKSksTDpBKE1hdGgucm91bmQoaCVcbjFFMyksMyl9LGEuZGF0ZUZvcm1hdHMpO2ZvcihrIGluIHQpZm9yKDstMSE9PXUuaW5kZXhPZihcIiVcIitrKTspdT11LnJlcGxhY2UoXCIlXCIrayxcImZ1bmN0aW9uXCI9PT10eXBlb2YgdFtrXT90W2tdKGgpOnRba10pO3JldHVybiBuP3Uuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSt1LnN1YnN0cigxKTp1fTthLmZvcm1hdFNpbmdsZT1mdW5jdGlvbih1LGgpe3ZhciBuPS9cXC4oWzAtOV0pLyx0PWEuZGVmYXVsdE9wdGlvbnMubGFuZzsvZiQvLnRlc3QodSk/KG49KG49dS5tYXRjaChuKSk/blsxXTotMSxudWxsIT09aCYmKGg9YS5udW1iZXJGb3JtYXQoaCxuLHQuZGVjaW1hbFBvaW50LC0xPHUuaW5kZXhPZihcIixcIik/dC50aG91c2FuZHNTZXA6XCJcIikpKTpoPWEuZGF0ZUZvcm1hdCh1LGgpO3JldHVybiBofTthLmZvcm1hdD1mdW5jdGlvbih1LGgpe2Zvcih2YXIgbj1cIntcIix0PSExLGwsayxlLGMscD1bXSxIO3U7KXtuPXUuaW5kZXhPZihuKTtpZigtMT09PW4pYnJlYWs7bD11LnNsaWNlKDAsXG5uKTtpZih0KXtsPWwuc3BsaXQoXCI6XCIpO2s9bC5zaGlmdCgpLnNwbGl0KFwiLlwiKTtjPWsubGVuZ3RoO0g9aDtmb3IoZT0wO2U8YztlKyspSD1IW2tbZV1dO2wubGVuZ3RoJiYoSD1hLmZvcm1hdFNpbmdsZShsLmpvaW4oXCI6XCIpLEgpKTtwLnB1c2goSCl9ZWxzZSBwLnB1c2gobCk7dT11LnNsaWNlKG4rMSk7bj0odD0hdCk/XCJ9XCI6XCJ7XCJ9cC5wdXNoKHUpO3JldHVybiBwLmpvaW4oXCJcIil9O2EuZ2V0TWFnbml0dWRlPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGEpL01hdGguTE4xMCkpfTthLm5vcm1hbGl6ZVRpY2tJbnRlcnZhbD1mdW5jdGlvbih1LGgsbix0LGwpe3ZhciBrLGU9dTtuPWEucGljayhuLDEpO2s9dS9uO2h8fChoPWw/WzEsMS4yLDEuNSwyLDIuNSwzLDQsNSw2LDgsMTBdOlsxLDIsMi41LDUsMTBdLCExPT09dCYmKDE9PT1uP2g9YS5ncmVwKGgsZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hJTF9KTouMT49biYmKGg9WzEvbl0pKSk7XG5mb3IodD0wO3Q8aC5sZW5ndGgmJiEoZT1oW3RdLGwmJmUqbj49dXx8IWwmJms8PShoW3RdKyhoW3QrMV18fGhbdF0pKS8yKTt0KyspO3JldHVybiBlPWEuY29ycmVjdEZsb2F0KGUqbiwtTWF0aC5yb3VuZChNYXRoLmxvZyguMDAxKS9NYXRoLkxOMTApKX07YS5zdGFibGVTb3J0PWZ1bmN0aW9uKGEsaCl7dmFyIG49YS5sZW5ndGgsdCxsO2ZvcihsPTA7bDxuO2wrKylhW2xdLnNhZmVJPWw7YS5zb3J0KGZ1bmN0aW9uKGEsZSl7dD1oKGEsZSk7cmV0dXJuIDA9PT10P2Euc2FmZUktZS5zYWZlSTp0fSk7Zm9yKGw9MDtsPG47bCsrKWRlbGV0ZSBhW2xdLnNhZmVJfTthLmFycmF5TWluPWZ1bmN0aW9uKGEpe2Zvcih2YXIgaD1hLmxlbmd0aCxuPWFbMF07aC0tOylhW2hdPG4mJihuPWFbaF0pO3JldHVybiBufTthLmFycmF5TWF4PWZ1bmN0aW9uKGEpe2Zvcih2YXIgaD1hLmxlbmd0aCxuPWFbMF07aC0tOylhW2hdPm4mJihuPWFbaF0pO3JldHVybiBufTthLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzPVxuZnVuY3Rpb24oYSxoKXtmb3IodmFyIG4gaW4gYSlhW25dJiZhW25dIT09aCYmYVtuXS5kZXN0cm95JiZhW25dLmRlc3Ryb3koKSxkZWxldGUgYVtuXX07YS5kaXNjYXJkRWxlbWVudD1mdW5jdGlvbih1KXt2YXIgaD1hLmdhcmJhZ2VCaW47aHx8KGg9YS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt1JiZoLmFwcGVuZENoaWxkKHUpO2guaW5uZXJIVE1MPVwiXCJ9O2EuY29ycmVjdEZsb2F0PWZ1bmN0aW9uKGEsaCl7cmV0dXJuIHBhcnNlRmxvYXQoYS50b1ByZWNpc2lvbihofHwxNCkpfTthLnNldEFuaW1hdGlvbj1mdW5jdGlvbih1LGgpe2gucmVuZGVyZXIuZ2xvYmFsQW5pbWF0aW9uPWEucGljayh1LGgub3B0aW9ucy5jaGFydC5hbmltYXRpb24sITApfTthLmFuaW1PYmplY3Q9ZnVuY3Rpb24odSl7cmV0dXJuIGEuaXNPYmplY3QodSk/YS5tZXJnZSh1KTp7ZHVyYXRpb246dT81MDA6MH19O2EudGltZVVuaXRzPXttaWxsaXNlY29uZDoxLHNlY29uZDoxRTMsbWludXRlOjZFNCxob3VyOjM2RTUsXG5kYXk6ODY0RTUsd2Vlazo2MDQ4RTUsbW9udGg6MjQxOTJFNSx5ZWFyOjMxNDQ5NkU1fTthLm51bWJlckZvcm1hdD1mdW5jdGlvbih1LGgsbix0KXt1PSt1fHwwO2g9K2g7dmFyIGw9YS5kZWZhdWx0T3B0aW9ucy5sYW5nLGs9KHUudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV18fFwiXCIpLmxlbmd0aCxlLGM7LTE9PT1oP2g9TWF0aC5taW4oaywyMCk6YS5pc051bWJlcihoKXx8KGg9Mik7Yz0oTWF0aC5hYnModSkrTWF0aC5wb3coMTAsLU1hdGgubWF4KGgsayktMSkpLnRvRml4ZWQoaCk7az1TdHJpbmcoYS5wSW50KGMpKTtlPTM8ay5sZW5ndGg/ay5sZW5ndGglMzowO249YS5waWNrKG4sbC5kZWNpbWFsUG9pbnQpO3Q9YS5waWNrKHQsbC50aG91c2FuZHNTZXApO3U9KDA+dT9cIi1cIjpcIlwiKSsoZT9rLnN1YnN0cigwLGUpK3Q6XCJcIik7dSs9ay5zdWJzdHIoZSkucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csXCIkMVwiK3QpO2gmJih1Kz1uK2Muc2xpY2UoLWgpKTtyZXR1cm4gdX07TWF0aC5lYXNlSW5PdXRTaW5lPVxuZnVuY3Rpb24oYSl7cmV0dXJuLS41KihNYXRoLmNvcyhNYXRoLlBJKmEpLTEpfTthLmdldFN0eWxlPWZ1bmN0aW9uKHUsaCl7cmV0dXJuXCJ3aWR0aFwiPT09aD9NYXRoLm1pbih1Lm9mZnNldFdpZHRoLHUuc2Nyb2xsV2lkdGgpLWEuZ2V0U3R5bGUodSxcInBhZGRpbmctbGVmdFwiKS1hLmdldFN0eWxlKHUsXCJwYWRkaW5nLXJpZ2h0XCIpOlwiaGVpZ2h0XCI9PT1oP01hdGgubWluKHUub2Zmc2V0SGVpZ2h0LHUuc2Nyb2xsSGVpZ2h0KS1hLmdldFN0eWxlKHUsXCJwYWRkaW5nLXRvcFwiKS1hLmdldFN0eWxlKHUsXCJwYWRkaW5nLWJvdHRvbVwiKToodT1FLmdldENvbXB1dGVkU3R5bGUodSx2b2lkIDApKSYmYS5wSW50KHUuZ2V0UHJvcGVydHlWYWx1ZShoKSl9O2EuaW5BcnJheT1mdW5jdGlvbihhLGgpe3JldHVybiBoLmluZGV4T2Y/aC5pbmRleE9mKGEpOltdLmluZGV4T2YuY2FsbChoLGEpfTthLmdyZXA9ZnVuY3Rpb24oYSxoKXtyZXR1cm5bXS5maWx0ZXIuY2FsbChhLGgpfTthLmZpbmQ9ZnVuY3Rpb24oYSxcbmgpe3JldHVybltdLmZpbmQuY2FsbChhLGgpfTthLm1hcD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgbj1bXSx0PTAsbD1hLmxlbmd0aDt0PGw7dCsrKW5bdF09aC5jYWxsKGFbdF0sYVt0XSx0LGEpO3JldHVybiBufTthLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgaD1DLmRvY3VtZW50RWxlbWVudDthPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3RvcDphLnRvcCsoRS5wYWdlWU9mZnNldHx8aC5zY3JvbGxUb3ApLShoLmNsaWVudFRvcHx8MCksbGVmdDphLmxlZnQrKEUucGFnZVhPZmZzZXR8fGguc2Nyb2xsTGVmdCktKGguY2xpZW50TGVmdHx8MCl9fTthLnN0b3A9ZnVuY3Rpb24oYSxoKXtmb3IodmFyIG49Qi5sZW5ndGg7bi0tOylCW25dLmVsZW0hPT1hfHxoJiZoIT09QltuXS5wcm9wfHwoQltuXS5zdG9wcGVkPSEwKX07YS5lYWNoPWZ1bmN0aW9uKGEsaCxuKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGgsbil9O2EuYWRkRXZlbnQ9ZnVuY3Rpb24odSxcbmgsbil7ZnVuY3Rpb24gdChhKXthLnRhcmdldD1hLnNyY0VsZW1lbnR8fEU7bi5jYWxsKHUsYSl9dmFyIGw9dS5oY0V2ZW50cz11LmhjRXZlbnRzfHx7fTt1LmFkZEV2ZW50TGlzdGVuZXI/dS5hZGRFdmVudExpc3RlbmVyKGgsbiwhMSk6dS5hdHRhY2hFdmVudCYmKHUuaGNFdmVudHNJRXx8KHUuaGNFdmVudHNJRT17fSksdS5oY0V2ZW50c0lFW24udG9TdHJpbmcoKV09dCx1LmF0dGFjaEV2ZW50KFwib25cIitoLHQpKTtsW2hdfHwobFtoXT1bXSk7bFtoXS5wdXNoKG4pO3JldHVybiBmdW5jdGlvbigpe2EucmVtb3ZlRXZlbnQodSxoLG4pfX07YS5yZW1vdmVFdmVudD1mdW5jdGlvbih1LGgsbil7ZnVuY3Rpb24gdChhLGMpe3UucmVtb3ZlRXZlbnRMaXN0ZW5lcj91LnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCExKTp1LmF0dGFjaEV2ZW50JiYoYz11LmhjRXZlbnRzSUVbYy50b1N0cmluZygpXSx1LmRldGFjaEV2ZW50KFwib25cIithLGMpKX1mdW5jdGlvbiBsKCl7dmFyIGEsYztpZih1Lm5vZGVOYW1lKWZvcihjIGluIGg/XG4oYT17fSxhW2hdPSEwKTphPWUsYSlpZihlW2NdKWZvcihhPWVbY10ubGVuZ3RoO2EtLTspdChjLGVbY11bYV0pfXZhciBrLGU9dS5oY0V2ZW50cyxjO2UmJihoPyhrPWVbaF18fFtdLG4/KGM9YS5pbkFycmF5KG4sayksLTE8YyYmKGsuc3BsaWNlKGMsMSksZVtoXT1rKSx0KGgsbikpOihsKCksZVtoXT1bXSkpOihsKCksdS5oY0V2ZW50cz17fSkpfTthLmZpcmVFdmVudD1mdW5jdGlvbih1LGgsbix0KXt2YXIgbDtsPXUuaGNFdmVudHM7dmFyIGssZTtuPW58fHt9O2lmKEMuY3JlYXRlRXZlbnQmJih1LmRpc3BhdGNoRXZlbnR8fHUuZmlyZUV2ZW50KSlsPUMuY3JlYXRlRXZlbnQoXCJFdmVudHNcIiksbC5pbml0RXZlbnQoaCwhMCwhMCksYS5leHRlbmQobCxuKSx1LmRpc3BhdGNoRXZlbnQ/dS5kaXNwYXRjaEV2ZW50KGwpOnUuZmlyZUV2ZW50KGgsbCk7ZWxzZSBpZihsKWZvcihsPWxbaF18fFtdLGs9bC5sZW5ndGgsbi50YXJnZXR8fGEuZXh0ZW5kKG4se3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7bi5kZWZhdWx0UHJldmVudGVkPVxuITB9LHRhcmdldDp1LHR5cGU6aH0pLGg9MDtoPGs7aCsrKShlPWxbaF0pJiYhMT09PWUuY2FsbCh1LG4pJiZuLnByZXZlbnREZWZhdWx0KCk7dCYmIW4uZGVmYXVsdFByZXZlbnRlZCYmdChuKX07YS5hbmltYXRlPWZ1bmN0aW9uKHUsaCxuKXt2YXIgdCxsPVwiXCIsayxlLGM7YS5pc09iamVjdChuKXx8KHQ9YXJndW1lbnRzLG49e2R1cmF0aW9uOnRbMl0sZWFzaW5nOnRbM10sY29tcGxldGU6dFs0XX0pO2EuaXNOdW1iZXIobi5kdXJhdGlvbil8fChuLmR1cmF0aW9uPTQwMCk7bi5lYXNpbmc9XCJmdW5jdGlvblwiPT09dHlwZW9mIG4uZWFzaW5nP24uZWFzaW5nOk1hdGhbbi5lYXNpbmddfHxNYXRoLmVhc2VJbk91dFNpbmU7bi5jdXJBbmltPWEubWVyZ2UoaCk7Zm9yKGMgaW4gaClhLnN0b3AodSxjKSxlPW5ldyBhLkZ4KHUsbixjKSxrPW51bGwsXCJkXCI9PT1jPyhlLnBhdGhzPWUuaW5pdFBhdGgodSx1LmQsaC5kKSxlLnRvRD1oLmQsdD0wLGs9MSk6dS5hdHRyP3Q9dS5hdHRyKGMpOih0PXBhcnNlRmxvYXQoYS5nZXRTdHlsZSh1LFxuYykpfHwwLFwib3BhY2l0eVwiIT09YyYmKGw9XCJweFwiKSksa3x8KGs9aFtjXSksayYmay5tYXRjaCYmay5tYXRjaChcInB4XCIpJiYoaz1rLnJlcGxhY2UoL3B4L2csXCJcIikpLGUucnVuKHQsayxsKX07YS5zZXJpZXNUeXBlPWZ1bmN0aW9uKHUsaCxuLHQsbCl7dmFyIGs9YS5nZXRPcHRpb25zKCksZT1hLnNlcmllc1R5cGVzO2sucGxvdE9wdGlvbnNbdV09YS5tZXJnZShrLnBsb3RPcHRpb25zW2hdLG4pO2VbdV09YS5leHRlbmRDbGFzcyhlW2hdfHxmdW5jdGlvbigpe30sdCk7ZVt1XS5wcm90b3R5cGUudHlwZT11O2wmJihlW3VdLnByb3RvdHlwZS5wb2ludENsYXNzPWEuZXh0ZW5kQ2xhc3MoYS5Qb2ludCxsKSk7cmV0dXJuIGVbdV19O2EudW5pcXVlS2V5PWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsOSksaD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVyblwiaGlnaGNoYXJ0cy1cIithK1wiLVwiK2grK319KCk7RS5qUXVlcnkmJihFLmpRdWVyeS5mbi5oaWdoY2hhcnRzPVxuZnVuY3Rpb24oKXt2YXIgdT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aWYodGhpc1swXSlyZXR1cm4gdVswXT8obmV3IChhW2EuaXNTdHJpbmcodVswXSk/dS5zaGlmdCgpOlwiQ2hhcnRcIl0pKHRoaXNbMF0sdVswXSx1WzFdKSx0aGlzKTp6W2EuYXR0cih0aGlzWzBdLFwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0XCIpXX0pO0MmJiFDLmRlZmF1bHRWaWV3JiYoYS5nZXRTdHlsZT1mdW5jdGlvbih1LGgpe3ZhciBuPXt3aWR0aDpcImNsaWVudFdpZHRoXCIsaGVpZ2h0OlwiY2xpZW50SGVpZ2h0XCJ9W2hdO2lmKHUuc3R5bGVbaF0pcmV0dXJuIGEucEludCh1LnN0eWxlW2hdKTtcIm9wYWNpdHlcIj09PWgmJihoPVwiZmlsdGVyXCIpO2lmKG4pcmV0dXJuIHUuc3R5bGUuem9vbT0xLE1hdGgubWF4KHVbbl0tMiphLmdldFN0eWxlKHUsXCJwYWRkaW5nXCIpLDApO3U9dS5jdXJyZW50U3R5bGVbaC5yZXBsYWNlKC9cXC0oXFx3KS9nLGZ1bmN0aW9uKGEsbCl7cmV0dXJuIGwudG9VcHBlckNhc2UoKX0pXTtcImZpbHRlclwiPT09XG5oJiYodT11LnJlcGxhY2UoL2FscGhhXFwob3BhY2l0eT0oWzAtOV0rKVxcKS8sZnVuY3Rpb24oYSxsKXtyZXR1cm4gbC8xMDB9KSk7cmV0dXJuXCJcIj09PXU/MTphLnBJbnQodSl9KTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KGEuZWFjaD1mdW5jdGlvbihhLGgsbil7Zm9yKHZhciB0PTAsbD1hLmxlbmd0aDt0PGw7dCsrKWlmKCExPT09aC5jYWxsKG4sYVt0XSx0LGEpKXJldHVybiB0fSk7QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChhLmluQXJyYXk9ZnVuY3Rpb24oYSxoKXt2YXIgbix0PTA7aWYoaClmb3Iobj1oLmxlbmd0aDt0PG47dCsrKWlmKGhbdF09PT1hKXJldHVybiB0O3JldHVybi0xfSk7QXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KGEuZ3JlcD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgbj1bXSx0PTAsbD1hLmxlbmd0aDt0PGw7dCsrKWgoYVt0XSx0KSYmbi5wdXNoKGFbdF0pO3JldHVybiBufSk7QXJyYXkucHJvdG90eXBlLmZpbmR8fChhLmZpbmQ9ZnVuY3Rpb24oYSxoKXt2YXIgbixcbnQ9YS5sZW5ndGg7Zm9yKG49MDtuPHQ7bisrKWlmKGgoYVtuXSxuKSlyZXR1cm4gYVtuXX0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuZWFjaCx6PWEuaXNOdW1iZXIsQz1hLm1hcCxFPWEubWVyZ2UsdT1hLnBJbnQ7YS5Db2xvcj1mdW5jdGlvbihoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBhLkNvbG9yKSlyZXR1cm4gbmV3IGEuQ29sb3IoaCk7dGhpcy5pbml0KGgpfTthLkNvbG9yLnByb3RvdHlwZT17cGFyc2Vyczpbe3JlZ2V4Oi9yZ2JhXFwoXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XXsxLDN9KVxccyosXFxzKihbMC05XT8oPzpcXC5bMC05XSspPylcXHMqXFwpLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bdShhWzFdKSx1KGFbMl0pLHUoYVszXSkscGFyc2VGbG9hdChhWzRdLDEwKV19fSx7cmVnZXg6L3JnYlxcKFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqLFxccyooWzAtOV17MSwzfSlcXHMqXFwpLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bdShhWzFdKSxcbnUoYVsyXSksdShhWzNdKSwxXX19XSxuYW1lczp7d2hpdGU6XCIjZmZmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCJ9LGluaXQ6ZnVuY3Rpb24oaCl7dmFyIG4sdCxsLGs7aWYoKHRoaXMuaW5wdXQ9aD10aGlzLm5hbWVzW2hdfHxoKSYmaC5zdG9wcyl0aGlzLnN0b3BzPUMoaC5zdG9wcyxmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEuQ29sb3IoZVsxXSl9KTtlbHNlIGlmKGgmJlwiI1wiPT09aFswXSYmKG49aC5sZW5ndGgsaD1wYXJzZUludChoLnN1YnN0cigxKSwxNiksNz09PW4/dD1bKGgmMTY3MTE2ODApPj4xNiwoaCY2NTI4MCk+PjgsaCYyNTUsMV06ND09PW4mJih0PVsoaCYzODQwKT4+NHwoaCYzODQwKT4+OCwoaCYyNDApPj40fGgmMjQwLChoJjE1KTw8NHxoJjE1LDFdKSksIXQpZm9yKGw9dGhpcy5wYXJzZXJzLmxlbmd0aDtsLS0mJiF0OylrPXRoaXMucGFyc2Vyc1tsXSwobj1rLnJlZ2V4LmV4ZWMoaCkpJiYodD1rLnBhcnNlKG4pKTt0aGlzLnJnYmE9dHx8W119LGdldDpmdW5jdGlvbihhKXt2YXIgaD1cbnRoaXMuaW5wdXQsdD10aGlzLnJnYmEsbDt0aGlzLnN0b3BzPyhsPUUoaCksbC5zdG9wcz1bXS5jb25jYXQobC5zdG9wcyksQih0aGlzLnN0b3BzLGZ1bmN0aW9uKGssZSl7bC5zdG9wc1tlXT1bbC5zdG9wc1tlXVswXSxrLmdldChhKV19KSk6bD10JiZ6KHRbMF0pP1wicmdiXCI9PT1hfHwhYSYmMT09PXRbM10/XCJyZ2IoXCIrdFswXStcIixcIit0WzFdK1wiLFwiK3RbMl0rXCIpXCI6XCJhXCI9PT1hP3RbM106XCJyZ2JhKFwiK3Quam9pbihcIixcIikrXCIpXCI6aDtyZXR1cm4gbH0sYnJpZ2h0ZW46ZnVuY3Rpb24oYSl7dmFyIGgsdD10aGlzLnJnYmE7aWYodGhpcy5zdG9wcylCKHRoaXMuc3RvcHMsZnVuY3Rpb24obCl7bC5icmlnaHRlbihhKX0pO2Vsc2UgaWYoeihhKSYmMCE9PWEpZm9yKGg9MDszPmg7aCsrKXRbaF0rPXUoMjU1KmEpLDA+dFtoXSYmKHRbaF09MCksMjU1PHRbaF0mJih0W2hdPTI1NSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7dGhpcy5yZ2JhWzNdPWE7cmV0dXJuIHRoaXN9fTtcbmEuY29sb3I9ZnVuY3Rpb24oaCl7cmV0dXJuIG5ldyBhLkNvbG9yKGgpfX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQix6LEM9YS5hZGRFdmVudCxFPWEuYW5pbWF0ZSx1PWEuYXR0cixoPWEuY2hhcnRzLG49YS5jb2xvcix0PWEuY3NzLGw9YS5jcmVhdGVFbGVtZW50LGs9YS5kZWZpbmVkLGU9YS5kZWcycmFkLGM9YS5kZXN0cm95T2JqZWN0UHJvcGVydGllcyxwPWEuZG9jLEg9YS5lYWNoLGI9YS5leHRlbmQsbT1hLmVyYXNlLGQ9YS5ncmVwLHI9YS5oYXNUb3VjaCxBPWEuaW5BcnJheSx2PWEuaXNBcnJheSxmPWEuaXNGaXJlZm94LHk9YS5pc01TLEc9YS5pc09iamVjdCxGPWEuaXNTdHJpbmcscT1hLmlzV2ViS2l0LHg9YS5tZXJnZSxKPWEubm9vcCxLPWEucGljayxMPWEucEludCxnPWEucmVtb3ZlRXZlbnQsRD1hLnN0b3AsUz1hLnN2ZyxNPWEuU1ZHX05TLFI9YS5zeW1ib2xTaXplcyxOPWEud2luO0I9YS5TVkdFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O0IucHJvdG90eXBlPVxue29wYWNpdHk6MSxTVkdfTlM6TSx0ZXh0UHJvcHM6XCJkaXJlY3Rpb24gZm9udFNpemUgZm9udFdlaWdodCBmb250RmFtaWx5IGZvbnRTdHlsZSBjb2xvciBsaW5lSGVpZ2h0IHdpZHRoIHRleHRBbGlnbiB0ZXh0RGVjb3JhdGlvbiB0ZXh0T3ZlcmZsb3cgdGV4dE91dGxpbmVcIi5zcGxpdChcIiBcIiksaW5pdDpmdW5jdGlvbihhLGcpe3RoaXMuZWxlbWVudD1cInNwYW5cIj09PWc/bChnKTpwLmNyZWF0ZUVsZW1lbnROUyh0aGlzLlNWR19OUyxnKTt0aGlzLnJlbmRlcmVyPWF9LGFuaW1hdGU6ZnVuY3Rpb24odyxnLGIpe2c9YS5hbmltT2JqZWN0KEsoZyx0aGlzLnJlbmRlcmVyLmdsb2JhbEFuaW1hdGlvbiwhMCkpOzAhPT1nLmR1cmF0aW9uPyhiJiYoZy5jb21wbGV0ZT1iKSxFKHRoaXMsdyxnKSk6KHRoaXMuYXR0cih3LG51bGwsYiksZy5zdGVwJiZnLnN0ZXAuY2FsbCh0aGlzKSk7cmV0dXJuIHRoaXN9LGNvbG9yR3JhZGllbnQ6ZnVuY3Rpb24odyxnLGIpe3ZhciBmPXRoaXMucmVuZGVyZXIsXG5kLGMscSxELE8seSxyLEcsZSxtLHAsbD1bXSxRO3cubGluZWFyR3JhZGllbnQ/Yz1cImxpbmVhckdyYWRpZW50XCI6dy5yYWRpYWxHcmFkaWVudCYmKGM9XCJyYWRpYWxHcmFkaWVudFwiKTtpZihjKXtxPXdbY107Tz1mLmdyYWRpZW50cztyPXcuc3RvcHM7bT1iLnJhZGlhbFJlZmVyZW5jZTt2KHEpJiYod1tjXT1xPXt4MTpxWzBdLHkxOnFbMV0seDI6cVsyXSx5MjpxWzNdLGdyYWRpZW50VW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwifSk7XCJyYWRpYWxHcmFkaWVudFwiPT09YyYmbSYmIWsocS5ncmFkaWVudFVuaXRzKSYmKEQ9cSxxPXgocSxmLmdldFJhZGlhbEF0dHIobSxEKSx7Z3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9KSk7Zm9yKHAgaW4gcSlcImlkXCIhPT1wJiZsLnB1c2gocCxxW3BdKTtmb3IocCBpbiByKWwucHVzaChyW3BdKTtsPWwuam9pbihcIixcIik7T1tsXT9tPU9bbF0uYXR0cihcImlkXCIpOihxLmlkPW09YS51bmlxdWVLZXkoKSxPW2xdPXk9Zi5jcmVhdGVFbGVtZW50KGMpLmF0dHIocSkuYWRkKGYuZGVmcyksXG55LnJhZEF0dHI9RCx5LnN0b3BzPVtdLEgocixmdW5jdGlvbih3KXswPT09d1sxXS5pbmRleE9mKFwicmdiYVwiKT8oZD1hLmNvbG9yKHdbMV0pLEc9ZC5nZXQoXCJyZ2JcIiksZT1kLmdldChcImFcIikpOihHPXdbMV0sZT0xKTt3PWYuY3JlYXRlRWxlbWVudChcInN0b3BcIikuYXR0cih7b2Zmc2V0OndbMF0sXCJzdG9wLWNvbG9yXCI6RyxcInN0b3Atb3BhY2l0eVwiOmV9KS5hZGQoeSk7eS5zdG9wcy5wdXNoKHcpfSkpO1E9XCJ1cmwoXCIrZi51cmwrXCIjXCIrbStcIilcIjtiLnNldEF0dHJpYnV0ZShnLFEpO2IuZ3JhZGllbnQ9bDt3LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFF9fX0sYXBwbHlUZXh0T3V0bGluZTpmdW5jdGlvbihhKXt2YXIgdz10aGlzLmVsZW1lbnQsZyxiLGYsZDstMSE9PWEuaW5kZXhPZihcImNvbnRyYXN0XCIpJiYoYT1hLnJlcGxhY2UoL2NvbnRyYXN0L2csdGhpcy5yZW5kZXJlci5nZXRDb250cmFzdCh3LnN0eWxlLmZpbGwpKSk7dGhpcy5mYWtlVFM9ITA7dGhpcy55U2V0dGVyPXRoaXMueFNldHRlcjtcbmc9W10uc2xpY2UuY2FsbCh3LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidHNwYW5cIikpO2E9YS5zcGxpdChcIiBcIik7Yj1hW2EubGVuZ3RoLTFdOyhmPWFbMF0pJiZcIm5vbmVcIiE9PWYmJihmPWYucmVwbGFjZSgvKF5bXFxkXFwuXSspKC4qPykkL2csZnVuY3Rpb24oYSx3LGcpe3JldHVybiAyKncrZ30pLEgoZyxmdW5jdGlvbihhKXtcImhpZ2hjaGFydHMtdGV4dC1vdXRsaW5lXCI9PT1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpJiZtKGcsdy5yZW1vdmVDaGlsZChhKSl9KSxkPXcuZmlyc3RDaGlsZCxIKGcsZnVuY3Rpb24oYSxnKXswPT09ZyYmKGEuc2V0QXR0cmlidXRlKFwieFwiLHcuZ2V0QXR0cmlidXRlKFwieFwiKSksZz13LmdldEF0dHJpYnV0ZShcInlcIiksYS5zZXRBdHRyaWJ1dGUoXCJ5XCIsZ3x8MCksbnVsbD09PWcmJncuc2V0QXR0cmlidXRlKFwieVwiLDApKTthPWEuY2xvbmVOb2RlKDEpO3UoYSx7XCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy10ZXh0LW91dGxpbmVcIixmaWxsOmIsc3Ryb2tlOmIsXCJzdHJva2Utd2lkdGhcIjpmLFxuXCJzdHJva2UtbGluZWpvaW5cIjpcInJvdW5kXCJ9KTt3Lmluc2VydEJlZm9yZShhLGQpfSkpfSxhdHRyOmZ1bmN0aW9uKGEsZyxiLGYpe3ZhciB3LGQ9dGhpcy5lbGVtZW50LHEsYz10aGlzLHk7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiZ2b2lkIDAhPT1nJiYodz1hLGE9e30sYVt3XT1nKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpYz0odGhpc1thK1wiR2V0dGVyXCJdfHx0aGlzLl9kZWZhdWx0R2V0dGVyKS5jYWxsKHRoaXMsYSxkKTtlbHNle2Zvcih3IGluIGEpZz1hW3ddLHk9ITEsZnx8RCh0aGlzLHcpLHRoaXMuc3ltYm9sTmFtZSYmL14oeHx5fHdpZHRofGhlaWdodHxyfHN0YXJ0fGVuZHxpbm5lclJ8YW5jaG9yWHxhbmNob3JZKS8udGVzdCh3KSYmKHF8fCh0aGlzLnN5bWJvbEF0dHIoYSkscT0hMCkseT0hMCksIXRoaXMucm90YXRpb258fFwieFwiIT09dyYmXCJ5XCIhPT13fHwodGhpcy5kb1RyYW5zZm9ybT0hMCkseXx8KHk9dGhpc1t3K1wiU2V0dGVyXCJdfHx0aGlzLl9kZWZhdWx0U2V0dGVyLHkuY2FsbCh0aGlzLFxuZyx3LGQpLHRoaXMuc2hhZG93cyYmL14od2lkdGh8aGVpZ2h0fHZpc2liaWxpdHl8eHx5fGR8dHJhbnNmb3JtfGN4fGN5fHIpJC8udGVzdCh3KSYmdGhpcy51cGRhdGVTaGFkb3dzKHcsZyx5KSk7dGhpcy5kb1RyYW5zZm9ybSYmKHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5kb1RyYW5zZm9ybT0hMSl9YiYmYigpO3JldHVybiBjfSx1cGRhdGVTaGFkb3dzOmZ1bmN0aW9uKGEsZyxiKXtmb3IodmFyIHc9dGhpcy5zaGFkb3dzLGY9dy5sZW5ndGg7Zi0tOyliLmNhbGwod1tmXSxcImhlaWdodFwiPT09YT9NYXRoLm1heChnLSh3W2ZdLmN1dEhlaWdodHx8MCksMCk6XCJkXCI9PT1hP3RoaXMuZDpnLGEsd1tmXSl9LGFkZENsYXNzOmZ1bmN0aW9uKGEsZyl7dmFyIHc9dGhpcy5hdHRyKFwiY2xhc3NcIil8fFwiXCI7LTE9PT13LmluZGV4T2YoYSkmJihnfHwoYT0odysodz9cIiBcIjpcIlwiKSthKS5yZXBsYWNlKFwiICBcIixcIiBcIikpLHRoaXMuYXR0cihcImNsYXNzXCIsYSkpO3JldHVybiB0aGlzfSxoYXNDbGFzczpmdW5jdGlvbihhKXtyZXR1cm4tMSE9PVxudSh0aGlzLmVsZW1lbnQsXCJjbGFzc1wiKS5pbmRleE9mKGEpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt1KHRoaXMuZWxlbWVudCxcImNsYXNzXCIsKHUodGhpcy5lbGVtZW50LFwiY2xhc3NcIil8fFwiXCIpLnJlcGxhY2UoYSxcIlwiKSk7cmV0dXJuIHRoaXN9LHN5bWJvbEF0dHI6ZnVuY3Rpb24oYSl7dmFyIHc9dGhpcztIKFwieCB5IHIgc3RhcnQgZW5kIHdpZHRoIGhlaWdodCBpbm5lclIgYW5jaG9yWCBhbmNob3JZXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGcpe3dbZ109SyhhW2ddLHdbZ10pfSk7dy5hdHRyKHtkOncucmVuZGVyZXIuc3ltYm9sc1t3LnN5bWJvbE5hbWVdKHcueCx3Lnksdy53aWR0aCx3LmhlaWdodCx3KX0pfSxjbGlwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHIoXCJjbGlwLXBhdGhcIixhP1widXJsKFwiK3RoaXMucmVuZGVyZXIudXJsK1wiI1wiK2EuaWQrXCIpXCI6XCJub25lXCIpfSxjcmlzcDpmdW5jdGlvbihhLGcpe3ZhciB3LGY9e30sYjtnPWd8fGEuc3Ryb2tlV2lkdGh8fDA7Yj1NYXRoLnJvdW5kKGcpJVxuMi8yO2EueD1NYXRoLmZsb29yKGEueHx8dGhpcy54fHwwKStiO2EueT1NYXRoLmZsb29yKGEueXx8dGhpcy55fHwwKStiO2Eud2lkdGg9TWF0aC5mbG9vcigoYS53aWR0aHx8dGhpcy53aWR0aHx8MCktMipiKTthLmhlaWdodD1NYXRoLmZsb29yKChhLmhlaWdodHx8dGhpcy5oZWlnaHR8fDApLTIqYik7ayhhLnN0cm9rZVdpZHRoKSYmKGEuc3Ryb2tlV2lkdGg9Zyk7Zm9yKHcgaW4gYSl0aGlzW3ddIT09YVt3XSYmKHRoaXNbd109Zlt3XT1hW3ddKTtyZXR1cm4gZn0sY3NzOmZ1bmN0aW9uKGEpe3ZhciB3PXRoaXMuc3R5bGVzLGc9e30sZj10aGlzLmVsZW1lbnQsZCxxPVwiXCIsYz0hdyxEPVtcInRleHRPdmVyZmxvd1wiLFwid2lkdGhcIl07YSYmYS5jb2xvciYmKGEuZmlsbD1hLmNvbG9yKTtpZih3KWZvcihkIGluIGEpYVtkXSE9PXdbZF0mJihnW2RdPWFbZF0sYz0hMCk7aWYoYyl7dyYmKGE9Yih3LGcpKTt3PXRoaXMudGV4dFdpZHRoPWEmJmEud2lkdGgmJlwiYXV0b1wiIT09YS53aWR0aCYmXCJ0ZXh0XCI9PT1cbmYubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmTChhLndpZHRoKTt0aGlzLnN0eWxlcz1hO3cmJiFTJiZ0aGlzLnJlbmRlcmVyLmZvckV4cG9ydCYmZGVsZXRlIGEud2lkdGg7aWYoeSYmIVMpdCh0aGlzLmVsZW1lbnQsYSk7ZWxzZXt3PWZ1bmN0aW9uKGEsdyl7cmV0dXJuXCItXCIrdy50b0xvd2VyQ2FzZSgpfTtmb3IoZCBpbiBhKS0xPT09QShkLEQpJiYocSs9ZC5yZXBsYWNlKC8oW0EtWl0pL2csdykrXCI6XCIrYVtkXStcIjtcIik7cSYmdShmLFwic3R5bGVcIixxKX10aGlzLmFkZGVkJiYoXCJ0ZXh0XCI9PT10aGlzLmVsZW1lbnQubm9kZU5hbWUmJnRoaXMucmVuZGVyZXIuYnVpbGRUZXh0KHRoaXMpLGEmJmEudGV4dE91dGxpbmUmJnRoaXMuYXBwbHlUZXh0T3V0bGluZShhLnRleHRPdXRsaW5lKSl9cmV0dXJuIHRoaXN9LHN0cm9rZVdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbXCJzdHJva2Utd2lkdGhcIl18fDB9LG9uOmZ1bmN0aW9uKGEsZyl7dmFyIHc9dGhpcyxmPXcuZWxlbWVudDtyJiZcImNsaWNrXCI9PT1cbmE/KGYub250b3VjaHN0YXJ0PWZ1bmN0aW9uKGEpe3cudG91Y2hFdmVudEZpcmVkPURhdGUubm93KCk7YS5wcmV2ZW50RGVmYXVsdCgpO2cuY2FsbChmLGEpfSxmLm9uY2xpY2s9ZnVuY3Rpb24oYSl7KC0xPT09Ti5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpfHwxMTAwPERhdGUubm93KCktKHcudG91Y2hFdmVudEZpcmVkfHwwKSkmJmcuY2FsbChmLGEpfSk6ZltcIm9uXCIrYV09ZztyZXR1cm4gdGhpc30sc2V0UmFkaWFsUmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3ZhciB3PXRoaXMucmVuZGVyZXIuZ3JhZGllbnRzW3RoaXMuZWxlbWVudC5ncmFkaWVudF07dGhpcy5lbGVtZW50LnJhZGlhbFJlZmVyZW5jZT1hO3cmJncucmFkQXR0ciYmdy5hbmltYXRlKHRoaXMucmVuZGVyZXIuZ2V0UmFkaWFsQXR0cihhLHcucmFkQXR0cikpO3JldHVybiB0aGlzfSx0cmFuc2xhdGU6ZnVuY3Rpb24oYSxnKXtyZXR1cm4gdGhpcy5hdHRyKHt0cmFuc2xhdGVYOmEsdHJhbnNsYXRlWTpnfSl9LFxuaW52ZXJ0OmZ1bmN0aW9uKGEpe3RoaXMuaW52ZXJ0ZWQ9YTt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiB0aGlzfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyYW5zbGF0ZVh8fDAsZz10aGlzLnRyYW5zbGF0ZVl8fDAsZj10aGlzLnNjYWxlWCxiPXRoaXMuc2NhbGVZLGQ9dGhpcy5pbnZlcnRlZCxxPXRoaXMucm90YXRpb24sYz10aGlzLmVsZW1lbnQ7ZCYmKGErPXRoaXMud2lkdGgsZys9dGhpcy5oZWlnaHQpO2E9W1widHJhbnNsYXRlKFwiK2ErXCIsXCIrZytcIilcIl07ZD9hLnB1c2goXCJyb3RhdGUoOTApIHNjYWxlKC0xLDEpXCIpOnEmJmEucHVzaChcInJvdGF0ZShcIitxK1wiIFwiKyhjLmdldEF0dHJpYnV0ZShcInhcIil8fDApK1wiIFwiKyhjLmdldEF0dHJpYnV0ZShcInlcIil8fDApK1wiKVwiKTsoayhmKXx8ayhiKSkmJmEucHVzaChcInNjYWxlKFwiK0soZiwxKStcIiBcIitLKGIsMSkrXCIpXCIpO2EubGVuZ3RoJiZjLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGEuam9pbihcIiBcIikpfSxcbnRvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7YS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGEpO3JldHVybiB0aGlzfSxhbGlnbjpmdW5jdGlvbihhLGcsZil7dmFyIHcsYixkLHEsYz17fTtiPXRoaXMucmVuZGVyZXI7ZD1iLmFsaWduZWRPYmplY3RzO3ZhciBELHk7aWYoYSl7aWYodGhpcy5hbGlnbk9wdGlvbnM9YSx0aGlzLmFsaWduQnlUcmFuc2xhdGU9ZywhZnx8RihmKSl0aGlzLmFsaWduVG89dz1mfHxcInJlbmRlcmVyXCIsbShkLHRoaXMpLGQucHVzaCh0aGlzKSxmPW51bGx9ZWxzZSBhPXRoaXMuYWxpZ25PcHRpb25zLGc9dGhpcy5hbGlnbkJ5VHJhbnNsYXRlLHc9dGhpcy5hbGlnblRvO2Y9SyhmLGJbd10sYik7dz1hLmFsaWduO2I9YS52ZXJ0aWNhbEFsaWduO2Q9KGYueHx8MCkrKGEueHx8MCk7cT0oZi55fHwwKSsoYS55fHwwKTtcInJpZ2h0XCI9PT13P0Q9MTpcImNlbnRlclwiPT09dyYmKEQ9Mik7RCYmKGQrPShmLndpZHRoLShhLndpZHRofHwwKSkvRCk7Y1tnP1xuXCJ0cmFuc2xhdGVYXCI6XCJ4XCJdPU1hdGgucm91bmQoZCk7XCJib3R0b21cIj09PWI/eT0xOlwibWlkZGxlXCI9PT1iJiYoeT0yKTt5JiYocSs9KGYuaGVpZ2h0LShhLmhlaWdodHx8MCkpL3kpO2NbZz9cInRyYW5zbGF0ZVlcIjpcInlcIl09TWF0aC5yb3VuZChxKTt0aGlzW3RoaXMucGxhY2VkP1wiYW5pbWF0ZVwiOlwiYXR0clwiXShjKTt0aGlzLnBsYWNlZD0hMDt0aGlzLmFsaWduQXR0cj1jO3JldHVybiB0aGlzfSxnZXRCQm94OmZ1bmN0aW9uKGEsZyl7dmFyIHcsZj10aGlzLnJlbmRlcmVyLGQscT10aGlzLmVsZW1lbnQsYz10aGlzLnN0eWxlcyxELHk9dGhpcy50ZXh0U3RyLHgscj1mLmNhY2hlLEc9Zi5jYWNoZUtleXMsbTtnPUsoZyx0aGlzLnJvdGF0aW9uKTtkPWcqZTtEPWMmJmMuZm9udFNpemU7dm9pZCAwIT09eSYmKG09eS50b1N0cmluZygpLC0xPT09bS5pbmRleE9mKFwiXFx4M2NcIikmJihtPW0ucmVwbGFjZSgvWzAtOV0vZyxcIjBcIikpLG0rPVtcIlwiLGd8fDAsRCxjJiZjLndpZHRoLGMmJmMudGV4dE92ZXJmbG93XS5qb2luKCkpO1xubSYmIWEmJih3PXJbbV0pO2lmKCF3KXtpZihxLm5hbWVzcGFjZVVSST09PXRoaXMuU1ZHX05TfHxmLmZvckV4cG9ydCl7dHJ5eyh4PXRoaXMuZmFrZVRTJiZmdW5jdGlvbihhKXtIKHEucXVlcnlTZWxlY3RvckFsbChcIi5oaWdoY2hhcnRzLXRleHQtb3V0bGluZVwiKSxmdW5jdGlvbih3KXt3LnN0eWxlLmRpc3BsYXk9YX0pfSkmJngoXCJub25lXCIpLHc9cS5nZXRCQm94P2Ioe30scS5nZXRCQm94KCkpOnt3aWR0aDpxLm9mZnNldFdpZHRoLGhlaWdodDpxLm9mZnNldEhlaWdodH0seCYmeChcIlwiKX1jYXRjaChYKXt9aWYoIXd8fDA+dy53aWR0aCl3PXt3aWR0aDowLGhlaWdodDowfX1lbHNlIHc9dGhpcy5odG1sR2V0QkJveCgpO2YuaXNTVkcmJihhPXcud2lkdGgsZj13LmhlaWdodCxjJiZcIjExcHhcIj09PWMuZm9udFNpemUmJjE3PT09TWF0aC5yb3VuZChmKSYmKHcuaGVpZ2h0PWY9MTQpLGcmJih3LndpZHRoPU1hdGguYWJzKGYqTWF0aC5zaW4oZCkpK01hdGguYWJzKGEqTWF0aC5jb3MoZCkpLFxudy5oZWlnaHQ9TWF0aC5hYnMoZipNYXRoLmNvcyhkKSkrTWF0aC5hYnMoYSpNYXRoLnNpbihkKSkpKTtpZihtJiYwPHcuaGVpZ2h0KXtmb3IoOzI1MDxHLmxlbmd0aDspZGVsZXRlIHJbRy5zaGlmdCgpXTtyW21dfHxHLnB1c2gobSk7clttXT13fX1yZXR1cm4gd30sc2hvdzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdHRyKHt2aXNpYmlsaXR5OmE/XCJpbmhlcml0XCI6XCJ2aXNpYmxlXCJ9KX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dHIoe3Zpc2liaWxpdHk6XCJoaWRkZW5cIn0pfSxmYWRlT3V0OmZ1bmN0aW9uKGEpe3ZhciB3PXRoaXM7dy5hbmltYXRlKHtvcGFjaXR5OjB9LHtkdXJhdGlvbjphfHwxNTAsY29tcGxldGU6ZnVuY3Rpb24oKXt3LmF0dHIoe3k6LTk5OTl9KX19KX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciB3PXRoaXMucmVuZGVyZXIsZz10aGlzLmVsZW1lbnQsZjthJiYodGhpcy5wYXJlbnRHcm91cD1hKTt0aGlzLnBhcmVudEludmVydGVkPWEmJmEuaW52ZXJ0ZWQ7XG52b2lkIDAhPT10aGlzLnRleHRTdHImJncuYnVpbGRUZXh0KHRoaXMpO3RoaXMuYWRkZWQ9ITA7aWYoIWF8fGEuaGFuZGxlWnx8dGhpcy56SW5kZXgpZj10aGlzLnpJbmRleFNldHRlcigpO2Z8fChhP2EuZWxlbWVudDp3LmJveCkuYXBwZW5kQ2hpbGQoZyk7aWYodGhpcy5vbkFkZCl0aGlzLm9uQWRkKCk7cmV0dXJuIHRoaXN9LHNhZmVSZW1vdmVDaGlsZDpmdW5jdGlvbihhKXt2YXIgdz1hLnBhcmVudE5vZGU7dyYmdy5yZW1vdmVDaGlsZChhKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudHx8e30sZz10aGlzLnJlbmRlcmVyLmlzU1ZHJiZcIlNQQU5cIj09PWEubm9kZU5hbWUmJnRoaXMucGFyZW50R3JvdXAsZixiO2Eub25jbGljaz1hLm9ubW91c2VvdXQ9YS5vbm1vdXNlb3Zlcj1hLm9ubW91c2Vtb3ZlPWEucG9pbnQ9bnVsbDtEKHRoaXMpO3RoaXMuY2xpcFBhdGgmJih0aGlzLmNsaXBQYXRoPXRoaXMuY2xpcFBhdGguZGVzdHJveSgpKTtpZih0aGlzLnN0b3BzKXtmb3IoYj1cbjA7Yjx0aGlzLnN0b3BzLmxlbmd0aDtiKyspdGhpcy5zdG9wc1tiXT10aGlzLnN0b3BzW2JdLmRlc3Ryb3koKTt0aGlzLnN0b3BzPW51bGx9dGhpcy5zYWZlUmVtb3ZlQ2hpbGQoYSk7Zm9yKHRoaXMuZGVzdHJveVNoYWRvd3MoKTtnJiZnLmRpdiYmMD09PWcuZGl2LmNoaWxkTm9kZXMubGVuZ3RoOylhPWcucGFyZW50R3JvdXAsdGhpcy5zYWZlUmVtb3ZlQ2hpbGQoZy5kaXYpLGRlbGV0ZSBnLmRpdixnPWE7dGhpcy5hbGlnblRvJiZtKHRoaXMucmVuZGVyZXIuYWxpZ25lZE9iamVjdHMsdGhpcyk7Zm9yKGYgaW4gdGhpcylkZWxldGUgdGhpc1tmXTtyZXR1cm4gbnVsbH0sc2hhZG93OmZ1bmN0aW9uKGEsZyxmKXt2YXIgdz1bXSxiLGQsYz10aGlzLmVsZW1lbnQscSxELHkseDtpZighYSl0aGlzLmRlc3Ryb3lTaGFkb3dzKCk7ZWxzZSBpZighdGhpcy5zaGFkb3dzKXtEPUsoYS53aWR0aCwzKTt5PShhLm9wYWNpdHl8fC4xNSkvRDt4PXRoaXMucGFyZW50SW52ZXJ0ZWQ/XCIoLTEsLTEpXCI6XG5cIihcIitLKGEub2Zmc2V0WCwxKStcIiwgXCIrSyhhLm9mZnNldFksMSkrXCIpXCI7Zm9yKGI9MTtiPD1EO2IrKylkPWMuY2xvbmVOb2RlKDApLHE9MipEKzEtMipiLHUoZCx7aXNTaGFkb3c6XCJ0cnVlXCIsc3Ryb2tlOmEuY29sb3J8fFwiIzAwMDAwMFwiLFwic3Ryb2tlLW9wYWNpdHlcIjp5KmIsXCJzdHJva2Utd2lkdGhcIjpxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVwiK3gsZmlsbDpcIm5vbmVcIn0pLGYmJih1KGQsXCJoZWlnaHRcIixNYXRoLm1heCh1KGQsXCJoZWlnaHRcIiktcSwwKSksZC5jdXRIZWlnaHQ9cSksZz9nLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZCk6Yy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLGMpLHcucHVzaChkKTt0aGlzLnNoYWRvd3M9d31yZXR1cm4gdGhpc30sZGVzdHJveVNoYWRvd3M6ZnVuY3Rpb24oKXtIKHRoaXMuc2hhZG93c3x8W10sZnVuY3Rpb24oYSl7dGhpcy5zYWZlUmVtb3ZlQ2hpbGQoYSl9LHRoaXMpO3RoaXMuc2hhZG93cz12b2lkIDB9LHhHZXR0ZXI6ZnVuY3Rpb24oYSl7XCJjaXJjbGVcIj09PVxudGhpcy5lbGVtZW50Lm5vZGVOYW1lJiYoXCJ4XCI9PT1hP2E9XCJjeFwiOlwieVwiPT09YSYmKGE9XCJjeVwiKSk7cmV0dXJuIHRoaXMuX2RlZmF1bHRHZXR0ZXIoYSl9LF9kZWZhdWx0R2V0dGVyOmZ1bmN0aW9uKGEpe2E9Syh0aGlzW2FdLHRoaXMuZWxlbWVudD90aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGEpOm51bGwsMCk7L15bXFwtMC05XFwuXSskLy50ZXN0KGEpJiYoYT1wYXJzZUZsb2F0KGEpKTtyZXR1cm4gYX0sZFNldHRlcjpmdW5jdGlvbihhLGcsZil7YSYmYS5qb2luJiYoYT1hLmpvaW4oXCIgXCIpKTsvKE5hTnwgezJ9fF4kKS8udGVzdChhKSYmKGE9XCJNIDAgMFwiKTtmLnNldEF0dHJpYnV0ZShnLGEpO3RoaXNbZ109YX0sZGFzaHN0eWxlU2V0dGVyOmZ1bmN0aW9uKGEpe3ZhciB3LGc9dGhpc1tcInN0cm9rZS13aWR0aFwiXTtcImluaGVyaXRcIj09PWcmJihnPTEpO2lmKGE9YSYmYS50b0xvd2VyQ2FzZSgpKXthPWEucmVwbGFjZShcInNob3J0ZGFzaGRvdGRvdFwiLFwiMywxLDEsMSwxLDEsXCIpLnJlcGxhY2UoXCJzaG9ydGRhc2hkb3RcIixcblwiMywxLDEsMVwiKS5yZXBsYWNlKFwic2hvcnRkb3RcIixcIjEsMSxcIikucmVwbGFjZShcInNob3J0ZGFzaFwiLFwiMywxLFwiKS5yZXBsYWNlKFwibG9uZ2Rhc2hcIixcIjgsMyxcIikucmVwbGFjZSgvZG90L2csXCIxLDMsXCIpLnJlcGxhY2UoXCJkYXNoXCIsXCI0LDMsXCIpLnJlcGxhY2UoLywkLyxcIlwiKS5zcGxpdChcIixcIik7Zm9yKHc9YS5sZW5ndGg7dy0tOylhW3ddPUwoYVt3XSkqZzthPWEuam9pbihcIixcIikucmVwbGFjZSgvTmFOL2csXCJub25lXCIpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIsYSl9fSxhbGlnblNldHRlcjpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIix7bGVmdDpcInN0YXJ0XCIsY2VudGVyOlwibWlkZGxlXCIscmlnaHQ6XCJlbmRcIn1bYV0pfSxvcGFjaXR5U2V0dGVyOmZ1bmN0aW9uKGEsZyxmKXt0aGlzW2ddPWE7Zi5zZXRBdHRyaWJ1dGUoZyxhKX0sdGl0bGVTZXR0ZXI6ZnVuY3Rpb24oYSl7dmFyIHc9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGl0bGVcIilbMF07XG53fHwodz1wLmNyZWF0ZUVsZW1lbnROUyh0aGlzLlNWR19OUyxcInRpdGxlXCIpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh3KSk7dy5maXJzdENoaWxkJiZ3LnJlbW92ZUNoaWxkKHcuZmlyc3RDaGlsZCk7dy5hcHBlbmRDaGlsZChwLmNyZWF0ZVRleHROb2RlKFN0cmluZyhLKGEpLFwiXCIpLnJlcGxhY2UoLzxbXj5dKj4vZyxcIlwiKSkpfSx0ZXh0U2V0dGVyOmZ1bmN0aW9uKGEpe2EhPT10aGlzLnRleHRTdHImJihkZWxldGUgdGhpcy5iQm94LHRoaXMudGV4dFN0cj1hLHRoaXMuYWRkZWQmJnRoaXMucmVuZGVyZXIuYnVpbGRUZXh0KHRoaXMpKX0sZmlsbFNldHRlcjpmdW5jdGlvbihhLGcsZil7XCJzdHJpbmdcIj09PXR5cGVvZiBhP2Yuc2V0QXR0cmlidXRlKGcsYSk6YSYmdGhpcy5jb2xvckdyYWRpZW50KGEsZyxmKX0sdmlzaWJpbGl0eVNldHRlcjpmdW5jdGlvbihhLGcsZil7XCJpbmhlcml0XCI9PT1hP2YucmVtb3ZlQXR0cmlidXRlKGcpOmYuc2V0QXR0cmlidXRlKGcsYSl9LHpJbmRleFNldHRlcjpmdW5jdGlvbihhLFxuZyl7dmFyIHc9dGhpcy5yZW5kZXJlcixmPXRoaXMucGFyZW50R3JvdXAsYj0oZnx8dykuZWxlbWVudHx8dy5ib3gsZCxjPXRoaXMuZWxlbWVudCxxO2Q9dGhpcy5hZGRlZDt2YXIgRDtrKGEpJiYoYy56SW5kZXg9YSxhPSthLHRoaXNbZ109PT1hJiYoZD0hMSksdGhpc1tnXT1hKTtpZihkKXsoYT10aGlzLnpJbmRleCkmJmYmJihmLmhhbmRsZVo9ITApO2c9Yi5jaGlsZE5vZGVzO2ZvcihEPTA7RDxnLmxlbmd0aCYmIXE7RCsrKWY9Z1tEXSxkPWYuekluZGV4LGYhPT1jJiYoTChkKT5hfHwhayhhKSYmayhkKXx8MD5hJiYhayhkKSYmYiE9PXcuYm94KSYmKGIuaW5zZXJ0QmVmb3JlKGMsZikscT0hMCk7cXx8Yi5hcHBlbmRDaGlsZChjKX1yZXR1cm4gcX0sX2RlZmF1bHRTZXR0ZXI6ZnVuY3Rpb24oYSxnLGYpe2Yuc2V0QXR0cmlidXRlKGcsYSl9fTtCLnByb3RvdHlwZS55R2V0dGVyPUIucHJvdG90eXBlLnhHZXR0ZXI7Qi5wcm90b3R5cGUudHJhbnNsYXRlWFNldHRlcj1CLnByb3RvdHlwZS50cmFuc2xhdGVZU2V0dGVyPVxuQi5wcm90b3R5cGUucm90YXRpb25TZXR0ZXI9Qi5wcm90b3R5cGUudmVydGljYWxBbGlnblNldHRlcj1CLnByb3RvdHlwZS5zY2FsZVhTZXR0ZXI9Qi5wcm90b3R5cGUuc2NhbGVZU2V0dGVyPWZ1bmN0aW9uKGEsZyl7dGhpc1tnXT1hO3RoaXMuZG9UcmFuc2Zvcm09ITB9O0IucHJvdG90eXBlW1wic3Ryb2tlLXdpZHRoU2V0dGVyXCJdPUIucHJvdG90eXBlLnN0cm9rZVNldHRlcj1mdW5jdGlvbihhLGcsZil7dGhpc1tnXT1hO3RoaXMuc3Ryb2tlJiZ0aGlzW1wic3Ryb2tlLXdpZHRoXCJdPyhCLnByb3RvdHlwZS5maWxsU2V0dGVyLmNhbGwodGhpcyx0aGlzLnN0cm9rZSxcInN0cm9rZVwiLGYpLGYuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsdGhpc1tcInN0cm9rZS13aWR0aFwiXSksdGhpcy5oYXNTdHJva2U9ITApOlwic3Ryb2tlLXdpZHRoXCI9PT1nJiYwPT09YSYmdGhpcy5oYXNTdHJva2UmJihmLnJlbW92ZUF0dHJpYnV0ZShcInN0cm9rZVwiKSx0aGlzLmhhc1N0cm9rZT0hMSl9O3o9YS5TVkdSZW5kZXJlcj1cbmZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ei5wcm90b3R5cGU9e0VsZW1lbnQ6QixTVkdfTlM6TSxpbml0OmZ1bmN0aW9uKGEsZyxiLGQsYyxEKXt2YXIgdztkPXRoaXMuY3JlYXRlRWxlbWVudChcInN2Z1wiKS5hdHRyKHt2ZXJzaW9uOlwiMS4xXCIsXCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1yb290XCJ9KS5jc3ModGhpcy5nZXRTdHlsZShkKSk7dz1kLmVsZW1lbnQ7YS5hcHBlbmRDaGlsZCh3KTstMT09PWEuaW5uZXJIVE1MLmluZGV4T2YoXCJ4bWxuc1wiKSYmdSh3LFwieG1sbnNcIix0aGlzLlNWR19OUyk7dGhpcy5pc1NWRz0hMDt0aGlzLmJveD13O3RoaXMuYm94V3JhcHBlcj1kO3RoaXMuYWxpZ25lZE9iamVjdHM9W107dGhpcy51cmw9KGZ8fHEpJiZwLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYmFzZVwiKS5sZW5ndGg/Ti5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKj8kLyxcIlwiKS5yZXBsYWNlKC88W14+XSo+L2csXCJcIikucmVwbGFjZSgvKFtcXCgnXFwpXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC8gL2csXG5cIiUyMFwiKTpcIlwiO3RoaXMuY3JlYXRlRWxlbWVudChcImRlc2NcIikuYWRkKCkuZWxlbWVudC5hcHBlbmRDaGlsZChwLmNyZWF0ZVRleHROb2RlKFwiQ3JlYXRlZCB3aXRoIEhpZ2hjaGFydHMgNS4wLjlcIikpO3RoaXMuZGVmcz10aGlzLmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIpLmFkZCgpO3RoaXMuYWxsb3dIVE1MPUQ7dGhpcy5mb3JFeHBvcnQ9Yzt0aGlzLmdyYWRpZW50cz17fTt0aGlzLmNhY2hlPXt9O3RoaXMuY2FjaGVLZXlzPVtdO3RoaXMuaW1nQ291bnQ9MDt0aGlzLnNldFNpemUoZyxiLCExKTt2YXIgeTtmJiZhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGc9ZnVuY3Rpb24oKXt0KGEse2xlZnQ6MCx0b3A6MH0pO3k9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0KGEse2xlZnQ6TWF0aC5jZWlsKHkubGVmdCkteS5sZWZ0K1wicHhcIix0b3A6TWF0aC5jZWlsKHkudG9wKS15LnRvcCtcInB4XCJ9KX0sZygpLHRoaXMudW5TdWJQaXhlbEZpeD1DKE4sXCJyZXNpemVcIixnKSl9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN0eWxlPVxuYih7Zm9udEZhbWlseTonXCJMdWNpZGEgR3JhbmRlXCIsIFwiTHVjaWRhIFNhbnMgVW5pY29kZVwiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJyxmb250U2l6ZTpcIjEycHhcIn0sYSl9LHNldFN0eWxlOmZ1bmN0aW9uKGEpe3RoaXMuYm94V3JhcHBlci5jc3ModGhpcy5nZXRTdHlsZShhKSl9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuYm94V3JhcHBlci5nZXRCQm94KCkud2lkdGh9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRlZnM7dGhpcy5ib3g9bnVsbDt0aGlzLmJveFdyYXBwZXI9dGhpcy5ib3hXcmFwcGVyLmRlc3Ryb3koKTtjKHRoaXMuZ3JhZGllbnRzfHx7fSk7dGhpcy5ncmFkaWVudHM9bnVsbDthJiYodGhpcy5kZWZzPWEuZGVzdHJveSgpKTt0aGlzLnVuU3ViUGl4ZWxGaXgmJnRoaXMudW5TdWJQaXhlbEZpeCgpO3JldHVybiB0aGlzLmFsaWduZWRPYmplY3RzPW51bGx9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGc9bmV3IHRoaXMuRWxlbWVudDtcbmcuaW5pdCh0aGlzLGEpO3JldHVybiBnfSxkcmF3OkosZ2V0UmFkaWFsQXR0cjpmdW5jdGlvbihhLGcpe3JldHVybntjeDphWzBdLWFbMl0vMitnLmN4KmFbMl0sY3k6YVsxXS1hWzJdLzIrZy5jeSphWzJdLHI6Zy5yKmFbMl19fSxidWlsZFRleHQ6ZnVuY3Rpb24oYSl7dmFyIGc9YS5lbGVtZW50LGY9dGhpcyx3PWYuZm9yRXhwb3J0LGI9SyhhLnRleHRTdHIsXCJcIikudG9TdHJpbmcoKSxjPS0xIT09Yi5pbmRleE9mKFwiXFx4M2NcIikscT1nLmNoaWxkTm9kZXMsRCx5LHgscixHPXUoZyxcInhcIiksbT1hLnN0eWxlcyxlPWEudGV4dFdpZHRoLGw9bSYmbS5saW5lSGVpZ2h0LHY9bSYmbS50ZXh0T3V0bGluZSxrPW0mJlwiZWxsaXBzaXNcIj09PW0udGV4dE92ZXJmbG93LGg9bSYmXCJub3dyYXBcIj09PW0ud2hpdGVTcGFjZSxGPW0mJm0uZm9udFNpemUsQSxKPXEubGVuZ3RoLG09ZSYmIWEuYWRkZWQmJnRoaXMuYm94LG49ZnVuY3Rpb24oYSl7dmFyIHc7dz0vKHB4fGVtKSQvLnRlc3QoYSYmYS5zdHlsZS5mb250U2l6ZSk/XG5hLnN0eWxlLmZvbnRTaXplOkZ8fGYuc3R5bGUuZm9udFNpemV8fDEyO3JldHVybiBsP0wobCk6Zi5mb250TWV0cmljcyh3LGEuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik/YTpnKS5ofTtBPVtiLGssaCxsLHYsRixlXS5qb2luKCk7aWYoQSE9PWEudGV4dENhY2hlKXtmb3IoYS50ZXh0Q2FjaGU9QTtKLS07KWcucmVtb3ZlQ2hpbGQocVtKXSk7Y3x8dnx8a3x8ZXx8LTEhPT1iLmluZGV4T2YoXCIgXCIpPyhEPS88LipjbGFzcz1cIihbXlwiXSspXCIuKj4vLHk9LzwuKnN0eWxlPVwiKFteXCJdKylcIi4qPi8seD0vPC4qaHJlZj1cIihodHRwW15cIl0rKVwiLio+LyxtJiZtLmFwcGVuZENoaWxkKGcpLGI9Yz9iLnJlcGxhY2UoLzwoYnxzdHJvbmcpPi9nLCdcXHgzY3NwYW4gc3R5bGVcXHgzZFwiZm9udC13ZWlnaHQ6Ym9sZFwiXFx4M2UnKS5yZXBsYWNlKC88KGl8ZW0pPi9nLCdcXHgzY3NwYW4gc3R5bGVcXHgzZFwiZm9udC1zdHlsZTppdGFsaWNcIlxceDNlJykucmVwbGFjZSgvPGEvZyxcIlxceDNjc3BhblwiKS5yZXBsYWNlKC88XFwvKGJ8c3Ryb25nfGl8ZW18YSk+L2csXG5cIlxceDNjL3NwYW5cXHgzZVwiKS5zcGxpdCgvPGJyLio/Pi9nKTpbYl0sYj1kKGIsZnVuY3Rpb24oYSl7cmV0dXJuXCJcIiE9PWF9KSxIKGIsZnVuY3Rpb24oYixkKXt2YXIgYyxxPTA7Yj1iLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIikucmVwbGFjZSgvPHNwYW4vZyxcInx8fFxceDNjc3BhblwiKS5yZXBsYWNlKC88XFwvc3Bhbj4vZyxcIlxceDNjL3NwYW5cXHgzZXx8fFwiKTtjPWIuc3BsaXQoXCJ8fHxcIik7SChjLGZ1bmN0aW9uKGIpe2lmKFwiXCIhPT1ifHwxPT09Yy5sZW5ndGgpe3ZhciBtPXt9LHY9cC5jcmVhdGVFbGVtZW50TlMoZi5TVkdfTlMsXCJ0c3BhblwiKSxsLEY7RC50ZXN0KGIpJiYobD1iLm1hdGNoKEQpWzFdLHUodixcImNsYXNzXCIsbCkpO3kudGVzdChiKSYmKEY9Yi5tYXRjaCh5KVsxXS5yZXBsYWNlKC8oO3wgfF4pY29sb3IoWyA6XSkvLFwiJDFmaWxsJDJcIiksdSh2LFwic3R5bGVcIixGKSk7eC50ZXN0KGIpJiYhdyYmKHUodixcIm9uY2xpY2tcIiwnbG9jYXRpb24uaHJlZlxceDNkXCInK2IubWF0Y2goeClbMV0rXG4nXCInKSx0KHYse2N1cnNvcjpcInBvaW50ZXJcIn0pKTtiPShiLnJlcGxhY2UoLzwoLnxcXG4pKj8+L2csXCJcIil8fFwiIFwiKS5yZXBsYWNlKC8mbHQ7L2csXCJcXHgzY1wiKS5yZXBsYWNlKC8mZ3Q7L2csXCJcXHgzZVwiKTtpZihcIiBcIiE9PWIpe3YuYXBwZW5kQ2hpbGQocC5jcmVhdGVUZXh0Tm9kZShiKSk7cT9tLmR4PTA6ZCYmbnVsbCE9PUcmJihtLng9Ryk7dSh2LG0pO2cuYXBwZW5kQ2hpbGQodik7IXEmJmQmJighUyYmdyYmdCh2LHtkaXNwbGF5OlwiYmxvY2tcIn0pLHUodixcImR5XCIsbih2KSkpO2lmKGUpe209Yi5yZXBsYWNlKC8oW15cXF5dKS0vZyxcIiQxLSBcIikuc3BsaXQoXCIgXCIpO2w9MTxjLmxlbmd0aHx8ZHx8MTxtLmxlbmd0aCYmIWg7Zm9yKHZhciBBLEgsTz1bXSxKPW4odiksSz1hLnJvdGF0aW9uLEw9YixQPUwubGVuZ3RoOyhsfHxrKSYmKG0ubGVuZ3RofHxPLmxlbmd0aCk7KWEucm90YXRpb249MCxBPWEuZ2V0QkJveCghMCksSD1BLndpZHRoLCFTJiZmLmZvckV4cG9ydCYmKEg9Zi5tZWFzdXJlU3BhbldpZHRoKHYuZmlyc3RDaGlsZC5kYXRhLFxuYS5zdHlsZXMpKSxBPUg+ZSx2b2lkIDA9PT1yJiYocj1BKSxrJiZyPyhQLz0yLFwiXCI9PT1MfHwhQSYmLjU+UD9tPVtdOihMPWIuc3Vic3RyaW5nKDAsTC5sZW5ndGgrKEE/LTE6MSkqTWF0aC5jZWlsKFApKSxtPVtMKygzPGU/XCJcXHUyMDI2XCI6XCJcIildLHYucmVtb3ZlQ2hpbGQodi5maXJzdENoaWxkKSkpOkEmJjEhPT1tLmxlbmd0aD8odi5yZW1vdmVDaGlsZCh2LmZpcnN0Q2hpbGQpLE8udW5zaGlmdChtLnBvcCgpKSk6KG09TyxPPVtdLG0ubGVuZ3RoJiYhaCYmKHY9cC5jcmVhdGVFbGVtZW50TlMoTSxcInRzcGFuXCIpLHUodix7ZHk6Six4Okd9KSxGJiZ1KHYsXCJzdHlsZVwiLEYpLGcuYXBwZW5kQ2hpbGQodikpLEg+ZSYmKGU9SCkpLG0ubGVuZ3RoJiZ2LmFwcGVuZENoaWxkKHAuY3JlYXRlVGV4dE5vZGUobS5qb2luKFwiIFwiKS5yZXBsYWNlKC8tIC9nLFwiLVwiKSkpO2Eucm90YXRpb249S31xKyt9fX0pfSksciYmYS5hdHRyKFwidGl0bGVcIixhLnRleHRTdHIpLG0mJm0ucmVtb3ZlQ2hpbGQoZyksXG52JiZhLmFwcGx5VGV4dE91dGxpbmUmJmEuYXBwbHlUZXh0T3V0bGluZSh2KSk6Zy5hcHBlbmRDaGlsZChwLmNyZWF0ZVRleHROb2RlKGIucmVwbGFjZSgvJmx0Oy9nLFwiXFx4M2NcIikucmVwbGFjZSgvJmd0Oy9nLFwiXFx4M2VcIikpKX19LGdldENvbnRyYXN0OmZ1bmN0aW9uKGEpe2E9bihhKS5yZ2JhO3JldHVybiA1MTA8YVswXSthWzFdK2FbMl0/XCIjMDAwMDAwXCI6XCIjRkZGRkZGXCJ9LGJ1dHRvbjpmdW5jdGlvbihhLGcsZixkLGMscSxELG0scil7dmFyIHc9dGhpcy5sYWJlbChhLGcsZixyLG51bGwsbnVsbCxudWxsLG51bGwsXCJidXR0b25cIiksRz0wO3cuYXR0cih4KHtwYWRkaW5nOjgscjoyfSxjKSk7dmFyIGUsdixwLGw7Yz14KHtmaWxsOlwiI2Y3ZjdmN1wiLHN0cm9rZTpcIiNjY2NjY2NcIixcInN0cm9rZS13aWR0aFwiOjEsc3R5bGU6e2NvbG9yOlwiIzMzMzMzM1wiLGN1cnNvcjpcInBvaW50ZXJcIixmb250V2VpZ2h0Olwibm9ybWFsXCJ9fSxjKTtlPWMuc3R5bGU7ZGVsZXRlIGMuc3R5bGU7cT14KGMse2ZpbGw6XCIjZTZlNmU2XCJ9LFxucSk7dj1xLnN0eWxlO2RlbGV0ZSBxLnN0eWxlO0Q9eChjLHtmaWxsOlwiI2U2ZWJmNVwiLHN0eWxlOntjb2xvcjpcIiMwMDAwMDBcIixmb250V2VpZ2h0OlwiYm9sZFwifX0sRCk7cD1ELnN0eWxlO2RlbGV0ZSBELnN0eWxlO209eChjLHtzdHlsZTp7Y29sb3I6XCIjY2NjY2NjXCJ9fSxtKTtsPW0uc3R5bGU7ZGVsZXRlIG0uc3R5bGU7Qyh3LmVsZW1lbnQseT9cIm1vdXNlb3ZlclwiOlwibW91c2VlbnRlclwiLGZ1bmN0aW9uKCl7MyE9PUcmJncuc2V0U3RhdGUoMSl9KTtDKHcuZWxlbWVudCx5P1wibW91c2VvdXRcIjpcIm1vdXNlbGVhdmVcIixmdW5jdGlvbigpezMhPT1HJiZ3LnNldFN0YXRlKEcpfSk7dy5zZXRTdGF0ZT1mdW5jdGlvbihhKXsxIT09YSYmKHcuc3RhdGU9Rz1hKTt3LnJlbW92ZUNsYXNzKC9oaWdoY2hhcnRzLWJ1dHRvbi0obm9ybWFsfGhvdmVyfHByZXNzZWR8ZGlzYWJsZWQpLykuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWJ1dHRvbi1cIitbXCJub3JtYWxcIixcImhvdmVyXCIsXCJwcmVzc2VkXCIsXCJkaXNhYmxlZFwiXVthfHxcbjBdKTt3LmF0dHIoW2MscSxELG1dW2F8fDBdKS5jc3MoW2UsdixwLGxdW2F8fDBdKX07dy5hdHRyKGMpLmNzcyhiKHtjdXJzb3I6XCJkZWZhdWx0XCJ9LGUpKTtyZXR1cm4gdy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7MyE9PUcmJmQuY2FsbCh3LGEpfSl9LGNyaXNwTGluZTpmdW5jdGlvbihhLGcpe2FbMV09PT1hWzRdJiYoYVsxXT1hWzRdPU1hdGgucm91bmQoYVsxXSktZyUyLzIpO2FbMl09PT1hWzVdJiYoYVsyXT1hWzVdPU1hdGgucm91bmQoYVsyXSkrZyUyLzIpO3JldHVybiBhfSxwYXRoOmZ1bmN0aW9uKGEpe3ZhciBnPXtmaWxsOlwibm9uZVwifTt2KGEpP2cuZD1hOkcoYSkmJmIoZyxhKTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50KFwicGF0aFwiKS5hdHRyKGcpfSxjaXJjbGU6ZnVuY3Rpb24oYSxnLGYpe2E9RyhhKT9hOnt4OmEseTpnLHI6Zn07Zz10aGlzLmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIik7Zy54U2V0dGVyPWcueVNldHRlcj1mdW5jdGlvbihhLGcsZil7Zi5zZXRBdHRyaWJ1dGUoXCJjXCIrXG5nLGEpfTtyZXR1cm4gZy5hdHRyKGEpfSxhcmM6ZnVuY3Rpb24oYSxnLGYsYixkLGMpe0coYSk/KGI9YSxnPWIueSxmPWIucixhPWIueCk6Yj17aW5uZXJSOmIsc3RhcnQ6ZCxlbmQ6Y307YT10aGlzLnN5bWJvbChcImFyY1wiLGEsZyxmLGYsYik7YS5yPWY7cmV0dXJuIGF9LHJlY3Q6ZnVuY3Rpb24oYSxnLGYsYixkLGMpe2Q9RyhhKT9hLnI6ZDt2YXIgdz10aGlzLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIpO2E9RyhhKT9hOnZvaWQgMD09PWE/e306e3g6YSx5Omcsd2lkdGg6TWF0aC5tYXgoZiwwKSxoZWlnaHQ6TWF0aC5tYXgoYiwwKX07dm9pZCAwIT09YyYmKGEuc3Ryb2tlV2lkdGg9YyxhPXcuY3Jpc3AoYSkpO2EuZmlsbD1cIm5vbmVcIjtkJiYoYS5yPWQpO3cuclNldHRlcj1mdW5jdGlvbihhLGcsZil7dShmLHtyeDphLHJ5OmF9KX07cmV0dXJuIHcuYXR0cihhKX0sc2V0U2l6ZTpmdW5jdGlvbihhLGcsZil7dmFyIGI9dGhpcy5hbGlnbmVkT2JqZWN0cyxkPWIubGVuZ3RoO3RoaXMud2lkdGg9XG5hO3RoaXMuaGVpZ2h0PWc7Zm9yKHRoaXMuYm94V3JhcHBlci5hbmltYXRlKHt3aWR0aDphLGhlaWdodDpnfSx7c3RlcDpmdW5jdGlvbigpe3RoaXMuYXR0cih7dmlld0JveDpcIjAgMCBcIit0aGlzLmF0dHIoXCJ3aWR0aFwiKStcIiBcIit0aGlzLmF0dHIoXCJoZWlnaHRcIil9KX0sZHVyYXRpb246SyhmLCEwKT92b2lkIDA6MH0pO2QtLTspYltkXS5hbGlnbigpfSxnOmZ1bmN0aW9uKGEpe3ZhciBnPXRoaXMuY3JlYXRlRWxlbWVudChcImdcIik7cmV0dXJuIGE/Zy5hdHRyKHtcImNsYXNzXCI6XCJoaWdoY2hhcnRzLVwiK2F9KTpnfSxpbWFnZTpmdW5jdGlvbihhLGcsZixkLGMpe3ZhciB3PXtwcmVzZXJ2ZUFzcGVjdFJhdGlvOlwibm9uZVwifTsxPGFyZ3VtZW50cy5sZW5ndGgmJmIodyx7eDpnLHk6Zix3aWR0aDpkLGhlaWdodDpjfSk7dz10aGlzLmNyZWF0ZUVsZW1lbnQoXCJpbWFnZVwiKS5hdHRyKHcpO3cuZWxlbWVudC5zZXRBdHRyaWJ1dGVOUz93LmVsZW1lbnQuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG5cImhyZWZcIixhKTp3LmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaGMtc3ZnLWhyZWZcIixhKTtyZXR1cm4gd30sc3ltYm9sOmZ1bmN0aW9uKGEsZyxmLGQsYyxxKXt2YXIgdz10aGlzLEQseT10aGlzLnN5bWJvbHNbYV0sbT1rKGcpJiZ5JiZ0aGlzLnN5bWJvbHNbYV0oTWF0aC5yb3VuZChnKSxNYXRoLnJvdW5kKGYpLGQsYyxxKSx4PS9edXJsXFwoKC4qPylcXCkkLyxHLHI7eT8oRD10aGlzLnBhdGgobSksRC5hdHRyKFwiZmlsbFwiLFwibm9uZVwiKSxiKEQse3N5bWJvbE5hbWU6YSx4OmcseTpmLHdpZHRoOmQsaGVpZ2h0OmN9KSxxJiZiKEQscSkpOngudGVzdChhKSYmKEc9YS5tYXRjaCh4KVsxXSxEPXRoaXMuaW1hZ2UoRyksRC5pbWd3aWR0aD1LKFJbR10mJlJbR10ud2lkdGgscSYmcS53aWR0aCksRC5pbWdoZWlnaHQ9SyhSW0ddJiZSW0ddLmhlaWdodCxxJiZxLmhlaWdodCkscj1mdW5jdGlvbigpe0QuYXR0cih7d2lkdGg6RC53aWR0aCxoZWlnaHQ6RC5oZWlnaHR9KX0sSChbXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLFxuZnVuY3Rpb24oYSl7RFthK1wiU2V0dGVyXCJdPWZ1bmN0aW9uKGEsZyl7dmFyIGY9e30sYj10aGlzW1wiaW1nXCIrZ10sZD1cIndpZHRoXCI9PT1nP1widHJhbnNsYXRlWFwiOlwidHJhbnNsYXRlWVwiO3RoaXNbZ109YTtrKGIpJiYodGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGcsYiksdGhpcy5hbGlnbkJ5VHJhbnNsYXRlfHwoZltkXT0oKHRoaXNbZ118fDApLWIpLzIsdGhpcy5hdHRyKGYpKSl9fSksayhnKSYmRC5hdHRyKHt4OmcseTpmfSksRC5pc0ltZz0hMCxrKEQuaW1nd2lkdGgpJiZrKEQuaW1naGVpZ2h0KT9yKCk6KEQuYXR0cih7d2lkdGg6MCxoZWlnaHQ6MH0pLGwoXCJpbWdcIix7b25sb2FkOmZ1bmN0aW9uKCl7dmFyIGE9aFt3LmNoYXJ0SW5kZXhdOzA9PT10aGlzLndpZHRoJiYodCh0aGlzLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTk5OWVtXCJ9KSxwLmJvZHkuYXBwZW5kQ2hpbGQodGhpcykpO1JbR109e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fTtcbkQuaW1nd2lkdGg9dGhpcy53aWR0aDtELmltZ2hlaWdodD10aGlzLmhlaWdodDtELmVsZW1lbnQmJnIoKTt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTt3LmltZ0NvdW50LS07aWYoIXcuaW1nQ291bnQmJmEmJmEub25sb2FkKWEub25sb2FkKCl9LHNyYzpHfSksdGhpcy5pbWdDb3VudCsrKSk7cmV0dXJuIER9LHN5bWJvbHM6e2NpcmNsZTpmdW5jdGlvbihhLGcsZixiKXtyZXR1cm4gdGhpcy5hcmMoYStmLzIsZytiLzIsZi8yLGIvMix7c3RhcnQ6MCxlbmQ6MipNYXRoLlBJLG9wZW46ITF9KX0sc3F1YXJlOmZ1bmN0aW9uKGEsZyxmLGIpe3JldHVybltcIk1cIixhLGcsXCJMXCIsYStmLGcsYStmLGcrYixhLGcrYixcIlpcIl19LHRyaWFuZ2xlOmZ1bmN0aW9uKGEsZyxmLGIpe3JldHVybltcIk1cIixhK2YvMixnLFwiTFwiLGErZixnK2IsYSxnK2IsXCJaXCJdfSxcInRyaWFuZ2xlLWRvd25cIjpmdW5jdGlvbihhLGcsZixiKXtyZXR1cm5bXCJNXCIsYSxnLFwiTFwiLGErZixcbmcsYStmLzIsZytiLFwiWlwiXX0sZGlhbW9uZDpmdW5jdGlvbihhLGcsZixiKXtyZXR1cm5bXCJNXCIsYStmLzIsZyxcIkxcIixhK2YsZytiLzIsYStmLzIsZytiLGEsZytiLzIsXCJaXCJdfSxhcmM6ZnVuY3Rpb24oYSxnLGYsYixkKXt2YXIgYz1kLnN0YXJ0LHc9ZC5yfHxmLHE9ZC5yfHxifHxmLEQ9ZC5lbmQtLjAwMTtmPWQuaW5uZXJSO2I9ZC5vcGVuO3ZhciB5PU1hdGguY29zKGMpLG09TWF0aC5zaW4oYykseD1NYXRoLmNvcyhEKSxEPU1hdGguc2luKEQpO2Q9ZC5lbmQtYzxNYXRoLlBJPzA6MTt3PVtcIk1cIixhK3cqeSxnK3EqbSxcIkFcIix3LHEsMCxkLDEsYSt3KngsZytxKkRdO2soZikmJncucHVzaChiP1wiTVwiOlwiTFwiLGErZip4LGcrZipELFwiQVwiLGYsZiwwLGQsMCxhK2YqeSxnK2YqbSk7dy5wdXNoKGI/XCJcIjpcIlpcIik7cmV0dXJuIHd9LGNhbGxvdXQ6ZnVuY3Rpb24oYSxnLGYsYixkKXt2YXIgYz1NYXRoLm1pbihkJiZkLnJ8fDAsZixiKSxxPWMrNixEPWQmJmQuYW5jaG9yWDtkPWQmJmQuYW5jaG9yWTtcbnZhciB3O3c9W1wiTVwiLGErYyxnLFwiTFwiLGErZi1jLGcsXCJDXCIsYStmLGcsYStmLGcsYStmLGcrYyxcIkxcIixhK2YsZytiLWMsXCJDXCIsYStmLGcrYixhK2YsZytiLGErZi1jLGcrYixcIkxcIixhK2MsZytiLFwiQ1wiLGEsZytiLGEsZytiLGEsZytiLWMsXCJMXCIsYSxnK2MsXCJDXCIsYSxnLGEsZyxhK2MsZ107RCYmRD5mP2Q+ZytxJiZkPGcrYi1xP3cuc3BsaWNlKDEzLDMsXCJMXCIsYStmLGQtNixhK2YrNixkLGErZixkKzYsYStmLGcrYi1jKTp3LnNwbGljZSgxMywzLFwiTFwiLGErZixiLzIsRCxkLGErZixiLzIsYStmLGcrYi1jKTpEJiYwPkQ/ZD5nK3EmJmQ8ZytiLXE/dy5zcGxpY2UoMzMsMyxcIkxcIixhLGQrNixhLTYsZCxhLGQtNixhLGcrYyk6dy5zcGxpY2UoMzMsMyxcIkxcIixhLGIvMixELGQsYSxiLzIsYSxnK2MpOmQmJmQ+YiYmRD5hK3EmJkQ8YStmLXE/dy5zcGxpY2UoMjMsMyxcIkxcIixEKzYsZytiLEQsZytiKzYsRC02LGcrYixhK2MsZytiKTpkJiYwPmQmJkQ+YStxJiZEPGErZi1xJiZ3LnNwbGljZSgzLFxuMyxcIkxcIixELTYsZyxELGctNixEKzYsZyxmLWMsZyk7cmV0dXJuIHd9fSxjbGlwUmVjdDpmdW5jdGlvbihnLGYsYixkKXt2YXIgYz1hLnVuaXF1ZUtleSgpLHE9dGhpcy5jcmVhdGVFbGVtZW50KFwiY2xpcFBhdGhcIikuYXR0cih7aWQ6Y30pLmFkZCh0aGlzLmRlZnMpO2c9dGhpcy5yZWN0KGcsZixiLGQsMCkuYWRkKHEpO2cuaWQ9YztnLmNsaXBQYXRoPXE7Zy5jb3VudD0wO3JldHVybiBnfSx0ZXh0OmZ1bmN0aW9uKGEsZyxmLGIpe3ZhciBkPSFTJiZ0aGlzLmZvckV4cG9ydCxjPXt9O2lmKGImJih0aGlzLmFsbG93SFRNTHx8IXRoaXMuZm9yRXhwb3J0KSlyZXR1cm4gdGhpcy5odG1sKGEsZyxmKTtjLng9TWF0aC5yb3VuZChnfHwwKTtmJiYoYy55PU1hdGgucm91bmQoZikpO2lmKGF8fDA9PT1hKWMudGV4dD1hO2E9dGhpcy5jcmVhdGVFbGVtZW50KFwidGV4dFwiKS5hdHRyKGMpO2QmJmEuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCJ9KTtifHwoYS54U2V0dGVyPWZ1bmN0aW9uKGEsZyxmKXt2YXIgYj1cbmYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0c3BhblwiKSxkLGM9Zi5nZXRBdHRyaWJ1dGUoZykscTtmb3IocT0wO3E8Yi5sZW5ndGg7cSsrKWQ9YltxXSxkLmdldEF0dHJpYnV0ZShnKT09PWMmJmQuc2V0QXR0cmlidXRlKGcsYSk7Zi5zZXRBdHRyaWJ1dGUoZyxhKX0pO3JldHVybiBhfSxmb250TWV0cmljczpmdW5jdGlvbihhLGcpe2E9YXx8ZyYmZy5zdHlsZSYmZy5zdHlsZS5mb250U2l6ZXx8dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb250U2l6ZTthPS9weC8udGVzdChhKT9MKGEpOi9lbS8udGVzdChhKT9wYXJzZUZsb2F0KGEpKihnP3RoaXMuZm9udE1ldHJpY3MobnVsbCxnLnBhcmVudE5vZGUpLmY6MTYpOjEyO2c9MjQ+YT9hKzM6TWF0aC5yb3VuZCgxLjIqYSk7cmV0dXJue2g6ZyxiOk1hdGgucm91bmQoLjgqZyksZjphfX0scm90Q29ycjpmdW5jdGlvbihhLGcsZil7dmFyIGI9YTtnJiZmJiYoYj1NYXRoLm1heChiKk1hdGguY29zKGcqZSksNCkpO3JldHVybnt4Oi1hLzMqTWF0aC5zaW4oZypcbmUpLHk6Yn19LGxhYmVsOmZ1bmN0aW9uKGYsZCxjLHEsRCx5LG0sRyxyKXt2YXIgdz10aGlzLGU9dy5nKFwiYnV0dG9uXCIhPT1yJiZcImxhYmVsXCIpLHY9ZS50ZXh0PXcudGV4dChcIlwiLDAsMCxtKS5hdHRyKHt6SW5kZXg6MX0pLHAsbCxGPTAsQT0zLGg9MCxKLHQsUyxuLE0sSz17fSxMLHUsTz0vXnVybFxcKCguKj8pXFwpJC8udGVzdChxKSxSPU8sUCxRLE4sVTtyJiZlLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIityKTtSPU87UD1mdW5jdGlvbigpe3JldHVybihMfHwwKSUyLzJ9O1E9ZnVuY3Rpb24oKXt2YXIgYT12LmVsZW1lbnQuc3R5bGUsZz17fTtsPSh2b2lkIDA9PT1KfHx2b2lkIDA9PT10fHxNKSYmayh2LnRleHRTdHIpJiZ2LmdldEJCb3goKTtlLndpZHRoPShKfHxsLndpZHRofHwwKSsyKkEraDtlLmhlaWdodD0odHx8bC5oZWlnaHR8fDApKzIqQTt1PUErdy5mb250TWV0cmljcyhhJiZhLmZvbnRTaXplLHYpLmI7UiYmKHB8fChlLmJveD1wPXcuc3ltYm9sc1txXXx8Tz93LnN5bWJvbChxKTpcbncucmVjdCgpLHAuYWRkQ2xhc3MoKFwiYnV0dG9uXCI9PT1yP1wiXCI6XCJoaWdoY2hhcnRzLWxhYmVsLWJveFwiKSsocj9cIiBoaWdoY2hhcnRzLVwiK3IrXCItYm94XCI6XCJcIikpLHAuYWRkKGUpLGE9UCgpLGcueD1hLGcueT0oRz8tdTowKSthKSxnLndpZHRoPU1hdGgucm91bmQoZS53aWR0aCksZy5oZWlnaHQ9TWF0aC5yb3VuZChlLmhlaWdodCkscC5hdHRyKGIoZyxLKSksSz17fSl9O049ZnVuY3Rpb24oKXt2YXIgYT1oK0EsZztnPUc/MDp1O2soSikmJmwmJihcImNlbnRlclwiPT09TXx8XCJyaWdodFwiPT09TSkmJihhKz17Y2VudGVyOi41LHJpZ2h0OjF9W01dKihKLWwud2lkdGgpKTtpZihhIT09di54fHxnIT09di55KXYuYXR0cihcInhcIixhKSx2b2lkIDAhPT1nJiZ2LmF0dHIoXCJ5XCIsZyk7di54PWE7di55PWd9O1U9ZnVuY3Rpb24oYSxnKXtwP3AuYXR0cihhLGcpOktbYV09Z307ZS5vbkFkZD1mdW5jdGlvbigpe3YuYWRkKGUpO2UuYXR0cih7dGV4dDpmfHwwPT09Zj9mOlwiXCIseDpkLHk6Y30pO3AmJmsoRCkmJlxuZS5hdHRyKHthbmNob3JYOkQsYW5jaG9yWTp5fSl9O2Uud2lkdGhTZXR0ZXI9ZnVuY3Rpb24oZyl7Sj1hLmlzTnVtYmVyKGcpP2c6bnVsbH07ZS5oZWlnaHRTZXR0ZXI9ZnVuY3Rpb24oYSl7dD1hfTtlW1widGV4dC1hbGlnblNldHRlclwiXT1mdW5jdGlvbihhKXtNPWF9O2UucGFkZGluZ1NldHRlcj1mdW5jdGlvbihhKXtrKGEpJiZhIT09QSYmKEE9ZS5wYWRkaW5nPWEsTigpKX07ZS5wYWRkaW5nTGVmdFNldHRlcj1mdW5jdGlvbihhKXtrKGEpJiZhIT09aCYmKGg9YSxOKCkpfTtlLmFsaWduU2V0dGVyPWZ1bmN0aW9uKGEpe2E9e2xlZnQ6MCxjZW50ZXI6LjUscmlnaHQ6MX1bYV07YSE9PUYmJihGPWEsbCYmZS5hdHRyKHt4OlN9KSl9O2UudGV4dFNldHRlcj1mdW5jdGlvbihhKXt2b2lkIDAhPT1hJiZ2LnRleHRTZXR0ZXIoYSk7USgpO04oKX07ZVtcInN0cm9rZS13aWR0aFNldHRlclwiXT1mdW5jdGlvbihhLGcpe2EmJihSPSEwKTtMPXRoaXNbXCJzdHJva2Utd2lkdGhcIl09YTtVKGcsYSl9O1xuZS5zdHJva2VTZXR0ZXI9ZS5maWxsU2V0dGVyPWUuclNldHRlcj1mdW5jdGlvbihhLGcpe1wiZmlsbFwiPT09ZyYmYSYmKFI9ITApO1UoZyxhKX07ZS5hbmNob3JYU2V0dGVyPWZ1bmN0aW9uKGEsZyl7RD1hO1UoZyxNYXRoLnJvdW5kKGEpLVAoKS1TKX07ZS5hbmNob3JZU2V0dGVyPWZ1bmN0aW9uKGEsZyl7eT1hO1UoZyxhLW4pfTtlLnhTZXR0ZXI9ZnVuY3Rpb24oYSl7ZS54PWE7RiYmKGEtPUYqKChKfHxsLndpZHRoKSsyKkEpKTtTPU1hdGgucm91bmQoYSk7ZS5hdHRyKFwidHJhbnNsYXRlWFwiLFMpfTtlLnlTZXR0ZXI9ZnVuY3Rpb24oYSl7bj1lLnk9TWF0aC5yb3VuZChhKTtlLmF0dHIoXCJ0cmFuc2xhdGVZXCIsbil9O3ZhciBXPWUuY3NzO3JldHVybiBiKGUse2NzczpmdW5jdGlvbihhKXtpZihhKXt2YXIgZz17fTthPXgoYSk7SChlLnRleHRQcm9wcyxmdW5jdGlvbihmKXt2b2lkIDAhPT1hW2ZdJiYoZ1tmXT1hW2ZdLGRlbGV0ZSBhW2ZdKX0pO3YuY3NzKGcpfXJldHVybiBXLmNhbGwoZSxcbmEpfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOmwud2lkdGgrMipBLGhlaWdodDpsLmhlaWdodCsyKkEseDpsLngtQSx5OmwueS1BfX0sc2hhZG93OmZ1bmN0aW9uKGEpe2EmJihRKCkscCYmcC5zaGFkb3coYSkpO3JldHVybiBlfSxkZXN0cm95OmZ1bmN0aW9uKCl7ZyhlLmVsZW1lbnQsXCJtb3VzZWVudGVyXCIpO2coZS5lbGVtZW50LFwibW91c2VsZWF2ZVwiKTt2JiYodj12LmRlc3Ryb3koKSk7cCYmKHA9cC5kZXN0cm95KCkpO0IucHJvdG90eXBlLmRlc3Ryb3kuY2FsbChlKTtlPXc9UT1OPVU9bnVsbH19KX19O2EuUmVuZGVyZXI9en0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmF0dHIsej1hLmNyZWF0ZUVsZW1lbnQsQz1hLmNzcyxFPWEuZGVmaW5lZCx1PWEuZWFjaCxoPWEuZXh0ZW5kLG49YS5pc0ZpcmVmb3gsdD1hLmlzTVMsbD1hLmlzV2ViS2l0LGs9YS5wSW50LGU9YS5TVkdSZW5kZXJlcixjPWEud2luLHA9YS53cmFwO2goYS5TVkdFbGVtZW50LnByb3RvdHlwZSxcbntodG1sQ3NzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtpZihiPWEmJlwiU1BBTlwiPT09Yi50YWdOYW1lJiZhLndpZHRoKWRlbGV0ZSBhLndpZHRoLHRoaXMudGV4dFdpZHRoPWIsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTthJiZcImVsbGlwc2lzXCI9PT1hLnRleHRPdmVyZmxvdyYmKGEud2hpdGVTcGFjZT1cIm5vd3JhcFwiLGEub3ZlcmZsb3c9XCJoaWRkZW5cIik7dGhpcy5zdHlsZXM9aCh0aGlzLnN0eWxlcyxhKTtDKHRoaXMuZWxlbWVudCxhKTtyZXR1cm4gdGhpc30saHRtbEdldEJCb3g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7XCJ0ZXh0XCI9PT1hLm5vZGVOYW1lJiYoYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIpO3JldHVybnt4OmEub2Zmc2V0TGVmdCx5OmEub2Zmc2V0VG9wLHdpZHRoOmEub2Zmc2V0V2lkdGgsaGVpZ2h0OmEub2Zmc2V0SGVpZ2h0fX0saHRtbFVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbigpe2lmKHRoaXMuYWRkZWQpe3ZhciBhPXRoaXMucmVuZGVyZXIsXG5iPXRoaXMuZWxlbWVudCxjPXRoaXMudHJhbnNsYXRlWHx8MCxkPXRoaXMudHJhbnNsYXRlWXx8MCxlPXRoaXMueHx8MCxwPXRoaXMueXx8MCx2PXRoaXMudGV4dEFsaWdufHxcImxlZnRcIixmPXtsZWZ0OjAsY2VudGVyOi41LHJpZ2h0OjF9W3ZdLHk9dGhpcy5zdHlsZXM7QyhiLHttYXJnaW5MZWZ0OmMsbWFyZ2luVG9wOmR9KTt0aGlzLnNoYWRvd3MmJnUodGhpcy5zaGFkb3dzLGZ1bmN0aW9uKGEpe0MoYSx7bWFyZ2luTGVmdDpjKzEsbWFyZ2luVG9wOmQrMX0pfSk7dGhpcy5pbnZlcnRlZCYmdShiLmNoaWxkTm9kZXMsZnVuY3Rpb24oZil7YS5pbnZlcnRDaGlsZChmLGIpfSk7aWYoXCJTUEFOXCI9PT1iLnRhZ05hbWUpe3ZhciBHPXRoaXMucm90YXRpb24sRj1rKHRoaXMudGV4dFdpZHRoKSxxPXkmJnkud2hpdGVTcGFjZSx4PVtHLHYsYi5pbm5lckhUTUwsdGhpcy50ZXh0V2lkdGgsdGhpcy50ZXh0QWxpZ25dLmpvaW4oKTt4IT09dGhpcy5jVFQmJih5PWEuZm9udE1ldHJpY3MoYi5zdHlsZS5mb250U2l6ZSkuYixcbkUoRykmJnRoaXMuc2V0U3BhblJvdGF0aW9uKEcsZix5KSxDKGIse3dpZHRoOlwiXCIsd2hpdGVTcGFjZTpxfHxcIm5vd3JhcFwifSksYi5vZmZzZXRXaWR0aD5GJiYvWyBcXC1dLy50ZXN0KGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0KSYmQyhiLHt3aWR0aDpGK1wicHhcIixkaXNwbGF5OlwiYmxvY2tcIix3aGl0ZVNwYWNlOnF8fFwibm9ybWFsXCJ9KSx0aGlzLmdldFNwYW5Db3JyZWN0aW9uKGIub2Zmc2V0V2lkdGgseSxmLEcsdikpO0MoYix7bGVmdDplKyh0aGlzLnhDb3JyfHwwKStcInB4XCIsdG9wOnArKHRoaXMueUNvcnJ8fDApK1wicHhcIn0pO2wmJih5PWIub2Zmc2V0SGVpZ2h0KTt0aGlzLmNUVD14fX1lbHNlIHRoaXMuYWxpZ25PbkFkZD0hMH0sc2V0U3BhblJvdGF0aW9uOmZ1bmN0aW9uKGEsYixlKXt2YXIgZD17fSxtPXQ/XCItbXMtdHJhbnNmb3JtXCI6bD9cIi13ZWJraXQtdHJhbnNmb3JtXCI6bj9cIk1velRyYW5zZm9ybVwiOmMub3BlcmE/XCItby10cmFuc2Zvcm1cIjpcIlwiO2RbbV09ZC50cmFuc2Zvcm09XG5cInJvdGF0ZShcIithK1wiZGVnKVwiO2RbbSsobj9cIk9yaWdpblwiOlwiLW9yaWdpblwiKV09ZC50cmFuc2Zvcm1PcmlnaW49MTAwKmIrXCIlIFwiK2UrXCJweFwiO0ModGhpcy5lbGVtZW50LGQpfSxnZXRTcGFuQ29ycmVjdGlvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy54Q29ycj0tYSpjO3RoaXMueUNvcnI9LWJ9fSk7aChlLnByb3RvdHlwZSx7aHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxlPWQuZWxlbWVudCxtPWQucmVuZGVyZXIsdj1tLmlzU1ZHLGY9ZnVuY3Rpb24oYSxmKXt1KFtcIm9wYWNpdHlcIixcInZpc2liaWxpdHlcIl0sZnVuY3Rpb24oYil7cChhLGIrXCJTZXR0ZXJcIixmdW5jdGlvbihhLGIsZCxjKXthLmNhbGwodGhpcyxiLGQsYyk7ZltkXT1ifSl9KX07ZC50ZXh0U2V0dGVyPWZ1bmN0aW9uKGEpe2EhPT1lLmlubmVySFRNTCYmZGVsZXRlIHRoaXMuYkJveDtlLmlubmVySFRNTD10aGlzLnRleHRTdHI9YTtkLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKX07XG52JiZmKGQsZC5lbGVtZW50LnN0eWxlKTtkLnhTZXR0ZXI9ZC55U2V0dGVyPWQuYWxpZ25TZXR0ZXI9ZC5yb3RhdGlvblNldHRlcj1mdW5jdGlvbihhLGYpe1wiYWxpZ25cIj09PWYmJihmPVwidGV4dEFsaWduXCIpO2RbZl09YTtkLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKX07ZC5hdHRyKHt0ZXh0OmEseDpNYXRoLnJvdW5kKGIpLHk6TWF0aC5yb3VuZChjKX0pLmNzcyh7Zm9udEZhbWlseTp0aGlzLnN0eWxlLmZvbnRGYW1pbHksZm9udFNpemU6dGhpcy5zdHlsZS5mb250U2l6ZSxwb3NpdGlvbjpcImFic29sdXRlXCJ9KTtlLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIjtkLmNzcz1kLmh0bWxDc3M7diYmKGQuYWRkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9bS5ib3gucGFyZW50Tm9kZSxxPVtdO2lmKHRoaXMucGFyZW50R3JvdXA9YSl7aWYoYj1hLmRpdiwhYil7Zm9yKDthOylxLnB1c2goYSksYT1hLnBhcmVudEdyb3VwO3UocS5yZXZlcnNlKCksZnVuY3Rpb24oYSl7dmFyIHksZT1CKGEuZWxlbWVudCxcblwiY2xhc3NcIik7ZSYmKGU9e2NsYXNzTmFtZTplfSk7Yj1hLmRpdj1hLmRpdnx8eihcImRpdlwiLGUse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OihhLnRyYW5zbGF0ZVh8fDApK1wicHhcIix0b3A6KGEudHJhbnNsYXRlWXx8MCkrXCJweFwiLGRpc3BsYXk6YS5kaXNwbGF5LG9wYWNpdHk6YS5vcGFjaXR5LHBvaW50ZXJFdmVudHM6YS5zdHlsZXMmJmEuc3R5bGVzLnBvaW50ZXJFdmVudHN9LGJ8fGMpO3k9Yi5zdHlsZTtoKGEse29uOmZ1bmN0aW9uKCl7ZC5vbi5hcHBseSh7ZWxlbWVudDpxWzBdLmRpdn0sYXJndW1lbnRzKTtyZXR1cm4gYX0sdHJhbnNsYXRlWFNldHRlcjpmdW5jdGlvbihmLGcpe3kubGVmdD1mK1wicHhcIjthW2ddPWY7YS5kb1RyYW5zZm9ybT0hMH0sdHJhbnNsYXRlWVNldHRlcjpmdW5jdGlvbihmLGcpe3kudG9wPWYrXCJweFwiO2FbZ109ZjthLmRvVHJhbnNmb3JtPSEwfX0pO2YoYSx5KX0pfX1lbHNlIGI9YztiLmFwcGVuZENoaWxkKGUpO2QuYWRkZWQ9ITA7ZC5hbGlnbk9uQWRkJiZcbmQuaHRtbFVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiBkfSk7cmV0dXJuIGR9fSl9KShJKTsoZnVuY3Rpb24oYSl7dmFyIEIseixDPWEuY3JlYXRlRWxlbWVudCxFPWEuY3NzLHU9YS5kZWZpbmVkLGg9YS5kZWcycmFkLG49YS5kaXNjYXJkRWxlbWVudCx0PWEuZG9jLGw9YS5lYWNoLGs9YS5lcmFzZSxlPWEuZXh0ZW5kO0I9YS5leHRlbmRDbGFzczt2YXIgYz1hLmlzQXJyYXkscD1hLmlzTnVtYmVyLEg9YS5pc09iamVjdCxiPWEubWVyZ2U7ej1hLm5vb3A7dmFyIG09YS5waWNrLGQ9YS5wSW50LHI9YS5TVkdFbGVtZW50LEE9YS5TVkdSZW5kZXJlcix2PWEud2luO2Euc3ZnfHwoej17ZG9jTW9kZTg6dCYmOD09PXQuZG9jdW1lbnRNb2RlLGluaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj1bXCJcXHgzY1wiLGIsJyBmaWxsZWRcXHgzZFwiZlwiIHN0cm9rZWRcXHgzZFwiZlwiJ10sZD1bXCJwb3NpdGlvbjogXCIsXCJhYnNvbHV0ZVwiLFwiO1wiXSxjPVwiZGl2XCI9PT1iOyhcInNoYXBlXCI9PT1ifHxjKSYmZC5wdXNoKFwibGVmdDowO3RvcDowO3dpZHRoOjFweDtoZWlnaHQ6MXB4O1wiKTtcbmQucHVzaChcInZpc2liaWxpdHk6IFwiLGM/XCJoaWRkZW5cIjpcInZpc2libGVcIik7Zi5wdXNoKCcgc3R5bGVcXHgzZFwiJyxkLmpvaW4oXCJcIiksJ1wiL1xceDNlJyk7YiYmKGY9Y3x8XCJzcGFuXCI9PT1ifHxcImltZ1wiPT09Yj9mLmpvaW4oXCJcIik6YS5wcmVwVk1MKGYpLHRoaXMuZWxlbWVudD1DKGYpKTt0aGlzLnJlbmRlcmVyPWF9LGFkZDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLnJlbmRlcmVyLGI9dGhpcy5lbGVtZW50LGQ9Zi5ib3gsYz1hJiZhLmludmVydGVkLGQ9YT9hLmVsZW1lbnR8fGE6ZDthJiYodGhpcy5wYXJlbnRHcm91cD1hKTtjJiZmLmludmVydENoaWxkKGIsZCk7ZC5hcHBlbmRDaGlsZChiKTt0aGlzLmFkZGVkPSEwO3RoaXMuYWxpZ25PbkFkZCYmIXRoaXMuZGVmZXJVcGRhdGVUcmFuc2Zvcm0mJnRoaXMudXBkYXRlVHJhbnNmb3JtKCk7aWYodGhpcy5vbkFkZCl0aGlzLm9uQWRkKCk7dGhpcy5jbGFzc05hbWUmJnRoaXMuYXR0cihcImNsYXNzXCIsdGhpcy5jbGFzc05hbWUpO3JldHVybiB0aGlzfSxcbnVwZGF0ZVRyYW5zZm9ybTpyLnByb3RvdHlwZS5odG1sVXBkYXRlVHJhbnNmb3JtLHNldFNwYW5Sb3RhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucm90YXRpb24sYj1NYXRoLmNvcyhhKmgpLGQ9TWF0aC5zaW4oYSpoKTtFKHRoaXMuZWxlbWVudCx7ZmlsdGVyOmE/W1wicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTFcXHgzZFwiLGIsXCIsIE0xMlxceDNkXCIsLWQsXCIsIE0yMVxceDNkXCIsZCxcIiwgTTIyXFx4M2RcIixiLFwiLCBzaXppbmdNZXRob2RcXHgzZCdhdXRvIGV4cGFuZCcpXCJdLmpvaW4oXCJcIik6XCJub25lXCJ9KX0sZ2V0U3BhbkNvcnJlY3Rpb246ZnVuY3Rpb24oYSxiLGQsYyxxKXt2YXIgZj1jP01hdGguY29zKGMqaCk6MSxlPWM/TWF0aC5zaW4oYypoKTowLHk9bSh0aGlzLmVsZW1IZWlnaHQsdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCkscjt0aGlzLnhDb3JyPTA+ZiYmLWE7dGhpcy55Q29ycj0wPmUmJi15O3I9MD5mKmU7dGhpcy54Q29ycis9ZSpiKihyPzEtXG5kOmQpO3RoaXMueUNvcnItPWYqYiooYz9yP2Q6MS1kOjEpO3EmJlwibGVmdFwiIT09cSYmKHRoaXMueENvcnItPWEqZCooMD5mPy0xOjEpLGMmJih0aGlzLnlDb3JyLT15KmQqKDA+ZT8tMToxKSksRSh0aGlzLmVsZW1lbnQse3RleHRBbGlnbjpxfSkpfSxwYXRoVG9WTUw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEubGVuZ3RoLGI9W107Zi0tOylwKGFbZl0pP2JbZl09TWF0aC5yb3VuZCgxMCphW2ZdKS01OlwiWlwiPT09YVtmXT9iW2ZdPVwieFwiOihiW2ZdPWFbZl0sIWEuaXNBcmN8fFwid2FcIiE9PWFbZl0mJlwiYXRcIiE9PWFbZl18fChiW2YrNV09PT1iW2YrN10mJihiW2YrN10rPWFbZis3XT5hW2YrNV0/MTotMSksYltmKzZdPT09YltmKzhdJiYoYltmKzhdKz1hW2YrOF0+YVtmKzZdPzE6LTEpKSk7cmV0dXJuIGIuam9pbihcIiBcIil8fFwieFwifSxjbGlwOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYjthPyhiPWEubWVtYmVycyxrKGIsZiksYi5wdXNoKGYpLGYuZGVzdHJveUNsaXA9ZnVuY3Rpb24oKXtrKGIsXG5mKX0sYT1hLmdldENTUyhmKSk6KGYuZGVzdHJveUNsaXAmJmYuZGVzdHJveUNsaXAoKSxhPXtjbGlwOmYuZG9jTW9kZTg/XCJpbmhlcml0XCI6XCJyZWN0KGF1dG8pXCJ9KTtyZXR1cm4gZi5jc3MoYSl9LGNzczpyLnByb3RvdHlwZS5odG1sQ3NzLHNhZmVSZW1vdmVDaGlsZDpmdW5jdGlvbihhKXthLnBhcmVudE5vZGUmJm4oYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lDbGlwJiZ0aGlzLmRlc3Ryb3lDbGlwKCk7cmV0dXJuIHIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyl9LG9uOmZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50W1wib25cIithXT1mdW5jdGlvbigpe3ZhciBhPXYuZXZlbnQ7YS50YXJnZXQ9YS5zcmNFbGVtZW50O2IoYSl9O3JldHVybiB0aGlzfSxjdXRPZmZQYXRoOmZ1bmN0aW9uKGEsYil7dmFyIGY7YT1hLnNwbGl0KC9bICxdLyk7Zj1hLmxlbmd0aDtpZig5PT09Znx8MTE9PT1mKWFbZi00XT1hW2YtMl09ZChhW2YtMl0pLTEwKmI7cmV0dXJuIGEuam9pbihcIiBcIil9LFxuc2hhZG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZj1bXSxxLGU9dGhpcy5lbGVtZW50LHk9dGhpcy5yZW5kZXJlcixyLHY9ZS5zdHlsZSxnLEQ9ZS5wYXRoLHAsbCxHLGs7RCYmXCJzdHJpbmdcIiE9PXR5cGVvZiBELnZhbHVlJiYoRD1cInhcIik7bD1EO2lmKGEpe0c9bShhLndpZHRoLDMpO2s9KGEub3BhY2l0eXx8LjE1KS9HO2ZvcihxPTE7Mz49cTtxKyspcD0yKkcrMS0yKnEsYyYmKGw9dGhpcy5jdXRPZmZQYXRoKEQudmFsdWUscCsuNSkpLGc9WydcXHgzY3NoYXBlIGlzU2hhZG93XFx4M2RcInRydWVcIiBzdHJva2V3ZWlnaHRcXHgzZFwiJyxwLCdcIiBmaWxsZWRcXHgzZFwiZmFsc2VcIiBwYXRoXFx4M2RcIicsbCwnXCIgY29vcmRzaXplXFx4M2RcIjEwIDEwXCIgc3R5bGVcXHgzZFwiJyxlLnN0eWxlLmNzc1RleHQsJ1wiIC9cXHgzZSddLHI9Qyh5LnByZXBWTUwoZyksbnVsbCx7bGVmdDpkKHYubGVmdCkrbShhLm9mZnNldFgsMSksdG9wOmQodi50b3ApK20oYS5vZmZzZXRZLDEpfSksYyYmKHIuY3V0T2ZmPXArMSksZz1bJ1xceDNjc3Ryb2tlIGNvbG9yXFx4M2RcIicsXG5hLmNvbG9yfHxcIiMwMDAwMDBcIiwnXCIgb3BhY2l0eVxceDNkXCInLGsqcSwnXCIvXFx4M2UnXSxDKHkucHJlcFZNTChnKSxudWxsLG51bGwsciksYj9iLmVsZW1lbnQuYXBwZW5kQ2hpbGQocik6ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLGUpLGYucHVzaChyKTt0aGlzLnNoYWRvd3M9Zn1yZXR1cm4gdGhpc30sdXBkYXRlU2hhZG93czp6LHNldEF0dHI6ZnVuY3Rpb24oYSxiKXt0aGlzLmRvY01vZGU4P3RoaXMuZWxlbWVudFthXT1iOnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoYSxiKX0sY2xhc3NTZXR0ZXI6ZnVuY3Rpb24oYSl7KHRoaXMuYWRkZWQ/dGhpcy5lbGVtZW50OnRoaXMpLmNsYXNzTmFtZT1hfSxkYXNoc3R5bGVTZXR0ZXI6ZnVuY3Rpb24oYSxiLGQpeyhkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3Ryb2tlXCIpWzBdfHxDKHRoaXMucmVuZGVyZXIucHJlcFZNTChbXCJcXHgzY3N0cm9rZS9cXHgzZVwiXSksbnVsbCxudWxsLGQpKVtiXT1hfHxcInNvbGlkXCI7dGhpc1tiXT1hfSxkU2V0dGVyOmZ1bmN0aW9uKGEsXG5iLGQpe3ZhciBmPXRoaXMuc2hhZG93czthPWF8fFtdO3RoaXMuZD1hLmpvaW4mJmEuam9pbihcIiBcIik7ZC5wYXRoPWE9dGhpcy5wYXRoVG9WTUwoYSk7aWYoZilmb3IoZD1mLmxlbmd0aDtkLS07KWZbZF0ucGF0aD1mW2RdLmN1dE9mZj90aGlzLmN1dE9mZlBhdGgoYSxmW2RdLmN1dE9mZik6YTt0aGlzLnNldEF0dHIoYixhKX0sZmlsbFNldHRlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGY9ZC5ub2RlTmFtZTtcIlNQQU5cIj09PWY/ZC5zdHlsZS5jb2xvcj1hOlwiSU1HXCIhPT1mJiYoZC5maWxsZWQ9XCJub25lXCIhPT1hLHRoaXMuc2V0QXR0cihcImZpbGxjb2xvclwiLHRoaXMucmVuZGVyZXIuY29sb3IoYSxkLGIsdGhpcykpKX0sXCJmaWxsLW9wYWNpdHlTZXR0ZXJcIjpmdW5jdGlvbihhLGIsZCl7Qyh0aGlzLnJlbmRlcmVyLnByZXBWTUwoW1wiXFx4M2NcIixiLnNwbGl0KFwiLVwiKVswXSwnIG9wYWNpdHlcXHgzZFwiJyxhLCdcIi9cXHgzZSddKSxudWxsLG51bGwsZCl9LG9wYWNpdHlTZXR0ZXI6eixyb3RhdGlvblNldHRlcjpmdW5jdGlvbihhLFxuYixkKXtkPWQuc3R5bGU7dGhpc1tiXT1kW2JdPWE7ZC5sZWZ0PS1NYXRoLnJvdW5kKE1hdGguc2luKGEqaCkrMSkrXCJweFwiO2QudG9wPU1hdGgucm91bmQoTWF0aC5jb3MoYSpoKSkrXCJweFwifSxzdHJva2VTZXR0ZXI6ZnVuY3Rpb24oYSxiLGQpe3RoaXMuc2V0QXR0cihcInN0cm9rZWNvbG9yXCIsdGhpcy5yZW5kZXJlci5jb2xvcihhLGQsYix0aGlzKSl9LFwic3Ryb2tlLXdpZHRoU2V0dGVyXCI6ZnVuY3Rpb24oYSxiLGQpe2Quc3Ryb2tlZD0hIWE7dGhpc1tiXT1hO3AoYSkmJihhKz1cInB4XCIpO3RoaXMuc2V0QXR0cihcInN0cm9rZXdlaWdodFwiLGEpfSx0aXRsZVNldHRlcjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0QXR0cihiLGEpfSx2aXNpYmlsaXR5U2V0dGVyOmZ1bmN0aW9uKGEsYixkKXtcImluaGVyaXRcIj09PWEmJihhPVwidmlzaWJsZVwiKTt0aGlzLnNoYWRvd3MmJmwodGhpcy5zaGFkb3dzLGZ1bmN0aW9uKGYpe2Yuc3R5bGVbYl09YX0pO1wiRElWXCI9PT1kLm5vZGVOYW1lJiYoYT1cImhpZGRlblwiPT09XG5hP1wiLTk5OWVtXCI6MCx0aGlzLmRvY01vZGU4fHwoZC5zdHlsZVtiXT1hP1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLGI9XCJ0b3BcIik7ZC5zdHlsZVtiXT1hfSx4U2V0dGVyOmZ1bmN0aW9uKGEsYixkKXt0aGlzW2JdPWE7XCJ4XCI9PT1iP2I9XCJsZWZ0XCI6XCJ5XCI9PT1iJiYoYj1cInRvcFwiKTt0aGlzLnVwZGF0ZUNsaXBwaW5nPyh0aGlzW2JdPWEsdGhpcy51cGRhdGVDbGlwcGluZygpKTpkLnN0eWxlW2JdPWF9LHpJbmRleFNldHRlcjpmdW5jdGlvbihhLGIsZCl7ZC5zdHlsZVtiXT1hfX0seltcInN0cm9rZS1vcGFjaXR5U2V0dGVyXCJdPXpbXCJmaWxsLW9wYWNpdHlTZXR0ZXJcIl0sYS5WTUxFbGVtZW50PXo9QihyLHopLHoucHJvdG90eXBlLnlTZXR0ZXI9ei5wcm90b3R5cGUud2lkdGhTZXR0ZXI9ei5wcm90b3R5cGUuaGVpZ2h0U2V0dGVyPXoucHJvdG90eXBlLnhTZXR0ZXIsej17RWxlbWVudDp6LGlzSUU4Oi0xPHYubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4LjBcIiksaW5pdDpmdW5jdGlvbihhLFxuYixkKXt2YXIgZixjO3RoaXMuYWxpZ25lZE9iamVjdHM9W107Zj10aGlzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KTtjPWYuZWxlbWVudDthLmFwcGVuZENoaWxkKGYuZWxlbWVudCk7dGhpcy5pc1ZNTD0hMDt0aGlzLmJveD1jO3RoaXMuYm94V3JhcHBlcj1mO3RoaXMuZ3JhZGllbnRzPXt9O3RoaXMuY2FjaGU9e307dGhpcy5jYWNoZUtleXM9W107dGhpcy5pbWdDb3VudD0wO3RoaXMuc2V0U2l6ZShiLGQsITEpO2lmKCF0Lm5hbWVzcGFjZXMuaGN2KXt0Lm5hbWVzcGFjZXMuYWRkKFwiaGN2XCIsXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKTt0cnl7dC5jcmVhdGVTdHlsZVNoZWV0KCkuY3NzVGV4dD1cImhjdlxcXFw6ZmlsbCwgaGN2XFxcXDpwYXRoLCBoY3ZcXFxcOnNoYXBlLCBoY3ZcXFxcOnN0cm9rZXsgYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfSBcIn1jYXRjaCh4KXt0LnN0eWxlU2hlZXRzWzBdLmNzc1RleHQrPVxuXCJoY3ZcXFxcOmZpbGwsIGhjdlxcXFw6cGF0aCwgaGN2XFxcXDpzaGFwZSwgaGN2XFxcXDpzdHJva2V7IGJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gXCJ9fX0saXNIaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ib3gub2Zmc2V0V2lkdGh9LGNsaXBSZWN0OmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudCgpLG09SChhKTtyZXR1cm4gZShmLHttZW1iZXJzOltdLGNvdW50OjAsbGVmdDoobT9hLng6YSkrMSx0b3A6KG0/YS55OmIpKzEsd2lkdGg6KG0/YS53aWR0aDpkKS0xLGhlaWdodDoobT9hLmhlaWdodDpjKS0xLGdldENTUzpmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnQsZD1iLm5vZGVOYW1lLGc9YS5pbnZlcnRlZCxmPXRoaXMudG9wLShcInNoYXBlXCI9PT1kP2Iub2Zmc2V0VG9wOjApLGM9dGhpcy5sZWZ0LGI9Yyt0aGlzLndpZHRoLHE9Zit0aGlzLmhlaWdodCxmPXtjbGlwOlwicmVjdChcIitNYXRoLnJvdW5kKGc/XG5jOmYpK1wicHgsXCIrTWF0aC5yb3VuZChnP3E6YikrXCJweCxcIitNYXRoLnJvdW5kKGc/YjpxKStcInB4LFwiK01hdGgucm91bmQoZz9mOmMpK1wicHgpXCJ9OyFnJiZhLmRvY01vZGU4JiZcIkRJVlwiPT09ZCYmZShmLHt3aWR0aDpiK1wicHhcIixoZWlnaHQ6cStcInB4XCJ9KTtyZXR1cm4gZn0sdXBkYXRlQ2xpcHBpbmc6ZnVuY3Rpb24oKXtsKGYubWVtYmVycyxmdW5jdGlvbihhKXthLmVsZW1lbnQmJmEuY3NzKGYuZ2V0Q1NTKGEpKX0pfX0pfSxjb2xvcjpmdW5jdGlvbihiLGQsYyxlKXt2YXIgZj10aGlzLG0scj0vXnJnYmEvLHYscCxnPVwibm9uZVwiO2ImJmIubGluZWFyR3JhZGllbnQ/cD1cImdyYWRpZW50XCI6YiYmYi5yYWRpYWxHcmFkaWVudCYmKHA9XCJwYXR0ZXJuXCIpO2lmKHApe3ZhciBELHksaz1iLmxpbmVhckdyYWRpZW50fHxiLnJhZGlhbEdyYWRpZW50LEEsaCx3LEcsdCxGPVwiXCI7Yj1iLnN0b3BzO3ZhciBuLEg9W10sdT1mdW5jdGlvbigpe3Y9WydcXHgzY2ZpbGwgY29sb3JzXFx4M2RcIicrSC5qb2luKFwiLFwiKStcbidcIiBvcGFjaXR5XFx4M2RcIicsdywnXCIgbzpvcGFjaXR5MlxceDNkXCInLGgsJ1wiIHR5cGVcXHgzZFwiJyxwLCdcIiAnLEYsJ2ZvY3VzXFx4M2RcIjEwMCVcIiBtZXRob2RcXHgzZFwiYW55XCIgL1xceDNlJ107QyhmLnByZXBWTUwodiksbnVsbCxudWxsLGQpfTtBPWJbMF07bj1iW2IubGVuZ3RoLTFdOzA8QVswXSYmYi51bnNoaWZ0KFswLEFbMV1dKTsxPm5bMF0mJmIucHVzaChbMSxuWzFdXSk7bChiLGZ1bmN0aW9uKGcsYil7ci50ZXN0KGdbMV0pPyhtPWEuY29sb3IoZ1sxXSksRD1tLmdldChcInJnYlwiKSx5PW0uZ2V0KFwiYVwiKSk6KEQ9Z1sxXSx5PTEpO0gucHVzaCgxMDAqZ1swXStcIiUgXCIrRCk7Yj8odz15LEc9RCk6KGg9eSx0PUQpfSk7aWYoXCJmaWxsXCI9PT1jKWlmKFwiZ3JhZGllbnRcIj09PXApYz1rLngxfHxrWzBdfHwwLGI9ay55MXx8a1sxXXx8MCxBPWsueDJ8fGtbMl18fDAsaz1rLnkyfHxrWzNdfHwwLEY9J2FuZ2xlXFx4M2RcIicrKDkwLTE4MCpNYXRoLmF0YW4oKGstYikvKEEtYykpL01hdGguUEkpKydcIicsXG51KCk7ZWxzZXt2YXIgZz1rLnIsej0yKmcsQj0yKmcsRT1rLmN4LFY9ay5jeSxJPWQucmFkaWFsUmVmZXJlbmNlLFQsZz1mdW5jdGlvbigpe0kmJihUPWUuZ2V0QkJveCgpLEUrPShJWzBdLVQueCkvVC53aWR0aC0uNSxWKz0oSVsxXS1ULnkpL1QuaGVpZ2h0LS41LHoqPUlbMl0vVC53aWR0aCxCKj1JWzJdL1QuaGVpZ2h0KTtGPSdzcmNcXHgzZFwiJythLmdldE9wdGlvbnMoKS5nbG9iYWwuVk1MUmFkaWFsR3JhZGllbnRVUkwrJ1wiIHNpemVcXHgzZFwiJyt6K1wiLFwiK0IrJ1wiIG9yaWdpblxceDNkXCIwLjUsMC41XCIgcG9zaXRpb25cXHgzZFwiJytFK1wiLFwiK1YrJ1wiIGNvbG9yMlxceDNkXCInK3QrJ1wiICc7dSgpfTtlLmFkZGVkP2coKTplLm9uQWRkPWc7Zz1HfWVsc2UgZz1EfWVsc2Ugci50ZXN0KGIpJiZcIklNR1wiIT09ZC50YWdOYW1lPyhtPWEuY29sb3IoYiksZVtjK1wiLW9wYWNpdHlTZXR0ZXJcIl0obS5nZXQoXCJhXCIpLGMsZCksZz1tLmdldChcInJnYlwiKSk6KGc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZShjKSxcbmcubGVuZ3RoJiYoZ1swXS5vcGFjaXR5PTEsZ1swXS50eXBlPVwic29saWRcIiksZz1iKTtyZXR1cm4gZ30scHJlcFZNTDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzSUU4O2E9YS5qb2luKFwiXCIpO2I/KGE9YS5yZXBsYWNlKFwiL1xceDNlXCIsJyB4bWxuc1xceDNkXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiIC9cXHgzZScpLGE9LTE9PT1hLmluZGV4T2YoJ3N0eWxlXFx4M2RcIicpP2EucmVwbGFjZShcIi9cXHgzZVwiLCcgc3R5bGVcXHgzZFwiZGlzcGxheTppbmxpbmUtYmxvY2s7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7XCIgL1xceDNlJyk6YS5yZXBsYWNlKCdzdHlsZVxceDNkXCInLCdzdHlsZVxceDNkXCJkaXNwbGF5OmlubGluZS1ibG9jaztiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsnKSk6YT1hLnJlcGxhY2UoXCJcXHgzY1wiLFwiXFx4M2NoY3Y6XCIpO3JldHVybiBhfSx0ZXh0OkEucHJvdG90eXBlLmh0bWwscGF0aDpmdW5jdGlvbihhKXt2YXIgYj17Y29vcmRzaXplOlwiMTAgMTBcIn07YyhhKT9iLmQ9XG5hOkgoYSkmJmUoYixhKTtyZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50KFwic2hhcGVcIikuYXR0cihiKX0sY2lyY2xlOmZ1bmN0aW9uKGEsYixkKXt2YXIgZj10aGlzLnN5bWJvbChcImNpcmNsZVwiKTtIKGEpJiYoZD1hLnIsYj1hLnksYT1hLngpO2YuaXNDaXJjbGU9ITA7Zi5yPWQ7cmV0dXJuIGYuYXR0cih7eDphLHk6Yn0pfSxnOmZ1bmN0aW9uKGEpe3ZhciBiO2EmJihiPXtjbGFzc05hbWU6XCJoaWdoY2hhcnRzLVwiK2EsXCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1cIithfSk7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudChcImRpdlwiKS5hdHRyKGIpfSxpbWFnZTpmdW5jdGlvbihhLGIsZCxjLHEpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudChcImltZ1wiKS5hdHRyKHtzcmM6YX0pOzE8YXJndW1lbnRzLmxlbmd0aCYmZi5hdHRyKHt4OmIseTpkLHdpZHRoOmMsaGVpZ2h0OnF9KTtyZXR1cm4gZn0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm5cInJlY3RcIj09PWE/dGhpcy5zeW1ib2woYSk6QS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsXG5hKX0saW52ZXJ0Q2hpbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzO2I9Yi5zdHlsZTt2YXIgYz1cIklNR1wiPT09YS50YWdOYW1lJiZhLnN0eWxlO0UoYSx7ZmxpcDpcInhcIixsZWZ0OmQoYi53aWR0aCktKGM/ZChjLnRvcCk6MSksdG9wOmQoYi5oZWlnaHQpLShjP2QoYy5sZWZ0KToxKSxyb3RhdGlvbjotOTB9KTtsKGEuY2hpbGROb2RlcyxmdW5jdGlvbihiKXtmLmludmVydENoaWxkKGIsYSl9KX0sc3ltYm9sczp7YXJjOmZ1bmN0aW9uKGEsYixkLGMscSl7dmFyIGY9cS5zdGFydCxlPXEuZW5kLG09cS5yfHxkfHxjO2Q9cS5pbm5lclI7Yz1NYXRoLmNvcyhmKTt2YXIgcj1NYXRoLnNpbihmKSxnPU1hdGguY29zKGUpLEQ9TWF0aC5zaW4oZSk7aWYoMD09PWUtZilyZXR1cm5bXCJ4XCJdO2Y9W1wid2FcIixhLW0sYi1tLGErbSxiK20sYSttKmMsYittKnIsYSttKmcsYittKkRdO3Eub3BlbiYmIWQmJmYucHVzaChcImVcIixcIk1cIixhLGIpO2YucHVzaChcImF0XCIsYS1kLGItZCxhK2QsYitkLGErZCpnLFxuYitkKkQsYStkKmMsYitkKnIsXCJ4XCIsXCJlXCIpO2YuaXNBcmM9ITA7cmV0dXJuIGZ9LGNpcmNsZTpmdW5jdGlvbihhLGIsZCxjLHEpe3EmJnUocS5yKSYmKGQ9Yz0yKnEucik7cSYmcS5pc0NpcmNsZSYmKGEtPWQvMixiLT1jLzIpO3JldHVybltcIndhXCIsYSxiLGErZCxiK2MsYStkLGIrYy8yLGErZCxiK2MvMixcImVcIl19LHJlY3Q6ZnVuY3Rpb24oYSxiLGQsYyxxKXtyZXR1cm4gQS5wcm90b3R5cGUuc3ltYm9sc1t1KHEpJiZxLnI/XCJjYWxsb3V0XCI6XCJzcXVhcmVcIl0uY2FsbCgwLGEsYixkLGMscSl9fX0sYS5WTUxSZW5kZXJlcj1CPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQi5wcm90b3R5cGU9YihBLnByb3RvdHlwZSx6KSxhLlJlbmRlcmVyPUIpO0EucHJvdG90eXBlLm1lYXN1cmVTcGFuV2lkdGg9ZnVuY3Rpb24oYSxiKXt2YXIgZD10LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2E9dC5jcmVhdGVUZXh0Tm9kZShhKTtkLmFwcGVuZENoaWxkKGEpO0UoZCxcbmIpO3RoaXMuYm94LmFwcGVuZENoaWxkKGQpO2I9ZC5vZmZzZXRXaWR0aDtuKGQpO3JldHVybiBifX0pKEkpOyhmdW5jdGlvbihhKXtmdW5jdGlvbiBCKCl7dmFyIGw9YS5kZWZhdWx0T3B0aW9ucy5nbG9iYWwsaz10Lm1vbWVudDtpZihsLnRpbWV6b25lKXtpZihrKXJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4tay50eihhLGwudGltZXpvbmUpLnV0Y09mZnNldCgpfTthLmVycm9yKDI1KX1yZXR1cm4gbC51c2VVVEMmJmwuZ2V0VGltZXpvbmVPZmZzZXR9ZnVuY3Rpb24geigpe3ZhciBsPWEuZGVmYXVsdE9wdGlvbnMuZ2xvYmFsLGssZT1sLnVzZVVUQyxjPWU/XCJnZXRVVENcIjpcImdldFwiLHA9ZT9cInNldFVUQ1wiOlwic2V0XCI7YS5EYXRlPWs9bC5EYXRlfHx0LkRhdGU7ay5oY1RpbWV6b25lT2Zmc2V0PWUmJmwudGltZXpvbmVPZmZzZXQ7ay5oY0dldFRpbWV6b25lT2Zmc2V0PUIoKTtrLmhjTWFrZVRpbWU9ZnVuY3Rpb24oYSxiLGMsZCxyLHApe3ZhciBtO2U/KG09ay5VVEMuYXBwbHkoMCxhcmd1bWVudHMpLFxubSs9dShtKSk6bT0obmV3IGsoYSxiLG4oYywxKSxuKGQsMCksbihyLDApLG4ocCwwKSkpLmdldFRpbWUoKTtyZXR1cm4gbX07RShcIk1pbnV0ZXMgSG91cnMgRGF5IERhdGUgTW9udGggRnVsbFllYXJcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7a1tcImhjR2V0XCIrYV09YythfSk7RShcIk1pbGxpc2Vjb25kcyBTZWNvbmRzIE1pbnV0ZXMgSG91cnMgRGF0ZSBNb250aCBGdWxsWWVhclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtrW1wiaGNTZXRcIithXT1wK2F9KX12YXIgQz1hLmNvbG9yLEU9YS5lYWNoLHU9YS5nZXRUWk9mZnNldCxoPWEubWVyZ2Usbj1hLnBpY2ssdD1hLndpbjthLmRlZmF1bHRPcHRpb25zPXtjb2xvcnM6XCIjN2NiNWVjICM0MzQzNDggIzkwZWQ3ZCAjZjdhMzVjICM4MDg1ZTkgI2YxNWM4MCAjZTRkMzU0ICMyYjkwOGYgI2Y0NWI1YiAjOTFlOGUxXCIuc3BsaXQoXCIgXCIpLHN5bWJvbHM6W1wiY2lyY2xlXCIsXCJkaWFtb25kXCIsXCJzcXVhcmVcIixcInRyaWFuZ2xlXCIsXCJ0cmlhbmdsZS1kb3duXCJdLFxubGFuZzp7bG9hZGluZzpcIkxvYWRpbmcuLi5cIixtb250aHM6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLHNob3J0TW9udGhzOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksd2Vla2RheXM6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxkZWNpbWFsUG9pbnQ6XCIuXCIsbnVtZXJpY1N5bWJvbHM6XCJrTUdUUEVcIi5zcGxpdChcIlwiKSxyZXNldFpvb206XCJSZXNldCB6b29tXCIscmVzZXRab29tVGl0bGU6XCJSZXNldCB6b29tIGxldmVsIDE6MVwiLHRob3VzYW5kc1NlcDpcIiBcIn0sZ2xvYmFsOnt1c2VVVEM6ITAsVk1MUmFkaWFsR3JhZGllbnRVUkw6XCJodHRwOi8vY29kZS5oaWdoY2hhcnRzLmNvbS81LjAuOS9nZngvdm1sLXJhZGlhbC1ncmFkaWVudC5wbmdcIn0sXG5jaGFydDp7Ym9yZGVyUmFkaXVzOjAsZGVmYXVsdFNlcmllc1R5cGU6XCJsaW5lXCIsaWdub3JlSGlkZGVuU2VyaWVzOiEwLHNwYWNpbmc6WzEwLDEwLDE1LDEwXSxyZXNldFpvb21CdXR0b246e3RoZW1lOnt6SW5kZXg6MjB9LHBvc2l0aW9uOnthbGlnbjpcInJpZ2h0XCIseDotMTAseToxMH19LHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsYm9yZGVyQ29sb3I6XCIjMzM1Y2FkXCIsYmFja2dyb3VuZENvbG9yOlwiI2ZmZmZmZlwiLHBsb3RCb3JkZXJDb2xvcjpcIiNjY2NjY2NcIn0sdGl0bGU6e3RleHQ6XCJDaGFydCB0aXRsZVwiLGFsaWduOlwiY2VudGVyXCIsbWFyZ2luOjE1LHdpZHRoQWRqdXN0Oi00NH0sc3VidGl0bGU6e3RleHQ6XCJcIixhbGlnbjpcImNlbnRlclwiLHdpZHRoQWRqdXN0Oi00NH0scGxvdE9wdGlvbnM6e30sbGFiZWxzOntzdHlsZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGNvbG9yOlwiIzMzMzMzM1wifX0sbGVnZW5kOntlbmFibGVkOiEwLGFsaWduOlwiY2VudGVyXCIsbGF5b3V0OlwiaG9yaXpvbnRhbFwiLFxubGFiZWxGb3JtYXR0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfSxib3JkZXJDb2xvcjpcIiM5OTk5OTlcIixib3JkZXJSYWRpdXM6MCxuYXZpZ2F0aW9uOnthY3RpdmVDb2xvcjpcIiMwMDMzOTlcIixpbmFjdGl2ZUNvbG9yOlwiI2NjY2NjY1wifSxpdGVtU3R5bGU6e2NvbG9yOlwiIzMzMzMzM1wiLGZvbnRTaXplOlwiMTJweFwiLGZvbnRXZWlnaHQ6XCJib2xkXCJ9LGl0ZW1Ib3ZlclN0eWxlOntjb2xvcjpcIiMwMDAwMDBcIn0saXRlbUhpZGRlblN0eWxlOntjb2xvcjpcIiNjY2NjY2NcIn0sc2hhZG93OiExLGl0ZW1DaGVja2JveFN0eWxlOntwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxM3B4XCIsaGVpZ2h0OlwiMTNweFwifSxzcXVhcmVTeW1ib2w6ITAsc3ltYm9sUGFkZGluZzo1LHZlcnRpY2FsQWxpZ246XCJib3R0b21cIix4OjAseTowLHRpdGxlOntzdHlsZTp7Zm9udFdlaWdodDpcImJvbGRcIn19fSxsb2FkaW5nOntsYWJlbFN0eWxlOntmb250V2VpZ2h0OlwiYm9sZFwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixcbnRvcDpcIjQ1JVwifSxzdHlsZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGJhY2tncm91bmRDb2xvcjpcIiNmZmZmZmZcIixvcGFjaXR5Oi41LHRleHRBbGlnbjpcImNlbnRlclwifX0sdG9vbHRpcDp7ZW5hYmxlZDohMCxhbmltYXRpb246YS5zdmcsYm9yZGVyUmFkaXVzOjMsZGF0ZVRpbWVMYWJlbEZvcm1hdHM6e21pbGxpc2Vjb25kOlwiJUEsICViICVlLCAlSDolTTolUy4lTFwiLHNlY29uZDpcIiVBLCAlYiAlZSwgJUg6JU06JVNcIixtaW51dGU6XCIlQSwgJWIgJWUsICVIOiVNXCIsaG91cjpcIiVBLCAlYiAlZSwgJUg6JU1cIixkYXk6XCIlQSwgJWIgJWUsICVZXCIsd2VlazpcIldlZWsgZnJvbSAlQSwgJWIgJWUsICVZXCIsbW9udGg6XCIlQiAlWVwiLHllYXI6XCIlWVwifSxmb290ZXJGb3JtYXQ6XCJcIixwYWRkaW5nOjgsc25hcDphLmlzVG91Y2hEZXZpY2U/MjU6MTAsYmFja2dyb3VuZENvbG9yOkMoXCIjZjdmN2Y3XCIpLnNldE9wYWNpdHkoLjg1KS5nZXQoKSxib3JkZXJXaWR0aDoxLGhlYWRlckZvcm1hdDonXFx4M2NzcGFuIHN0eWxlXFx4M2RcImZvbnQtc2l6ZTogMTBweFwiXFx4M2V7cG9pbnQua2V5fVxceDNjL3NwYW5cXHgzZVxceDNjYnIvXFx4M2UnLFxucG9pbnRGb3JtYXQ6J1xceDNjc3BhbiBzdHlsZVxceDNkXCJjb2xvcjp7cG9pbnQuY29sb3J9XCJcXHgzZVxcdTI1Y2ZcXHgzYy9zcGFuXFx4M2Uge3Nlcmllcy5uYW1lfTogXFx4M2NiXFx4M2V7cG9pbnQueX1cXHgzYy9iXFx4M2VcXHgzY2JyL1xceDNlJyxzaGFkb3c6ITAsc3R5bGU6e2NvbG9yOlwiIzMzMzMzM1wiLGN1cnNvcjpcImRlZmF1bHRcIixmb250U2l6ZTpcIjEycHhcIixwb2ludGVyRXZlbnRzOlwibm9uZVwiLHdoaXRlU3BhY2U6XCJub3dyYXBcIn19LGNyZWRpdHM6e2VuYWJsZWQ6ITAsaHJlZjpcImh0dHA6Ly93d3cuaGlnaGNoYXJ0cy5jb21cIixwb3NpdGlvbjp7YWxpZ246XCJyaWdodFwiLHg6LTEwLHZlcnRpY2FsQWxpZ246XCJib3R0b21cIix5Oi01fSxzdHlsZTp7Y3Vyc29yOlwicG9pbnRlclwiLGNvbG9yOlwiIzk5OTk5OVwiLGZvbnRTaXplOlwiOXB4XCJ9LHRleHQ6XCJIaWdoY2hhcnRzLmNvbVwifX07YS5zZXRPcHRpb25zPWZ1bmN0aW9uKGwpe2EuZGVmYXVsdE9wdGlvbnM9aCghMCxhLmRlZmF1bHRPcHRpb25zLGwpO3ooKTtcbnJldHVybiBhLmRlZmF1bHRPcHRpb25zfTthLmdldE9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0T3B0aW9uc307YS5kZWZhdWx0UGxvdE9wdGlvbnM9YS5kZWZhdWx0T3B0aW9ucy5wbG90T3B0aW9uczt6KCl9KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5hcnJheU1heCx6PWEuYXJyYXlNaW4sQz1hLmRlZmluZWQsRT1hLmRlc3Ryb3lPYmplY3RQcm9wZXJ0aWVzLHU9YS5lYWNoLGg9YS5lcmFzZSxuPWEubWVyZ2UsdD1hLnBpY2s7YS5QbG90TGluZU9yQmFuZD1mdW5jdGlvbihhLGspe3RoaXMuYXhpcz1hO2smJih0aGlzLm9wdGlvbnM9ayx0aGlzLmlkPWsuaWQpfTthLlBsb3RMaW5lT3JCYW5kLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxrPWEuYXhpcyxlPWsuaG9yaXosYz1hLm9wdGlvbnMscD1jLmxhYmVsLGg9YS5sYWJlbCxiPWMudG8sbT1jLmZyb20sZD1jLnZhbHVlLHI9QyhtKSYmQyhiKSxBPUMoZCksdj1hLnN2Z0VsZW0sZj0hdixcbnk9W10sRyxGPWMuY29sb3IscT10KGMuekluZGV4LDApLHg9Yy5ldmVudHMseT17XCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1wbG90LVwiKyhyP1wiYmFuZCBcIjpcImxpbmUgXCIpKyhjLmNsYXNzTmFtZXx8XCJcIil9LEo9e30sdT1rLmNoYXJ0LnJlbmRlcmVyLEw9cj9cImJhbmRzXCI6XCJsaW5lc1wiLGc9ay5sb2cybGluO2suaXNMb2cmJihtPWcobSksYj1nKGIpLGQ9ZyhkKSk7QT8oeT17c3Ryb2tlOkYsXCJzdHJva2Utd2lkdGhcIjpjLndpZHRofSxjLmRhc2hTdHlsZSYmKHkuZGFzaHN0eWxlPWMuZGFzaFN0eWxlKSk6ciYmKEYmJih5LmZpbGw9RiksYy5ib3JkZXJXaWR0aCYmKHkuc3Ryb2tlPWMuYm9yZGVyQ29sb3IseVtcInN0cm9rZS13aWR0aFwiXT1jLmJvcmRlcldpZHRoKSk7Si56SW5kZXg9cTtMKz1cIi1cIitxOyhGPWtbTF0pfHwoa1tMXT1GPXUuZyhcInBsb3QtXCIrTCkuYXR0cihKKS5hZGQoKSk7ZiYmKGEuc3ZnRWxlbT12PXUucGF0aCgpLmF0dHIoeSkuYWRkKEYpKTtpZihBKXk9ay5nZXRQbG90TGluZVBhdGgoZCxcbnYuc3Ryb2tlV2lkdGgoKSk7ZWxzZSBpZihyKXk9ay5nZXRQbG90QmFuZFBhdGgobSxiLGMpO2Vsc2UgcmV0dXJuO2lmKGYmJnkmJnkubGVuZ3RoKXtpZih2LmF0dHIoe2Q6eX0pLHgpZm9yKEcgaW4gYz1mdW5jdGlvbihiKXt2Lm9uKGIsZnVuY3Rpb24oZyl7eFtiXS5hcHBseShhLFtnXSl9KX0seCljKEcpfWVsc2UgdiYmKHk/KHYuc2hvdygpLHYuYW5pbWF0ZSh7ZDp5fSkpOih2LmhpZGUoKSxoJiYoYS5sYWJlbD1oPWguZGVzdHJveSgpKSkpO3AmJkMocC50ZXh0KSYmeSYmeS5sZW5ndGgmJjA8ay53aWR0aCYmMDxrLmhlaWdodCYmIXkuZmxhdD8ocD1uKHthbGlnbjplJiZyJiZcImNlbnRlclwiLHg6ZT8hciYmNDoxMCx2ZXJ0aWNhbEFsaWduOiFlJiZyJiZcIm1pZGRsZVwiLHk6ZT9yPzE2OjEwOnI/NjotNCxyb3RhdGlvbjplJiYhciYmOTB9LHApLHRoaXMucmVuZGVyTGFiZWwocCx5LHIscSkpOmgmJmguaGlkZSgpO3JldHVybiBhfSxyZW5kZXJMYWJlbDpmdW5jdGlvbihhLGssZSxjKXt2YXIgcD1cbnRoaXMubGFiZWwsbD10aGlzLmF4aXMuY2hhcnQucmVuZGVyZXI7cHx8KHA9e2FsaWduOmEudGV4dEFsaWdufHxhLmFsaWduLHJvdGF0aW9uOmEucm90YXRpb24sXCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1wbG90LVwiKyhlP1wiYmFuZFwiOlwibGluZVwiKStcIi1sYWJlbCBcIisoYS5jbGFzc05hbWV8fFwiXCIpfSxwLnpJbmRleD1jLHRoaXMubGFiZWw9cD1sLnRleHQoYS50ZXh0LDAsMCxhLnVzZUhUTUwpLmF0dHIocCkuYWRkKCkscC5jc3MoYS5zdHlsZSkpO2M9W2tbMV0sa1s0XSxlP2tbNl06a1sxXV07az1ba1syXSxrWzVdLGU/a1s3XTprWzJdXTtlPXooYyk7bD16KGspO3AuYWxpZ24oYSwhMSx7eDplLHk6bCx3aWR0aDpCKGMpLWUsaGVpZ2h0OkIoayktbH0pO3Auc2hvdygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7aCh0aGlzLmF4aXMucGxvdExpbmVzQW5kQmFuZHMsdGhpcyk7ZGVsZXRlIHRoaXMuYXhpcztFKHRoaXMpfX07YS5BeGlzUGxvdExpbmVPckJhbmRFeHRlbnNpb249e2dldFBsb3RCYW5kUGF0aDpmdW5jdGlvbihhLFxuayl7az10aGlzLmdldFBsb3RMaW5lUGF0aChrLG51bGwsbnVsbCwhMCk7KGE9dGhpcy5nZXRQbG90TGluZVBhdGgoYSxudWxsLG51bGwsITApKSYmaz8oYS5mbGF0PWEudG9TdHJpbmcoKT09PWsudG9TdHJpbmcoKSxhLnB1c2goa1s0XSxrWzVdLGtbMV0sa1syXSxcInpcIikpOmE9bnVsbDtyZXR1cm4gYX0sYWRkUGxvdEJhbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoYSxcInBsb3RCYW5kc1wiKX0sYWRkUGxvdExpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoYSxcInBsb3RMaW5lc1wiKX0sYWRkUGxvdEJhbmRPckxpbmU6ZnVuY3Rpb24obCxrKXt2YXIgZT0obmV3IGEuUGxvdExpbmVPckJhbmQodGhpcyxsKSkucmVuZGVyKCksYz10aGlzLnVzZXJPcHRpb25zO2UmJihrJiYoY1trXT1jW2tdfHxbXSxjW2tdLnB1c2gobCkpLHRoaXMucGxvdExpbmVzQW5kQmFuZHMucHVzaChlKSk7cmV0dXJuIGV9LHJlbW92ZVBsb3RCYW5kT3JMaW5lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgaz1cbnRoaXMucGxvdExpbmVzQW5kQmFuZHMsZT10aGlzLm9wdGlvbnMsYz10aGlzLnVzZXJPcHRpb25zLHA9ay5sZW5ndGg7cC0tOylrW3BdLmlkPT09YSYma1twXS5kZXN0cm95KCk7dShbZS5wbG90TGluZXN8fFtdLGMucGxvdExpbmVzfHxbXSxlLnBsb3RCYW5kc3x8W10sYy5wbG90QmFuZHN8fFtdXSxmdW5jdGlvbihjKXtmb3IocD1jLmxlbmd0aDtwLS07KWNbcF0uaWQ9PT1hJiZoKGMsY1twXSl9KX19fSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuY29ycmVjdEZsb2F0LHo9YS5kZWZpbmVkLEM9YS5kZXN0cm95T2JqZWN0UHJvcGVydGllcyxFPWEuaXNOdW1iZXIsdT1hLm1lcmdlLGg9YS5waWNrLG49YS5kZWcycmFkO2EuVGljaz1mdW5jdGlvbihhLGwsayxlKXt0aGlzLmF4aXM9YTt0aGlzLnBvcz1sO3RoaXMudHlwZT1rfHxcIlwiO3RoaXMuaXNOZXc9ITA7a3x8ZXx8dGhpcy5hZGRMYWJlbCgpfTthLlRpY2sucHJvdG90eXBlPXthZGRMYWJlbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYXhpcyxcbmw9YS5vcHRpb25zLGs9YS5jaGFydCxlPWEuY2F0ZWdvcmllcyxjPWEubmFtZXMscD10aGlzLnBvcyxuPWwubGFiZWxzLGI9YS50aWNrUG9zaXRpb25zLG09cD09PWJbMF0sZD1wPT09YltiLmxlbmd0aC0xXSxjPWU/aChlW3BdLGNbcF0scCk6cCxlPXRoaXMubGFiZWwsYj1iLmluZm8scjthLmlzRGF0ZXRpbWVBeGlzJiZiJiYocj1sLmRhdGVUaW1lTGFiZWxGb3JtYXRzW2IuaGlnaGVyUmFua3NbcF18fGIudW5pdE5hbWVdKTt0aGlzLmlzRmlyc3Q9bTt0aGlzLmlzTGFzdD1kO2w9YS5sYWJlbEZvcm1hdHRlci5jYWxsKHtheGlzOmEsY2hhcnQ6ayxpc0ZpcnN0Om0saXNMYXN0OmQsZGF0ZVRpbWVMYWJlbEZvcm1hdDpyLHZhbHVlOmEuaXNMb2c/QihhLmxpbjJsb2coYykpOmN9KTt6KGUpP2UmJmUuYXR0cih7dGV4dDpsfSk6KHRoaXMubGFiZWxMZW5ndGg9KHRoaXMubGFiZWw9ZT16KGwpJiZuLmVuYWJsZWQ/ay5yZW5kZXJlci50ZXh0KGwsMCwwLG4udXNlSFRNTCkuY3NzKHUobi5zdHlsZSkpLmFkZChhLmxhYmVsR3JvdXApOlxubnVsbCkmJmUuZ2V0QkJveCgpLndpZHRoLHRoaXMucm90YXRpb249MCl9LGdldExhYmVsU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsP3RoaXMubGFiZWwuZ2V0QkJveCgpW3RoaXMuYXhpcy5ob3Jpej9cImhlaWdodFwiOlwid2lkdGhcIl06MH0saGFuZGxlT3ZlcmZsb3c6ZnVuY3Rpb24oYSl7dmFyIGw9dGhpcy5heGlzLGs9YS54LGU9bC5jaGFydC5jaGFydFdpZHRoLGM9bC5jaGFydC5zcGFjaW5nLHA9aChsLmxhYmVsTGVmdCxNYXRoLm1pbihsLnBvcyxjWzNdKSksYz1oKGwubGFiZWxSaWdodCxNYXRoLm1heChsLnBvcytsLmxlbixlLWNbMV0pKSx0PXRoaXMubGFiZWwsYj10aGlzLnJvdGF0aW9uLG09e2xlZnQ6MCxjZW50ZXI6LjUscmlnaHQ6MX1bbC5sYWJlbEFsaWduXSxkPXQuZ2V0QkJveCgpLndpZHRoLHI9bC5nZXRTbG90V2lkdGgoKSxBPXIsdj0xLGYseT17fTtpZihiKTA+YiYmay1tKmQ8cD9mPU1hdGgucm91bmQoay9NYXRoLmNvcyhiKm4pLXApOjA8YiYmayttKlxuZD5jJiYoZj1NYXRoLnJvdW5kKChlLWspL01hdGguY29zKGIqbikpKTtlbHNlIGlmKGU9aysoMS1tKSpkLGstbSpkPHA/QT1hLngrQSooMS1tKS1wOmU+YyYmKEE9Yy1hLngrQSptLHY9LTEpLEE9TWF0aC5taW4ocixBKSxBPHImJlwiY2VudGVyXCI9PT1sLmxhYmVsQWxpZ24mJihhLngrPXYqKHItQS1tKihyLU1hdGgubWluKGQsQSkpKSksZD5BfHxsLmF1dG9Sb3RhdGlvbiYmKHQuc3R5bGVzfHx7fSkud2lkdGgpZj1BO2YmJih5LndpZHRoPWYsKGwub3B0aW9ucy5sYWJlbHMuc3R5bGV8fHt9KS50ZXh0T3ZlcmZsb3d8fCh5LnRleHRPdmVyZmxvdz1cImVsbGlwc2lzXCIpLHQuY3NzKHkpKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYSxsLGssZSl7dmFyIGM9dGhpcy5heGlzLHA9Yy5jaGFydCxoPWUmJnAub2xkQ2hhcnRIZWlnaHR8fHAuY2hhcnRIZWlnaHQ7cmV0dXJue3g6YT9jLnRyYW5zbGF0ZShsK2ssbnVsbCxudWxsLGUpK2MudHJhbnNCOmMubGVmdCtjLm9mZnNldCsoYy5vcHBvc2l0ZT9cbihlJiZwLm9sZENoYXJ0V2lkdGh8fHAuY2hhcnRXaWR0aCktYy5yaWdodC1jLmxlZnQ6MCkseTphP2gtYy5ib3R0b20rYy5vZmZzZXQtKGMub3Bwb3NpdGU/Yy5oZWlnaHQ6MCk6aC1jLnRyYW5zbGF0ZShsK2ssbnVsbCxudWxsLGUpLWMudHJhbnNCfX0sZ2V0TGFiZWxQb3NpdGlvbjpmdW5jdGlvbihhLGgsayxlLGMscCxILGIpe3ZhciBtPXRoaXMuYXhpcyxkPW0udHJhbnNBLHI9bS5yZXZlcnNlZCxsPW0uc3RhZ2dlckxpbmVzLHY9bS50aWNrUm90Q29ycnx8e3g6MCx5OjB9LGY9Yy55O3ooZil8fChmPTA9PT1tLnNpZGU/ay5yb3RhdGlvbj8tODotay5nZXRCQm94KCkuaGVpZ2h0OjI9PT1tLnNpZGU/di55Kzg6TWF0aC5jb3Moay5yb3RhdGlvbipuKSoodi55LWsuZ2V0QkJveCghMSwwKS5oZWlnaHQvMikpO2E9YStjLngrdi54LShwJiZlP3AqZCoocj8tMToxKTowKTtoPWgrZi0ocCYmIWU/cCpkKihyPzE6LTEpOjApO2wmJihrPUgvKGJ8fDEpJWwsbS5vcHBvc2l0ZSYmKGs9bC1rLVxuMSksaCs9bS5sYWJlbE9mZnNldC9sKmspO3JldHVybnt4OmEseTpNYXRoLnJvdW5kKGgpfX0sZ2V0TWFya1BhdGg6ZnVuY3Rpb24oYSxoLGssZSxjLHApe3JldHVybiBwLmNyaXNwTGluZShbXCJNXCIsYSxoLFwiTFwiLGErKGM/MDotayksaCsoYz9rOjApXSxlKX0scmVuZGVyR3JpZExpbmU6ZnVuY3Rpb24oYSxoLGspe3ZhciBlPXRoaXMuYXhpcyxjPWUub3B0aW9ucyxwPXRoaXMuZ3JpZExpbmUsbD17fSxiPXRoaXMucG9zLG09dGhpcy50eXBlLGQ9ZS50aWNrbWFya09mZnNldCxyPWUuY2hhcnQucmVuZGVyZXIsQT1tP20rXCJHcmlkXCI6XCJncmlkXCIsdj1jW0ErXCJMaW5lV2lkdGhcIl0sZj1jW0ErXCJMaW5lQ29sb3JcIl0sYz1jW0ErXCJMaW5lRGFzaFN0eWxlXCJdO3B8fChsLnN0cm9rZT1mLGxbXCJzdHJva2Utd2lkdGhcIl09dixjJiYobC5kYXNoc3R5bGU9YyksbXx8KGwuekluZGV4PTEpLGEmJihsLm9wYWNpdHk9MCksdGhpcy5ncmlkTGluZT1wPXIucGF0aCgpLmF0dHIobCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLVwiK1xuKG0/bStcIi1cIjpcIlwiKStcImdyaWQtbGluZVwiKS5hZGQoZS5ncmlkR3JvdXApKTtpZighYSYmcCYmKGE9ZS5nZXRQbG90TGluZVBhdGgoYitkLHAuc3Ryb2tlV2lkdGgoKSprLGEsITApKSlwW3RoaXMuaXNOZXc/XCJhdHRyXCI6XCJhbmltYXRlXCJdKHtkOmEsb3BhY2l0eTpofSl9LHJlbmRlck1hcms6ZnVuY3Rpb24oYSxsLGspe3ZhciBlPXRoaXMuYXhpcyxjPWUub3B0aW9ucyxwPWUuY2hhcnQucmVuZGVyZXIsbj10aGlzLnR5cGUsYj1uP24rXCJUaWNrXCI6XCJ0aWNrXCIsbT1lLnRpY2tTaXplKGIpLGQ9dGhpcy5tYXJrLHI9IWQsQT1hLng7YT1hLnk7dmFyIHY9aChjW2IrXCJXaWR0aFwiXSwhbiYmZS5pc1hBeGlzPzE6MCksYz1jW2IrXCJDb2xvclwiXTttJiYoZS5vcHBvc2l0ZSYmKG1bMF09LW1bMF0pLHImJih0aGlzLm1hcms9ZD1wLnBhdGgoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtXCIrKG4/bitcIi1cIjpcIlwiKStcInRpY2tcIikuYWRkKGUuYXhpc0dyb3VwKSxkLmF0dHIoe3N0cm9rZTpjLFwic3Ryb2tlLXdpZHRoXCI6dn0pKSxcbmRbcj9cImF0dHJcIjpcImFuaW1hdGVcIl0oe2Q6dGhpcy5nZXRNYXJrUGF0aChBLGEsbVswXSxkLnN0cm9rZVdpZHRoKCkqayxlLmhvcml6LHApLG9wYWNpdHk6bH0pKX0scmVuZGVyTGFiZWw6ZnVuY3Rpb24oYSxsLGssZSl7dmFyIGM9dGhpcy5heGlzLHA9Yy5ob3JpeixuPWMub3B0aW9ucyxiPXRoaXMubGFiZWwsbT1uLmxhYmVscyxkPW0uc3RlcCxyPWMudGlja21hcmtPZmZzZXQsQT0hMCx2PWEueDthPWEueTtiJiZFKHYpJiYoYi54eT1hPXRoaXMuZ2V0TGFiZWxQb3NpdGlvbih2LGEsYixwLG0scixlLGQpLHRoaXMuaXNGaXJzdCYmIXRoaXMuaXNMYXN0JiYhaChuLnNob3dGaXJzdExhYmVsLDEpfHx0aGlzLmlzTGFzdCYmIXRoaXMuaXNGaXJzdCYmIWgobi5zaG93TGFzdExhYmVsLDEpP0E9ITE6IXB8fGMuaXNSYWRpYWx8fG0uc3RlcHx8bS5yb3RhdGlvbnx8bHx8MD09PWt8fHRoaXMuaGFuZGxlT3ZlcmZsb3coYSksZCYmZSVkJiYoQT0hMSksQSYmRShhLnkpPyhhLm9wYWNpdHk9ayxcbmJbdGhpcy5pc05ldz9cImF0dHJcIjpcImFuaW1hdGVcIl0oYSkpOmIuYXR0cihcInlcIiwtOTk5OSksdGhpcy5pc05ldz0hMSl9LHJlbmRlcjpmdW5jdGlvbihhLGwsayl7dmFyIGU9dGhpcy5heGlzLGM9ZS5ob3JpeixwPXRoaXMuZ2V0UG9zaXRpb24oYyx0aGlzLnBvcyxlLnRpY2ttYXJrT2Zmc2V0LGwpLG49cC54LGI9cC55LGU9YyYmbj09PWUucG9zK2UubGVufHwhYyYmYj09PWUucG9zPy0xOjE7az1oKGssMSk7dGhpcy5pc0FjdGl2ZT0hMDt0aGlzLnJlbmRlckdyaWRMaW5lKGwsayxlKTt0aGlzLnJlbmRlck1hcmsocCxrLGUpO3RoaXMucmVuZGVyTGFiZWwocCxsLGssYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtDKHRoaXMsdGhpcy5heGlzKX19fSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmFuaW1PYmplY3QsQz1hLmFycmF5TWF4LEU9YS5hcnJheU1pbix1PWEuQXhpc1Bsb3RMaW5lT3JCYW5kRXh0ZW5zaW9uLGg9YS5jb2xvcixuPWEuY29ycmVjdEZsb2F0LHQ9YS5kZWZhdWx0T3B0aW9ucyxcbmw9YS5kZWZpbmVkLGs9YS5kZWcycmFkLGU9YS5kZXN0cm95T2JqZWN0UHJvcGVydGllcyxjPWEuZWFjaCxwPWEuZXh0ZW5kLEg9YS5maXJlRXZlbnQsYj1hLmZvcm1hdCxtPWEuZ2V0TWFnbml0dWRlLGQ9YS5ncmVwLHI9YS5pbkFycmF5LEE9YS5pc0FycmF5LHY9YS5pc051bWJlcixmPWEuaXNTdHJpbmcseT1hLm1lcmdlLEc9YS5ub3JtYWxpemVUaWNrSW50ZXJ2YWwsRj1hLnBpY2sscT1hLlBsb3RMaW5lT3JCYW5kLHg9YS5yZW1vdmVFdmVudCxKPWEuc3BsYXQsSz1hLnN5bmNUaW1lb3V0LEw9YS5UaWNrO2EuQXhpcz1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuQXhpcy5wcm90b3R5cGU9e2RlZmF1bHRPcHRpb25zOntkYXRlVGltZUxhYmVsRm9ybWF0czp7bWlsbGlzZWNvbmQ6XCIlSDolTTolUy4lTFwiLHNlY29uZDpcIiVIOiVNOiVTXCIsbWludXRlOlwiJUg6JU1cIixob3VyOlwiJUg6JU1cIixkYXk6XCIlZS4gJWJcIix3ZWVrOlwiJWUuICViXCIsbW9udGg6XCIlYiAnJXlcIixcbnllYXI6XCIlWVwifSxlbmRPblRpY2s6ITEsbGFiZWxzOntlbmFibGVkOiEwLHN0eWxlOntjb2xvcjpcIiM2NjY2NjZcIixjdXJzb3I6XCJkZWZhdWx0XCIsZm9udFNpemU6XCIxMXB4XCJ9LHg6MH0sbWluUGFkZGluZzouMDEsbWF4UGFkZGluZzouMDEsbWlub3JUaWNrTGVuZ3RoOjIsbWlub3JUaWNrUG9zaXRpb246XCJvdXRzaWRlXCIsc3RhcnRPZldlZWs6MSxzdGFydE9uVGljazohMSx0aWNrTGVuZ3RoOjEwLHRpY2ttYXJrUGxhY2VtZW50OlwiYmV0d2VlblwiLHRpY2tQaXhlbEludGVydmFsOjEwMCx0aWNrUG9zaXRpb246XCJvdXRzaWRlXCIsdGl0bGU6e2FsaWduOlwibWlkZGxlXCIsc3R5bGU6e2NvbG9yOlwiIzY2NjY2NlwifX0sdHlwZTpcImxpbmVhclwiLG1pbm9yR3JpZExpbmVDb2xvcjpcIiNmMmYyZjJcIixtaW5vckdyaWRMaW5lV2lkdGg6MSxtaW5vclRpY2tDb2xvcjpcIiM5OTk5OTlcIixsaW5lQ29sb3I6XCIjY2NkNmViXCIsbGluZVdpZHRoOjEsZ3JpZExpbmVDb2xvcjpcIiNlNmU2ZTZcIix0aWNrQ29sb3I6XCIjY2NkNmViXCJ9LFxuZGVmYXVsdFlBeGlzT3B0aW9uczp7ZW5kT25UaWNrOiEwLHRpY2tQaXhlbEludGVydmFsOjcyLHNob3dMYXN0TGFiZWw6ITAsbGFiZWxzOnt4Oi04fSxtYXhQYWRkaW5nOi4wNSxtaW5QYWRkaW5nOi4wNSxzdGFydE9uVGljazohMCx0aXRsZTp7cm90YXRpb246MjcwLHRleHQ6XCJWYWx1ZXNcIn0sc3RhY2tMYWJlbHM6e2VuYWJsZWQ6ITEsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGEubnVtYmVyRm9ybWF0KHRoaXMudG90YWwsLTEpfSxzdHlsZTp7Zm9udFNpemU6XCIxMXB4XCIsZm9udFdlaWdodDpcImJvbGRcIixjb2xvcjpcIiMwMDAwMDBcIix0ZXh0T3V0bGluZTpcIjFweCBjb250cmFzdFwifX0sZ3JpZExpbmVXaWR0aDoxLGxpbmVXaWR0aDowfSxkZWZhdWx0TGVmdEF4aXNPcHRpb25zOntsYWJlbHM6e3g6LTE1fSx0aXRsZTp7cm90YXRpb246MjcwfX0sZGVmYXVsdFJpZ2h0QXhpc09wdGlvbnM6e2xhYmVsczp7eDoxNX0sdGl0bGU6e3JvdGF0aW9uOjkwfX0sZGVmYXVsdEJvdHRvbUF4aXNPcHRpb25zOntsYWJlbHM6e2F1dG9Sb3RhdGlvbjpbLTQ1XSxcbng6MH0sdGl0bGU6e3JvdGF0aW9uOjB9fSxkZWZhdWx0VG9wQXhpc09wdGlvbnM6e2xhYmVsczp7YXV0b1JvdGF0aW9uOlstNDVdLHg6MH0sdGl0bGU6e3JvdGF0aW9uOjB9fSxpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGc9Yi5pc1g7dGhpcy5jaGFydD1hO3RoaXMuaG9yaXo9YS5pbnZlcnRlZD8hZzpnO3RoaXMuaXNYQXhpcz1nO3RoaXMuY29sbD10aGlzLmNvbGx8fChnP1wieEF4aXNcIjpcInlBeGlzXCIpO3RoaXMub3Bwb3NpdGU9Yi5vcHBvc2l0ZTt0aGlzLnNpZGU9Yi5zaWRlfHwodGhpcy5ob3Jpej90aGlzLm9wcG9zaXRlPzA6Mjp0aGlzLm9wcG9zaXRlPzE6Myk7dGhpcy5zZXRPcHRpb25zKGIpO3ZhciBkPXRoaXMub3B0aW9ucyxjPWQudHlwZTt0aGlzLmxhYmVsRm9ybWF0dGVyPWQubGFiZWxzLmZvcm1hdHRlcnx8dGhpcy5kZWZhdWx0TGFiZWxGb3JtYXR0ZXI7dGhpcy51c2VyT3B0aW9ucz1iO3RoaXMubWluUGl4ZWxQYWRkaW5nPTA7dGhpcy5yZXZlcnNlZD1kLnJldmVyc2VkO3RoaXMudmlzaWJsZT1cbiExIT09ZC52aXNpYmxlO3RoaXMuem9vbUVuYWJsZWQ9ITEhPT1kLnpvb21FbmFibGVkO3RoaXMuaGFzTmFtZXM9XCJjYXRlZ29yeVwiPT09Y3x8ITA9PT1kLmNhdGVnb3JpZXM7dGhpcy5jYXRlZ29yaWVzPWQuY2F0ZWdvcmllc3x8dGhpcy5oYXNOYW1lczt0aGlzLm5hbWVzPXRoaXMubmFtZXN8fFtdO3RoaXMuaXNMb2c9XCJsb2dhcml0aG1pY1wiPT09Yzt0aGlzLmlzRGF0ZXRpbWVBeGlzPVwiZGF0ZXRpbWVcIj09PWM7dGhpcy5wb3NpdGl2ZVZhbHVlc09ubHk9dGhpcy5pc0xvZyYmIXRoaXMuYWxsb3dOZWdhdGl2ZUxvZzt0aGlzLmlzTGlua2VkPWwoZC5saW5rZWRUbyk7dGhpcy50aWNrcz17fTt0aGlzLmxhYmVsRWRnZT1bXTt0aGlzLm1pbm9yVGlja3M9e307dGhpcy5wbG90TGluZXNBbmRCYW5kcz1bXTt0aGlzLmFsdGVybmF0ZUJhbmRzPXt9O3RoaXMubGVuPTA7dGhpcy5taW5SYW5nZT10aGlzLnVzZXJNaW5SYW5nZT1kLm1pblJhbmdlfHxkLm1heFpvb207dGhpcy5yYW5nZT1kLnJhbmdlO1xudGhpcy5vZmZzZXQ9ZC5vZmZzZXR8fDA7dGhpcy5zdGFja3M9e307dGhpcy5vbGRTdGFja3M9e307dGhpcy5zdGFja3NUb3VjaGVkPTA7dGhpcy5taW49dGhpcy5tYXg9bnVsbDt0aGlzLmNyb3NzaGFpcj1GKGQuY3Jvc3NoYWlyLEooYS5vcHRpb25zLnRvb2x0aXAuY3Jvc3NoYWlycylbZz8wOjFdLCExKTt2YXIgZjtiPXRoaXMub3B0aW9ucy5ldmVudHM7LTE9PT1yKHRoaXMsYS5heGVzKSYmKGc/YS5heGVzLnNwbGljZShhLnhBeGlzLmxlbmd0aCwwLHRoaXMpOmEuYXhlcy5wdXNoKHRoaXMpLGFbdGhpcy5jb2xsXS5wdXNoKHRoaXMpKTt0aGlzLnNlcmllcz10aGlzLnNlcmllc3x8W107YS5pbnZlcnRlZCYmZyYmdm9pZCAwPT09dGhpcy5yZXZlcnNlZCYmKHRoaXMucmV2ZXJzZWQ9ITApO3RoaXMucmVtb3ZlUGxvdExpbmU9dGhpcy5yZW1vdmVQbG90QmFuZD10aGlzLnJlbW92ZVBsb3RCYW5kT3JMaW5lO2ZvcihmIGluIGIpQih0aGlzLGYsYltmXSk7dGhpcy5saW4ybG9nPWQubGluZWFyVG9Mb2dDb252ZXJ0ZXJ8fFxudGhpcy5saW4ybG9nO3RoaXMuaXNMb2cmJih0aGlzLnZhbDJsaW49dGhpcy5sb2cybGluLHRoaXMubGluMnZhbD10aGlzLmxpbjJsb2cpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucz15KHRoaXMuZGVmYXVsdE9wdGlvbnMsXCJ5QXhpc1wiPT09dGhpcy5jb2xsJiZ0aGlzLmRlZmF1bHRZQXhpc09wdGlvbnMsW3RoaXMuZGVmYXVsdFRvcEF4aXNPcHRpb25zLHRoaXMuZGVmYXVsdFJpZ2h0QXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0Qm90dG9tQXhpc09wdGlvbnMsdGhpcy5kZWZhdWx0TGVmdEF4aXNPcHRpb25zXVt0aGlzLnNpZGVdLHkodFt0aGlzLmNvbGxdLGEpKX0sZGVmYXVsdExhYmVsRm9ybWF0dGVyOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcy5heGlzLGQ9dGhpcy52YWx1ZSxjPWcuY2F0ZWdvcmllcyxmPXRoaXMuZGF0ZVRpbWVMYWJlbEZvcm1hdCxxPXQubGFuZyxlPXEubnVtZXJpY1N5bWJvbHMscT1xLm51bWVyaWNTeW1ib2xNYWduaXR1ZGV8fDFFMyx3PWUmJmUubGVuZ3RoLFxubSxyPWcub3B0aW9ucy5sYWJlbHMuZm9ybWF0LGc9Zy5pc0xvZz9NYXRoLmFicyhkKTpnLnRpY2tJbnRlcnZhbDtpZihyKW09YihyLHRoaXMpO2Vsc2UgaWYoYyltPWQ7ZWxzZSBpZihmKW09YS5kYXRlRm9ybWF0KGYsZCk7ZWxzZSBpZih3JiYxRTM8PWcpZm9yKDt3LS0mJnZvaWQgMD09PW07KWM9TWF0aC5wb3cocSx3KzEpLGc+PWMmJjA9PT0xMCpkJWMmJm51bGwhPT1lW3ddJiYwIT09ZCYmKG09YS5udW1iZXJGb3JtYXQoZC9jLC0xKStlW3ddKTt2b2lkIDA9PT1tJiYobT0xRTQ8PU1hdGguYWJzKGQpP2EubnVtYmVyRm9ybWF0KGQsLTEpOmEubnVtYmVyRm9ybWF0KGQsLTEsdm9pZCAwLFwiXCIpKTtyZXR1cm4gbX0sZ2V0U2VyaWVzRXh0cmVtZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydDthLmhhc1Zpc2libGVTZXJpZXM9ITE7YS5kYXRhTWluPWEuZGF0YU1heD1hLnRocmVzaG9sZD1udWxsO2Euc29mdFRocmVzaG9sZD0hYS5pc1hBeGlzO2EuYnVpbGRTdGFja3MmJmEuYnVpbGRTdGFja3MoKTtcbmMoYS5zZXJpZXMsZnVuY3Rpb24oZyl7aWYoZy52aXNpYmxlfHwhYi5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyl7dmFyIGM9Zy5vcHRpb25zLGY9Yy50aHJlc2hvbGQscTthLmhhc1Zpc2libGVTZXJpZXM9ITA7YS5wb3NpdGl2ZVZhbHVlc09ubHkmJjA+PWYmJihmPW51bGwpO2lmKGEuaXNYQXhpcyljPWcueERhdGEsYy5sZW5ndGgmJihnPUUoYyksdihnKXx8ZyBpbnN0YW5jZW9mIERhdGV8fChjPWQoYyxmdW5jdGlvbihhKXtyZXR1cm4gdihhKX0pLGc9RShjKSksYS5kYXRhTWluPU1hdGgubWluKEYoYS5kYXRhTWluLGNbMF0pLGcpLGEuZGF0YU1heD1NYXRoLm1heChGKGEuZGF0YU1heCxjWzBdKSxDKGMpKSk7ZWxzZSBpZihnLmdldEV4dHJlbWVzKCkscT1nLmRhdGFNYXgsZz1nLmRhdGFNaW4sbChnKSYmbChxKSYmKGEuZGF0YU1pbj1NYXRoLm1pbihGKGEuZGF0YU1pbixnKSxnKSxhLmRhdGFNYXg9TWF0aC5tYXgoRihhLmRhdGFNYXgscSkscSkpLGwoZikmJihhLnRocmVzaG9sZD1cbmYpLCFjLnNvZnRUaHJlc2hvbGR8fGEucG9zaXRpdmVWYWx1ZXNPbmx5KWEuc29mdFRocmVzaG9sZD0hMX19KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGEsYixkLGMsZixxKXt2YXIgZz10aGlzLmxpbmtlZFBhcmVudHx8dGhpcyxEPTEsZT0wLG09Yz9nLm9sZFRyYW5zQTpnLnRyYW5zQTtjPWM/Zy5vbGRNaW46Zy5taW47dmFyIHI9Zy5taW5QaXhlbFBhZGRpbmc7Zj0oZy5pc09yZGluYWx8fGcuaXNCcm9rZW58fGcuaXNMb2cmJmYpJiZnLmxpbjJ2YWw7bXx8KG09Zy50cmFuc0EpO2QmJihEKj0tMSxlPWcubGVuKTtnLnJldmVyc2VkJiYoRCo9LTEsZS09RCooZy5zZWN0b3J8fGcubGVuKSk7Yj8oYT0oYSpEK2UtcikvbStjLGYmJihhPWcubGluMnZhbChhKSkpOihmJiYoYT1nLnZhbDJsaW4oYSkpLGE9RCooYS1jKSptK2UrRCpyKyh2KHEpP20qcTowKSk7cmV0dXJuIGF9LHRvUGl4ZWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudHJhbnNsYXRlKGEsITEsIXRoaXMuaG9yaXosbnVsbCxcbiEwKSsoYj8wOnRoaXMucG9zKX0sdG9WYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRyYW5zbGF0ZShhLShiPzA6dGhpcy5wb3MpLCEwLCF0aGlzLmhvcml6LG51bGwsITApfSxnZXRQbG90TGluZVBhdGg6ZnVuY3Rpb24oYSxiLGQsYyxmKXt2YXIgZz10aGlzLmNoYXJ0LHE9dGhpcy5sZWZ0LEQ9dGhpcy50b3AsZSxtLHI9ZCYmZy5vbGRDaGFydEhlaWdodHx8Zy5jaGFydEhlaWdodCxwPWQmJmcub2xkQ2hhcnRXaWR0aHx8Zy5jaGFydFdpZHRoLHg7ZT10aGlzLnRyYW5zQjt2YXIgaz1mdW5jdGlvbihhLGIsZyl7aWYoYTxifHxhPmcpYz9hPU1hdGgubWluKE1hdGgubWF4KGIsYSksZyk6eD0hMDtyZXR1cm4gYX07Zj1GKGYsdGhpcy50cmFuc2xhdGUoYSxudWxsLG51bGwsZCkpO2E9ZD1NYXRoLnJvdW5kKGYrZSk7ZT1tPU1hdGgucm91bmQoci1mLWUpO3YoZik/dGhpcy5ob3Jpej8oZT1ELG09ci10aGlzLmJvdHRvbSxhPWQ9ayhhLHEscSt0aGlzLndpZHRoKSk6KGE9cSxkPVxucC10aGlzLnJpZ2h0LGU9bT1rKGUsRCxEK3RoaXMuaGVpZ2h0KSk6eD0hMDtyZXR1cm4geCYmIWM/bnVsbDpnLnJlbmRlcmVyLmNyaXNwTGluZShbXCJNXCIsYSxlLFwiTFwiLGQsbV0sYnx8MSl9LGdldExpbmVhclRpY2tQb3NpdGlvbnM6ZnVuY3Rpb24oYSxiLGQpe3ZhciBnLGM9bihNYXRoLmZsb29yKGIvYSkqYSk7ZD1uKE1hdGguY2VpbChkL2EpKmEpO3ZhciBmPVtdO2lmKHRoaXMuc2luZ2xlKXJldHVybltiXTtmb3IoYj1jO2I8PWQ7KXtmLnB1c2goYik7Yj1uKGIrYSk7aWYoYj09PWcpYnJlYWs7Zz1ifXJldHVybiBmfSxnZXRNaW5vclRpY2tQb3NpdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLGQ9YS50aWNrUG9zaXRpb25zLGY9YS5taW5vclRpY2tJbnRlcnZhbCxxPVtdLGU9YS5wb2ludFJhbmdlUGFkZGluZ3x8MCxtPWEubWluLWUsZT1hLm1heCtlLHI9ZS1tO2lmKHImJnIvZjxhLmxlbi8zKWlmKGEuaXNMb2cpYyh0aGlzLnBhZGRlZFRpY2tzLGZ1bmN0aW9uKGIsXG5nLGQpe2cmJnEucHVzaC5hcHBseShxLGEuZ2V0TG9nVGlja1Bvc2l0aW9ucyhmLGRbZy0xXSxkW2ddLCEwKSl9KTtlbHNlIGlmKGEuaXNEYXRldGltZUF4aXMmJlwiYXV0b1wiPT09Yi5taW5vclRpY2tJbnRlcnZhbClxPXEuY29uY2F0KGEuZ2V0VGltZVRpY2tzKGEubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbChmKSxtLGUsYi5zdGFydE9mV2VlaykpO2Vsc2UgZm9yKGI9bSsoZFswXS1tKSVmO2I8PWUmJmIhPT1xWzBdO2IrPWYpcS5wdXNoKGIpOzAhPT1xLmxlbmd0aCYmYS50cmltVGlja3MocSk7cmV0dXJuIHF9LGFkanVzdEZvck1pblJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5taW4sZD10aGlzLm1heCxmLHE9dGhpcy5kYXRhTWF4LXRoaXMuZGF0YU1pbj49dGhpcy5taW5SYW5nZSxlLG0scixwLHYseDt0aGlzLmlzWEF4aXMmJnZvaWQgMD09PXRoaXMubWluUmFuZ2UmJiF0aGlzLmlzTG9nJiYobChhLm1pbil8fGwoYS5tYXgpP3RoaXMubWluUmFuZ2U9XG5udWxsOihjKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGEpe3A9YS54RGF0YTtmb3IobT12PWEueEluY3JlbWVudD8xOnAubGVuZ3RoLTE7MDxtO20tLSlpZihyPXBbbV0tcFttLTFdLHZvaWQgMD09PWV8fHI8ZSllPXJ9KSx0aGlzLm1pblJhbmdlPU1hdGgubWluKDUqZSx0aGlzLmRhdGFNYXgtdGhpcy5kYXRhTWluKSkpO2QtYjx0aGlzLm1pblJhbmdlJiYoeD10aGlzLm1pblJhbmdlLGY9KHgtZCtiKS8yLGY9W2ItZixGKGEubWluLGItZildLHEmJihmWzJdPXRoaXMuaXNMb2c/dGhpcy5sb2cybGluKHRoaXMuZGF0YU1pbik6dGhpcy5kYXRhTWluKSxiPUMoZiksZD1bYit4LEYoYS5tYXgsYit4KV0scSYmKGRbMl09dGhpcy5pc0xvZz90aGlzLmxvZzJsaW4odGhpcy5kYXRhTWF4KTp0aGlzLmRhdGFNYXgpLGQ9RShkKSxkLWI8eCYmKGZbMF09ZC14LGZbMV09RihhLm1pbixkLXgpLGI9QyhmKSkpO3RoaXMubWluPWI7dGhpcy5tYXg9ZH0sZ2V0Q2xvc2VzdDpmdW5jdGlvbigpe3ZhciBhO3RoaXMuY2F0ZWdvcmllcz9cbmE9MTpjKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGIpe3ZhciBnPWIuY2xvc2VzdFBvaW50UmFuZ2UsZD1iLnZpc2libGV8fCFiLmNoYXJ0Lm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzOyFiLm5vU2hhcmVkVG9vbHRpcCYmbChnKSYmZCYmKGE9bChhKT9NYXRoLm1pbihhLGcpOmcpfSk7cmV0dXJuIGF9LG5hbWVUb1g6ZnVuY3Rpb24oYSl7dmFyIGI9QSh0aGlzLmNhdGVnb3JpZXMpLGc9Yj90aGlzLmNhdGVnb3JpZXM6dGhpcy5uYW1lcyxkPWEub3B0aW9ucy54LGM7YS5zZXJpZXMucmVxdWlyZVNvcnRpbmc9ITE7bChkKXx8KGQ9ITE9PT10aGlzLm9wdGlvbnMudW5pcXVlTmFtZXM/YS5zZXJpZXMuYXV0b0luY3JlbWVudCgpOnIoYS5uYW1lLGcpKTstMT09PWQ/Ynx8KGM9Zy5sZW5ndGgpOmM9ZDt0aGlzLm5hbWVzW2NdPWEubmFtZTtyZXR1cm4gY30sdXBkYXRlTmFtZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzOzA8dGhpcy5uYW1lcy5sZW5ndGgmJih0aGlzLm5hbWVzLmxlbmd0aD1cbjAsdGhpcy5taW5SYW5nZT12b2lkIDAsYyh0aGlzLnNlcmllc3x8W10sZnVuY3Rpb24oYil7Yi54SW5jcmVtZW50PW51bGw7aWYoIWIucG9pbnRzfHxiLmlzRGlydHlEYXRhKWIucHJvY2Vzc0RhdGEoKSxiLmdlbmVyYXRlUG9pbnRzKCk7YyhiLnBvaW50cyxmdW5jdGlvbihnLGQpe3ZhciBjO2cub3B0aW9ucyYmKGM9YS5uYW1lVG9YKGcpLGMhPT1nLngmJihnLng9YyxiLnhEYXRhW2RdPWMpKX0pfSkpfSxzZXRBeGlzVHJhbnNsYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxnPWIubWF4LWIubWluLGQ9Yi5heGlzUG9pbnRSYW5nZXx8MCxxLGU9MCxtPTAscj1iLmxpbmtlZFBhcmVudCxwPSEhYi5jYXRlZ29yaWVzLHY9Yi50cmFuc0EseD1iLmlzWEF4aXM7aWYoeHx8cHx8ZClxPWIuZ2V0Q2xvc2VzdCgpLHI/KGU9ci5taW5Qb2ludE9mZnNldCxtPXIucG9pbnRSYW5nZVBhZGRpbmcpOmMoYi5zZXJpZXMsZnVuY3Rpb24oYSl7dmFyIGc9cD8xOng/RihhLm9wdGlvbnMucG9pbnRSYW5nZSxcbnEsMCk6Yi5heGlzUG9pbnRSYW5nZXx8MDthPWEub3B0aW9ucy5wb2ludFBsYWNlbWVudDtkPU1hdGgubWF4KGQsZyk7Yi5zaW5nbGV8fChlPU1hdGgubWF4KGUsZihhKT8wOmcvMiksbT1NYXRoLm1heChtLFwib25cIj09PWE/MDpnKSl9KSxyPWIub3JkaW5hbFNsb3BlJiZxP2Iub3JkaW5hbFNsb3BlL3E6MSxiLm1pblBvaW50T2Zmc2V0PWUqPXIsYi5wb2ludFJhbmdlUGFkZGluZz1tKj1yLGIucG9pbnRSYW5nZT1NYXRoLm1pbihkLGcpLHgmJihiLmNsb3Nlc3RQb2ludFJhbmdlPXEpO2EmJihiLm9sZFRyYW5zQT12KTtiLnRyYW5zbGF0aW9uU2xvcGU9Yi50cmFuc0E9dj1iLm9wdGlvbnMuc3RhdGljU2NhbGV8fGIubGVuLyhnK218fDEpO2IudHJhbnNCPWIuaG9yaXo/Yi5sZWZ0OmIuYm90dG9tO2IubWluUGl4ZWxQYWRkaW5nPXYqZX0sbWluRnJvbVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4LXRoaXMucmFuZ2V9LHNldFRpY2tJbnRlcnZhbDpmdW5jdGlvbihiKXt2YXIgZz1cbnRoaXMsZD1nLmNoYXJ0LGY9Zy5vcHRpb25zLHE9Zy5pc0xvZyxlPWcubG9nMmxpbixyPWcuaXNEYXRldGltZUF4aXMscD1nLmlzWEF4aXMseD1nLmlzTGlua2VkLGs9Zi5tYXhQYWRkaW5nLGg9Zi5taW5QYWRkaW5nLHk9Zi50aWNrSW50ZXJ2YWwsQT1mLnRpY2tQaXhlbEludGVydmFsLEo9Zy5jYXRlZ29yaWVzLHQ9Zy50aHJlc2hvbGQsdT1nLnNvZnRUaHJlc2hvbGQsTCxLLHosQjtyfHxKfHx4fHx0aGlzLmdldFRpY2tBbW91bnQoKTt6PUYoZy51c2VyTWluLGYubWluKTtCPUYoZy51c2VyTWF4LGYubWF4KTt4PyhnLmxpbmtlZFBhcmVudD1kW2cuY29sbF1bZi5saW5rZWRUb10sZD1nLmxpbmtlZFBhcmVudC5nZXRFeHRyZW1lcygpLGcubWluPUYoZC5taW4sZC5kYXRhTWluKSxnLm1heD1GKGQubWF4LGQuZGF0YU1heCksZi50eXBlIT09Zy5saW5rZWRQYXJlbnQub3B0aW9ucy50eXBlJiZhLmVycm9yKDExLDEpKTooIXUmJmwodCkmJihnLmRhdGFNaW4+PXQ/KEw9dCxoPTApOmcuZGF0YU1heDw9XG50JiYoSz10LGs9MCkpLGcubWluPUYoeixMLGcuZGF0YU1pbiksZy5tYXg9RihCLEssZy5kYXRhTWF4KSk7cSYmKGcucG9zaXRpdmVWYWx1ZXNPbmx5JiYhYiYmMD49TWF0aC5taW4oZy5taW4sRihnLmRhdGFNaW4sZy5taW4pKSYmYS5lcnJvcigxMCwxKSxnLm1pbj1uKGUoZy5taW4pLDE1KSxnLm1heD1uKGUoZy5tYXgpLDE1KSk7Zy5yYW5nZSYmbChnLm1heCkmJihnLnVzZXJNaW49Zy5taW49ej1NYXRoLm1heChnLm1pbixnLm1pbkZyb21SYW5nZSgpKSxnLnVzZXJNYXg9Qj1nLm1heCxnLnJhbmdlPW51bGwpO0goZyxcImZvdW5kRXh0cmVtZXNcIik7Zy5iZWZvcmVQYWRkaW5nJiZnLmJlZm9yZVBhZGRpbmcoKTtnLmFkanVzdEZvck1pblJhbmdlKCk7IShKfHxnLmF4aXNQb2ludFJhbmdlfHxnLnVzZVBlcmNlbnRhZ2V8fHgpJiZsKGcubWluKSYmbChnLm1heCkmJihlPWcubWF4LWcubWluKSYmKCFsKHopJiZoJiYoZy5taW4tPWUqaCksIWwoQikmJmsmJihnLm1heCs9ZSprKSk7dihmLmZsb29yKT9cbmcubWluPU1hdGgubWF4KGcubWluLGYuZmxvb3IpOnYoZi5zb2Z0TWluKSYmKGcubWluPU1hdGgubWluKGcubWluLGYuc29mdE1pbikpO3YoZi5jZWlsaW5nKT9nLm1heD1NYXRoLm1pbihnLm1heCxmLmNlaWxpbmcpOnYoZi5zb2Z0TWF4KSYmKGcubWF4PU1hdGgubWF4KGcubWF4LGYuc29mdE1heCkpO3UmJmwoZy5kYXRhTWluKSYmKHQ9dHx8MCwhbCh6KSYmZy5taW48dCYmZy5kYXRhTWluPj10P2cubWluPXQ6IWwoQikmJmcubWF4PnQmJmcuZGF0YU1heDw9dCYmKGcubWF4PXQpKTtnLnRpY2tJbnRlcnZhbD1nLm1pbj09PWcubWF4fHx2b2lkIDA9PT1nLm1pbnx8dm9pZCAwPT09Zy5tYXg/MTp4JiYheSYmQT09PWcubGlua2VkUGFyZW50Lm9wdGlvbnMudGlja1BpeGVsSW50ZXJ2YWw/eT1nLmxpbmtlZFBhcmVudC50aWNrSW50ZXJ2YWw6Rih5LHRoaXMudGlja0Ftb3VudD8oZy5tYXgtZy5taW4pL01hdGgubWF4KHRoaXMudGlja0Ftb3VudC0xLDEpOnZvaWQgMCxKPzE6KGcubWF4LVxuZy5taW4pKkEvTWF0aC5tYXgoZy5sZW4sQSkpO3AmJiFiJiZjKGcuc2VyaWVzLGZ1bmN0aW9uKGEpe2EucHJvY2Vzc0RhdGEoZy5taW4hPT1nLm9sZE1pbnx8Zy5tYXghPT1nLm9sZE1heCl9KTtnLnNldEF4aXNUcmFuc2xhdGlvbighMCk7Zy5iZWZvcmVTZXRUaWNrUG9zaXRpb25zJiZnLmJlZm9yZVNldFRpY2tQb3NpdGlvbnMoKTtnLnBvc3RQcm9jZXNzVGlja0ludGVydmFsJiYoZy50aWNrSW50ZXJ2YWw9Zy5wb3N0UHJvY2Vzc1RpY2tJbnRlcnZhbChnLnRpY2tJbnRlcnZhbCkpO2cucG9pbnRSYW5nZSYmIXkmJihnLnRpY2tJbnRlcnZhbD1NYXRoLm1heChnLnBvaW50UmFuZ2UsZy50aWNrSW50ZXJ2YWwpKTtiPUYoZi5taW5UaWNrSW50ZXJ2YWwsZy5pc0RhdGV0aW1lQXhpcyYmZy5jbG9zZXN0UG9pbnRSYW5nZSk7IXkmJmcudGlja0ludGVydmFsPGImJihnLnRpY2tJbnRlcnZhbD1iKTtyfHxxfHx5fHwoZy50aWNrSW50ZXJ2YWw9RyhnLnRpY2tJbnRlcnZhbCxudWxsLG0oZy50aWNrSW50ZXJ2YWwpLFxuRihmLmFsbG93RGVjaW1hbHMsISguNTxnLnRpY2tJbnRlcnZhbCYmNT5nLnRpY2tJbnRlcnZhbCYmMUUzPGcubWF4JiY5OTk5PmcubWF4KSksISF0aGlzLnRpY2tBbW91bnQpKTt0aGlzLnRpY2tBbW91bnR8fChnLnRpY2tJbnRlcnZhbD1nLnVuc3F1aXNoKCkpO3RoaXMuc2V0VGlja1Bvc2l0aW9ucygpfSxzZXRUaWNrUG9zaXRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGIsZD1hLnRpY2tQb3NpdGlvbnMsYz1hLnRpY2tQb3NpdGlvbmVyLGY9YS5zdGFydE9uVGljayxxPWEuZW5kT25UaWNrO3RoaXMudGlja21hcmtPZmZzZXQ9dGhpcy5jYXRlZ29yaWVzJiZcImJldHdlZW5cIj09PWEudGlja21hcmtQbGFjZW1lbnQmJjE9PT10aGlzLnRpY2tJbnRlcnZhbD8uNTowO3RoaXMubWlub3JUaWNrSW50ZXJ2YWw9XCJhdXRvXCI9PT1hLm1pbm9yVGlja0ludGVydmFsJiZ0aGlzLnRpY2tJbnRlcnZhbD90aGlzLnRpY2tJbnRlcnZhbC81OmEubWlub3JUaWNrSW50ZXJ2YWw7dGhpcy5zaW5nbGU9XG50aGlzLm1pbj09PXRoaXMubWF4JiZsKHRoaXMubWluKSYmIXRoaXMudGlja0Ftb3VudCYmITEhPT1hLmFsbG93RGVjaW1hbHM7dGhpcy50aWNrUG9zaXRpb25zPWI9ZCYmZC5zbGljZSgpOyFiJiYoYj10aGlzLmlzRGF0ZXRpbWVBeGlzP3RoaXMuZ2V0VGltZVRpY2tzKHRoaXMubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbCh0aGlzLnRpY2tJbnRlcnZhbCxhLnVuaXRzKSx0aGlzLm1pbix0aGlzLm1heCxhLnN0YXJ0T2ZXZWVrLHRoaXMub3JkaW5hbFBvc2l0aW9ucyx0aGlzLmNsb3Nlc3RQb2ludFJhbmdlLCEwKTp0aGlzLmlzTG9nP3RoaXMuZ2V0TG9nVGlja1Bvc2l0aW9ucyh0aGlzLnRpY2tJbnRlcnZhbCx0aGlzLm1pbix0aGlzLm1heCk6dGhpcy5nZXRMaW5lYXJUaWNrUG9zaXRpb25zKHRoaXMudGlja0ludGVydmFsLHRoaXMubWluLHRoaXMubWF4KSxiLmxlbmd0aD50aGlzLmxlbiYmKGI9W2JbMF0sYi5wb3AoKV0pLHRoaXMudGlja1Bvc2l0aW9ucz1iLGMmJihjPWMuYXBwbHkodGhpcyxcblt0aGlzLm1pbix0aGlzLm1heF0pKSkmJih0aGlzLnRpY2tQb3NpdGlvbnM9Yj1jKTt0aGlzLnBhZGRlZFRpY2tzPWIuc2xpY2UoMCk7dGhpcy50cmltVGlja3MoYixmLHEpO3RoaXMuaXNMaW5rZWR8fCh0aGlzLnNpbmdsZSYmKHRoaXMubWluLT0uNSx0aGlzLm1heCs9LjUpLGR8fGN8fHRoaXMuYWRqdXN0VGlja0Ftb3VudCgpKX0sdHJpbVRpY2tzOmZ1bmN0aW9uKGEsYixkKXt2YXIgZz1hWzBdLGM9YVthLmxlbmd0aC0xXSxmPXRoaXMubWluUG9pbnRPZmZzZXR8fDA7aWYoIXRoaXMuaXNMaW5rZWQpe2lmKGIpdGhpcy5taW49ZztlbHNlIGZvcig7dGhpcy5taW4tZj5hWzBdOylhLnNoaWZ0KCk7aWYoZCl0aGlzLm1heD1jO2Vsc2UgZm9yKDt0aGlzLm1heCtmPGFbYS5sZW5ndGgtMV07KWEucG9wKCk7MD09PWEubGVuZ3RoJiZsKGcpJiZhLnB1c2goKGMrZykvMil9fSxhbGlnblRvT3RoZXJzOmZ1bmN0aW9uKCl7dmFyIGE9e30sYixkPXRoaXMub3B0aW9uczshMT09PXRoaXMuY2hhcnQub3B0aW9ucy5jaGFydC5hbGlnblRpY2tzfHxcbiExPT09ZC5hbGlnblRpY2tzfHx0aGlzLmlzTG9nfHxjKHRoaXMuY2hhcnRbdGhpcy5jb2xsXSxmdW5jdGlvbihnKXt2YXIgZD1nLm9wdGlvbnMsZD1bZy5ob3Jpej9kLmxlZnQ6ZC50b3AsZC53aWR0aCxkLmhlaWdodCxkLnBhbmVdLmpvaW4oKTtnLnNlcmllcy5sZW5ndGgmJihhW2RdP2I9ITA6YVtkXT0xKX0pO3JldHVybiBifSxnZXRUaWNrQW1vdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9YS50aWNrQW1vdW50LGQ9YS50aWNrUGl4ZWxJbnRlcnZhbDshbChhLnRpY2tJbnRlcnZhbCkmJnRoaXMubGVuPGQmJiF0aGlzLmlzUmFkaWFsJiYhdGhpcy5pc0xvZyYmYS5zdGFydE9uVGljayYmYS5lbmRPblRpY2smJihiPTIpOyFiJiZ0aGlzLmFsaWduVG9PdGhlcnMoKSYmKGI9TWF0aC5jZWlsKHRoaXMubGVuL2QpKzEpOzQ+YiYmKHRoaXMuZmluYWxUaWNrQW10PWIsYj01KTt0aGlzLnRpY2tBbW91bnQ9Yn0sYWRqdXN0VGlja0Ftb3VudDpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy50aWNrSW50ZXJ2YWwsYj10aGlzLnRpY2tQb3NpdGlvbnMsZD10aGlzLnRpY2tBbW91bnQsYz10aGlzLmZpbmFsVGlja0FtdCxmPWImJmIubGVuZ3RoO2lmKGY8ZCl7Zm9yKDtiLmxlbmd0aDxkOyliLnB1c2gobihiW2IubGVuZ3RoLTFdK2EpKTt0aGlzLnRyYW5zQSo9KGYtMSkvKGQtMSk7dGhpcy5tYXg9YltiLmxlbmd0aC0xXX1lbHNlIGY+ZCYmKHRoaXMudGlja0ludGVydmFsKj0yLHRoaXMuc2V0VGlja1Bvc2l0aW9ucygpKTtpZihsKGMpKXtmb3IoYT1kPWIubGVuZ3RoO2EtLTspKDM9PT1jJiYxPT09YSUyfHwyPj1jJiYwPGEmJmE8ZC0xKSYmYi5zcGxpY2UoYSwxKTt0aGlzLmZpbmFsVGlja0FtdD12b2lkIDB9fSxzZXRTY2FsZTpmdW5jdGlvbigpe3ZhciBhLGI7dGhpcy5vbGRNaW49dGhpcy5taW47dGhpcy5vbGRNYXg9dGhpcy5tYXg7dGhpcy5vbGRBeGlzTGVuZ3RoPXRoaXMubGVuO3RoaXMuc2V0QXhpc1NpemUoKTtiPXRoaXMubGVuIT09dGhpcy5vbGRBeGlzTGVuZ3RoO1xuYyh0aGlzLnNlcmllcyxmdW5jdGlvbihiKXtpZihiLmlzRGlydHlEYXRhfHxiLmlzRGlydHl8fGIueEF4aXMuaXNEaXJ0eSlhPSEwfSk7Ynx8YXx8dGhpcy5pc0xpbmtlZHx8dGhpcy5mb3JjZVJlZHJhd3x8dGhpcy51c2VyTWluIT09dGhpcy5vbGRVc2VyTWlufHx0aGlzLnVzZXJNYXghPT10aGlzLm9sZFVzZXJNYXh8fHRoaXMuYWxpZ25Ub090aGVycygpPyh0aGlzLnJlc2V0U3RhY2tzJiZ0aGlzLnJlc2V0U3RhY2tzKCksdGhpcy5mb3JjZVJlZHJhdz0hMSx0aGlzLmdldFNlcmllc0V4dHJlbWVzKCksdGhpcy5zZXRUaWNrSW50ZXJ2YWwoKSx0aGlzLm9sZFVzZXJNaW49dGhpcy51c2VyTWluLHRoaXMub2xkVXNlck1heD10aGlzLnVzZXJNYXgsdGhpcy5pc0RpcnR5fHwodGhpcy5pc0RpcnR5PWJ8fHRoaXMubWluIT09dGhpcy5vbGRNaW58fHRoaXMubWF4IT09dGhpcy5vbGRNYXgpKTp0aGlzLmNsZWFuU3RhY2tzJiZ0aGlzLmNsZWFuU3RhY2tzKCl9LHNldEV4dHJlbWVzOmZ1bmN0aW9uKGEsXG5iLGQsZixxKXt2YXIgZz10aGlzLGU9Zy5jaGFydDtkPUYoZCwhMCk7YyhnLnNlcmllcyxmdW5jdGlvbihhKXtkZWxldGUgYS5rZFRyZWV9KTtxPXAocSx7bWluOmEsbWF4OmJ9KTtIKGcsXCJzZXRFeHRyZW1lc1wiLHEsZnVuY3Rpb24oKXtnLnVzZXJNaW49YTtnLnVzZXJNYXg9YjtnLmV2ZW50QXJncz1xO2QmJmUucmVkcmF3KGYpfSl9LHpvb206ZnVuY3Rpb24oYSxiKXt2YXIgZz10aGlzLmRhdGFNaW4sZD10aGlzLmRhdGFNYXgsYz10aGlzLm9wdGlvbnMsZj1NYXRoLm1pbihnLEYoYy5taW4sZykpLGM9TWF0aC5tYXgoZCxGKGMubWF4LGQpKTtpZihhIT09dGhpcy5taW58fGIhPT10aGlzLm1heCl0aGlzLmFsbG93Wm9vbU91dHNpZGV8fChsKGcpJiYoYTxmJiYoYT1mKSxhPmMmJihhPWMpKSxsKGQpJiYoYjxmJiYoYj1mKSxiPmMmJihiPWMpKSksdGhpcy5kaXNwbGF5QnRuPXZvaWQgMCE9PWF8fHZvaWQgMCE9PWIsdGhpcy5zZXRFeHRyZW1lcyhhLGIsITEsdm9pZCAwLHt0cmlnZ2VyOlwiem9vbVwifSk7XG5yZXR1cm4hMH0sc2V0QXhpc1NpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGI9dGhpcy5vcHRpb25zLGQ9Yi5vZmZzZXRzfHxbMCwwLDAsMF0sYz10aGlzLmhvcml6LGY9RihiLndpZHRoLGEucGxvdFdpZHRoLWRbM10rZFsxXSkscT1GKGIuaGVpZ2h0LGEucGxvdEhlaWdodC1kWzBdK2RbMl0pLGU9RihiLnRvcCxhLnBsb3RUb3ArZFswXSksYj1GKGIubGVmdCxhLnBsb3RMZWZ0K2RbM10pLGQ9LyUkLztkLnRlc3QocSkmJihxPU1hdGgucm91bmQocGFyc2VGbG9hdChxKS8xMDAqYS5wbG90SGVpZ2h0KSk7ZC50ZXN0KGUpJiYoZT1NYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkvMTAwKmEucGxvdEhlaWdodCthLnBsb3RUb3ApKTt0aGlzLmxlZnQ9Yjt0aGlzLnRvcD1lO3RoaXMud2lkdGg9Zjt0aGlzLmhlaWdodD1xO3RoaXMuYm90dG9tPWEuY2hhcnRIZWlnaHQtcS1lO3RoaXMucmlnaHQ9YS5jaGFydFdpZHRoLWYtYjt0aGlzLmxlbj1NYXRoLm1heChjP2Y6cSwwKTt0aGlzLnBvcz1cbmM/YjplfSxnZXRFeHRyZW1lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaXNMb2csYj10aGlzLmxpbjJsb2c7cmV0dXJue21pbjphP24oYih0aGlzLm1pbikpOnRoaXMubWluLG1heDphP24oYih0aGlzLm1heCkpOnRoaXMubWF4LGRhdGFNaW46dGhpcy5kYXRhTWluLGRhdGFNYXg6dGhpcy5kYXRhTWF4LHVzZXJNaW46dGhpcy51c2VyTWluLHVzZXJNYXg6dGhpcy51c2VyTWF4fX0sZ2V0VGhyZXNob2xkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNMb2csZz10aGlzLmxpbjJsb2csZD1iP2codGhpcy5taW4pOnRoaXMubWluLGI9Yj9nKHRoaXMubWF4KTp0aGlzLm1heDtudWxsPT09YT9hPWQ6ZD5hP2E9ZDpiPGEmJihhPWIpO3JldHVybiB0aGlzLnRyYW5zbGF0ZShhLDAsMSwwLDEpfSxhdXRvTGFiZWxBbGlnbjpmdW5jdGlvbihhKXthPShGKGEsMCktOTAqdGhpcy5zaWRlKzcyMCklMzYwO3JldHVybiAxNTxhJiYxNjU+YT9cInJpZ2h0XCI6MTk1PGEmJjM0NT5hP1wibGVmdFwiOlwiY2VudGVyXCJ9LFxudGlja1NpemU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGc9YlthK1wiTGVuZ3RoXCJdLGQ9RihiW2ErXCJXaWR0aFwiXSxcInRpY2tcIj09PWEmJnRoaXMuaXNYQXhpcz8xOjApO2lmKGQmJmcpcmV0dXJuXCJpbnNpZGVcIj09PWJbYStcIlBvc2l0aW9uXCJdJiYoZz0tZyksW2csZF19LGxhYmVsTWV0cmljczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJ0LnJlbmRlcmVyLmZvbnRNZXRyaWNzKHRoaXMub3B0aW9ucy5sYWJlbHMuc3R5bGUmJnRoaXMub3B0aW9ucy5sYWJlbHMuc3R5bGUuZm9udFNpemUsdGhpcy50aWNrc1swXSYmdGhpcy50aWNrc1swXS5sYWJlbCl9LHVuc3F1aXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmxhYmVscyxiPXRoaXMuaG9yaXosZD10aGlzLnRpY2tJbnRlcnZhbCxmPWQscT10aGlzLmxlbi8oKCh0aGlzLmNhdGVnb3JpZXM/MTowKSt0aGlzLm1heC10aGlzLm1pbikvZCksZSxtPWEucm90YXRpb24scj10aGlzLmxhYmVsTWV0cmljcygpLHAseD1cbk51bWJlci5NQVhfVkFMVUUsdixoPWZ1bmN0aW9uKGEpe2EvPXF8fDE7YT0xPGE/TWF0aC5jZWlsKGEpOjE7cmV0dXJuIGEqZH07Yj8odj0hYS5zdGFnZ2VyTGluZXMmJiFhLnN0ZXAmJihsKG0pP1ttXTpxPEYoYS5hdXRvUm90YXRpb25MaW1pdCw4MCkmJmEuYXV0b1JvdGF0aW9uKSkmJmModixmdW5jdGlvbihhKXt2YXIgYjtpZihhPT09bXx8YSYmLTkwPD1hJiY5MD49YSlwPWgoTWF0aC5hYnMoci5oL01hdGguc2luKGsqYSkpKSxiPXArTWF0aC5hYnMoYS8zNjApLGI8eCYmKHg9YixlPWEsZj1wKX0pOmEuc3RlcHx8KGY9aChyLmgpKTt0aGlzLmF1dG9Sb3RhdGlvbj12O3RoaXMubGFiZWxSb3RhdGlvbj1GKGUsbSk7cmV0dXJuIGZ9LGdldFNsb3RXaWR0aDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj10aGlzLmhvcml6LGQ9dGhpcy5vcHRpb25zLmxhYmVscyxjPU1hdGgubWF4KHRoaXMudGlja1Bvc2l0aW9ucy5sZW5ndGgtKHRoaXMuY2F0ZWdvcmllcz8wOjEpLDEpLGY9YS5tYXJnaW5bM107XG5yZXR1cm4gYiYmMj4oZC5zdGVwfHwwKSYmIWQucm90YXRpb24mJih0aGlzLnN0YWdnZXJMaW5lc3x8MSkqdGhpcy5sZW4vY3x8IWImJihmJiZmLWEuc3BhY2luZ1szXXx8LjMzKmEuY2hhcnRXaWR0aCl9LHJlbmRlclVuc3F1aXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPWEucmVuZGVyZXIsZD10aGlzLnRpY2tQb3NpdGlvbnMscT10aGlzLnRpY2tzLGU9dGhpcy5vcHRpb25zLmxhYmVscyxtPXRoaXMuaG9yaXoscj10aGlzLmdldFNsb3RXaWR0aCgpLHA9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHItMiooZS5wYWRkaW5nfHw1KSkpLHg9e30sdj10aGlzLmxhYmVsTWV0cmljcygpLGs9ZS5zdHlsZSYmZS5zdHlsZS50ZXh0T3ZlcmZsb3csaCxsPTAsQSxuO2YoZS5yb3RhdGlvbil8fCh4LnJvdGF0aW9uPWUucm90YXRpb258fDApO2MoZCxmdW5jdGlvbihhKXsoYT1xW2FdKSYmYS5sYWJlbExlbmd0aD5sJiYobD1hLmxhYmVsTGVuZ3RoKX0pO3RoaXMubWF4TGFiZWxMZW5ndGg9XG5sO2lmKHRoaXMuYXV0b1JvdGF0aW9uKWw+cCYmbD52Lmg/eC5yb3RhdGlvbj10aGlzLmxhYmVsUm90YXRpb246dGhpcy5sYWJlbFJvdGF0aW9uPTA7ZWxzZSBpZihyJiYoaD17d2lkdGg6cCtcInB4XCJ9LCFrKSlmb3IoaC50ZXh0T3ZlcmZsb3c9XCJjbGlwXCIsQT1kLmxlbmd0aDshbSYmQS0tOylpZihuPWRbQV0scD1xW25dLmxhYmVsKXAuc3R5bGVzJiZcImVsbGlwc2lzXCI9PT1wLnN0eWxlcy50ZXh0T3ZlcmZsb3c/cC5jc3Moe3RleHRPdmVyZmxvdzpcImNsaXBcIn0pOnFbbl0ubGFiZWxMZW5ndGg+ciYmcC5jc3Moe3dpZHRoOnIrXCJweFwifSkscC5nZXRCQm94KCkuaGVpZ2h0PnRoaXMubGVuL2QubGVuZ3RoLSh2Lmgtdi5mKSYmKHAuc3BlY0Nzcz17dGV4dE92ZXJmbG93OlwiZWxsaXBzaXNcIn0pO3gucm90YXRpb24mJihoPXt3aWR0aDoobD4uNSphLmNoYXJ0SGVpZ2h0Py4zMyphLmNoYXJ0SGVpZ2h0OmEuY2hhcnRIZWlnaHQpK1wicHhcIn0sa3x8KGgudGV4dE92ZXJmbG93PVwiZWxsaXBzaXNcIikpO1xuaWYodGhpcy5sYWJlbEFsaWduPWUuYWxpZ258fHRoaXMuYXV0b0xhYmVsQWxpZ24odGhpcy5sYWJlbFJvdGF0aW9uKSl4LmFsaWduPXRoaXMubGFiZWxBbGlnbjtjKGQsZnVuY3Rpb24oYSl7dmFyIGI9KGE9cVthXSkmJmEubGFiZWw7YiYmKGIuYXR0cih4KSxoJiZiLmNzcyh5KGgsYi5zcGVjQ3NzKSksZGVsZXRlIGIuc3BlY0NzcyxhLnJvdGF0aW9uPXgucm90YXRpb24pfSk7dGhpcy50aWNrUm90Q29ycj1iLnJvdENvcnIodi5iLHRoaXMubGFiZWxSb3RhdGlvbnx8MCwwIT09dGhpcy5zaWRlKX0saGFzRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1Zpc2libGVTZXJpZXN8fGwodGhpcy5taW4pJiZsKHRoaXMubWF4KSYmISF0aGlzLnRpY2tQb3NpdGlvbnN9LGFkZFRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQucmVuZGVyZXIsZD10aGlzLmhvcml6LGc9dGhpcy5vcHBvc2l0ZSxjPXRoaXMub3B0aW9ucy50aXRsZSxmO3RoaXMuYXhpc1RpdGxlfHwoKGY9Yy50ZXh0QWxpZ24pfHxcbihmPShkP3tsb3c6XCJsZWZ0XCIsbWlkZGxlOlwiY2VudGVyXCIsaGlnaDpcInJpZ2h0XCJ9Ontsb3c6Zz9cInJpZ2h0XCI6XCJsZWZ0XCIsbWlkZGxlOlwiY2VudGVyXCIsaGlnaDpnP1wibGVmdFwiOlwicmlnaHRcIn0pW2MuYWxpZ25dKSx0aGlzLmF4aXNUaXRsZT1iLnRleHQoYy50ZXh0LDAsMCxjLnVzZUhUTUwpLmF0dHIoe3pJbmRleDo3LHJvdGF0aW9uOmMucm90YXRpb258fDAsYWxpZ246Zn0pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1heGlzLXRpdGxlXCIpLmNzcyhjLnN0eWxlKS5hZGQodGhpcy5heGlzR3JvdXApLHRoaXMuYXhpc1RpdGxlLmlzTmV3PSEwKTt0aGlzLmF4aXNUaXRsZVthP1wic2hvd1wiOlwiaGlkZVwiXSghMCl9LGdlbmVyYXRlVGljazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRpY2tzO2JbYV0/YlthXS5hZGRMYWJlbCgpOmJbYV09bmV3IEwodGhpcyxhKX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQsZD1iLnJlbmRlcmVyLGY9YS5vcHRpb25zLHE9YS50aWNrUG9zaXRpb25zLFxuZT1hLnRpY2tzLG09YS5ob3JpeixyPWEuc2lkZSxwPWIuaW52ZXJ0ZWQ/WzEsMCwzLDJdW3JdOnIseCx2LGg9MCxrLHk9MCxBPWYudGl0bGUsbj1mLmxhYmVscyxHPTAsSj1iLmF4aXNPZmZzZXQsYj1iLmNsaXBPZmZzZXQsdD1bLTEsMSwxLC0xXVtyXSx1LEg9Zi5jbGFzc05hbWUsTD1hLmF4aXNQYXJlbnQsSz10aGlzLnRpY2tTaXplKFwidGlja1wiKTt4PWEuaGFzRGF0YSgpO2Euc2hvd0F4aXM9dj14fHxGKGYuc2hvd0VtcHR5LCEwKTthLnN0YWdnZXJMaW5lcz1hLmhvcml6JiZuLnN0YWdnZXJMaW5lczthLmF4aXNHcm91cHx8KGEuZ3JpZEdyb3VwPWQuZyhcImdyaWRcIikuYXR0cih7ekluZGV4OmYuZ3JpZFpJbmRleHx8MX0pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIit0aGlzLmNvbGwudG9Mb3dlckNhc2UoKStcIi1ncmlkIFwiKyhIfHxcIlwiKSkuYWRkKEwpLGEuYXhpc0dyb3VwPWQuZyhcImF4aXNcIikuYXR0cih7ekluZGV4OmYuekluZGV4fHwyfSkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLVwiK3RoaXMuY29sbC50b0xvd2VyQ2FzZSgpK1xuXCIgXCIrKEh8fFwiXCIpKS5hZGQoTCksYS5sYWJlbEdyb3VwPWQuZyhcImF4aXMtbGFiZWxzXCIpLmF0dHIoe3pJbmRleDpuLnpJbmRleHx8N30pLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1cIithLmNvbGwudG9Mb3dlckNhc2UoKStcIi1sYWJlbHMgXCIrKEh8fFwiXCIpKS5hZGQoTCkpO2lmKHh8fGEuaXNMaW5rZWQpYyhxLGZ1bmN0aW9uKGIsZCl7YS5nZW5lcmF0ZVRpY2soYixkKX0pLGEucmVuZGVyVW5zcXVpc2goKSwhMT09PW4ucmVzZXJ2ZVNwYWNlfHwwIT09ciYmMiE9PXImJnsxOlwibGVmdFwiLDM6XCJyaWdodFwifVtyXSE9PWEubGFiZWxBbGlnbiYmXCJjZW50ZXJcIiE9PWEubGFiZWxBbGlnbnx8YyhxLGZ1bmN0aW9uKGEpe0c9TWF0aC5tYXgoZVthXS5nZXRMYWJlbFNpemUoKSxHKX0pLGEuc3RhZ2dlckxpbmVzJiYoRyo9YS5zdGFnZ2VyTGluZXMsYS5sYWJlbE9mZnNldD1HKihhLm9wcG9zaXRlPy0xOjEpKTtlbHNlIGZvcih1IGluIGUpZVt1XS5kZXN0cm95KCksZGVsZXRlIGVbdV07QSYmQS50ZXh0JiZcbiExIT09QS5lbmFibGVkJiYoYS5hZGRUaXRsZSh2KSx2JiYoaD1hLmF4aXNUaXRsZS5nZXRCQm94KClbbT9cImhlaWdodFwiOlwid2lkdGhcIl0saz1BLm9mZnNldCx5PWwoayk/MDpGKEEubWFyZ2luLG0/NToxMCkpKTthLnJlbmRlckxpbmUoKTthLm9mZnNldD10KkYoZi5vZmZzZXQsSltyXSk7YS50aWNrUm90Q29ycj1hLnRpY2tSb3RDb3JyfHx7eDowLHk6MH07ZD0wPT09cj8tYS5sYWJlbE1ldHJpY3MoKS5oOjI9PT1yP2EudGlja1JvdENvcnIueTowO3k9TWF0aC5hYnMoRykreTtHJiYoeT15LWQrdCoobT9GKG4ueSxhLnRpY2tSb3RDb3JyLnkrOCp0KTpuLngpKTthLmF4aXNUaXRsZU1hcmdpbj1GKGsseSk7SltyXT1NYXRoLm1heChKW3JdLGEuYXhpc1RpdGxlTWFyZ2luK2grdCphLm9mZnNldCx5LHgmJnEubGVuZ3RoJiZLP0tbMF0rdCphLm9mZnNldDowKTtmPWYub2Zmc2V0PzA6MipNYXRoLmZsb29yKGEuYXhpc0xpbmUuc3Ryb2tlV2lkdGgoKS8yKTtiW3BdPU1hdGgubWF4KGJbcF0sXG5mKX0sZ2V0TGluZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxkPXRoaXMub3Bwb3NpdGUsZz10aGlzLm9mZnNldCxmPXRoaXMuaG9yaXosYz10aGlzLmxlZnQrKGQ/dGhpcy53aWR0aDowKStnLGc9Yi5jaGFydEhlaWdodC10aGlzLmJvdHRvbS0oZD90aGlzLmhlaWdodDowKStnO2QmJihhKj0tMSk7cmV0dXJuIGIucmVuZGVyZXIuY3Jpc3BMaW5lKFtcIk1cIixmP3RoaXMubGVmdDpjLGY/Zzp0aGlzLnRvcCxcIkxcIixmP2IuY2hhcnRXaWR0aC10aGlzLnJpZ2h0OmMsZj9nOmIuY2hhcnRIZWlnaHQtdGhpcy5ib3R0b21dLGEpfSxyZW5kZXJMaW5lOmZ1bmN0aW9uKCl7dGhpcy5heGlzTGluZXx8KHRoaXMuYXhpc0xpbmU9dGhpcy5jaGFydC5yZW5kZXJlci5wYXRoKCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWF4aXMtbGluZVwiKS5hZGQodGhpcy5heGlzR3JvdXApLHRoaXMuYXhpc0xpbmUuYXR0cih7c3Ryb2tlOnRoaXMub3B0aW9ucy5saW5lQ29sb3IsXCJzdHJva2Utd2lkdGhcIjp0aGlzLm9wdGlvbnMubGluZVdpZHRoLFxuekluZGV4Ojd9KSl9LGdldFRpdGxlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhvcml6LGI9dGhpcy5sZWZ0LGQ9dGhpcy50b3AsZj10aGlzLmxlbixjPXRoaXMub3B0aW9ucy50aXRsZSxxPWE/YjpkLGU9dGhpcy5vcHBvc2l0ZSxtPXRoaXMub2Zmc2V0LHI9Yy54fHwwLHA9Yy55fHwwLHg9dGhpcy5jaGFydC5yZW5kZXJlci5mb250TWV0cmljcyhjLnN0eWxlJiZjLnN0eWxlLmZvbnRTaXplLHRoaXMuYXhpc1RpdGxlKS5mLGY9e2xvdzpxKyhhPzA6ZiksbWlkZGxlOnErZi8yLGhpZ2g6cSsoYT9mOjApfVtjLmFsaWduXSxiPShhP2QrdGhpcy5oZWlnaHQ6YikrKGE/MTotMSkqKGU/LTE6MSkqdGhpcy5heGlzVGl0bGVNYXJnaW4rKDI9PT10aGlzLnNpZGU/eDowKTtyZXR1cm57eDphP2YrcjpiKyhlP3RoaXMud2lkdGg6MCkrbStyLHk6YT9iK3AtKGU/dGhpcy5oZWlnaHQ6MCkrbTpmK3B9fSxyZW5kZXJNaW5vclRpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydC5oYXNSZW5kZXJlZCYmXG52KHRoaXMub2xkTWluKSxkPXRoaXMubWlub3JUaWNrcztkW2FdfHwoZFthXT1uZXcgTCh0aGlzLGEsXCJtaW5vclwiKSk7YiYmZFthXS5pc05ldyYmZFthXS5yZW5kZXIobnVsbCwhMCk7ZFthXS5yZW5kZXIobnVsbCwhMSwxKX0scmVuZGVyVGljazpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuaXNMaW5rZWQsZz10aGlzLnRpY2tzLGY9dGhpcy5jaGFydC5oYXNSZW5kZXJlZCYmdih0aGlzLm9sZE1pbik7aWYoIWR8fGE+PXRoaXMubWluJiZhPD10aGlzLm1heClnW2FdfHwoZ1thXT1uZXcgTCh0aGlzLGEpKSxmJiZnW2FdLmlzTmV3JiZnW2FdLnJlbmRlcihiLCEwLC4xKSxnW2FdLnJlbmRlcihiKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2hhcnQsZD1hLm9wdGlvbnMsZj1hLmlzTG9nLGU9YS5saW4ybG9nLG09YS5pc0xpbmtlZCxyPWEudGlja1Bvc2l0aW9ucyxwPWEuYXhpc1RpdGxlLHg9YS50aWNrcyx2PWEubWlub3JUaWNrcyxoPWEuYWx0ZXJuYXRlQmFuZHMsaz1cbmQuc3RhY2tMYWJlbHMseT1kLmFsdGVybmF0ZUdyaWRDb2xvcixsPWEudGlja21hcmtPZmZzZXQsQT1hLmF4aXNMaW5lLG49YS5zaG93QXhpcyxHPXooYi5yZW5kZXJlci5nbG9iYWxBbmltYXRpb24pLEosdDthLmxhYmVsRWRnZS5sZW5ndGg9MDthLm92ZXJsYXA9ITE7YyhbeCx2LGhdLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWFbYl0uaXNBY3RpdmU9ITF9KTtpZihhLmhhc0RhdGEoKXx8bSlhLm1pbm9yVGlja0ludGVydmFsJiYhYS5jYXRlZ29yaWVzJiZjKGEuZ2V0TWlub3JUaWNrUG9zaXRpb25zKCksZnVuY3Rpb24oYil7YS5yZW5kZXJNaW5vclRpY2soYil9KSxyLmxlbmd0aCYmKGMocixmdW5jdGlvbihiLGQpe2EucmVuZGVyVGljayhiLGQpfSksbCYmKDA9PT1hLm1pbnx8YS5zaW5nbGUpJiYoeFstMV18fCh4Wy0xXT1uZXcgTChhLC0xLG51bGwsITApKSx4Wy0xXS5yZW5kZXIoLTEpKSkseSYmYyhyLGZ1bmN0aW9uKGQsZyl7dD12b2lkIDAhPT1yW2crMV0/cltnKzFdK1xubDphLm1heC1sOzA9PT1nJTImJmQ8YS5tYXgmJnQ8PWEubWF4KyhiLnBvbGFyPy1sOmwpJiYoaFtkXXx8KGhbZF09bmV3IHEoYSkpLEo9ZCtsLGhbZF0ub3B0aW9ucz17ZnJvbTpmP2UoSik6Six0bzpmP2UodCk6dCxjb2xvcjp5fSxoW2RdLnJlbmRlcigpLGhbZF0uaXNBY3RpdmU9ITApfSksYS5fYWRkZWRQbG90TEJ8fChjKChkLnBsb3RMaW5lc3x8W10pLmNvbmNhdChkLnBsb3RCYW5kc3x8W10pLGZ1bmN0aW9uKGIpe2EuYWRkUGxvdEJhbmRPckxpbmUoYil9KSxhLl9hZGRlZFBsb3RMQj0hMCk7YyhbeCx2LGhdLGZ1bmN0aW9uKGEpe3ZhciBkLGcsZj1bXSxjPUcuZHVyYXRpb247Zm9yKGQgaW4gYSlhW2RdLmlzQWN0aXZlfHwoYVtkXS5yZW5kZXIoZCwhMSwwKSxhW2RdLmlzQWN0aXZlPSExLGYucHVzaChkKSk7SyhmdW5jdGlvbigpe2ZvcihnPWYubGVuZ3RoO2ctLTspYVtmW2ddXSYmIWFbZltnXV0uaXNBY3RpdmUmJihhW2ZbZ11dLmRlc3Ryb3koKSxkZWxldGUgYVtmW2ddXSl9LFxuYSE9PWgmJmIuaGFzUmVuZGVyZWQmJmM/YzowKX0pO0EmJihBW0EuaXNQbGFjZWQ/XCJhbmltYXRlXCI6XCJhdHRyXCJdKHtkOnRoaXMuZ2V0TGluZVBhdGgoQS5zdHJva2VXaWR0aCgpKX0pLEEuaXNQbGFjZWQ9ITAsQVtuP1wic2hvd1wiOlwiaGlkZVwiXSghMCkpO3AmJm4mJihwW3AuaXNOZXc/XCJhdHRyXCI6XCJhbmltYXRlXCJdKGEuZ2V0VGl0bGVQb3NpdGlvbigpKSxwLmlzTmV3PSExKTtrJiZrLmVuYWJsZWQmJmEucmVuZGVyU3RhY2tUb3RhbHMoKTthLmlzRGlydHk9ITF9LHJlZHJhdzpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSYmKHRoaXMucmVuZGVyKCksYyh0aGlzLnBsb3RMaW5lc0FuZEJhbmRzLGZ1bmN0aW9uKGEpe2EucmVuZGVyKCl9KSk7Yyh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLmlzRGlydHk9ITB9KX0sa2VlcFByb3BzOlwiZXh0S2V5IGhjRXZlbnRzIG5hbWVzIHNlcmllcyB1c2VyTWF4IHVzZXJNaW5cIi5zcGxpdChcIiBcIiksZGVzdHJveTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLFxuZD1iLnN0YWNrcyxnLGY9Yi5wbG90TGluZXNBbmRCYW5kcyxxO2F8fHgoYik7Zm9yKGcgaW4gZCllKGRbZ10pLGRbZ109bnVsbDtjKFtiLnRpY2tzLGIubWlub3JUaWNrcyxiLmFsdGVybmF0ZUJhbmRzXSxmdW5jdGlvbihhKXtlKGEpfSk7aWYoZilmb3IoYT1mLmxlbmd0aDthLS07KWZbYV0uZGVzdHJveSgpO2MoXCJzdGFja1RvdGFsR3JvdXAgYXhpc0xpbmUgYXhpc1RpdGxlIGF4aXNHcm91cCBncmlkR3JvdXAgbGFiZWxHcm91cCBjcm9zc1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtiW2FdJiYoYlthXT1iW2FdLmRlc3Ryb3koKSl9KTtmb3IocSBpbiBiKWIuaGFzT3duUHJvcGVydHkocSkmJi0xPT09cihxLGIua2VlcFByb3BzKSYmZGVsZXRlIGJbcV19LGRyYXdDcm9zc2hhaXI6ZnVuY3Rpb24oYSxiKXt2YXIgZCxmPXRoaXMuY3Jvc3NoYWlyLGc9RihmLnNuYXAsITApLGMscT10aGlzLmNyb3NzO2F8fChhPXRoaXMuY3Jvc3MmJnRoaXMuY3Jvc3MuZSk7dGhpcy5jcm9zc2hhaXImJlxuITEhPT0obChiKXx8IWcpPyhnP2woYikmJihjPXRoaXMuaXNYQXhpcz9iLnBsb3RYOnRoaXMubGVuLWIucGxvdFkpOmM9YSYmKHRoaXMuaG9yaXo/YS5jaGFydFgtdGhpcy5wb3M6dGhpcy5sZW4tYS5jaGFydFkrdGhpcy5wb3MpLGwoYykmJihkPXRoaXMuZ2V0UGxvdExpbmVQYXRoKGImJih0aGlzLmlzWEF4aXM/Yi54OkYoYi5zdGFja1ksYi55KSksbnVsbCxudWxsLG51bGwsYyl8fG51bGwpLGwoZCk/KGI9dGhpcy5jYXRlZ29yaWVzJiYhdGhpcy5pc1JhZGlhbCxxfHwodGhpcy5jcm9zcz1xPXRoaXMuY2hhcnQucmVuZGVyZXIucGF0aCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1jcm9zc2hhaXIgaGlnaGNoYXJ0cy1jcm9zc2hhaXItXCIrKGI/XCJjYXRlZ29yeSBcIjpcInRoaW4gXCIpK2YuY2xhc3NOYW1lKS5hdHRyKHt6SW5kZXg6RihmLnpJbmRleCwyKX0pLmFkZCgpLHEuYXR0cih7c3Ryb2tlOmYuY29sb3J8fChiP2goXCIjY2NkNmViXCIpLnNldE9wYWNpdHkoLjI1KS5nZXQoKTpcIiNjY2NjY2NcIiksXG5cInN0cm9rZS13aWR0aFwiOkYoZi53aWR0aCwxKX0pLGYuZGFzaFN0eWxlJiZxLmF0dHIoe2Rhc2hzdHlsZTpmLmRhc2hTdHlsZX0pKSxxLnNob3coKS5hdHRyKHtkOmR9KSxiJiYhZi53aWR0aCYmcS5hdHRyKHtcInN0cm9rZS13aWR0aFwiOnRoaXMudHJhbnNBfSksdGhpcy5jcm9zcy5lPWEpOnRoaXMuaGlkZUNyb3NzaGFpcigpKTp0aGlzLmhpZGVDcm9zc2hhaXIoKX0saGlkZUNyb3NzaGFpcjpmdW5jdGlvbigpe3RoaXMuY3Jvc3MmJnRoaXMuY3Jvc3MuaGlkZSgpfX07cChhLkF4aXMucHJvdG90eXBlLHUpfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuQXhpcyx6PWEuRGF0ZSxDPWEuZGF0ZUZvcm1hdCxFPWEuZGVmYXVsdE9wdGlvbnMsdT1hLmRlZmluZWQsaD1hLmVhY2gsbj1hLmV4dGVuZCx0PWEuZ2V0TWFnbml0dWRlLGw9YS5nZXRUWk9mZnNldCxrPWEubm9ybWFsaXplVGlja0ludGVydmFsLGU9YS5waWNrLGM9YS50aW1lVW5pdHM7Qi5wcm90b3R5cGUuZ2V0VGltZVRpY2tzPWZ1bmN0aW9uKGEsXG5rLGIsbSl7dmFyIGQ9W10scj17fSxwPUUuZ2xvYmFsLnVzZVVUQyx2LGY9bmV3IHooay1NYXRoLmFicyhsKGspKSkseT16LmhjTWFrZVRpbWUsRz1hLnVuaXRSYW5nZSx0PWEuY291bnQscTtpZih1KGspKXtmW3ouaGNTZXRNaWxsaXNlY29uZHNdKEc+PWMuc2Vjb25kPzA6dCpNYXRoLmZsb29yKGYuZ2V0TWlsbGlzZWNvbmRzKCkvdCkpO2lmKEc+PWMuc2Vjb25kKWZbei5oY1NldFNlY29uZHNdKEc+PWMubWludXRlPzA6dCpNYXRoLmZsb29yKGYuZ2V0U2Vjb25kcygpL3QpKTtpZihHPj1jLm1pbnV0ZSlmW3ouaGNTZXRNaW51dGVzXShHPj1jLmhvdXI/MDp0Kk1hdGguZmxvb3IoZlt6LmhjR2V0TWludXRlc10oKS90KSk7aWYoRz49Yy5ob3VyKWZbei5oY1NldEhvdXJzXShHPj1jLmRheT8wOnQqTWF0aC5mbG9vcihmW3ouaGNHZXRIb3Vyc10oKS90KSk7aWYoRz49Yy5kYXkpZlt6LmhjU2V0RGF0ZV0oRz49Yy5tb250aD8xOnQqTWF0aC5mbG9vcihmW3ouaGNHZXREYXRlXSgpL3QpKTtcbkc+PWMubW9udGgmJihmW3ouaGNTZXRNb250aF0oRz49Yy55ZWFyPzA6dCpNYXRoLmZsb29yKGZbei5oY0dldE1vbnRoXSgpL3QpKSx2PWZbei5oY0dldEZ1bGxZZWFyXSgpKTtpZihHPj1jLnllYXIpZlt6LmhjU2V0RnVsbFllYXJdKHYtdiV0KTtpZihHPT09Yy53ZWVrKWZbei5oY1NldERhdGVdKGZbei5oY0dldERhdGVdKCktZlt6LmhjR2V0RGF5XSgpK2UobSwxKSk7dj1mW3ouaGNHZXRGdWxsWWVhcl0oKTttPWZbei5oY0dldE1vbnRoXSgpO3ZhciB4PWZbei5oY0dldERhdGVdKCksSj1mW3ouaGNHZXRIb3Vyc10oKTtpZih6LmhjVGltZXpvbmVPZmZzZXR8fHouaGNHZXRUaW1lem9uZU9mZnNldClxPSghcHx8ISF6LmhjR2V0VGltZXpvbmVPZmZzZXQpJiYoYi1rPjQqYy5tb250aHx8bChrKSE9PWwoYikpLGY9Zi5nZXRUaW1lKCksZj1uZXcgeihmK2woZikpO3A9Zi5nZXRUaW1lKCk7Zm9yKGs9MTtwPGI7KWQucHVzaChwKSxwPUc9PT1jLnllYXI/eSh2K2sqdCwwKTpHPT09Yy5tb250aD9cbnkodixtK2sqdCk6IXF8fEchPT1jLmRheSYmRyE9PWMud2Vlaz9xJiZHPT09Yy5ob3VyP3kodixtLHgsSitrKnQpOnArRyp0OnkodixtLHgrayp0KihHPT09Yy5kYXk/MTo3KSksaysrO2QucHVzaChwKTtHPD1jLmhvdXImJjFFND5kLmxlbmd0aCYmaChkLGZ1bmN0aW9uKGEpezA9PT1hJTE4RTUmJlwiMDAwMDAwMDAwXCI9PT1DKFwiJUglTSVTJUxcIixhKSYmKHJbYV09XCJkYXlcIil9KX1kLmluZm89bihhLHtoaWdoZXJSYW5rczpyLHRvdGFsUmFuZ2U6Ryp0fSk7cmV0dXJuIGR9O0IucHJvdG90eXBlLm5vcm1hbGl6ZVRpbWVUaWNrSW50ZXJ2YWw9ZnVuY3Rpb24oYSxlKXt2YXIgYj1lfHxbW1wibWlsbGlzZWNvbmRcIixbMSwyLDUsMTAsMjAsMjUsNTAsMTAwLDIwMCw1MDBdXSxbXCJzZWNvbmRcIixbMSwyLDUsMTAsMTUsMzBdXSxbXCJtaW51dGVcIixbMSwyLDUsMTAsMTUsMzBdXSxbXCJob3VyXCIsWzEsMiwzLDQsNiw4LDEyXV0sW1wiZGF5XCIsWzEsMl1dLFtcIndlZWtcIixbMSwyXV0sW1wibW9udGhcIixbMSwyLFxuMyw0LDZdXSxbXCJ5ZWFyXCIsbnVsbF1dO2U9YltiLmxlbmd0aC0xXTt2YXIgbT1jW2VbMF1dLGQ9ZVsxXSxyO2ZvcihyPTA7cjxiLmxlbmd0aCYmIShlPWJbcl0sbT1jW2VbMF1dLGQ9ZVsxXSxiW3IrMV0mJmE8PShtKmRbZC5sZW5ndGgtMV0rY1tiW3IrMV1bMF1dKS8yKTtyKyspO209PT1jLnllYXImJmE8NSptJiYoZD1bMSwyLDVdKTthPWsoYS9tLGQsXCJ5ZWFyXCI9PT1lWzBdP01hdGgubWF4KHQoYS9tKSwxKToxKTtyZXR1cm57dW5pdFJhbmdlOm0sY291bnQ6YSx1bml0TmFtZTplWzBdfX19KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5BeGlzLHo9YS5nZXRNYWduaXR1ZGUsQz1hLm1hcCxFPWEubm9ybWFsaXplVGlja0ludGVydmFsLHU9YS5waWNrO0IucHJvdG90eXBlLmdldExvZ1RpY2tQb3NpdGlvbnM9ZnVuY3Rpb24oYSxuLHQsbCl7dmFyIGs9dGhpcy5vcHRpb25zLGU9dGhpcy5sZW4sYz10aGlzLmxpbjJsb2cscD10aGlzLmxvZzJsaW4saD1bXTtsfHwodGhpcy5fbWlub3JBdXRvSW50ZXJ2YWw9XG5udWxsKTtpZiguNTw9YSlhPU1hdGgucm91bmQoYSksaD10aGlzLmdldExpbmVhclRpY2tQb3NpdGlvbnMoYSxuLHQpO2Vsc2UgaWYoLjA4PD1hKWZvcih2YXIgZT1NYXRoLmZsb29yKG4pLGIsbSxkLHIsQSxrPS4zPGE/WzEsMiw0XTouMTU8YT9bMSwyLDQsNiw4XTpbMSwyLDMsNCw1LDYsNyw4LDldO2U8dCsxJiYhQTtlKyspZm9yKG09ay5sZW5ndGgsYj0wO2I8bSYmIUE7YisrKWQ9cChjKGUpKmtbYl0pLGQ+biYmKCFsfHxyPD10KSYmdm9pZCAwIT09ciYmaC5wdXNoKHIpLHI+dCYmKEE9ITApLHI9ZDtlbHNlIG49YyhuKSx0PWModCksYT1rW2w/XCJtaW5vclRpY2tJbnRlcnZhbFwiOlwidGlja0ludGVydmFsXCJdLGE9dShcImF1dG9cIj09PWE/bnVsbDphLHRoaXMuX21pbm9yQXV0b0ludGVydmFsLGsudGlja1BpeGVsSW50ZXJ2YWwvKGw/NToxKSoodC1uKS8oKGw/ZS90aGlzLnRpY2tQb3NpdGlvbnMubGVuZ3RoOmUpfHwxKSksYT1FKGEsbnVsbCx6KGEpKSxoPUModGhpcy5nZXRMaW5lYXJUaWNrUG9zaXRpb25zKGEsXG5uLHQpLHApLGx8fCh0aGlzLl9taW5vckF1dG9JbnRlcnZhbD1hLzUpO2x8fCh0aGlzLnRpY2tJbnRlcnZhbD1hKTtyZXR1cm4gaH07Qi5wcm90b3R5cGUubG9nMmxpbj1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5sb2coYSkvTWF0aC5MTjEwfTtCLnByb3RvdHlwZS5saW4ybG9nPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnBvdygxMCxhKX19KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5kYXRlRm9ybWF0LHo9YS5lYWNoLEM9YS5leHRlbmQsRT1hLmZvcm1hdCx1PWEuaXNOdW1iZXIsaD1hLm1hcCxuPWEubWVyZ2UsdD1hLnBpY2ssbD1hLnNwbGF0LGs9YS5zeW5jVGltZW91dCxlPWEudGltZVVuaXRzO2EuVG9vbHRpcD1mdW5jdGlvbigpe3RoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuVG9vbHRpcC5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxlKXt0aGlzLmNoYXJ0PWE7dGhpcy5vcHRpb25zPWU7dGhpcy5jcm9zc2hhaXJzPVtdO3RoaXMubm93PXt4OjAseTowfTtcbnRoaXMuaXNIaWRkZW49ITA7dGhpcy5zcGxpdD1lLnNwbGl0JiYhYS5pbnZlcnRlZDt0aGlzLnNoYXJlZD1lLnNoYXJlZHx8dGhpcy5zcGxpdH0sY2xlYW5TcGxpdDpmdW5jdGlvbihhKXt6KHRoaXMuY2hhcnQuc2VyaWVzLGZ1bmN0aW9uKGMpe3ZhciBlPWMmJmMudHQ7ZSYmKCFlLmlzQWN0aXZlfHxhP2MudHQ9ZS5kZXN0cm95KCk6ZS5pc0FjdGl2ZT0hMSl9KX0sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LnJlbmRlcmVyLGU9dGhpcy5vcHRpb25zO3RoaXMubGFiZWx8fCh0aGlzLnNwbGl0P3RoaXMubGFiZWw9YS5nKFwidG9vbHRpcFwiKToodGhpcy5sYWJlbD1hLmxhYmVsKFwiXCIsMCwwLGUuc2hhcGV8fFwiY2FsbG91dFwiLG51bGwsbnVsbCxlLnVzZUhUTUwsbnVsbCxcInRvb2x0aXBcIikuYXR0cih7cGFkZGluZzplLnBhZGRpbmcscjplLmJvcmRlclJhZGl1c30pLHRoaXMubGFiZWwuYXR0cih7ZmlsbDplLmJhY2tncm91bmRDb2xvcixcInN0cm9rZS13aWR0aFwiOmUuYm9yZGVyV2lkdGh9KS5jc3MoZS5zdHlsZSkuc2hhZG93KGUuc2hhZG93KSksXG50aGlzLmxhYmVsLmF0dHIoe3pJbmRleDo4fSkuYWRkKCkpO3JldHVybiB0aGlzLmxhYmVsfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dGhpcy5kZXN0cm95KCk7dGhpcy5pbml0KHRoaXMuY2hhcnQsbighMCx0aGlzLm9wdGlvbnMsYSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5sYWJlbCYmKHRoaXMubGFiZWw9dGhpcy5sYWJlbC5kZXN0cm95KCkpO3RoaXMuc3BsaXQmJnRoaXMudHQmJih0aGlzLmNsZWFuU3BsaXQodGhpcy5jaGFydCwhMCksdGhpcy50dD10aGlzLnR0LmRlc3Ryb3koKSk7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKTtjbGVhclRpbWVvdXQodGhpcy50b29sdGlwVGltZW91dCl9LG1vdmU6ZnVuY3Rpb24oYSxlLGssYil7dmFyIGM9dGhpcyxkPWMubm93LHI9ITEhPT1jLm9wdGlvbnMuYW5pbWF0aW9uJiYhYy5pc0hpZGRlbiYmKDE8TWF0aC5hYnMoYS1kLngpfHwxPE1hdGguYWJzKGUtZC55KSkscD1jLmZvbGxvd1BvaW50ZXJ8fDE8Yy5sZW47QyhkLHt4OnI/KDIqXG5kLngrYSkvMzphLHk6cj8oZC55K2UpLzI6ZSxhbmNob3JYOnA/dm9pZCAwOnI/KDIqZC5hbmNob3JYK2spLzM6ayxhbmNob3JZOnA/dm9pZCAwOnI/KGQuYW5jaG9yWStiKS8yOmJ9KTtjLmdldExhYmVsKCkuYXR0cihkKTtyJiYoY2xlYXJUaW1lb3V0KHRoaXMudG9vbHRpcFRpbWVvdXQpLHRoaXMudG9vbHRpcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2MmJmMubW92ZShhLGUsayxiKX0sMzIpKX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzO2NsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lcik7YT10KGEsdGhpcy5vcHRpb25zLmhpZGVEZWxheSw1MDApO3RoaXMuaXNIaWRkZW58fCh0aGlzLmhpZGVUaW1lcj1rKGZ1bmN0aW9uKCl7Yy5nZXRMYWJlbCgpW2E/XCJmYWRlT3V0XCI6XCJoaWRlXCJdKCk7Yy5pc0hpZGRlbj0hMH0sYSkpfSxnZXRBbmNob3I6ZnVuY3Rpb24oYSxlKXt2YXIgYyxiPXRoaXMuY2hhcnQsbT1iLmludmVydGVkLGQ9Yi5wbG90VG9wLHI9Yi5wbG90TGVmdCxcbnA9MCx2PTAsZixrO2E9bChhKTtjPWFbMF0udG9vbHRpcFBvczt0aGlzLmZvbGxvd1BvaW50ZXImJmUmJih2b2lkIDA9PT1lLmNoYXJ0WCYmKGU9Yi5wb2ludGVyLm5vcm1hbGl6ZShlKSksYz1bZS5jaGFydFgtYi5wbG90TGVmdCxlLmNoYXJ0WS1kXSk7Y3x8KHooYSxmdW5jdGlvbihhKXtmPWEuc2VyaWVzLnlBeGlzO2s9YS5zZXJpZXMueEF4aXM7cCs9YS5wbG90WCsoIW0mJms/ay5sZWZ0LXI6MCk7dis9KGEucGxvdExvdz8oYS5wbG90TG93K2EucGxvdEhpZ2gpLzI6YS5wbG90WSkrKCFtJiZmP2YudG9wLWQ6MCl9KSxwLz1hLmxlbmd0aCx2Lz1hLmxlbmd0aCxjPVttP2IucGxvdFdpZHRoLXY6cCx0aGlzLnNoYXJlZCYmIW0mJjE8YS5sZW5ndGgmJmU/ZS5jaGFydFktZDptP2IucGxvdEhlaWdodC1wOnZdKTtyZXR1cm4gaChjLE1hdGgucm91bmQpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhLGUsayl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMuZGlzdGFuY2UsZD17fSxyPWsuaHx8MCxcbnAsdj1bXCJ5XCIsYi5jaGFydEhlaWdodCxlLGsucGxvdFkrYi5wbG90VG9wLGIucGxvdFRvcCxiLnBsb3RUb3ArYi5wbG90SGVpZ2h0XSxmPVtcInhcIixiLmNoYXJ0V2lkdGgsYSxrLnBsb3RYK2IucGxvdExlZnQsYi5wbG90TGVmdCxiLnBsb3RMZWZ0K2IucGxvdFdpZHRoXSxoPSF0aGlzLmZvbGxvd1BvaW50ZXImJnQoay50dEJlbG93LCFiLmludmVydGVkPT09ISFrLm5lZ2F0aXZlKSxsPWZ1bmN0aW9uKGEsYixmLGcscSxlKXt2YXIgbT1mPGctYyx4PWcrYytmPGIsdj1nLWMtZjtnKz1jO2lmKGgmJngpZFthXT1nO2Vsc2UgaWYoIWgmJm0pZFthXT12O2Vsc2UgaWYobSlkW2FdPU1hdGgubWluKGUtZiwwPnYtcj92OnYtcik7ZWxzZSBpZih4KWRbYV09TWF0aC5tYXgocSxnK3IrZj5iP2c6ZytyKTtlbHNlIHJldHVybiExfSxuPWZ1bmN0aW9uKGEsYixmLGcpe3ZhciBxO2c8Y3x8Zz5iLWM/cT0hMTpkW2FdPWc8Zi8yPzE6Zz5iLWYvMj9iLWYtMjpnLWYvMjtyZXR1cm4gcX0scT1mdW5jdGlvbihhKXt2YXIgYj1cbnY7dj1mO2Y9YjtwPWF9LHg9ZnVuY3Rpb24oKXshMSE9PWwuYXBwbHkoMCx2KT8hMSE9PW4uYXBwbHkoMCxmKXx8cHx8KHEoITApLHgoKSk6cD9kLng9ZC55PTA6KHEoITApLHgoKSl9OyhiLmludmVydGVkfHwxPHRoaXMubGVuKSYmcSgpO3goKTtyZXR1cm4gZH0sZGVmYXVsdEZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnBvaW50c3x8bCh0aGlzKSxlO2U9W2EudG9vbHRpcEZvb3RlckhlYWRlckZvcm1hdHRlcihjWzBdKV07ZT1lLmNvbmNhdChhLmJvZHlGb3JtYXR0ZXIoYykpO2UucHVzaChhLnRvb2x0aXBGb290ZXJIZWFkZXJGb3JtYXR0ZXIoY1swXSwhMCkpO3JldHVybiBlfSxyZWZyZXNoOmZ1bmN0aW9uKGEsZSl7dmFyIGMsYj10aGlzLm9wdGlvbnMsbSxkPWEscixwPXt9LHY9W107Yz1iLmZvcm1hdHRlcnx8dGhpcy5kZWZhdWx0Rm9ybWF0dGVyO3ZhciBwPXRoaXMuc2hhcmVkLGY7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKTt0aGlzLmZvbGxvd1BvaW50ZXI9XG5sKGQpWzBdLnNlcmllcy50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyO3I9dGhpcy5nZXRBbmNob3IoZCxlKTtlPXJbMF07bT1yWzFdOyFwfHxkLnNlcmllcyYmZC5zZXJpZXMubm9TaGFyZWRUb29sdGlwP3A9ZC5nZXRMYWJlbENvbmZpZygpOih6KGQsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZShcImhvdmVyXCIpO3YucHVzaChhLmdldExhYmVsQ29uZmlnKCkpfSkscD17eDpkWzBdLmNhdGVnb3J5LHk6ZFswXS55fSxwLnBvaW50cz12LGQ9ZFswXSk7dGhpcy5sZW49di5sZW5ndGg7cD1jLmNhbGwocCx0aGlzKTtmPWQuc2VyaWVzO3RoaXMuZGlzdGFuY2U9dChmLnRvb2x0aXBPcHRpb25zLmRpc3RhbmNlLDE2KTshMT09PXA/dGhpcy5oaWRlKCk6KGM9dGhpcy5nZXRMYWJlbCgpLHRoaXMuaXNIaWRkZW4mJmMuYXR0cih7b3BhY2l0eToxfSkuc2hvdygpLHRoaXMuc3BsaXQ/dGhpcy5yZW5kZXJTcGxpdChwLGEpOihjLmF0dHIoe3RleHQ6cCYmcC5qb2luP3Auam9pbihcIlwiKTpwfSksYy5yZW1vdmVDbGFzcygvaGlnaGNoYXJ0cy1jb2xvci1bXFxkXSsvZykuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWNvbG9yLVwiK1xudChkLmNvbG9ySW5kZXgsZi5jb2xvckluZGV4KSksYy5hdHRyKHtzdHJva2U6Yi5ib3JkZXJDb2xvcnx8ZC5jb2xvcnx8Zi5jb2xvcnx8XCIjNjY2NjY2XCJ9KSx0aGlzLnVwZGF0ZVBvc2l0aW9uKHtwbG90WDplLHBsb3RZOm0sbmVnYXRpdmU6ZC5uZWdhdGl2ZSx0dEJlbG93OmQudHRCZWxvdyxoOnJbMl18fDB9KSksdGhpcy5pc0hpZGRlbj0hMSl9LHJlbmRlclNwbGl0OmZ1bmN0aW9uKGMsZSl7dmFyIHA9dGhpcyxiPVtdLG09dGhpcy5jaGFydCxkPW0ucmVuZGVyZXIscj0hMCxrPXRoaXMub3B0aW9ucyx2LGY9dGhpcy5nZXRMYWJlbCgpO3ooYy5zbGljZSgwLGUubGVuZ3RoKzEpLGZ1bmN0aW9uKGEsYyl7Yz1lW2MtMV18fHtpc0hlYWRlcjohMCxwbG90WDplWzBdLnBsb3RYfTt2YXIgaD1jLnNlcmllc3x8cCxxPWgudHQseD1jLnNlcmllc3x8e30sbD1cImhpZ2hjaGFydHMtY29sb3ItXCIrdChjLmNvbG9ySW5kZXgseC5jb2xvckluZGV4LFwibm9uZVwiKTtxfHwoaC50dD1xPWQubGFiZWwobnVsbCxcbm51bGwsbnVsbCxcImNhbGxvdXRcIikuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXRvb2x0aXAtYm94IFwiK2wpLmF0dHIoe3BhZGRpbmc6ay5wYWRkaW5nLHI6ay5ib3JkZXJSYWRpdXMsZmlsbDprLmJhY2tncm91bmRDb2xvcixzdHJva2U6Yy5jb2xvcnx8eC5jb2xvcnx8XCIjMzMzMzMzXCIsXCJzdHJva2Utd2lkdGhcIjprLmJvcmRlcldpZHRofSkuYWRkKGYpKTtxLmlzQWN0aXZlPSEwO3EuYXR0cih7dGV4dDphfSk7cS5jc3Moay5zdHlsZSk7YT1xLmdldEJCb3goKTt4PWEud2lkdGgrcS5zdHJva2VXaWR0aCgpO2MuaXNIZWFkZXI/KHY9YS5oZWlnaHQseD1NYXRoLm1heCgwLE1hdGgubWluKGMucGxvdFgrbS5wbG90TGVmdC14LzIsbS5jaGFydFdpZHRoLXgpKSk6eD1jLnBsb3RYK20ucGxvdExlZnQtdChrLmRpc3RhbmNlLDE2KS14OzA+eCYmKHI9ITEpO2E9KGMuc2VyaWVzJiZjLnNlcmllcy55QXhpcyYmYy5zZXJpZXMueUF4aXMucG9zKSsoYy5wbG90WXx8MCk7YS09bS5wbG90VG9wO2IucHVzaCh7dGFyZ2V0OmMuaXNIZWFkZXI/XG5tLnBsb3RIZWlnaHQrdjphLHJhbms6Yy5pc0hlYWRlcj8xOjAsc2l6ZTpoLnR0LmdldEJCb3goKS5oZWlnaHQrMSxwb2ludDpjLHg6eCx0dDpxfSl9KTt0aGlzLmNsZWFuU3BsaXQoKTthLmRpc3RyaWJ1dGUoYixtLnBsb3RIZWlnaHQrdik7eihiLGZ1bmN0aW9uKGEpe3ZhciBiPWEucG9pbnQsZD1iLnNlcmllczthLnR0LmF0dHIoe3Zpc2liaWxpdHk6dm9pZCAwPT09YS5wb3M/XCJoaWRkZW5cIjpcImluaGVyaXRcIix4OnJ8fGIuaXNIZWFkZXI/YS54OmIucGxvdFgrbS5wbG90TGVmdCt0KGsuZGlzdGFuY2UsMTYpLHk6YS5wb3MrbS5wbG90VG9wLGFuY2hvclg6Yi5pc0hlYWRlcj9iLnBsb3RYK20ucGxvdExlZnQ6Yi5wbG90WCtkLnhBeGlzLnBvcyxhbmNob3JZOmIuaXNIZWFkZXI/YS5wb3MrbS5wbG90VG9wLTE1OmIucGxvdFkrZC55QXhpcy5wb3N9KX0pfSx1cGRhdGVQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLmNoYXJ0LGU9dGhpcy5nZXRMYWJlbCgpLGU9KHRoaXMub3B0aW9ucy5wb3NpdGlvbmVyfHxcbnRoaXMuZ2V0UG9zaXRpb24pLmNhbGwodGhpcyxlLndpZHRoLGUuaGVpZ2h0LGEpO3RoaXMubW92ZShNYXRoLnJvdW5kKGUueCksTWF0aC5yb3VuZChlLnl8fDApLGEucGxvdFgrYy5wbG90TGVmdCxhLnBsb3RZK2MucGxvdFRvcCl9LGdldERhdGVGb3JtYXQ6ZnVuY3Rpb24oYSxwLGssYil7dmFyIGM9QihcIiVtLSVkICVIOiVNOiVTLiVMXCIscCksZCxyLGg9e21pbGxpc2Vjb25kOjE1LHNlY29uZDoxMixtaW51dGU6OSxob3VyOjYsZGF5OjN9LHY9XCJtaWxsaXNlY29uZFwiO2ZvcihyIGluIGUpe2lmKGE9PT1lLndlZWsmJitCKFwiJXdcIixwKT09PWsmJlwiMDA6MDA6MDAuMDAwXCI9PT1jLnN1YnN0cig2KSl7cj1cIndlZWtcIjticmVha31pZihlW3JdPmEpe3I9djticmVha31pZihoW3JdJiZjLnN1YnN0cihoW3JdKSE9PVwiMDEtMDEgMDA6MDA6MDAuMDAwXCIuc3Vic3RyKGhbcl0pKWJyZWFrO1wid2Vla1wiIT09ciYmKHY9cil9ciYmKGQ9YltyXSk7cmV0dXJuIGR9LGdldFhEYXRlRm9ybWF0OmZ1bmN0aW9uKGEsXG5lLGspe2U9ZS5kYXRlVGltZUxhYmVsRm9ybWF0czt2YXIgYj1rJiZrLmNsb3Nlc3RQb2ludFJhbmdlO3JldHVybihiP3RoaXMuZ2V0RGF0ZUZvcm1hdChiLGEueCxrLm9wdGlvbnMuc3RhcnRPZldlZWssZSk6ZS5kYXkpfHxlLnllYXJ9LHRvb2x0aXBGb290ZXJIZWFkZXJGb3JtYXR0ZXI6ZnVuY3Rpb24oYSxlKXt2YXIgYz1lP1wiZm9vdGVyXCI6XCJoZWFkZXJcIjtlPWEuc2VyaWVzO3ZhciBiPWUudG9vbHRpcE9wdGlvbnMsbT1iLnhEYXRlRm9ybWF0LGQ9ZS54QXhpcyxyPWQmJlwiZGF0ZXRpbWVcIj09PWQub3B0aW9ucy50eXBlJiZ1KGEua2V5KSxjPWJbYytcIkZvcm1hdFwiXTtyJiYhbSYmKG09dGhpcy5nZXRYRGF0ZUZvcm1hdChhLGIsZCkpO3ImJm0mJihjPWMucmVwbGFjZShcIntwb2ludC5rZXl9XCIsXCJ7cG9pbnQua2V5OlwiK20rXCJ9XCIpKTtyZXR1cm4gRShjLHtwb2ludDphLHNlcmllczplfSl9LGJvZHlGb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoYSxmdW5jdGlvbihhKXt2YXIgYz1cbmEuc2VyaWVzLnRvb2x0aXBPcHRpb25zO3JldHVybihjLnBvaW50Rm9ybWF0dGVyfHxhLnBvaW50LnRvb2x0aXBGb3JtYXR0ZXIpLmNhbGwoYS5wb2ludCxjLnBvaW50Rm9ybWF0KX0pfX19KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5hZGRFdmVudCx6PWEuYXR0cixDPWEuY2hhcnRzLEU9YS5jb2xvcix1PWEuY3NzLGg9YS5kZWZpbmVkLG49YS5kb2MsdD1hLmVhY2gsbD1hLmV4dGVuZCxrPWEuZmlyZUV2ZW50LGU9YS5vZmZzZXQsYz1hLnBpY2sscD1hLnJlbW92ZUV2ZW50LEg9YS5zcGxhdCxiPWEuVG9vbHRpcCxtPWEud2luO2EuUG9pbnRlcj1mdW5jdGlvbihhLGIpe3RoaXMuaW5pdChhLGIpfTthLlBvaW50ZXIucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGEsZSl7dGhpcy5vcHRpb25zPWU7dGhpcy5jaGFydD1hO3RoaXMucnVuQ2hhcnRDbGljaz1lLmNoYXJ0LmV2ZW50cyYmISFlLmNoYXJ0LmV2ZW50cy5jbGljazt0aGlzLnBpbmNoRG93bj1bXTt0aGlzLmxhc3RWYWxpZFRvdWNoPVxue307YiYmZS50b29sdGlwLmVuYWJsZWQmJihhLnRvb2x0aXA9bmV3IGIoYSxlLnRvb2x0aXApLHRoaXMuZm9sbG93VG91Y2hNb3ZlPWMoZS50b29sdGlwLmZvbGxvd1RvdWNoTW92ZSwhMCkpO3RoaXMuc2V0RE9NRXZlbnRzKCl9LHpvb21PcHRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxkPWIub3B0aW9ucy5jaGFydCxlPWQuem9vbVR5cGV8fFwiXCIsYj1iLmludmVydGVkOy90b3VjaC8udGVzdChhLnR5cGUpJiYoZT1jKGQucGluY2hUeXBlLGUpKTt0aGlzLnpvb21YPWE9L3gvLnRlc3QoZSk7dGhpcy56b29tWT1lPS95Ly50ZXN0KGUpO3RoaXMuem9vbUhvcj1hJiYhYnx8ZSYmYjt0aGlzLnpvb21WZXJ0PWUmJiFifHxhJiZiO3RoaXMuaGFzWm9vbT1hfHxlfSxub3JtYWxpemU6ZnVuY3Rpb24oYSxiKXt2YXIgZCxjO2E9YXx8bS5ldmVudDthLnRhcmdldHx8KGEudGFyZ2V0PWEuc3JjRWxlbWVudCk7Yz1hLnRvdWNoZXM/YS50b3VjaGVzLmxlbmd0aD9hLnRvdWNoZXMuaXRlbSgwKTpcbmEuY2hhbmdlZFRvdWNoZXNbMF06YTtifHwodGhpcy5jaGFydFBvc2l0aW9uPWI9ZSh0aGlzLmNoYXJ0LmNvbnRhaW5lcikpO3ZvaWQgMD09PWMucGFnZVg/KGQ9TWF0aC5tYXgoYS54LGEuY2xpZW50WC1iLmxlZnQpLGI9YS55KTooZD1jLnBhZ2VYLWIubGVmdCxiPWMucGFnZVktYi50b3ApO3JldHVybiBsKGEse2NoYXJ0WDpNYXRoLnJvdW5kKGQpLGNoYXJ0WTpNYXRoLnJvdW5kKGIpfSl9LGdldENvb3JkaW5hdGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt4QXhpczpbXSx5QXhpczpbXX07dCh0aGlzLmNoYXJ0LmF4ZXMsZnVuY3Rpb24oZCl7YltkLmlzWEF4aXM/XCJ4QXhpc1wiOlwieUF4aXNcIl0ucHVzaCh7YXhpczpkLHZhbHVlOmQudG9WYWx1ZShhW2QuaG9yaXo/XCJjaGFydFhcIjpcImNoYXJ0WVwiXSl9KX0pO3JldHVybiBifSxnZXRLRFBvaW50czpmdW5jdGlvbihhLGIsZSl7dmFyIGQ9W10sZixtLHI7dChhLGZ1bmN0aW9uKGEpe2Y9YS5ub1NoYXJlZFRvb2x0aXAmJmI7bT0hYiYmYS5kaXJlY3RUb3VjaDtcbmEudmlzaWJsZSYmIWYmJiFtJiZjKGEub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nLCEwKSYmKHI9YS5zZWFyY2hQb2ludChlLCFmJiYxPT09YS5rZERpbWVuc2lvbnMpKSYmci5zZXJpZXMmJmQucHVzaChyKX0pO2Quc29ydChmdW5jdGlvbihhLGQpe3ZhciBmPWEuZGlzdFgtZC5kaXN0WCxjPWEuZGlzdC1kLmRpc3QsZT0oZC5zZXJpZXMuZ3JvdXAmJmQuc2VyaWVzLmdyb3VwLnpJbmRleCktKGEuc2VyaWVzLmdyb3VwJiZhLnNlcmllcy5ncm91cC56SW5kZXgpO3JldHVybiAwIT09ZiYmYj9mOjAhPT1jP2M6MCE9PWU/ZTphLnNlcmllcy5pbmRleD5kLnNlcmllcy5pbmRleD8tMToxfSk7aWYoYilmb3IoYT1kLmxlbmd0aDthLS07KShkW2FdLnghPT1kWzBdLnh8fGRbYV0uc2VyaWVzLm5vU2hhcmVkVG9vbHRpcCkmJmQuc3BsaWNlKGEsMSk7cmV0dXJuIGR9LGdldFBvaW50RnJvbUV2ZW50OmZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7Zm9yKHZhciBiO2EmJiFiOyliPWEucG9pbnQsYT1cbmEucGFyZW50Tm9kZTtyZXR1cm4gYn0sZ2V0SG92ZXJEYXRhOmZ1bmN0aW9uKGEsYixlLG0sZixrKXt2YXIgZD1hO2E9Yjt2YXIgcjtpZihtKWY/KHI9W10sdChlLGZ1bmN0aW9uKGEpe3ZhciBiPWEubm9TaGFyZWRUb29sdGlwJiZmLGU9IWYmJmEuZGlyZWN0VG91Y2g7YS52aXNpYmxlJiYhYiYmIWUmJmMoYS5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcsITApJiYoYT1hLnNlYXJjaEtEVHJlZSh7Y2xpZW50WDpkLmNsaWVudFgscGxvdFk6ZC5wbG90WX0sIWImJjE9PT1hLmtkRGltZW5zaW9ucykpJiZhLnNlcmllcyYmci5wdXNoKGEpfSksMD09PXIubGVuZ3RoJiYocj1bZF0pKTpyPVtkXTtlbHNle2lmKGEmJiFhLm9wdGlvbnMuc3RpY2t5VHJhY2tpbmcpcj10aGlzLmdldEtEUG9pbnRzKFthXSxmLGspO2Vsc2V7aWYoIWYpaWYoYSlhLm9wdGlvbnMuc3RpY2t5VHJhY2tpbmd8fChlPVthXSk7ZWxzZSBmb3IobT0wO208ZS5sZW5ndGg7bSsrKWlmKGVbbV0uZGlyZWN0VG91Y2h8fFxuIWVbbV0ub3B0aW9ucy5zdGlja3lUcmFja2luZyllPVtdO3I9dGhpcy5nZXRLRFBvaW50cyhlLGYsayl9YT0oZD1yWzBdKSYmZC5zZXJpZXN9ci5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc2VyaWVzLmluZGV4LWIuc2VyaWVzLmluZGV4fSk7cmV0dXJue2hvdmVyUG9pbnQ6ZCxob3ZlclNlcmllczphLGhvdmVyUG9pbnRzOnJ9fSxydW5Qb2ludEFjdGlvbnM6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLmNoYXJ0LGU9ZC50b29sdGlwLGY9ZT9lLnNoYXJlZDohMSxtPWN8fGQuaG92ZXJQb2ludCxyPW0mJm0uc2VyaWVzfHxkLmhvdmVyU2VyaWVzO2M9dGhpcy5nZXRIb3ZlckRhdGEobSxyLGQuc2VyaWVzLCEhY3x8ciYmci5kaXJlY3RUb3VjaCxmLGIpO3ZhciBrLHEsbT1jLmhvdmVyUG9pbnQ7az0ocj1jLmhvdmVyU2VyaWVzKSYmci50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyO3E9KGY9ZiYmbSYmIW0uc2VyaWVzLm5vU2hhcmVkVG9vbHRpcCk/Yy5ob3ZlclBvaW50czpbbV07XG5pZihtJiYobSE9PWQuaG92ZXJQb2ludHx8ZSYmZS5pc0hpZGRlbikpe3QoZC5ob3ZlclBvaW50c3x8W10sZnVuY3Rpb24oYil7LTE9PT1hLmluQXJyYXkoYixxKSYmYi5zZXRTdGF0ZSgpfSk7dChxfHxbXSxmdW5jdGlvbihhKXthLnNldFN0YXRlKFwiaG92ZXJcIil9KTtpZihkLmhvdmVyU2VyaWVzIT09cilyLm9uTW91c2VPdmVyKCk7ciYmIXIuZGlyZWN0VG91Y2gmJihkLmhvdmVyUG9pbnQmJmQuaG92ZXJQb2ludC5maXJlUG9pbnRFdmVudChcIm1vdXNlT3V0XCIpLG0uZmlyZVBvaW50RXZlbnQoXCJtb3VzZU92ZXJcIikpO2QuaG92ZXJQb2ludHM9cTtkLmhvdmVyUG9pbnQ9bTtlJiZlLnJlZnJlc2goZj9xOm0sYil9ZWxzZSBrJiZlJiYhZS5pc0hpZGRlbiYmKG09ZS5nZXRBbmNob3IoW3t9XSxiKSxlLnVwZGF0ZVBvc2l0aW9uKHtwbG90WDptWzBdLHBsb3RZOm1bMV19KSk7dGhpcy51bkRvY01vdXNlTW92ZXx8KHRoaXMudW5Eb2NNb3VzZU1vdmU9QihuLFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYil7dmFyIGQ9XG5DW2EuaG92ZXJDaGFydEluZGV4XTtpZihkKWQucG9pbnRlci5vbkRvY3VtZW50TW91c2VNb3ZlKGIpfSkpO3QocSxmdW5jdGlvbihhKXt0KGQuYXhlcyxmdW5jdGlvbihkKXsoIWF8fGEuc2VyaWVzJiZhLnNlcmllc1tkLmNvbGxdPT09ZCkmJmQuZHJhd0Nyb3NzaGFpcihiLGEpfSl9KX0scmVzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmNoYXJ0LGM9ZC5ob3ZlclNlcmllcyxmPWQuaG92ZXJQb2ludCxlPWQuaG92ZXJQb2ludHMsbT1kLnRvb2x0aXAscj1tJiZtLnNoYXJlZD9lOmY7YSYmciYmdChIKHIpLGZ1bmN0aW9uKGIpe2Iuc2VyaWVzLmlzQ2FydGVzaWFuJiZ2b2lkIDA9PT1iLnBsb3RYJiYoYT0hMSl9KTtpZihhKW0mJnImJihtLnJlZnJlc2gociksZiYmKGYuc2V0U3RhdGUoZi5zdGF0ZSwhMCksdChkLmF4ZXMsZnVuY3Rpb24oYSl7YS5jcm9zc2hhaXImJmEuZHJhd0Nyb3NzaGFpcihudWxsLGYpfSkpKTtlbHNle2lmKGYpZi5vbk1vdXNlT3V0KCk7ZSYmdChlLGZ1bmN0aW9uKGEpe2Euc2V0U3RhdGUoKX0pO1xuaWYoYyljLm9uTW91c2VPdXQoKTttJiZtLmhpZGUoYik7dGhpcy51bkRvY01vdXNlTW92ZSYmKHRoaXMudW5Eb2NNb3VzZU1vdmU9dGhpcy51bkRvY01vdXNlTW92ZSgpKTt0KGQuYXhlcyxmdW5jdGlvbihhKXthLmhpZGVDcm9zc2hhaXIoKX0pO3RoaXMuaG92ZXJYPWQuaG92ZXJQb2ludHM9ZC5ob3ZlclBvaW50PW51bGx9fSxzY2FsZUdyb3VwczpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuY2hhcnQsYzt0KGQuc2VyaWVzLGZ1bmN0aW9uKGYpe2M9YXx8Zi5nZXRQbG90Qm94KCk7Zi54QXhpcyYmZi54QXhpcy56b29tRW5hYmxlZCYmZi5ncm91cCYmKGYuZ3JvdXAuYXR0cihjKSxmLm1hcmtlckdyb3VwJiYoZi5tYXJrZXJHcm91cC5hdHRyKGMpLGYubWFya2VyR3JvdXAuY2xpcChiP2QuY2xpcFJlY3Q6bnVsbCkpLGYuZGF0YUxhYmVsc0dyb3VwJiZmLmRhdGFMYWJlbHNHcm91cC5hdHRyKGMpKX0pO2QuY2xpcFJlY3QuYXR0cihifHxkLmNsaXBCb3gpfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLmNoYXJ0O2IubW91c2VJc0Rvd249YS50eXBlO2IuY2FuY2VsQ2xpY2s9ITE7Yi5tb3VzZURvd25YPXRoaXMubW91c2VEb3duWD1hLmNoYXJ0WDtiLm1vdXNlRG93blk9dGhpcy5tb3VzZURvd25ZPWEuY2hhcnRZfSxkcmFnOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsZD1iLm9wdGlvbnMuY2hhcnQsYz1hLmNoYXJ0WCxmPWEuY2hhcnRZLGU9dGhpcy56b29tSG9yLG09dGhpcy56b29tVmVydCxrPWIucGxvdExlZnQscT1iLnBsb3RUb3AseD1iLnBsb3RXaWR0aCxwPWIucGxvdEhlaWdodCxoLGw9dGhpcy5zZWxlY3Rpb25NYXJrZXIsZz10aGlzLm1vdXNlRG93blgsbj10aGlzLm1vdXNlRG93blksdD1kLnBhbktleSYmYVtkLnBhbktleStcIktleVwiXTtsJiZsLnRvdWNofHwoYzxrP2M9azpjPmsreCYmKGM9ayt4KSxmPHE/Zj1xOmY+cStwJiYoZj1xK3ApLHRoaXMuaGFzRHJhZ2dlZD1NYXRoLnNxcnQoTWF0aC5wb3coZy1jLDIpK01hdGgucG93KG4tZiwyKSksMTA8dGhpcy5oYXNEcmFnZ2VkJiZcbihoPWIuaXNJbnNpZGVQbG90KGctayxuLXEpLGIuaGFzQ2FydGVzaWFuU2VyaWVzJiYodGhpcy56b29tWHx8dGhpcy56b29tWSkmJmgmJiF0JiYhbCYmKHRoaXMuc2VsZWN0aW9uTWFya2VyPWw9Yi5yZW5kZXJlci5yZWN0KGsscSxlPzE6eCxtPzE6cCwwKS5hdHRyKHtmaWxsOmQuc2VsZWN0aW9uTWFya2VyRmlsbHx8RShcIiMzMzVjYWRcIikuc2V0T3BhY2l0eSguMjUpLmdldCgpLFwiY2xhc3NcIjpcImhpZ2hjaGFydHMtc2VsZWN0aW9uLW1hcmtlclwiLHpJbmRleDo3fSkuYWRkKCkpLGwmJmUmJihjLT1nLGwuYXR0cih7d2lkdGg6TWF0aC5hYnMoYykseDooMDxjPzA6YykrZ30pKSxsJiZtJiYoYz1mLW4sbC5hdHRyKHtoZWlnaHQ6TWF0aC5hYnMoYykseTooMDxjPzA6Yykrbn0pKSxoJiYhbCYmZC5wYW5uaW5nJiZiLnBhbihhLGQucGFubmluZykpKX0sZHJvcDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGQ9dGhpcy5jaGFydCxjPXRoaXMuaGFzUGluY2hlZDtpZih0aGlzLnNlbGVjdGlvbk1hcmtlcil7dmFyIGY9XG57b3JpZ2luYWxFdmVudDphLHhBeGlzOltdLHlBeGlzOltdfSxlPXRoaXMuc2VsZWN0aW9uTWFya2VyLG09ZS5hdHRyP2UuYXR0cihcInhcIik6ZS54LHA9ZS5hdHRyP2UuYXR0cihcInlcIik6ZS55LHE9ZS5hdHRyP2UuYXR0cihcIndpZHRoXCIpOmUud2lkdGgseD1lLmF0dHI/ZS5hdHRyKFwiaGVpZ2h0XCIpOmUuaGVpZ2h0LG47aWYodGhpcy5oYXNEcmFnZ2VkfHxjKXQoZC5heGVzLGZ1bmN0aW9uKGQpe2lmKGQuem9vbUVuYWJsZWQmJmgoZC5taW4pJiYoY3x8Ylt7eEF4aXM6XCJ6b29tWFwiLHlBeGlzOlwiem9vbVlcIn1bZC5jb2xsXV0pKXt2YXIgZT1kLmhvcml6LGc9XCJ0b3VjaGVuZFwiPT09YS50eXBlP2QubWluUGl4ZWxQYWRkaW5nOjAscj1kLnRvVmFsdWUoKGU/bTpwKStnKSxlPWQudG9WYWx1ZSgoZT9tK3E6cCt4KS1nKTtmW2QuY29sbF0ucHVzaCh7YXhpczpkLG1pbjpNYXRoLm1pbihyLGUpLG1heDpNYXRoLm1heChyLGUpfSk7bj0hMH19KSxuJiZrKGQsXCJzZWxlY3Rpb25cIixmLGZ1bmN0aW9uKGEpe2Quem9vbShsKGEsXG5jP3thbmltYXRpb246ITF9Om51bGwpKX0pO3RoaXMuc2VsZWN0aW9uTWFya2VyPXRoaXMuc2VsZWN0aW9uTWFya2VyLmRlc3Ryb3koKTtjJiZ0aGlzLnNjYWxlR3JvdXBzKCl9ZCYmKHUoZC5jb250YWluZXIse2N1cnNvcjpkLl9jdXJzb3J9KSxkLmNhbmNlbENsaWNrPTEwPHRoaXMuaGFzRHJhZ2dlZCxkLm1vdXNlSXNEb3duPXRoaXMuaGFzRHJhZ2dlZD10aGlzLmhhc1BpbmNoZWQ9ITEsdGhpcy5waW5jaERvd249W10pfSxvbkNvbnRhaW5lck1vdXNlRG93bjpmdW5jdGlvbihhKXthPXRoaXMubm9ybWFsaXplKGEpO3RoaXMuem9vbU9wdGlvbihhKTthLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCk7dGhpcy5kcmFnU3RhcnQoYSl9LG9uRG9jdW1lbnRNb3VzZVVwOmZ1bmN0aW9uKGIpe0NbYS5ob3ZlckNoYXJ0SW5kZXhdJiZDW2EuaG92ZXJDaGFydEluZGV4XS5wb2ludGVyLmRyb3AoYil9LG9uRG9jdW1lbnRNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxcbmQ9dGhpcy5jaGFydFBvc2l0aW9uO2E9dGhpcy5ub3JtYWxpemUoYSxkKTshZHx8dGhpcy5pbkNsYXNzKGEudGFyZ2V0LFwiaGlnaGNoYXJ0cy10cmFja2VyXCIpfHxiLmlzSW5zaWRlUGxvdChhLmNoYXJ0WC1iLnBsb3RMZWZ0LGEuY2hhcnRZLWIucGxvdFRvcCl8fHRoaXMucmVzZXQoKX0sb25Db250YWluZXJNb3VzZUxlYXZlOmZ1bmN0aW9uKGIpe3ZhciBkPUNbYS5ob3ZlckNoYXJ0SW5kZXhdO2QmJihiLnJlbGF0ZWRUYXJnZXR8fGIudG9FbGVtZW50KSYmKGQucG9pbnRlci5yZXNldCgpLGQucG9pbnRlci5jaGFydFBvc2l0aW9uPW51bGwpfSxvbkNvbnRhaW5lck1vdXNlTW92ZTpmdW5jdGlvbihiKXt2YXIgZD10aGlzLmNoYXJ0O2goYS5ob3ZlckNoYXJ0SW5kZXgpJiZDW2EuaG92ZXJDaGFydEluZGV4XSYmQ1thLmhvdmVyQ2hhcnRJbmRleF0ubW91c2VJc0Rvd258fChhLmhvdmVyQ2hhcnRJbmRleD1kLmluZGV4KTtiPXRoaXMubm9ybWFsaXplKGIpO2IucmV0dXJuVmFsdWU9ITE7XG5cIm1vdXNlZG93blwiPT09ZC5tb3VzZUlzRG93biYmdGhpcy5kcmFnKGIpOyF0aGlzLmluQ2xhc3MoYi50YXJnZXQsXCJoaWdoY2hhcnRzLXRyYWNrZXJcIikmJiFkLmlzSW5zaWRlUGxvdChiLmNoYXJ0WC1kLnBsb3RMZWZ0LGIuY2hhcnRZLWQucGxvdFRvcCl8fGQub3Blbk1lbnV8fHRoaXMucnVuUG9pbnRBY3Rpb25zKGIpfSxpbkNsYXNzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkO2E7KXtpZihkPXooYSxcImNsYXNzXCIpKXtpZigtMSE9PWQuaW5kZXhPZihiKSlyZXR1cm4hMDtpZigtMSE9PWQuaW5kZXhPZihcImhpZ2hjaGFydHMtY29udGFpbmVyXCIpKXJldHVybiExfWE9YS5wYXJlbnROb2RlfX0sb25UcmFja2VyTW91c2VPdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydC5ob3ZlclNlcmllczthPWEucmVsYXRlZFRhcmdldHx8YS50b0VsZW1lbnQ7aWYoISghYnx8IWF8fGIub3B0aW9ucy5zdGlja3lUcmFja2luZ3x8dGhpcy5pbkNsYXNzKGEsXCJoaWdoY2hhcnRzLXRvb2x0aXBcIil8fFxudGhpcy5pbkNsYXNzKGEsXCJoaWdoY2hhcnRzLXNlcmllcy1cIitiLmluZGV4KSYmdGhpcy5pbkNsYXNzKGEsXCJoaWdoY2hhcnRzLXRyYWNrZXJcIikpKWIub25Nb3VzZU91dCgpfSxvbkNvbnRhaW5lckNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsZD1iLmhvdmVyUG9pbnQsYz1iLnBsb3RMZWZ0LGY9Yi5wbG90VG9wO2E9dGhpcy5ub3JtYWxpemUoYSk7Yi5jYW5jZWxDbGlja3x8KGQmJnRoaXMuaW5DbGFzcyhhLnRhcmdldCxcImhpZ2hjaGFydHMtdHJhY2tlclwiKT8oayhkLnNlcmllcyxcImNsaWNrXCIsbChhLHtwb2ludDpkfSkpLGIuaG92ZXJQb2ludCYmZC5maXJlUG9pbnRFdmVudChcImNsaWNrXCIsYSkpOihsKGEsdGhpcy5nZXRDb29yZGluYXRlcyhhKSksYi5pc0luc2lkZVBsb3QoYS5jaGFydFgtYyxhLmNoYXJ0WS1mKSYmayhiLFwiY2xpY2tcIixhKSkpfSxzZXRET01FdmVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5jaGFydC5jb250YWluZXI7Yy5vbm1vdXNlZG93bj1cbmZ1bmN0aW9uKGEpe2Iub25Db250YWluZXJNb3VzZURvd24oYSl9O2Mub25tb3VzZW1vdmU9ZnVuY3Rpb24oYSl7Yi5vbkNvbnRhaW5lck1vdXNlTW92ZShhKX07Yy5vbmNsaWNrPWZ1bmN0aW9uKGEpe2Iub25Db250YWluZXJDbGljayhhKX07QihjLFwibW91c2VsZWF2ZVwiLGIub25Db250YWluZXJNb3VzZUxlYXZlKTsxPT09YS5jaGFydENvdW50JiZCKG4sXCJtb3VzZXVwXCIsYi5vbkRvY3VtZW50TW91c2VVcCk7YS5oYXNUb3VjaCYmKGMub250b3VjaHN0YXJ0PWZ1bmN0aW9uKGEpe2Iub25Db250YWluZXJUb3VjaFN0YXJ0KGEpfSxjLm9udG91Y2htb3ZlPWZ1bmN0aW9uKGEpe2Iub25Db250YWluZXJUb3VjaE1vdmUoYSl9LDE9PT1hLmNoYXJ0Q291bnQmJkIobixcInRvdWNoZW5kXCIsYi5vbkRvY3VtZW50VG91Y2hFbmQpKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiO3AodGhpcy5jaGFydC5jb250YWluZXIsXCJtb3VzZWxlYXZlXCIsdGhpcy5vbkNvbnRhaW5lck1vdXNlTGVhdmUpO2EuY2hhcnRDb3VudHx8XG4ocChuLFwibW91c2V1cFwiLHRoaXMub25Eb2N1bWVudE1vdXNlVXApLHAobixcInRvdWNoZW5kXCIsdGhpcy5vbkRvY3VtZW50VG91Y2hFbmQpKTtjbGVhckludGVydmFsKHRoaXMudG9vbHRpcFRpbWVvdXQpO2ZvcihiIGluIHRoaXMpdGhpc1tiXT1udWxsfX19KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5jaGFydHMsej1hLmVhY2gsQz1hLmV4dGVuZCxFPWEubWFwLHU9YS5ub29wLGg9YS5waWNrO0MoYS5Qb2ludGVyLnByb3RvdHlwZSx7cGluY2hUcmFuc2xhdGU6ZnVuY3Rpb24oYSxoLGwsayxlLGMpe3RoaXMuem9vbUhvciYmdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMCxhLGgsbCxrLGUsYyk7dGhpcy56b29tVmVydCYmdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMSxhLGgsbCxrLGUsYyl9LHBpbmNoVHJhbnNsYXRlRGlyZWN0aW9uOmZ1bmN0aW9uKGEsaCxsLGssZSxjLHAsdSl7dmFyIGI9dGhpcy5jaGFydCxtPWE/XCJ4XCI6XCJ5XCIsZD1hP1wiWFwiOlwiWVwiLHI9XCJjaGFydFwiK1xuZCxuPWE/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdj1iW1wicGxvdFwiKyhhP1wiTGVmdFwiOlwiVG9wXCIpXSxmLHksdD11fHwxLEY9Yi5pbnZlcnRlZCxxPWIuYm91bmRzW2E/XCJoXCI6XCJ2XCJdLHg9MT09PWgubGVuZ3RoLEo9aFswXVtyXSxLPWxbMF1bcl0sTD0heCYmaFsxXVtyXSxnPSF4JiZsWzFdW3JdLEQ7bD1mdW5jdGlvbigpeyF4JiYyMDxNYXRoLmFicyhKLUwpJiYodD11fHxNYXRoLmFicyhLLWcpL01hdGguYWJzKEotTCkpO3k9KHYtSykvdCtKO2Y9YltcInBsb3RcIisoYT9cIldpZHRoXCI6XCJIZWlnaHRcIildL3R9O2woKTtoPXk7aDxxLm1pbj8oaD1xLm1pbixEPSEwKTpoK2Y+cS5tYXgmJihoPXEubWF4LWYsRD0hMCk7RD8oSy09LjgqKEstcFttXVswXSkseHx8KGctPS44KihnLXBbbV1bMV0pKSxsKCkpOnBbbV09W0ssZ107Rnx8KGNbbV09eS12LGNbbl09Zik7Yz1GPzEvdDp0O2Vbbl09ZjtlW21dPWg7a1tGP2E/XCJzY2FsZVlcIjpcInNjYWxlWFwiOlwic2NhbGVcIitkXT10O2tbXCJ0cmFuc2xhdGVcIitkXT1jKlxudisoSy1jKkopfSxwaW5jaDpmdW5jdGlvbihhKXt2YXIgbj10aGlzLGw9bi5jaGFydCxrPW4ucGluY2hEb3duLGU9YS50b3VjaGVzLGM9ZS5sZW5ndGgscD1uLmxhc3RWYWxpZFRvdWNoLEg9bi5oYXNab29tLGI9bi5zZWxlY3Rpb25NYXJrZXIsbT17fSxkPTE9PT1jJiYobi5pbkNsYXNzKGEudGFyZ2V0LFwiaGlnaGNoYXJ0cy10cmFja2VyXCIpJiZsLnJ1blRyYWNrZXJDbGlja3x8bi5ydW5DaGFydENsaWNrKSxyPXt9OzE8YyYmKG4uaW5pdGlhdGVkPSEwKTtIJiZuLmluaXRpYXRlZCYmIWQmJmEucHJldmVudERlZmF1bHQoKTtFKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9ybWFsaXplKGEpfSk7XCJ0b3VjaHN0YXJ0XCI9PT1hLnR5cGU/KHooZSxmdW5jdGlvbihhLGIpe2tbYl09e2NoYXJ0WDphLmNoYXJ0WCxjaGFydFk6YS5jaGFydFl9fSkscC54PVtrWzBdLmNoYXJ0WCxrWzFdJiZrWzFdLmNoYXJ0WF0scC55PVtrWzBdLmNoYXJ0WSxrWzFdJiZrWzFdLmNoYXJ0WV0seihsLmF4ZXMsZnVuY3Rpb24oYSl7aWYoYS56b29tRW5hYmxlZCl7dmFyIGI9XG5sLmJvdW5kc1thLmhvcml6P1wiaFwiOlwidlwiXSxkPWEubWluUGl4ZWxQYWRkaW5nLGM9YS50b1BpeGVscyhoKGEub3B0aW9ucy5taW4sYS5kYXRhTWluKSksZT1hLnRvUGl4ZWxzKGgoYS5vcHRpb25zLm1heCxhLmRhdGFNYXgpKSxtPU1hdGgubWF4KGMsZSk7Yi5taW49TWF0aC5taW4oYS5wb3MsTWF0aC5taW4oYyxlKS1kKTtiLm1heD1NYXRoLm1heChhLnBvcythLmxlbixtK2QpfX0pLG4ucmVzPSEwKTpuLmZvbGxvd1RvdWNoTW92ZSYmMT09PWM/dGhpcy5ydW5Qb2ludEFjdGlvbnMobi5ub3JtYWxpemUoYSkpOmsubGVuZ3RoJiYoYnx8KG4uc2VsZWN0aW9uTWFya2VyPWI9Qyh7ZGVzdHJveTp1LHRvdWNoOiEwfSxsLnBsb3RCb3gpKSxuLnBpbmNoVHJhbnNsYXRlKGssZSxtLGIscixwKSxuLmhhc1BpbmNoZWQ9SCxuLnNjYWxlR3JvdXBzKG0sciksbi5yZXMmJihuLnJlcz0hMSx0aGlzLnJlc2V0KCExLDApKSl9LHRvdWNoOmZ1bmN0aW9uKG4sdCl7dmFyIGw9dGhpcy5jaGFydCxrLGU7XG5pZihsLmluZGV4IT09YS5ob3ZlckNoYXJ0SW5kZXgpdGhpcy5vbkNvbnRhaW5lck1vdXNlTGVhdmUoe3JlbGF0ZWRUYXJnZXQ6ITB9KTthLmhvdmVyQ2hhcnRJbmRleD1sLmluZGV4OzE9PT1uLnRvdWNoZXMubGVuZ3RoPyhuPXRoaXMubm9ybWFsaXplKG4pLChlPWwuaXNJbnNpZGVQbG90KG4uY2hhcnRYLWwucGxvdExlZnQsbi5jaGFydFktbC5wbG90VG9wKSkmJiFsLm9wZW5NZW51Pyh0JiZ0aGlzLnJ1blBvaW50QWN0aW9ucyhuKSxcInRvdWNobW92ZVwiPT09bi50eXBlJiYodD10aGlzLnBpbmNoRG93bixrPXRbMF0/NDw9TWF0aC5zcXJ0KE1hdGgucG93KHRbMF0uY2hhcnRYLW4uY2hhcnRYLDIpK01hdGgucG93KHRbMF0uY2hhcnRZLW4uY2hhcnRZLDIpKTohMSksaChrLCEwKSYmdGhpcy5waW5jaChuKSk6dCYmdGhpcy5yZXNldCgpKToyPT09bi50b3VjaGVzLmxlbmd0aCYmdGhpcy5waW5jaChuKX0sb25Db250YWluZXJUb3VjaFN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMuem9vbU9wdGlvbihhKTtcbnRoaXMudG91Y2goYSwhMCl9LG9uQ29udGFpbmVyVG91Y2hNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMudG91Y2goYSl9LG9uRG9jdW1lbnRUb3VjaEVuZDpmdW5jdGlvbihoKXtCW2EuaG92ZXJDaGFydEluZGV4XSYmQlthLmhvdmVyQ2hhcnRJbmRleF0ucG9pbnRlci5kcm9wKGgpfX0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmNoYXJ0cyxDPWEuY3NzLEU9YS5kb2MsdT1hLmV4dGVuZCxoPWEubm9vcCxuPWEuUG9pbnRlcix0PWEucmVtb3ZlRXZlbnQsbD1hLndpbixrPWEud3JhcDtpZihsLlBvaW50ZXJFdmVudHx8bC5NU1BvaW50ZXJFdmVudCl7dmFyIGU9e30sYz0hIWwuUG9pbnRlckV2ZW50LHA9ZnVuY3Rpb24oKXt2YXIgYSxjPVtdO2MuaXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX07Zm9yKGEgaW4gZSllLmhhc093blByb3BlcnR5KGEpJiZjLnB1c2goe3BhZ2VYOmVbYV0ucGFnZVgscGFnZVk6ZVthXS5wYWdlWSx0YXJnZXQ6ZVthXS50YXJnZXR9KTtcbnJldHVybiBjfSxIPWZ1bmN0aW9uKGIsYyxkLGUpe1widG91Y2hcIiE9PWIucG9pbnRlclR5cGUmJmIucG9pbnRlclR5cGUhPT1iLk1TUE9JTlRFUl9UWVBFX1RPVUNIfHwhelthLmhvdmVyQ2hhcnRJbmRleF18fChlKGIpLGU9elthLmhvdmVyQ2hhcnRJbmRleF0ucG9pbnRlcixlW2NdKHt0eXBlOmQsdGFyZ2V0OmIuY3VycmVudFRhcmdldCxwcmV2ZW50RGVmYXVsdDpoLHRvdWNoZXM6cCgpfSkpfTt1KG4ucHJvdG90eXBlLHtvbkNvbnRhaW5lclBvaW50ZXJEb3duOmZ1bmN0aW9uKGEpe0goYSxcIm9uQ29udGFpbmVyVG91Y2hTdGFydFwiLFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGEpe2VbYS5wb2ludGVySWRdPXtwYWdlWDphLnBhZ2VYLHBhZ2VZOmEucGFnZVksdGFyZ2V0OmEuY3VycmVudFRhcmdldH19KX0sb25Db250YWluZXJQb2ludGVyTW92ZTpmdW5jdGlvbihhKXtIKGEsXCJvbkNvbnRhaW5lclRvdWNoTW92ZVwiLFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oYSl7ZVthLnBvaW50ZXJJZF09e3BhZ2VYOmEucGFnZVgsXG5wYWdlWTphLnBhZ2VZfTtlW2EucG9pbnRlcklkXS50YXJnZXR8fChlW2EucG9pbnRlcklkXS50YXJnZXQ9YS5jdXJyZW50VGFyZ2V0KX0pfSxvbkRvY3VtZW50UG9pbnRlclVwOmZ1bmN0aW9uKGEpe0goYSxcIm9uRG9jdW1lbnRUb3VjaEVuZFwiLFwidG91Y2hlbmRcIixmdW5jdGlvbihhKXtkZWxldGUgZVthLnBvaW50ZXJJZF19KX0sYmF0Y2hNU0V2ZW50czpmdW5jdGlvbihhKXthKHRoaXMuY2hhcnQuY29udGFpbmVyLGM/XCJwb2ludGVyZG93blwiOlwiTVNQb2ludGVyRG93blwiLHRoaXMub25Db250YWluZXJQb2ludGVyRG93bik7YSh0aGlzLmNoYXJ0LmNvbnRhaW5lcixjP1wicG9pbnRlcm1vdmVcIjpcIk1TUG9pbnRlck1vdmVcIix0aGlzLm9uQ29udGFpbmVyUG9pbnRlck1vdmUpO2EoRSxjP1wicG9pbnRlcnVwXCI6XCJNU1BvaW50ZXJVcFwiLHRoaXMub25Eb2N1bWVudFBvaW50ZXJVcCl9fSk7ayhuLnByb3RvdHlwZSxcImluaXRcIixmdW5jdGlvbihhLGMsZCl7YS5jYWxsKHRoaXMsYyxkKTt0aGlzLmhhc1pvb20mJlxuQyhjLmNvbnRhaW5lcix7XCItbXMtdG91Y2gtYWN0aW9uXCI6XCJub25lXCIsXCJ0b3VjaC1hY3Rpb25cIjpcIm5vbmVcIn0pfSk7ayhuLnByb3RvdHlwZSxcInNldERPTUV2ZW50c1wiLGZ1bmN0aW9uKGEpe2EuYXBwbHkodGhpcyk7KHRoaXMuaGFzWm9vbXx8dGhpcy5mb2xsb3dUb3VjaE1vdmUpJiZ0aGlzLmJhdGNoTVNFdmVudHMoQil9KTtrKG4ucHJvdG90eXBlLFwiZGVzdHJveVwiLGZ1bmN0aW9uKGEpe3RoaXMuYmF0Y2hNU0V2ZW50cyh0KTthLmNhbGwodGhpcyl9KX19KShJKTsoZnVuY3Rpb24oYSl7dmFyIEIsej1hLmFkZEV2ZW50LEM9YS5jc3MsRT1hLmRpc2NhcmRFbGVtZW50LHU9YS5kZWZpbmVkLGg9YS5lYWNoLG49YS5pc0ZpcmVmb3gsdD1hLm1hcmdpbk5hbWVzLGw9YS5tZXJnZSxrPWEucGljayxlPWEuc2V0QW5pbWF0aW9uLGM9YS5zdGFibGVTb3J0LHA9YS53aW4sSD1hLndyYXA7Qj1hLkxlZ2VuZD1mdW5jdGlvbihhLGMpe3RoaXMuaW5pdChhLGMpfTtCLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihhLFxuYyl7dGhpcy5jaGFydD1hO3RoaXMuc2V0T3B0aW9ucyhjKTtjLmVuYWJsZWQmJih0aGlzLnJlbmRlcigpLHoodGhpcy5jaGFydCxcImVuZFJlc2l6ZVwiLGZ1bmN0aW9uKCl7dGhpcy5sZWdlbmQucG9zaXRpb25DaGVja2JveGVzKCl9KSl9LHNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9ayhhLnBhZGRpbmcsOCk7dGhpcy5vcHRpb25zPWE7dGhpcy5pdGVtU3R5bGU9YS5pdGVtU3R5bGU7dGhpcy5pdGVtSGlkZGVuU3R5bGU9bCh0aGlzLml0ZW1TdHlsZSxhLml0ZW1IaWRkZW5TdHlsZSk7dGhpcy5pdGVtTWFyZ2luVG9wPWEuaXRlbU1hcmdpblRvcHx8MDt0aGlzLmluaXRpYWxJdGVtWD10aGlzLnBhZGRpbmc9Yjt0aGlzLmluaXRpYWxJdGVtWT1iLTU7dGhpcy5pdGVtSGVpZ2h0PXRoaXMubWF4SXRlbVdpZHRoPTA7dGhpcy5zeW1ib2xXaWR0aD1rKGEuc3ltYm9sV2lkdGgsMTYpO3RoaXMucGFnZXM9W119LHVwZGF0ZTpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMuY2hhcnQ7dGhpcy5zZXRPcHRpb25zKGwoITAsXG50aGlzLm9wdGlvbnMsYSkpO3RoaXMuZGVzdHJveSgpO2IuaXNEaXJ0eUxlZ2VuZD1iLmlzRGlydHlCb3g9ITA7ayhjLCEwKSYmYi5yZWRyYXcoKX0sY29sb3JpemVJdGVtOmZ1bmN0aW9uKGEsYyl7YS5sZWdlbmRHcm91cFtjP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKFwiaGlnaGNoYXJ0cy1sZWdlbmQtaXRlbS1oaWRkZW5cIik7dmFyIGI9dGhpcy5vcHRpb25zLGU9YS5sZWdlbmRJdGVtLG09YS5sZWdlbmRMaW5lLGs9YS5sZWdlbmRTeW1ib2wsZj10aGlzLml0ZW1IaWRkZW5TdHlsZS5jb2xvcixiPWM/Yi5pdGVtU3R5bGUuY29sb3I6ZixwPWM/YS5jb2xvcnx8ZjpmLGg9YS5vcHRpb25zJiZhLm9wdGlvbnMubWFya2VyLGw9e2ZpbGw6cH0scTtlJiZlLmNzcyh7ZmlsbDpiLGNvbG9yOmJ9KTttJiZtLmF0dHIoe3N0cm9rZTpwfSk7aWYoayl7aWYoaCYmay5pc01hcmtlciYmKGw9YS5wb2ludEF0dHJpYnMoKSwhYykpZm9yKHEgaW4gbClsW3FdPWY7ay5hdHRyKGwpfX0scG9zaXRpb25JdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPVxudGhpcy5vcHRpb25zLGQ9Yi5zeW1ib2xQYWRkaW5nLGI9IWIucnRsLGM9YS5fbGVnZW5kSXRlbVBvcyxlPWNbMF0sYz1jWzFdLGs9YS5jaGVja2JveDsoYT1hLmxlZ2VuZEdyb3VwKSYmYS5lbGVtZW50JiZhLnRyYW5zbGF0ZShiP2U6dGhpcy5sZWdlbmRXaWR0aC1lLTIqZC00LGMpO2smJihrLng9ZSxrLnk9Yyl9LGRlc3Ryb3lJdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hlY2tib3g7aChbXCJsZWdlbmRJdGVtXCIsXCJsZWdlbmRMaW5lXCIsXCJsZWdlbmRTeW1ib2xcIixcImxlZ2VuZEdyb3VwXCJdLGZ1bmN0aW9uKGIpe2FbYl0mJihhW2JdPWFbYl0uZGVzdHJveSgpKX0pO2ImJkUoYS5jaGVja2JveCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXNbYV0mJih0aGlzW2FdPXRoaXNbYV0uZGVzdHJveSgpKX1oKHRoaXMuZ2V0QWxsSXRlbXMoKSxmdW5jdGlvbihiKXtoKFtcImxlZ2VuZEl0ZW1cIixcImxlZ2VuZEdyb3VwXCJdLGEsYil9KTtoKFwiY2xpcFJlY3QgdXAgZG93biBwYWdlciBuYXYgYm94IHRpdGxlIGdyb3VwXCIuc3BsaXQoXCIgXCIpLFxuYSx0aGlzKTt0aGlzLmRpc3BsYXk9bnVsbH0scG9zaXRpb25DaGVja2JveGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JvdXAmJnRoaXMuZ3JvdXAuYWxpZ25BdHRyLGQsYz10aGlzLmNsaXBIZWlnaHR8fHRoaXMubGVnZW5kSGVpZ2h0LGU9dGhpcy50aXRsZUhlaWdodDtiJiYoZD1iLnRyYW5zbGF0ZVksaCh0aGlzLmFsbEl0ZW1zLGZ1bmN0aW9uKG0pe3ZhciBmPW0uY2hlY2tib3gsaztmJiYoaz1kK2UrZi55KyhhfHwwKSszLEMoZix7bGVmdDpiLnRyYW5zbGF0ZVgrbS5jaGVja2JveE9mZnNldCtmLngtMjArXCJweFwiLHRvcDprK1wicHhcIixkaXNwbGF5Oms+ZC02JiZrPGQrYy02P1wiXCI6XCJub25lXCJ9KSl9KSl9LHJlbmRlclRpdGxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYWRkaW5nLGM9dGhpcy5vcHRpb25zLnRpdGxlLGQ9MDtjLnRleHQmJih0aGlzLnRpdGxlfHwodGhpcy50aXRsZT10aGlzLmNoYXJ0LnJlbmRlcmVyLmxhYmVsKGMudGV4dCxhLTMsYS00LG51bGwsbnVsbCxudWxsLFxubnVsbCxudWxsLFwibGVnZW5kLXRpdGxlXCIpLmF0dHIoe3pJbmRleDoxfSkuY3NzKGMuc3R5bGUpLmFkZCh0aGlzLmdyb3VwKSksYT10aGlzLnRpdGxlLmdldEJCb3goKSxkPWEuaGVpZ2h0LHRoaXMub2Zmc2V0V2lkdGg9YS53aWR0aCx0aGlzLmNvbnRlbnRHcm91cC5hdHRyKHt0cmFuc2xhdGVZOmR9KSk7dGhpcy50aXRsZUhlaWdodD1kfSxzZXRUZXh0OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucztiLmxlZ2VuZEl0ZW0uYXR0cih7dGV4dDpjLmxhYmVsRm9ybWF0P2EuZm9ybWF0KGMubGFiZWxGb3JtYXQsYik6Yy5sYWJlbEZvcm1hdHRlci5jYWxsKGIpfSl9LHJlbmRlckl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxkPWIucmVuZGVyZXIsYz10aGlzLm9wdGlvbnMsZT1cImhvcml6b250YWxcIj09PWMubGF5b3V0LHA9dGhpcy5zeW1ib2xXaWR0aCxmPWMuc3ltYm9sUGFkZGluZyxoPXRoaXMuaXRlbVN0eWxlLG49dGhpcy5pdGVtSGlkZGVuU3R5bGUsdD10aGlzLnBhZGRpbmcsXG5xPWU/ayhjLml0ZW1EaXN0YW5jZSwyMCk6MCx4PSFjLnJ0bCxKPWMud2lkdGgsdT1jLml0ZW1NYXJnaW5Cb3R0b218fDAsTD10aGlzLml0ZW1NYXJnaW5Ub3AsZz10aGlzLmluaXRpYWxJdGVtWCxEPWEubGVnZW5kSXRlbSxIPSFhLnNlcmllcyx6PSFIJiZhLnNlcmllcy5kcmF3TGVnZW5kU3ltYm9sP2Euc2VyaWVzOmEsQj16Lm9wdGlvbnMsQj10aGlzLmNyZWF0ZUNoZWNrYm94Rm9ySXRlbSYmQiYmQi5zaG93Q2hlY2tib3gsQz1jLnVzZUhUTUw7RHx8KGEubGVnZW5kR3JvdXA9ZC5nKFwibGVnZW5kLWl0ZW1cIikuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLVwiK3oudHlwZStcIi1zZXJpZXMgaGlnaGNoYXJ0cy1jb2xvci1cIithLmNvbG9ySW5kZXgrKGEub3B0aW9ucy5jbGFzc05hbWU/XCIgXCIrYS5vcHRpb25zLmNsYXNzTmFtZTpcIlwiKSsoSD9cIiBoaWdoY2hhcnRzLXNlcmllcy1cIithLmluZGV4OlwiXCIpKS5hdHRyKHt6SW5kZXg6MX0pLmFkZCh0aGlzLnNjcm9sbEdyb3VwKSxhLmxlZ2VuZEl0ZW09RD1cbmQudGV4dChcIlwiLHg/cCtmOi1mLHRoaXMuYmFzZWxpbmV8fDAsQykuY3NzKGwoYS52aXNpYmxlP2g6bikpLmF0dHIoe2FsaWduOng/XCJsZWZ0XCI6XCJyaWdodFwiLHpJbmRleDoyfSkuYWRkKGEubGVnZW5kR3JvdXApLHRoaXMuYmFzZWxpbmV8fChoPWguZm9udFNpemUsdGhpcy5mb250TWV0cmljcz1kLmZvbnRNZXRyaWNzKGgsRCksdGhpcy5iYXNlbGluZT10aGlzLmZvbnRNZXRyaWNzLmYrMytMLEQuYXR0cihcInlcIix0aGlzLmJhc2VsaW5lKSksdGhpcy5zeW1ib2xIZWlnaHQ9Yy5zeW1ib2xIZWlnaHR8fHRoaXMuZm9udE1ldHJpY3MuZix6LmRyYXdMZWdlbmRTeW1ib2wodGhpcyxhKSx0aGlzLnNldEl0ZW1FdmVudHMmJnRoaXMuc2V0SXRlbUV2ZW50cyhhLEQsQyksQiYmdGhpcy5jcmVhdGVDaGVja2JveEZvckl0ZW0oYSkpO3RoaXMuY29sb3JpemVJdGVtKGEsYS52aXNpYmxlKTt0aGlzLnNldFRleHQoYSk7ZD1ELmdldEJCb3goKTtwPWEuY2hlY2tib3hPZmZzZXQ9Yy5pdGVtV2lkdGh8fFxuYS5sZWdlbmRJdGVtV2lkdGh8fHArZitkLndpZHRoK3ErKEI/MjA6MCk7dGhpcy5pdGVtSGVpZ2h0PWY9TWF0aC5yb3VuZChhLmxlZ2VuZEl0ZW1IZWlnaHR8fGQuaGVpZ2h0KTtlJiZ0aGlzLml0ZW1YLWcrcD4oSnx8Yi5jaGFydFdpZHRoLTIqdC1nLWMueCkmJih0aGlzLml0ZW1YPWcsdGhpcy5pdGVtWSs9TCt0aGlzLmxhc3RMaW5lSGVpZ2h0K3UsdGhpcy5sYXN0TGluZUhlaWdodD0wKTt0aGlzLm1heEl0ZW1XaWR0aD1NYXRoLm1heCh0aGlzLm1heEl0ZW1XaWR0aCxwKTt0aGlzLmxhc3RJdGVtWT1MK3RoaXMuaXRlbVkrdTt0aGlzLmxhc3RMaW5lSGVpZ2h0PU1hdGgubWF4KGYsdGhpcy5sYXN0TGluZUhlaWdodCk7YS5fbGVnZW5kSXRlbVBvcz1bdGhpcy5pdGVtWCx0aGlzLml0ZW1ZXTtlP3RoaXMuaXRlbVgrPXA6KHRoaXMuaXRlbVkrPUwrZit1LHRoaXMubGFzdExpbmVIZWlnaHQ9Zik7dGhpcy5vZmZzZXRXaWR0aD1KfHxNYXRoLm1heCgoZT90aGlzLml0ZW1YLWctcTpwKSt0LFxudGhpcy5vZmZzZXRXaWR0aCl9LGdldEFsbEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE9W107aCh0aGlzLmNoYXJ0LnNlcmllcyxmdW5jdGlvbihiKXt2YXIgZD1iJiZiLm9wdGlvbnM7YiYmayhkLnNob3dJbkxlZ2VuZCx1KGQubGlua2VkVG8pPyExOnZvaWQgMCwhMCkmJihhPWEuY29uY2F0KGIubGVnZW5kSXRlbXN8fChcInBvaW50XCI9PT1kLmxlZ2VuZFR5cGU/Yi5kYXRhOmIpKSl9KTtyZXR1cm4gYX0sYWRqdXN0TWFyZ2luczpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMuY2hhcnQsZT10aGlzLm9wdGlvbnMsbT1lLmFsaWduLmNoYXJBdCgwKStlLnZlcnRpY2FsQWxpZ24uY2hhckF0KDApK2UubGF5b3V0LmNoYXJBdCgwKTtlLmZsb2F0aW5nfHxoKFsvKGx0aHxjdHxydGgpLywvKHJ0dnxybXxyYnYpLywvKHJiaHxjYnxsYmgpLywvKGxidnxsbXxsdHYpL10sZnVuY3Rpb24oZCxmKXtkLnRlc3QobSkmJiF1KGFbZl0pJiYoYlt0W2ZdXT1NYXRoLm1heChiW3RbZl1dLGIubGVnZW5kWyhmKzEpJVxuMj9cImxlZ2VuZEhlaWdodFwiOlwibGVnZW5kV2lkdGhcIl0rWzEsLTEsLTEsMV1bZl0qZVtmJTI/XCJ4XCI6XCJ5XCJdK2soZS5tYXJnaW4sMTIpK2NbZl0pKX0pfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGU9YS5jaGFydCxkPWUucmVuZGVyZXIsaz1hLmdyb3VwLHAsbixmLHksdD1hLmJveCx1PWEub3B0aW9ucyxxPWEucGFkZGluZzthLml0ZW1YPWEuaW5pdGlhbEl0ZW1YO2EuaXRlbVk9YS5pbml0aWFsSXRlbVk7YS5vZmZzZXRXaWR0aD0wO2EubGFzdEl0ZW1ZPTA7a3x8KGEuZ3JvdXA9az1kLmcoXCJsZWdlbmRcIikuYXR0cih7ekluZGV4Ojd9KS5hZGQoKSxhLmNvbnRlbnRHcm91cD1kLmcoKS5hdHRyKHt6SW5kZXg6MX0pLmFkZChrKSxhLnNjcm9sbEdyb3VwPWQuZygpLmFkZChhLmNvbnRlbnRHcm91cCkpO2EucmVuZGVyVGl0bGUoKTtwPWEuZ2V0QWxsSXRlbXMoKTtjKHAsZnVuY3Rpb24oYSxiKXtyZXR1cm4oYS5vcHRpb25zJiZhLm9wdGlvbnMubGVnZW5kSW5kZXh8fDApLShiLm9wdGlvbnMmJlxuYi5vcHRpb25zLmxlZ2VuZEluZGV4fHwwKX0pO3UucmV2ZXJzZWQmJnAucmV2ZXJzZSgpO2EuYWxsSXRlbXM9cDthLmRpc3BsYXk9bj0hIXAubGVuZ3RoO2EubGFzdExpbmVIZWlnaHQ9MDtoKHAsZnVuY3Rpb24oYil7YS5yZW5kZXJJdGVtKGIpfSk7Zj0odS53aWR0aHx8YS5vZmZzZXRXaWR0aCkrcTt5PWEubGFzdEl0ZW1ZK2EubGFzdExpbmVIZWlnaHQrYS50aXRsZUhlaWdodDt5PWEuaGFuZGxlT3ZlcmZsb3coeSk7eSs9cTt0fHwoYS5ib3g9dD1kLnJlY3QoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtbGVnZW5kLWJveFwiKS5hdHRyKHtyOnUuYm9yZGVyUmFkaXVzfSkuYWRkKGspLHQuaXNOZXc9ITApO3QuYXR0cih7c3Ryb2tlOnUuYm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjp1LmJvcmRlcldpZHRofHwwLGZpbGw6dS5iYWNrZ3JvdW5kQ29sb3J8fFwibm9uZVwifSkuc2hhZG93KHUuc2hhZG93KTswPGYmJjA8eSYmKHRbdC5pc05ldz9cImF0dHJcIjpcImFuaW1hdGVcIl0odC5jcmlzcCh7eDowLFxueTowLHdpZHRoOmYsaGVpZ2h0Onl9LHQuc3Ryb2tlV2lkdGgoKSkpLHQuaXNOZXc9ITEpO3Rbbj9cInNob3dcIjpcImhpZGVcIl0oKTthLmxlZ2VuZFdpZHRoPWY7YS5sZWdlbmRIZWlnaHQ9eTtoKHAsZnVuY3Rpb24oYil7YS5wb3NpdGlvbkl0ZW0oYil9KTtuJiZrLmFsaWduKGwodSx7d2lkdGg6ZixoZWlnaHQ6eX0pLCEwLFwic3BhY2luZ0JveFwiKTtlLmlzUmVzaXppbmd8fHRoaXMucG9zaXRpb25DaGVja2JveGVzKCl9LGhhbmRsZU92ZXJmbG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZD10aGlzLmNoYXJ0LGM9ZC5yZW5kZXJlcixlPXRoaXMub3B0aW9ucyxwPWUueSxkPWQuc3BhY2luZ0JveC5oZWlnaHQrKFwidG9wXCI9PT1lLnZlcnRpY2FsQWxpZ24/LXA6cCktdGhpcy5wYWRkaW5nLHA9ZS5tYXhIZWlnaHQsZixsPXRoaXMuY2xpcFJlY3Qsbj1lLm5hdmlnYXRpb24sdD1rKG4uYW5pbWF0aW9uLCEwKSxxPW4uYXJyb3dTaXplfHwxMix4PXRoaXMubmF2LHU9dGhpcy5wYWdlcyxLPXRoaXMucGFkZGluZyxcbkwsZz10aGlzLmFsbEl0ZW1zLEQ9ZnVuY3Rpb24oYSl7YT9sLmF0dHIoe2hlaWdodDphfSk6bCYmKGIuY2xpcFJlY3Q9bC5kZXN0cm95KCksYi5jb250ZW50R3JvdXAuY2xpcCgpKTtiLmNvbnRlbnRHcm91cC5kaXYmJihiLmNvbnRlbnRHcm91cC5kaXYuc3R5bGUuY2xpcD1hP1wicmVjdChcIitLK1wicHgsOTk5OXB4LFwiKyhLK2EpK1wicHgsMClcIjpcImF1dG9cIil9O1wiaG9yaXpvbnRhbFwiIT09ZS5sYXlvdXR8fFwibWlkZGxlXCI9PT1lLnZlcnRpY2FsQWxpZ258fGUuZmxvYXRpbmd8fChkLz0yKTtwJiYoZD1NYXRoLm1pbihkLHApKTt1Lmxlbmd0aD0wO2E+ZCYmITEhPT1uLmVuYWJsZWQ/KHRoaXMuY2xpcEhlaWdodD1mPU1hdGgubWF4KGQtMjAtdGhpcy50aXRsZUhlaWdodC1LLDApLHRoaXMuY3VycmVudFBhZ2U9ayh0aGlzLmN1cnJlbnRQYWdlLDEpLHRoaXMuZnVsbEhlaWdodD1hLGgoZyxmdW5jdGlvbihhLGIpe3ZhciBkPWEuX2xlZ2VuZEl0ZW1Qb3NbMV07YT1NYXRoLnJvdW5kKGEubGVnZW5kSXRlbS5nZXRCQm94KCkuaGVpZ2h0KTtcbnZhciBjPXUubGVuZ3RoO2lmKCFjfHxkLXVbYy0xXT5mJiYoTHx8ZCkhPT11W2MtMV0pdS5wdXNoKEx8fGQpLGMrKztiPT09Zy5sZW5ndGgtMSYmZCthLXVbYy0xXT5mJiZ1LnB1c2goZCk7ZCE9PUwmJihMPWQpfSksbHx8KGw9Yi5jbGlwUmVjdD1jLmNsaXBSZWN0KDAsSyw5OTk5LDApLGIuY29udGVudEdyb3VwLmNsaXAobCkpLEQoZikseHx8KHRoaXMubmF2PXg9Yy5nKCkuYXR0cih7ekluZGV4OjF9KS5hZGQodGhpcy5ncm91cCksdGhpcy51cD1jLnN5bWJvbChcInRyaWFuZ2xlXCIsMCwwLHEscSkub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5zY3JvbGwoLTEsdCl9KS5hZGQoeCksdGhpcy5wYWdlcj1jLnRleHQoXCJcIiwxNSwxMCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWxlZ2VuZC1uYXZpZ2F0aW9uXCIpLmNzcyhuLnN0eWxlKS5hZGQoeCksdGhpcy5kb3duPWMuc3ltYm9sKFwidHJpYW5nbGUtZG93blwiLDAsMCxxLHEpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2Iuc2Nyb2xsKDEsdCl9KS5hZGQoeCkpLFxuYi5zY3JvbGwoMCksYT1kKTp4JiYoRCgpLHRoaXMubmF2PXguZGVzdHJveSgpLHRoaXMuc2Nyb2xsR3JvdXAuYXR0cih7dHJhbnNsYXRlWToxfSksdGhpcy5jbGlwSGVpZ2h0PTApO3JldHVybiBhfSxzY3JvbGw6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLnBhZ2VzLG09Yi5sZW5ndGg7YT10aGlzLmN1cnJlbnRQYWdlK2E7dmFyIGs9dGhpcy5jbGlwSGVpZ2h0LHA9dGhpcy5vcHRpb25zLm5hdmlnYXRpb24sZj10aGlzLnBhZ2VyLGg9dGhpcy5wYWRkaW5nO2E+bSYmKGE9bSk7MDxhJiYodm9pZCAwIT09YyYmZShjLHRoaXMuY2hhcnQpLHRoaXMubmF2LmF0dHIoe3RyYW5zbGF0ZVg6aCx0cmFuc2xhdGVZOmsrdGhpcy5wYWRkaW5nKzcrdGhpcy50aXRsZUhlaWdodCx2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy51cC5hdHRyKHtcImNsYXNzXCI6MT09PWE/XCJoaWdoY2hhcnRzLWxlZ2VuZC1uYXYtaW5hY3RpdmVcIjpcImhpZ2hjaGFydHMtbGVnZW5kLW5hdi1hY3RpdmVcIn0pLGYuYXR0cih7dGV4dDphK1xuXCIvXCIrbX0pLHRoaXMuZG93bi5hdHRyKHt4OjE4K3RoaXMucGFnZXIuZ2V0QkJveCgpLndpZHRoLFwiY2xhc3NcIjphPT09bT9cImhpZ2hjaGFydHMtbGVnZW5kLW5hdi1pbmFjdGl2ZVwiOlwiaGlnaGNoYXJ0cy1sZWdlbmQtbmF2LWFjdGl2ZVwifSksdGhpcy51cC5hdHRyKHtmaWxsOjE9PT1hP3AuaW5hY3RpdmVDb2xvcjpwLmFjdGl2ZUNvbG9yfSkuY3NzKHtjdXJzb3I6MT09PWE/XCJkZWZhdWx0XCI6XCJwb2ludGVyXCJ9KSx0aGlzLmRvd24uYXR0cih7ZmlsbDphPT09bT9wLmluYWN0aXZlQ29sb3I6cC5hY3RpdmVDb2xvcn0pLmNzcyh7Y3Vyc29yOmE9PT1tP1wiZGVmYXVsdFwiOlwicG9pbnRlclwifSksYz0tYlthLTFdK3RoaXMuaW5pdGlhbEl0ZW1ZLHRoaXMuc2Nyb2xsR3JvdXAuYW5pbWF0ZSh7dHJhbnNsYXRlWTpjfSksdGhpcy5jdXJyZW50UGFnZT1hLHRoaXMucG9zaXRpb25DaGVja2JveGVzKGMpKX19O2EuTGVnZW5kU3ltYm9sTWl4aW49e2RyYXdSZWN0YW5nbGU6ZnVuY3Rpb24oYSxjKXt2YXIgYj1cbmEuc3ltYm9sSGVpZ2h0LGU9YS5vcHRpb25zLnNxdWFyZVN5bWJvbDtjLmxlZ2VuZFN5bWJvbD10aGlzLmNoYXJ0LnJlbmRlcmVyLnJlY3QoZT8oYS5zeW1ib2xXaWR0aC1iKS8yOjAsYS5iYXNlbGluZS1iKzEsZT9iOmEuc3ltYm9sV2lkdGgsYixrKGEub3B0aW9ucy5zeW1ib2xSYWRpdXMsYi8yKSkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXBvaW50XCIpLmF0dHIoe3pJbmRleDozfSkuYWRkKGMubGVnZW5kR3JvdXApfSxkcmF3TGluZU1hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsYz1iLm1hcmtlcixlPWEuc3ltYm9sV2lkdGgscD1hLnN5bWJvbEhlaWdodCxoPXAvMixmPXRoaXMuY2hhcnQucmVuZGVyZXIsbj10aGlzLmxlZ2VuZEdyb3VwO2E9YS5iYXNlbGluZS1NYXRoLnJvdW5kKC4zKmEuZm9udE1ldHJpY3MuYik7dmFyIHQ7dD17XCJzdHJva2Utd2lkdGhcIjpiLmxpbmVXaWR0aHx8MH07Yi5kYXNoU3R5bGUmJih0LmRhc2hzdHlsZT1iLmRhc2hTdHlsZSk7dGhpcy5sZWdlbmRMaW5lPVxuZi5wYXRoKFtcIk1cIiwwLGEsXCJMXCIsZSxhXSkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWdyYXBoXCIpLmF0dHIodCkuYWRkKG4pO2MmJiExIT09Yy5lbmFibGVkJiYoYj1NYXRoLm1pbihrKGMucmFkaXVzLGgpLGgpLDA9PT10aGlzLnN5bWJvbC5pbmRleE9mKFwidXJsXCIpJiYoYz1sKGMse3dpZHRoOnAsaGVpZ2h0OnB9KSxiPTApLHRoaXMubGVnZW5kU3ltYm9sPWM9Zi5zeW1ib2wodGhpcy5zeW1ib2wsZS8yLWIsYS1iLDIqYiwyKmIsYykuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXBvaW50XCIpLmFkZChuKSxjLmlzTWFya2VyPSEwKX19OygvVHJpZGVudFxcLzdcXC4wLy50ZXN0KHAubmF2aWdhdG9yLnVzZXJBZ2VudCl8fG4pJiZIKEIucHJvdG90eXBlLFwicG9zaXRpb25JdGVtXCIsZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLGU9ZnVuY3Rpb24oKXtjLl9sZWdlbmRJdGVtUG9zJiZhLmNhbGwoYixjKX07ZSgpO3NldFRpbWVvdXQoZSl9KX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LHo9XG5hLmFuaW1hdGUsQz1hLmFuaW1PYmplY3QsRT1hLmF0dHIsdT1hLmRvYyxoPWEuQXhpcyxuPWEuY3JlYXRlRWxlbWVudCx0PWEuZGVmYXVsdE9wdGlvbnMsbD1hLmRpc2NhcmRFbGVtZW50LGs9YS5jaGFydHMsZT1hLmNzcyxjPWEuZGVmaW5lZCxwPWEuZWFjaCxIPWEuZXh0ZW5kLGI9YS5maW5kLG09YS5maXJlRXZlbnQsZD1hLmdldFN0eWxlLHI9YS5ncmVwLEE9YS5pc051bWJlcix2PWEuaXNPYmplY3QsZj1hLmlzU3RyaW5nLHk9YS5MZWdlbmQsRz1hLm1hcmdpbk5hbWVzLEY9YS5tZXJnZSxxPWEuUG9pbnRlcix4PWEucGljayxKPWEucEludCxLPWEucmVtb3ZlRXZlbnQsTD1hLnNlcmllc1R5cGVzLGc9YS5zcGxhdCxEPWEuc3ZnLFM9YS5zeW5jVGltZW91dCxNPWEud2luLFI9YS5SZW5kZXJlcixOPWEuQ2hhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdldEFyZ3MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IE4oYSxiLGMpfTtOLnByb3RvdHlwZT1cbntjYWxsYmFja3M6W10sZ2V0QXJnczpmdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZihmKGFbMF0pfHxhWzBdLm5vZGVOYW1lKXRoaXMucmVuZGVyVG89YS5zaGlmdCgpO3RoaXMuaW5pdChhWzBdLGFbMV0pfSxpbml0OmZ1bmN0aW9uKGIsYyl7dmFyIGQsZj1iLnNlcmllcztiLnNlcmllcz1udWxsO2Q9Rih0LGIpO2Quc2VyaWVzPWIuc2VyaWVzPWY7dGhpcy51c2VyT3B0aW9ucz1iO2I9ZC5jaGFydDtmPWIuZXZlbnRzO3RoaXMubWFyZ2luPVtdO3RoaXMuc3BhY2luZz1bXTt0aGlzLmJvdW5kcz17aDp7fSx2Ont9fTt0aGlzLmNhbGxiYWNrPWM7dGhpcy5pc1Jlc2l6aW5nPTA7dGhpcy5vcHRpb25zPWQ7dGhpcy5heGVzPVtdO3RoaXMuc2VyaWVzPVtdO3RoaXMuaGFzQ2FydGVzaWFuU2VyaWVzPWIuc2hvd0F4ZXM7dmFyIGc7dGhpcy5pbmRleD1rLmxlbmd0aDtrLnB1c2godGhpcyk7YS5jaGFydENvdW50Kys7aWYoZilmb3IoZyBpbiBmKUIodGhpcyxnLFxuZltnXSk7dGhpcy54QXhpcz1bXTt0aGlzLnlBeGlzPVtdO3RoaXMucG9pbnRDb3VudD10aGlzLmNvbG9yQ291bnRlcj10aGlzLnN5bWJvbENvdW50ZXI9MDt0aGlzLmZpcnN0UmVuZGVyKCl9LGluaXRTZXJpZXM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLmNoYXJ0OyhjPUxbYi50eXBlfHxjLnR5cGV8fGMuZGVmYXVsdFNlcmllc1R5cGVdKXx8YS5lcnJvcigxNywhMCk7Yz1uZXcgYztjLmluaXQodGhpcyxiKTtyZXR1cm4gY30sb3JkZXJTZXJpZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXJpZXM7Zm9yKGE9YXx8MDthPGIubGVuZ3RoO2ErKyliW2FdJiYoYlthXS5pbmRleD1hLGJbYV0ubmFtZT1iW2FdLm5hbWV8fFwiU2VyaWVzIFwiKyhiW2FdLmluZGV4KzEpKX0saXNJbnNpZGVQbG90OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jP2I6YTthPWM/YTpiO3JldHVybiAwPD1kJiZkPD10aGlzLnBsb3RXaWR0aCYmMDw9YSYmYTw9dGhpcy5wbG90SGVpZ2h0fSxyZWRyYXc6ZnVuY3Rpb24oYil7dmFyIGM9XG50aGlzLmF4ZXMsZD10aGlzLnNlcmllcyxmPXRoaXMucG9pbnRlcixnPXRoaXMubGVnZW5kLGU9dGhpcy5pc0RpcnR5TGVnZW5kLHEsayxoPXRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzLHg9dGhpcy5pc0RpcnR5Qm94LGwsdz10aGlzLnJlbmRlcmVyLHI9dy5pc0hpZGRlbigpLG49W107dGhpcy5zZXRSZXNwb25zaXZlJiZ0aGlzLnNldFJlc3BvbnNpdmUoITEpO2Euc2V0QW5pbWF0aW9uKGIsdGhpcyk7ciYmdGhpcy5jbG9uZVJlbmRlclRvKCk7dGhpcy5sYXlPdXRUaXRsZXMoKTtmb3IoYj1kLmxlbmd0aDtiLS07KWlmKGw9ZFtiXSxsLm9wdGlvbnMuc3RhY2tpbmcmJihxPSEwLGwuaXNEaXJ0eSkpe2s9ITA7YnJlYWt9aWYoaylmb3IoYj1kLmxlbmd0aDtiLS07KWw9ZFtiXSxsLm9wdGlvbnMuc3RhY2tpbmcmJihsLmlzRGlydHk9ITApO3AoZCxmdW5jdGlvbihhKXthLmlzRGlydHkmJlwicG9pbnRcIj09PWEub3B0aW9ucy5sZWdlbmRUeXBlJiYoYS51cGRhdGVUb3RhbHMmJmEudXBkYXRlVG90YWxzKCksXG5lPSEwKTthLmlzRGlydHlEYXRhJiZtKGEsXCJ1cGRhdGVkRGF0YVwiKX0pO2UmJmcub3B0aW9ucy5lbmFibGVkJiYoZy5yZW5kZXIoKSx0aGlzLmlzRGlydHlMZWdlbmQ9ITEpO3EmJnRoaXMuZ2V0U3RhY2tzKCk7aCYmcChjLGZ1bmN0aW9uKGEpe2EudXBkYXRlTmFtZXMoKTthLnNldFNjYWxlKCl9KTt0aGlzLmdldE1hcmdpbnMoKTtoJiYocChjLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eSYmKHg9ITApfSkscChjLGZ1bmN0aW9uKGEpe3ZhciBiPWEubWluK1wiLFwiK2EubWF4O2EuZXh0S2V5IT09YiYmKGEuZXh0S2V5PWIsbi5wdXNoKGZ1bmN0aW9uKCl7bShhLFwiYWZ0ZXJTZXRFeHRyZW1lc1wiLEgoYS5ldmVudEFyZ3MsYS5nZXRFeHRyZW1lcygpKSk7ZGVsZXRlIGEuZXZlbnRBcmdzfSkpOyh4fHxxKSYmYS5yZWRyYXcoKX0pKTt4JiZ0aGlzLmRyYXdDaGFydEJveCgpO20odGhpcyxcInByZWRyYXdcIik7cChkLGZ1bmN0aW9uKGEpeyh4fHxhLmlzRGlydHkpJiZhLnZpc2libGUmJmEucmVkcmF3KCk7XG5hLmlzRGlydHlEYXRhPSExfSk7ZiYmZi5yZXNldCghMCk7dy5kcmF3KCk7bSh0aGlzLFwicmVkcmF3XCIpO20odGhpcyxcInJlbmRlclwiKTtyJiZ0aGlzLmNsb25lUmVuZGVyVG8oITApO3AobixmdW5jdGlvbihhKXthLmNhbGwoKX0pfSxnZXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhiKXtyZXR1cm4gYi5pZD09PWF8fGIub3B0aW9ucyYmYi5vcHRpb25zLmlkPT09YX12YXIgZCxmPXRoaXMuc2VyaWVzLGc7ZD1iKHRoaXMuYXhlcyxjKXx8Yih0aGlzLnNlcmllcyxjKTtmb3IoZz0wOyFkJiZnPGYubGVuZ3RoO2crKylkPWIoZltnXS5wb2ludHN8fFtdLGMpO3JldHVybiBkfSxnZXRBeGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMub3B0aW9ucyxjPWIueEF4aXM9ZyhiLnhBeGlzfHx7fSksYj1iLnlBeGlzPWcoYi55QXhpc3x8e30pO3AoYyxmdW5jdGlvbihhLGIpe2EuaW5kZXg9YjthLmlzWD0hMH0pO3AoYixmdW5jdGlvbihhLGIpe2EuaW5kZXg9Yn0pO2M9Yy5jb25jYXQoYik7XG5wKGMsZnVuY3Rpb24oYil7bmV3IGgoYSxiKX0pfSxnZXRTZWxlY3RlZFBvaW50czpmdW5jdGlvbigpe3ZhciBhPVtdO3AodGhpcy5zZXJpZXMsZnVuY3Rpb24oYil7YT1hLmNvbmNhdChyKGIucG9pbnRzfHxbXSxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pKX0pO3JldHVybiBhfSxnZXRTZWxlY3RlZFNlcmllczpmdW5jdGlvbigpe3JldHVybiByKHRoaXMuc2VyaWVzLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNlbGVjdGVkfSl9LHNldFRpdGxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGY9ZC5vcHRpb25zLGc7Zz1mLnRpdGxlPUYoe3N0eWxlOntjb2xvcjpcIiMzMzMzMzNcIixmb250U2l6ZTpmLmlzU3RvY2s/XCIxNnB4XCI6XCIxOHB4XCJ9fSxmLnRpdGxlLGEpO2Y9Zi5zdWJ0aXRsZT1GKHtzdHlsZTp7Y29sb3I6XCIjNjY2NjY2XCJ9fSxmLnN1YnRpdGxlLGIpO3AoW1tcInRpdGxlXCIsYSxnXSxbXCJzdWJ0aXRsZVwiLGIsZl1dLGZ1bmN0aW9uKGEsYil7dmFyIGM9YVswXSxmPWRbY10sXG5nPWFbMV07YT1hWzJdO2YmJmcmJihkW2NdPWY9Zi5kZXN0cm95KCkpO2EmJmEudGV4dCYmIWYmJihkW2NdPWQucmVuZGVyZXIudGV4dChhLnRleHQsMCwwLGEudXNlSFRNTCkuYXR0cih7YWxpZ246YS5hbGlnbixcImNsYXNzXCI6XCJoaWdoY2hhcnRzLVwiK2MsekluZGV4OmEuekluZGV4fHw0fSkuYWRkKCksZFtjXS51cGRhdGU9ZnVuY3Rpb24oYSl7ZC5zZXRUaXRsZSghYiYmYSxiJiZhKX0sZFtjXS5jc3MoYS5zdHlsZSkpfSk7ZC5sYXlPdXRUaXRsZXMoYyl9LGxheU91dFRpdGxlczpmdW5jdGlvbihhKXt2YXIgYj0wLGMsZD10aGlzLnJlbmRlcmVyLGY9dGhpcy5zcGFjaW5nQm94O3AoW1widGl0bGVcIixcInN1YnRpdGxlXCJdLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbYV0sZz10aGlzLm9wdGlvbnNbYV0sZTtjJiYoZT1nLnN0eWxlLmZvbnRTaXplLGU9ZC5mb250TWV0cmljcyhlLGMpLmIsYy5jc3Moe3dpZHRoOihnLndpZHRofHxmLndpZHRoK2cud2lkdGhBZGp1c3QpK1wicHhcIn0pLmFsaWduKEgoe3k6YitcbmUrKFwidGl0bGVcIj09PWE/LTM6Mil9LGcpLCExLFwic3BhY2luZ0JveFwiKSxnLmZsb2F0aW5nfHxnLnZlcnRpY2FsQWxpZ258fChiPU1hdGguY2VpbChiK2MuZ2V0QkJveCgpLmhlaWdodCkpKX0sdGhpcyk7Yz10aGlzLnRpdGxlT2Zmc2V0IT09Yjt0aGlzLnRpdGxlT2Zmc2V0PWI7IXRoaXMuaXNEaXJ0eUJveCYmYyYmKHRoaXMuaXNEaXJ0eUJveD1jLHRoaXMuaGFzUmVuZGVyZWQmJngoYSwhMCkmJnRoaXMuaXNEaXJ0eUJveCYmdGhpcy5yZWRyYXcoKSl9LGdldENoYXJ0U2l6ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5jaGFydCxmPWIud2lkdGgsYj1iLmhlaWdodCxnPXRoaXMucmVuZGVyVG9DbG9uZXx8dGhpcy5yZW5kZXJUbztjKGYpfHwodGhpcy5jb250YWluZXJXaWR0aD1kKGcsXCJ3aWR0aFwiKSk7YyhiKXx8KHRoaXMuY29udGFpbmVySGVpZ2h0PWQoZyxcImhlaWdodFwiKSk7dGhpcy5jaGFydFdpZHRoPU1hdGgubWF4KDAsZnx8dGhpcy5jb250YWluZXJXaWR0aHx8NjAwKTtcbnRoaXMuY2hhcnRIZWlnaHQ9TWF0aC5tYXgoMCxhLnJlbGF0aXZlTGVuZ3RoKGIsdGhpcy5jaGFydFdpZHRoKXx8dGhpcy5jb250YWluZXJIZWlnaHR8fDQwMCl9LGNsb25lUmVuZGVyVG86ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZW5kZXJUb0Nsb25lLGM9dGhpcy5jb250YWluZXI7aWYoYSl7aWYoYil7Zm9yKDtiLmNoaWxkTm9kZXMubGVuZ3RoOyl0aGlzLnJlbmRlclRvLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCk7bChiKTtkZWxldGUgdGhpcy5yZW5kZXJUb0Nsb25lfX1lbHNlIGMmJmMucGFyZW50Tm9kZT09PXRoaXMucmVuZGVyVG8mJnRoaXMucmVuZGVyVG8ucmVtb3ZlQ2hpbGQoYyksdGhpcy5yZW5kZXJUb0Nsb25lPWI9dGhpcy5yZW5kZXJUby5jbG9uZU5vZGUoMCksZShiLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTk5OTlweFwiLGRpc3BsYXk6XCJibG9ja1wifSksYi5zdHlsZS5zZXRQcm9wZXJ0eSYmYi5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcImJsb2NrXCIsXG5cImltcG9ydGFudFwiKSx1LmJvZHkuYXBwZW5kQ2hpbGQoYiksYyYmYi5hcHBlbmRDaGlsZChjKX0sc2V0Q2xhc3NOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuY29udGFpbmVyLmNsYXNzTmFtZT1cImhpZ2hjaGFydHMtY29udGFpbmVyIFwiKyhhfHxcIlwiKX0sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLm9wdGlvbnMsZD1jLmNoYXJ0LGcsZTtiPXRoaXMucmVuZGVyVG87dmFyIHE9YS51bmlxdWVLZXkoKSxtO2J8fCh0aGlzLnJlbmRlclRvPWI9ZC5yZW5kZXJUbyk7ZihiKSYmKHRoaXMucmVuZGVyVG89Yj11LmdldEVsZW1lbnRCeUlkKGIpKTtifHxhLmVycm9yKDEzLCEwKTtnPUooRShiLFwiZGF0YS1oaWdoY2hhcnRzLWNoYXJ0XCIpKTtBKGcpJiZrW2ddJiZrW2ddLmhhc1JlbmRlcmVkJiZrW2ddLmRlc3Ryb3koKTtFKGIsXCJkYXRhLWhpZ2hjaGFydHMtY2hhcnRcIix0aGlzLmluZGV4KTtiLmlubmVySFRNTD1cIlwiO2Quc2tpcENsb25lfHxiLm9mZnNldFdpZHRofHx0aGlzLmNsb25lUmVuZGVyVG8oKTtcbnRoaXMuZ2V0Q2hhcnRTaXplKCk7Zz10aGlzLmNoYXJ0V2lkdGg7ZT10aGlzLmNoYXJ0SGVpZ2h0O209SCh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLG92ZXJmbG93OlwiaGlkZGVuXCIsd2lkdGg6ZytcInB4XCIsaGVpZ2h0OmUrXCJweFwiLHRleHRBbGlnbjpcImxlZnRcIixsaW5lSGVpZ2h0Olwibm9ybWFsXCIsekluZGV4OjAsXCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3JcIjpcInJnYmEoMCwwLDAsMClcIn0sZC5zdHlsZSk7dGhpcy5jb250YWluZXI9Yj1uKFwiZGl2XCIse2lkOnF9LG0sdGhpcy5yZW5kZXJUb0Nsb25lfHxiKTt0aGlzLl9jdXJzb3I9Yi5zdHlsZS5jdXJzb3I7dGhpcy5yZW5kZXJlcj1uZXcgKGFbZC5yZW5kZXJlcl18fFIpKGIsZyxlLG51bGwsZC5mb3JFeHBvcnQsYy5leHBvcnRpbmcmJmMuZXhwb3J0aW5nLmFsbG93SFRNTCk7dGhpcy5zZXRDbGFzc05hbWUoZC5jbGFzc05hbWUpO3RoaXMucmVuZGVyZXIuc2V0U3R5bGUoZC5zdHlsZSk7dGhpcy5yZW5kZXJlci5jaGFydEluZGV4PXRoaXMuaW5kZXh9LFxuZ2V0TWFyZ2luczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNwYWNpbmcsZD10aGlzLm1hcmdpbixmPXRoaXMudGl0bGVPZmZzZXQ7dGhpcy5yZXNldE1hcmdpbnMoKTtmJiYhYyhkWzBdKSYmKHRoaXMucGxvdFRvcD1NYXRoLm1heCh0aGlzLnBsb3RUb3AsZit0aGlzLm9wdGlvbnMudGl0bGUubWFyZ2luK2JbMF0pKTt0aGlzLmxlZ2VuZC5kaXNwbGF5JiZ0aGlzLmxlZ2VuZC5hZGp1c3RNYXJnaW5zKGQsYik7dGhpcy5leHRyYU1hcmdpbiYmKHRoaXNbdGhpcy5leHRyYU1hcmdpbi50eXBlXT0odGhpc1t0aGlzLmV4dHJhTWFyZ2luLnR5cGVdfHwwKSt0aGlzLmV4dHJhTWFyZ2luLnZhbHVlKTt0aGlzLmV4dHJhVG9wTWFyZ2luJiYodGhpcy5wbG90VG9wKz10aGlzLmV4dHJhVG9wTWFyZ2luKTthfHx0aGlzLmdldEF4aXNNYXJnaW5zKCl9LGdldEF4aXNNYXJnaW5zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuYXhpc09mZnNldD1bMCwwLDAsMF0sZD1hLm1hcmdpbjthLmhhc0NhcnRlc2lhblNlcmllcyYmXG5wKGEuYXhlcyxmdW5jdGlvbihhKXthLnZpc2libGUmJmEuZ2V0T2Zmc2V0KCl9KTtwKEcsZnVuY3Rpb24oZixnKXtjKGRbZ10pfHwoYVtmXSs9YltnXSl9KTthLnNldENoYXJ0U2l6ZSgpfSxyZWZsb3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxmPWIub3B0aW9ucy5jaGFydCxnPWIucmVuZGVyVG8sZT1jKGYud2lkdGgpLHE9Zi53aWR0aHx8ZChnLFwid2lkdGhcIiksZj1mLmhlaWdodHx8ZChnLFwiaGVpZ2h0XCIpLGc9YT9hLnRhcmdldDpNO2lmKCFlJiYhYi5pc1ByaW50aW5nJiZxJiZmJiYoZz09PU18fGc9PT11KSl7aWYocSE9PWIuY29udGFpbmVyV2lkdGh8fGYhPT1iLmNvbnRhaW5lckhlaWdodCljbGVhclRpbWVvdXQoYi5yZWZsb3dUaW1lb3V0KSxiLnJlZmxvd1RpbWVvdXQ9UyhmdW5jdGlvbigpe2IuY29udGFpbmVyJiZiLnNldFNpemUodm9pZCAwLHZvaWQgMCwhMSl9LGE/MTAwOjApO2IuY29udGFpbmVyV2lkdGg9cTtiLmNvbnRhaW5lckhlaWdodD1mfX0saW5pdFJlZmxvdzpmdW5jdGlvbigpe3ZhciBhPVxudGhpcyxiO2I9QihNLFwicmVzaXplXCIsZnVuY3Rpb24oYil7YS5yZWZsb3coYil9KTtCKGEsXCJkZXN0cm95XCIsYil9LHNldFNpemU6ZnVuY3Rpb24oYixjLGQpe3ZhciBmPXRoaXMsZz1mLnJlbmRlcmVyO2YuaXNSZXNpemluZys9MTthLnNldEFuaW1hdGlvbihkLGYpO2Yub2xkQ2hhcnRIZWlnaHQ9Zi5jaGFydEhlaWdodDtmLm9sZENoYXJ0V2lkdGg9Zi5jaGFydFdpZHRoO3ZvaWQgMCE9PWImJihmLm9wdGlvbnMuY2hhcnQud2lkdGg9Yik7dm9pZCAwIT09YyYmKGYub3B0aW9ucy5jaGFydC5oZWlnaHQ9Yyk7Zi5nZXRDaGFydFNpemUoKTtiPWcuZ2xvYmFsQW5pbWF0aW9uOyhiP3o6ZSkoZi5jb250YWluZXIse3dpZHRoOmYuY2hhcnRXaWR0aCtcInB4XCIsaGVpZ2h0OmYuY2hhcnRIZWlnaHQrXCJweFwifSxiKTtmLnNldENoYXJ0U2l6ZSghMCk7Zy5zZXRTaXplKGYuY2hhcnRXaWR0aCxmLmNoYXJ0SGVpZ2h0LGQpO3AoZi5heGVzLGZ1bmN0aW9uKGEpe2EuaXNEaXJ0eT0hMDthLnNldFNjYWxlKCl9KTtcbmYuaXNEaXJ0eUxlZ2VuZD0hMDtmLmlzRGlydHlCb3g9ITA7Zi5sYXlPdXRUaXRsZXMoKTtmLmdldE1hcmdpbnMoKTtmLnJlZHJhdyhkKTtmLm9sZENoYXJ0SGVpZ2h0PW51bGw7bShmLFwicmVzaXplXCIpO1MoZnVuY3Rpb24oKXtmJiZtKGYsXCJlbmRSZXNpemVcIixudWxsLGZ1bmN0aW9uKCl7LS1mLmlzUmVzaXppbmd9KX0sQyhiKS5kdXJhdGlvbil9LHNldENoYXJ0U2l6ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmludmVydGVkLGM9dGhpcy5yZW5kZXJlcixkPXRoaXMuY2hhcnRXaWR0aCxmPXRoaXMuY2hhcnRIZWlnaHQsZz10aGlzLm9wdGlvbnMuY2hhcnQsZT10aGlzLnNwYWNpbmcscT10aGlzLmNsaXBPZmZzZXQsayxtLGgseDt0aGlzLnBsb3RMZWZ0PWs9TWF0aC5yb3VuZCh0aGlzLnBsb3RMZWZ0KTt0aGlzLnBsb3RUb3A9bT1NYXRoLnJvdW5kKHRoaXMucGxvdFRvcCk7dGhpcy5wbG90V2lkdGg9aD1NYXRoLm1heCgwLE1hdGgucm91bmQoZC1rLXRoaXMubWFyZ2luUmlnaHQpKTtcbnRoaXMucGxvdEhlaWdodD14PU1hdGgubWF4KDAsTWF0aC5yb3VuZChmLW0tdGhpcy5tYXJnaW5Cb3R0b20pKTt0aGlzLnBsb3RTaXplWD1iP3g6aDt0aGlzLnBsb3RTaXplWT1iP2g6eDt0aGlzLnBsb3RCb3JkZXJXaWR0aD1nLnBsb3RCb3JkZXJXaWR0aHx8MDt0aGlzLnNwYWNpbmdCb3g9Yy5zcGFjaW5nQm94PXt4OmVbM10seTplWzBdLHdpZHRoOmQtZVszXS1lWzFdLGhlaWdodDpmLWVbMF0tZVsyXX07dGhpcy5wbG90Qm94PWMucGxvdEJveD17eDprLHk6bSx3aWR0aDpoLGhlaWdodDp4fTtkPTIqTWF0aC5mbG9vcih0aGlzLnBsb3RCb3JkZXJXaWR0aC8yKTtiPU1hdGguY2VpbChNYXRoLm1heChkLHFbM10pLzIpO2M9TWF0aC5jZWlsKE1hdGgubWF4KGQscVswXSkvMik7dGhpcy5jbGlwQm94PXt4OmIseTpjLHdpZHRoOk1hdGguZmxvb3IodGhpcy5wbG90U2l6ZVgtTWF0aC5tYXgoZCxxWzFdKS8yLWIpLGhlaWdodDpNYXRoLm1heCgwLE1hdGguZmxvb3IodGhpcy5wbG90U2l6ZVktXG5NYXRoLm1heChkLHFbMl0pLzItYykpfTthfHxwKHRoaXMuYXhlcyxmdW5jdGlvbihhKXthLnNldEF4aXNTaXplKCk7YS5zZXRBeGlzVHJhbnNsYXRpb24oKX0pfSxyZXNldE1hcmdpbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLmNoYXJ0O3AoW1wibWFyZ2luXCIsXCJzcGFjaW5nXCJdLGZ1bmN0aW9uKGMpe3ZhciBkPWJbY10sZj12KGQpP2Q6W2QsZCxkLGRdO3AoW1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGZ1bmN0aW9uKGQsZyl7YVtjXVtnXT14KGJbYytkXSxmW2ddKX0pfSk7cChHLGZ1bmN0aW9uKGIsYyl7YVtiXT14KGEubWFyZ2luW2NdLGEuc3BhY2luZ1tjXSl9KTthLmF4aXNPZmZzZXQ9WzAsMCwwLDBdO2EuY2xpcE9mZnNldD1bMCwwLDAsMF19LGRyYXdDaGFydEJveDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jaGFydCxiPXRoaXMucmVuZGVyZXIsYz10aGlzLmNoYXJ0V2lkdGgsZD10aGlzLmNoYXJ0SGVpZ2h0LGY9dGhpcy5jaGFydEJhY2tncm91bmQsXG5nPXRoaXMucGxvdEJhY2tncm91bmQsZT10aGlzLnBsb3RCb3JkZXIscSxrPXRoaXMucGxvdEJHSW1hZ2UsbT1hLmJhY2tncm91bmRDb2xvcixwPWEucGxvdEJhY2tncm91bmRDb2xvcixoPWEucGxvdEJhY2tncm91bmRJbWFnZSx4LGw9dGhpcy5wbG90TGVmdCxyPXRoaXMucGxvdFRvcCxuPXRoaXMucGxvdFdpZHRoLHY9dGhpcy5wbG90SGVpZ2h0LHQ9dGhpcy5wbG90Qm94LHk9dGhpcy5jbGlwUmVjdCx1PXRoaXMuY2xpcEJveCxKPVwiYW5pbWF0ZVwiO2Z8fCh0aGlzLmNoYXJ0QmFja2dyb3VuZD1mPWIucmVjdCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1iYWNrZ3JvdW5kXCIpLmFkZCgpLEo9XCJhdHRyXCIpO3E9YS5ib3JkZXJXaWR0aHx8MDt4PXErKGEuc2hhZG93Pzg6MCk7bT17ZmlsbDptfHxcIm5vbmVcIn07aWYocXx8ZltcInN0cm9rZS13aWR0aFwiXSltLnN0cm9rZT1hLmJvcmRlckNvbG9yLG1bXCJzdHJva2Utd2lkdGhcIl09cTtmLmF0dHIobSkuc2hhZG93KGEuc2hhZG93KTtmW0pdKHt4OngvXG4yLHk6eC8yLHdpZHRoOmMteC1xJTIsaGVpZ2h0OmQteC1xJTIscjphLmJvcmRlclJhZGl1c30pO0o9XCJhbmltYXRlXCI7Z3x8KEo9XCJhdHRyXCIsdGhpcy5wbG90QmFja2dyb3VuZD1nPWIucmVjdCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1wbG90LWJhY2tncm91bmRcIikuYWRkKCkpO2dbSl0odCk7Zy5hdHRyKHtmaWxsOnB8fFwibm9uZVwifSkuc2hhZG93KGEucGxvdFNoYWRvdyk7aCYmKGs/ay5hbmltYXRlKHQpOnRoaXMucGxvdEJHSW1hZ2U9Yi5pbWFnZShoLGwscixuLHYpLmFkZCgpKTt5P3kuYW5pbWF0ZSh7d2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9KTp0aGlzLmNsaXBSZWN0PWIuY2xpcFJlY3QodSk7Sj1cImFuaW1hdGVcIjtlfHwoSj1cImF0dHJcIix0aGlzLnBsb3RCb3JkZXI9ZT1iLnJlY3QoKS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtcGxvdC1ib3JkZXJcIikuYXR0cih7ekluZGV4OjF9KS5hZGQoKSk7ZS5hdHRyKHtzdHJva2U6YS5wbG90Qm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjphLnBsb3RCb3JkZXJXaWR0aHx8XG4wLGZpbGw6XCJub25lXCJ9KTtlW0pdKGUuY3Jpc3Aoe3g6bCx5OnIsd2lkdGg6bixoZWlnaHQ6dn0sLWUuc3Ryb2tlV2lkdGgoKSkpO3RoaXMuaXNEaXJ0eUJveD0hMX0scHJvcEZyb21TZXJpZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vcHRpb25zLmNoYXJ0LGMsZD1hLm9wdGlvbnMuc2VyaWVzLGYsZztwKFtcImludmVydGVkXCIsXCJhbmd1bGFyXCIsXCJwb2xhclwiXSxmdW5jdGlvbihlKXtjPUxbYi50eXBlfHxiLmRlZmF1bHRTZXJpZXNUeXBlXTtnPWJbZV18fGMmJmMucHJvdG90eXBlW2VdO2ZvcihmPWQmJmQubGVuZ3RoOyFnJiZmLS07KShjPUxbZFtmXS50eXBlXSkmJmMucHJvdG90eXBlW2VdJiYoZz0hMCk7YVtlXT1nfSl9LGxpbmtTZXJpZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5zZXJpZXM7cChiLGZ1bmN0aW9uKGEpe2EubGlua2VkU2VyaWVzLmxlbmd0aD0wfSk7cChiLGZ1bmN0aW9uKGIpe3ZhciBjPWIub3B0aW9ucy5saW5rZWRUbztmKGMpJiYoYz1cIjpwcmV2aW91c1wiPT09XG5jP2Euc2VyaWVzW2IuaW5kZXgtMV06YS5nZXQoYykpJiZjLmxpbmtlZFBhcmVudCE9PWImJihjLmxpbmtlZFNlcmllcy5wdXNoKGIpLGIubGlua2VkUGFyZW50PWMsYi52aXNpYmxlPXgoYi5vcHRpb25zLnZpc2libGUsYy5vcHRpb25zLnZpc2libGUsYi52aXNpYmxlKSl9KX0scmVuZGVyU2VyaWVzOmZ1bmN0aW9uKCl7cCh0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLnRyYW5zbGF0ZSgpO2EucmVuZGVyKCl9KX0scmVuZGVyTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEub3B0aW9ucy5sYWJlbHM7Yi5pdGVtcyYmcChiLml0ZW1zLGZ1bmN0aW9uKGMpe3ZhciBkPUgoYi5zdHlsZSxjLnN0eWxlKSxmPUooZC5sZWZ0KSthLnBsb3RMZWZ0LGc9SihkLnRvcCkrYS5wbG90VG9wKzEyO2RlbGV0ZSBkLmxlZnQ7ZGVsZXRlIGQudG9wO2EucmVuZGVyZXIudGV4dChjLmh0bWwsZixnKS5hdHRyKHt6SW5kZXg6Mn0pLmNzcyhkKS5hZGQoKX0pfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuYXhlcyxiPXRoaXMucmVuZGVyZXIsYz10aGlzLm9wdGlvbnMsZCxmLGc7dGhpcy5zZXRUaXRsZSgpO3RoaXMubGVnZW5kPW5ldyB5KHRoaXMsYy5sZWdlbmQpO3RoaXMuZ2V0U3RhY2tzJiZ0aGlzLmdldFN0YWNrcygpO3RoaXMuZ2V0TWFyZ2lucyghMCk7dGhpcy5zZXRDaGFydFNpemUoKTtjPXRoaXMucGxvdFdpZHRoO2Q9dGhpcy5wbG90SGVpZ2h0LT0yMTtwKGEsZnVuY3Rpb24oYSl7YS5zZXRTY2FsZSgpfSk7dGhpcy5nZXRBeGlzTWFyZ2lucygpO2Y9MS4xPGMvdGhpcy5wbG90V2lkdGg7Zz0xLjA1PGQvdGhpcy5wbG90SGVpZ2h0O2lmKGZ8fGcpcChhLGZ1bmN0aW9uKGEpeyhhLmhvcml6JiZmfHwhYS5ob3JpeiYmZykmJmEuc2V0VGlja0ludGVydmFsKCEwKX0pLHRoaXMuZ2V0TWFyZ2lucygpO3RoaXMuZHJhd0NoYXJ0Qm94KCk7dGhpcy5oYXNDYXJ0ZXNpYW5TZXJpZXMmJnAoYSxmdW5jdGlvbihhKXthLnZpc2libGUmJmEucmVuZGVyKCl9KTt0aGlzLnNlcmllc0dyb3VwfHxcbih0aGlzLnNlcmllc0dyb3VwPWIuZyhcInNlcmllcy1ncm91cFwiKS5hdHRyKHt6SW5kZXg6M30pLmFkZCgpKTt0aGlzLnJlbmRlclNlcmllcygpO3RoaXMucmVuZGVyTGFiZWxzKCk7dGhpcy5hZGRDcmVkaXRzKCk7dGhpcy5zZXRSZXNwb25zaXZlJiZ0aGlzLnNldFJlc3BvbnNpdmUoKTt0aGlzLmhhc1JlbmRlcmVkPSEwfSxhZGRDcmVkaXRzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT1GKCEwLHRoaXMub3B0aW9ucy5jcmVkaXRzLGEpO2EuZW5hYmxlZCYmIXRoaXMuY3JlZGl0cyYmKHRoaXMuY3JlZGl0cz10aGlzLnJlbmRlcmVyLnRleHQoYS50ZXh0Kyh0aGlzLm1hcENyZWRpdHN8fFwiXCIpLDAsMCkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWNyZWRpdHNcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7YS5ocmVmJiYoTS5sb2NhdGlvbi5ocmVmPWEuaHJlZil9KS5hdHRyKHthbGlnbjphLnBvc2l0aW9uLmFsaWduLHpJbmRleDo4fSkuY3NzKGEuc3R5bGUpLmFkZCgpLmFsaWduKGEucG9zaXRpb24pLFxudGhpcy5jcmVkaXRzLnVwZGF0ZT1mdW5jdGlvbihhKXtiLmNyZWRpdHM9Yi5jcmVkaXRzLmRlc3Ryb3koKTtiLmFkZENyZWRpdHMoYSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmF4ZXMsZD1iLnNlcmllcyxmPWIuY29udGFpbmVyLGcsZT1mJiZmLnBhcmVudE5vZGU7bShiLFwiZGVzdHJveVwiKTtrW2IuaW5kZXhdPXZvaWQgMDthLmNoYXJ0Q291bnQtLTtiLnJlbmRlclRvLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtaGlnaGNoYXJ0cy1jaGFydFwiKTtLKGIpO2ZvcihnPWMubGVuZ3RoO2ctLTspY1tnXT1jW2ddLmRlc3Ryb3koKTt0aGlzLnNjcm9sbGVyJiZ0aGlzLnNjcm9sbGVyLmRlc3Ryb3kmJnRoaXMuc2Nyb2xsZXIuZGVzdHJveSgpO2ZvcihnPWQubGVuZ3RoO2ctLTspZFtnXT1kW2ddLmRlc3Ryb3koKTtwKFwidGl0bGUgc3VidGl0bGUgY2hhcnRCYWNrZ3JvdW5kIHBsb3RCYWNrZ3JvdW5kIHBsb3RCR0ltYWdlIHBsb3RCb3JkZXIgc2VyaWVzR3JvdXAgY2xpcFJlY3QgY3JlZGl0cyBwb2ludGVyIHJhbmdlU2VsZWN0b3IgbGVnZW5kIHJlc2V0Wm9vbUJ1dHRvbiB0b29sdGlwIHJlbmRlcmVyXCIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oYSl7dmFyIGM9YlthXTtjJiZjLmRlc3Ryb3kmJihiW2FdPWMuZGVzdHJveSgpKX0pO2YmJihmLmlubmVySFRNTD1cIlwiLEsoZiksZSYmbChmKSk7Zm9yKGcgaW4gYilkZWxldGUgYltnXX0saXNSZWFkeVRvUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gRHx8TSE9TS50b3B8fFwiY29tcGxldGVcIj09PXUucmVhZHlTdGF0ZT8hMDoodS5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7dS5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEuZmlyc3RSZW5kZXIpO1wiY29tcGxldGVcIj09PXUucmVhZHlTdGF0ZSYmYS5maXJzdFJlbmRlcigpfSksITEpfSxmaXJzdFJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnM7aWYoYS5pc1JlYWR5VG9SZW5kZXIoKSl7YS5nZXRDb250YWluZXIoKTttKGEsXCJpbml0XCIpO2EucmVzZXRNYXJnaW5zKCk7YS5zZXRDaGFydFNpemUoKTthLnByb3BGcm9tU2VyaWVzKCk7XG5hLmdldEF4ZXMoKTtwKGIuc2VyaWVzfHxbXSxmdW5jdGlvbihiKXthLmluaXRTZXJpZXMoYil9KTthLmxpbmtTZXJpZXMoKTttKGEsXCJiZWZvcmVSZW5kZXJcIik7cSYmKGEucG9pbnRlcj1uZXcgcShhLGIpKTthLnJlbmRlcigpO2lmKCFhLnJlbmRlcmVyLmltZ0NvdW50JiZhLm9ubG9hZClhLm9ubG9hZCgpO2EuY2xvbmVSZW5kZXJUbyghMCl9fSxvbmxvYWQ6ZnVuY3Rpb24oKXtwKFt0aGlzLmNhbGxiYWNrXS5jb25jYXQodGhpcy5jYWxsYmFja3MpLGZ1bmN0aW9uKGEpe2EmJnZvaWQgMCE9PXRoaXMuaW5kZXgmJmEuYXBwbHkodGhpcyxbdGhpc10pfSx0aGlzKTttKHRoaXMsXCJsb2FkXCIpO20odGhpcyxcInJlbmRlclwiKTtjKHRoaXMuaW5kZXgpJiYhMSE9PXRoaXMub3B0aW9ucy5jaGFydC5yZWZsb3cmJnRoaXMuaW5pdFJlZmxvdygpO3RoaXMub25sb2FkPW51bGx9fX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQix6PWEuZWFjaCxDPWEuZXh0ZW5kLEU9YS5lcmFzZSx1PWEuZmlyZUV2ZW50LFxuaD1hLmZvcm1hdCxuPWEuaXNBcnJheSx0PWEuaXNOdW1iZXIsbD1hLnBpY2ssaz1hLnJlbW92ZUV2ZW50O0I9YS5Qb2ludD1mdW5jdGlvbigpe307Qi5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oYSxjLGspe3RoaXMuc2VyaWVzPWE7dGhpcy5jb2xvcj1hLmNvbG9yO3RoaXMuYXBwbHlPcHRpb25zKGMsayk7YS5vcHRpb25zLmNvbG9yQnlQb2ludD8oYz1hLm9wdGlvbnMuY29sb3JzfHxhLmNoYXJ0Lm9wdGlvbnMuY29sb3JzLHRoaXMuY29sb3I9dGhpcy5jb2xvcnx8Y1thLmNvbG9yQ291bnRlcl0sYz1jLmxlbmd0aCxrPWEuY29sb3JDb3VudGVyLGEuY29sb3JDb3VudGVyKyssYS5jb2xvckNvdW50ZXI9PT1jJiYoYS5jb2xvckNvdW50ZXI9MCkpOms9YS5jb2xvckluZGV4O3RoaXMuY29sb3JJbmRleD1sKHRoaXMuY29sb3JJbmRleCxrKTthLmNoYXJ0LnBvaW50Q291bnQrKztyZXR1cm4gdGhpc30sYXBwbHlPcHRpb25zOmZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcy5zZXJpZXMsaz1lLm9wdGlvbnMucG9pbnRWYWxLZXl8fFxuZS5wb2ludFZhbEtleTthPUIucHJvdG90eXBlLm9wdGlvbnNUb09iamVjdC5jYWxsKHRoaXMsYSk7Qyh0aGlzLGEpO3RoaXMub3B0aW9ucz10aGlzLm9wdGlvbnM/Qyh0aGlzLm9wdGlvbnMsYSk6YTthLmdyb3VwJiZkZWxldGUgdGhpcy5ncm91cDtrJiYodGhpcy55PXRoaXNba10pO3RoaXMuaXNOdWxsPWwodGhpcy5pc1ZhbGlkJiYhdGhpcy5pc1ZhbGlkKCksbnVsbD09PXRoaXMueHx8IXQodGhpcy55LCEwKSk7dGhpcy5zZWxlY3RlZCYmKHRoaXMuc3RhdGU9XCJzZWxlY3RcIik7XCJuYW1lXCJpbiB0aGlzJiZ2b2lkIDA9PT1jJiZlLnhBeGlzJiZlLnhBeGlzLmhhc05hbWVzJiYodGhpcy54PWUueEF4aXMubmFtZVRvWCh0aGlzKSk7dm9pZCAwPT09dGhpcy54JiZlJiYodGhpcy54PXZvaWQgMD09PWM/ZS5hdXRvSW5jcmVtZW50KHRoaXMpOmMpO3JldHVybiB0aGlzfSxvcHRpb25zVG9PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGM9e30sZT10aGlzLnNlcmllcyxrPWUub3B0aW9ucy5rZXlzLFxuYj1rfHxlLnBvaW50QXJyYXlNYXB8fFtcInlcIl0sbT1iLmxlbmd0aCxkPTAsaD0wO2lmKHQoYSl8fG51bGw9PT1hKWNbYlswXV09YTtlbHNlIGlmKG4oYSkpZm9yKCFrJiZhLmxlbmd0aD5tJiYoZT10eXBlb2YgYVswXSxcInN0cmluZ1wiPT09ZT9jLm5hbWU9YVswXTpcIm51bWJlclwiPT09ZSYmKGMueD1hWzBdKSxkKyspO2g8bTspayYmdm9pZCAwPT09YVtkXXx8KGNbYltoXV09YVtkXSksZCsrLGgrKztlbHNlXCJvYmplY3RcIj09PXR5cGVvZiBhJiYoYz1hLGEuZGF0YUxhYmVscyYmKGUuX2hhc1BvaW50TGFiZWxzPSEwKSxhLm1hcmtlciYmKGUuX2hhc1BvaW50TWFya2Vycz0hMCkpO3JldHVybiBjfSxnZXRDbGFzc05hbWU6ZnVuY3Rpb24oKXtyZXR1cm5cImhpZ2hjaGFydHMtcG9pbnRcIisodGhpcy5zZWxlY3RlZD9cIiBoaWdoY2hhcnRzLXBvaW50LXNlbGVjdFwiOlwiXCIpKyh0aGlzLm5lZ2F0aXZlP1wiIGhpZ2hjaGFydHMtbmVnYXRpdmVcIjpcIlwiKSsodGhpcy5pc051bGw/XCIgaGlnaGNoYXJ0cy1udWxsLXBvaW50XCI6XG5cIlwiKSsodm9pZCAwIT09dGhpcy5jb2xvckluZGV4P1wiIGhpZ2hjaGFydHMtY29sb3ItXCIrdGhpcy5jb2xvckluZGV4OlwiXCIpKyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lP1wiIFwiK3RoaXMub3B0aW9ucy5jbGFzc05hbWU6XCJcIikrKHRoaXMuem9uZSYmdGhpcy56b25lLmNsYXNzTmFtZT9cIiBcIit0aGlzLnpvbmUuY2xhc3NOYW1lLnJlcGxhY2UoXCJoaWdoY2hhcnRzLW5lZ2F0aXZlXCIsXCJcIik6XCJcIil9LGdldFpvbmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlcmllcyxjPWEuem9uZXMsYT1hLnpvbmVBeGlzfHxcInlcIixrPTAsaDtmb3IoaD1jW2tdO3RoaXNbYV0+PWgudmFsdWU7KWg9Y1srK2tdO2gmJmguY29sb3ImJiF0aGlzLm9wdGlvbnMuY29sb3ImJih0aGlzLmNvbG9yPWguY29sb3IpO3JldHVybiBofSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXJpZXMuY2hhcnQsYz1hLmhvdmVyUG9pbnRzLGg7YS5wb2ludENvdW50LS07YyYmKHRoaXMuc2V0U3RhdGUoKSxFKGMsdGhpcyksYy5sZW5ndGh8fFxuKGEuaG92ZXJQb2ludHM9bnVsbCkpO2lmKHRoaXM9PT1hLmhvdmVyUG9pbnQpdGhpcy5vbk1vdXNlT3V0KCk7aWYodGhpcy5ncmFwaGljfHx0aGlzLmRhdGFMYWJlbClrKHRoaXMpLHRoaXMuZGVzdHJveUVsZW1lbnRzKCk7dGhpcy5sZWdlbmRJdGVtJiZhLmxlZ2VuZC5kZXN0cm95SXRlbSh0aGlzKTtmb3IoaCBpbiB0aGlzKXRoaXNbaF09bnVsbH0sZGVzdHJveUVsZW1lbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtcImdyYXBoaWNcIixcImRhdGFMYWJlbFwiLFwiZGF0YUxhYmVsVXBwZXJcIixcImNvbm5lY3RvclwiLFwic2hhZG93R3JvdXBcIl0sYyxrPTY7ay0tOyljPWFba10sdGhpc1tjXSYmKHRoaXNbY109dGhpc1tjXS5kZXN0cm95KCkpfSxnZXRMYWJlbENvbmZpZzpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMuY2F0ZWdvcnkseTp0aGlzLnksY29sb3I6dGhpcy5jb2xvcixjb2xvckluZGV4OnRoaXMuY29sb3JJbmRleCxrZXk6dGhpcy5uYW1lfHx0aGlzLmNhdGVnb3J5LHNlcmllczp0aGlzLnNlcmllcyxcbnBvaW50OnRoaXMscGVyY2VudGFnZTp0aGlzLnBlcmNlbnRhZ2UsdG90YWw6dGhpcy50b3RhbHx8dGhpcy5zdGFja1RvdGFsfX0sdG9vbHRpcEZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnNlcmllcyxlPWMudG9vbHRpcE9wdGlvbnMsaz1sKGUudmFsdWVEZWNpbWFscyxcIlwiKSxiPWUudmFsdWVQcmVmaXh8fFwiXCIsbT1lLnZhbHVlU3VmZml4fHxcIlwiO3ooYy5wb2ludEFycmF5TWFwfHxbXCJ5XCJdLGZ1bmN0aW9uKGMpe2M9XCJ7cG9pbnQuXCIrYztpZihifHxtKWE9YS5yZXBsYWNlKGMrXCJ9XCIsYitjK1wifVwiK20pO2E9YS5yZXBsYWNlKGMrXCJ9XCIsYytcIjosLlwiK2srXCJmfVwiKX0pO3JldHVybiBoKGEse3BvaW50OnRoaXMsc2VyaWVzOnRoaXMuc2VyaWVzfSl9LGZpcmVQb2ludEV2ZW50OmZ1bmN0aW9uKGEsYyxrKXt2YXIgZT10aGlzLGI9dGhpcy5zZXJpZXMub3B0aW9uczsoYi5wb2ludC5ldmVudHNbYV18fGUub3B0aW9ucyYmZS5vcHRpb25zLmV2ZW50cyYmZS5vcHRpb25zLmV2ZW50c1thXSkmJlxudGhpcy5pbXBvcnRFdmVudHMoKTtcImNsaWNrXCI9PT1hJiZiLmFsbG93UG9pbnRTZWxlY3QmJihrPWZ1bmN0aW9uKGEpe2Uuc2VsZWN0JiZlLnNlbGVjdChudWxsLGEuY3RybEtleXx8YS5tZXRhS2V5fHxhLnNoaWZ0S2V5KX0pO3UodGhpcyxhLGMsayl9LHZpc2libGU6ITB9fSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmFuaW1PYmplY3QsQz1hLmFycmF5TWF4LEU9YS5hcnJheU1pbix1PWEuY29ycmVjdEZsb2F0LGg9YS5EYXRlLG49YS5kZWZhdWx0T3B0aW9ucyx0PWEuZGVmYXVsdFBsb3RPcHRpb25zLGw9YS5kZWZpbmVkLGs9YS5lYWNoLGU9YS5lcmFzZSxjPWEuZXh0ZW5kLHA9YS5maXJlRXZlbnQsSD1hLmdyZXAsYj1hLmlzQXJyYXksbT1hLmlzTnVtYmVyLGQ9YS5pc1N0cmluZyxyPWEubWVyZ2UsQT1hLnBpY2ssdj1hLnJlbW92ZUV2ZW50LGY9YS5zcGxhdCx5PWEuU1ZHRWxlbWVudCxHPWEuc3luY1RpbWVvdXQsRj1hLndpbjthLlNlcmllcz1hLnNlcmllc1R5cGUoXCJsaW5lXCIsXG5udWxsLHtsaW5lV2lkdGg6MixhbGxvd1BvaW50U2VsZWN0OiExLHNob3dDaGVja2JveDohMSxhbmltYXRpb246e2R1cmF0aW9uOjFFM30sZXZlbnRzOnt9LG1hcmtlcjp7bGluZVdpZHRoOjAsbGluZUNvbG9yOlwiI2ZmZmZmZlwiLHJhZGl1czo0LHN0YXRlczp7aG92ZXI6e2FuaW1hdGlvbjp7ZHVyYXRpb246NTB9LGVuYWJsZWQ6ITAscmFkaXVzUGx1czoyLGxpbmVXaWR0aFBsdXM6MX0sc2VsZWN0OntmaWxsQ29sb3I6XCIjY2NjY2NjXCIsbGluZUNvbG9yOlwiIzAwMDAwMFwiLGxpbmVXaWR0aDoyfX19LHBvaW50OntldmVudHM6e319LGRhdGFMYWJlbHM6e2FsaWduOlwiY2VudGVyXCIsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnk/XCJcIjphLm51bWJlckZvcm1hdCh0aGlzLnksLTEpfSxzdHlsZTp7Zm9udFNpemU6XCIxMXB4XCIsZm9udFdlaWdodDpcImJvbGRcIixjb2xvcjpcImNvbnRyYXN0XCIsdGV4dE91dGxpbmU6XCIxcHggY29udHJhc3RcIn0sdmVydGljYWxBbGlnbjpcImJvdHRvbVwiLFxueDowLHk6MCxwYWRkaW5nOjV9LGNyb3BUaHJlc2hvbGQ6MzAwLHBvaW50UmFuZ2U6MCxzb2Z0VGhyZXNob2xkOiEwLHN0YXRlczp7aG92ZXI6e2FuaW1hdGlvbjp7ZHVyYXRpb246NTB9LGxpbmVXaWR0aFBsdXM6MSxtYXJrZXI6e30saGFsbzp7c2l6ZToxMCxvcGFjaXR5Oi4yNX19LHNlbGVjdDp7bWFya2VyOnt9fX0sc3RpY2t5VHJhY2tpbmc6ITAsdHVyYm9UaHJlc2hvbGQ6MUUzfSx7aXNDYXJ0ZXNpYW46ITAscG9pbnRDbGFzczphLlBvaW50LHNvcnRlZDohMCxyZXF1aXJlU29ydGluZzohMCxkaXJlY3RUb3VjaDohMSxheGlzVHlwZXM6W1wieEF4aXNcIixcInlBeGlzXCJdLGNvbG9yQ291bnRlcjowLHBhcmFsbGVsQXJyYXlzOltcInhcIixcInlcIl0sY29sbDpcInNlcmllc1wiLGluaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGYsZSxnPWEuc2VyaWVzLHE7ZC5jaGFydD1hO2Qub3B0aW9ucz1iPWQuc2V0T3B0aW9ucyhiKTtkLmxpbmtlZFNlcmllcz1bXTtkLmJpbmRBeGVzKCk7YyhkLHtuYW1lOmIubmFtZSxcbnN0YXRlOlwiXCIsdmlzaWJsZTohMSE9PWIudmlzaWJsZSxzZWxlY3RlZDohMD09PWIuc2VsZWN0ZWR9KTtlPWIuZXZlbnRzO2ZvcihmIGluIGUpQihkLGYsZVtmXSk7aWYoZSYmZS5jbGlja3x8Yi5wb2ludCYmYi5wb2ludC5ldmVudHMmJmIucG9pbnQuZXZlbnRzLmNsaWNrfHxiLmFsbG93UG9pbnRTZWxlY3QpYS5ydW5UcmFja2VyQ2xpY2s9ITA7ZC5nZXRDb2xvcigpO2QuZ2V0U3ltYm9sKCk7ayhkLnBhcmFsbGVsQXJyYXlzLGZ1bmN0aW9uKGEpe2RbYStcIkRhdGFcIl09W119KTtkLnNldERhdGEoYi5kYXRhLCExKTtkLmlzQ2FydGVzaWFuJiYoYS5oYXNDYXJ0ZXNpYW5TZXJpZXM9ITApO2cubGVuZ3RoJiYocT1nW2cubGVuZ3RoLTFdKTtkLl9pPUEocSYmcS5faSwtMSkrMTthLm9yZGVyU2VyaWVzKHRoaXMuaW5zZXJ0KGcpKX0saW5zZXJ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy5pbmRleCxjO2lmKG0oYikpe2ZvcihjPWEubGVuZ3RoO2MtLTspaWYoYj49QShhW2NdLm9wdGlvbnMuaW5kZXgsXG5hW2NdLl9pKSl7YS5zcGxpY2UoYysxLDAsdGhpcyk7YnJlYWt9LTE9PT1jJiZhLnVuc2hpZnQodGhpcyk7Yys9MX1lbHNlIGEucHVzaCh0aGlzKTtyZXR1cm4gQShjLGEubGVuZ3RoLTEpfSxiaW5kQXhlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMsZD1iLmNoYXJ0LGY7ayhiLmF4aXNUeXBlc3x8W10sZnVuY3Rpb24oZSl7ayhkW2VdLGZ1bmN0aW9uKGEpe2Y9YS5vcHRpb25zO2lmKGNbZV09PT1mLmluZGV4fHx2b2lkIDAhPT1jW2VdJiZjW2VdPT09Zi5pZHx8dm9pZCAwPT09Y1tlXSYmMD09PWYuaW5kZXgpYi5pbnNlcnQoYS5zZXJpZXMpLGJbZV09YSxhLmlzRGlydHk9ITB9KTtiW2VdfHxiLm9wdGlvbmFsQXhpcz09PWV8fGEuZXJyb3IoMTgsITApfSl9LHVwZGF0ZVBhcmFsbGVsQXJyYXlzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zZXJpZXMsZD1hcmd1bWVudHMsZj1tKGIpP2Z1bmN0aW9uKGQpe3ZhciBmPVwieVwiPT09ZCYmYy50b1lEYXRhP2MudG9ZRGF0YShhKTpcbmFbZF07Y1tkK1wiRGF0YVwiXVtiXT1mfTpmdW5jdGlvbihhKXtBcnJheS5wcm90b3R5cGVbYl0uYXBwbHkoY1thK1wiRGF0YVwiXSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkLDIpKX07ayhjLnBhcmFsbGVsQXJyYXlzLGYpfSxhdXRvSW5jcmVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy54SW5jcmVtZW50LGMsZD1hLnBvaW50SW50ZXJ2YWxVbml0LGI9QShiLGEucG9pbnRTdGFydCwwKTt0aGlzLnBvaW50SW50ZXJ2YWw9Yz1BKHRoaXMucG9pbnRJbnRlcnZhbCxhLnBvaW50SW50ZXJ2YWwsMSk7ZCYmKGE9bmV3IGgoYiksXCJkYXlcIj09PWQ/YT0rYVtoLmhjU2V0RGF0ZV0oYVtoLmhjR2V0RGF0ZV0oKStjKTpcIm1vbnRoXCI9PT1kP2E9K2FbaC5oY1NldE1vbnRoXShhW2guaGNHZXRNb250aF0oKStjKTpcInllYXJcIj09PWQmJihhPSthW2guaGNTZXRGdWxsWWVhcl0oYVtoLmhjR2V0RnVsbFllYXJdKCkrYykpLGM9YS1iKTt0aGlzLnhJbmNyZW1lbnQ9YitjO3JldHVybiBifSxcbnNldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPWIub3B0aW9ucy5wbG90T3B0aW9ucyxiPWIudXNlck9wdGlvbnN8fHt9LGQ9Yi5wbG90T3B0aW9uc3x8e30sZj1jW3RoaXMudHlwZV07dGhpcy51c2VyT3B0aW9ucz1hO2M9cihmLGMuc2VyaWVzLGEpO3RoaXMudG9vbHRpcE9wdGlvbnM9cihuLnRvb2x0aXAsbi5wbG90T3B0aW9uc1t0aGlzLnR5cGVdLnRvb2x0aXAsYi50b29sdGlwLGQuc2VyaWVzJiZkLnNlcmllcy50b29sdGlwLGRbdGhpcy50eXBlXSYmZFt0aGlzLnR5cGVdLnRvb2x0aXAsYS50b29sdGlwKTtudWxsPT09Zi5tYXJrZXImJmRlbGV0ZSBjLm1hcmtlcjt0aGlzLnpvbmVBeGlzPWMuem9uZUF4aXM7YT10aGlzLnpvbmVzPShjLnpvbmVzfHxbXSkuc2xpY2UoKTshYy5uZWdhdGl2ZUNvbG9yJiYhYy5uZWdhdGl2ZUZpbGxDb2xvcnx8Yy56b25lc3x8YS5wdXNoKHt2YWx1ZTpjW3RoaXMuem9uZUF4aXMrXCJUaHJlc2hvbGRcIl18fGMudGhyZXNob2xkfHxcbjAsY2xhc3NOYW1lOlwiaGlnaGNoYXJ0cy1uZWdhdGl2ZVwiLGNvbG9yOmMubmVnYXRpdmVDb2xvcixmaWxsQ29sb3I6Yy5uZWdhdGl2ZUZpbGxDb2xvcn0pO2EubGVuZ3RoJiZsKGFbYS5sZW5ndGgtMV0udmFsdWUpJiZhLnB1c2goe2NvbG9yOnRoaXMuY29sb3IsZmlsbENvbG9yOnRoaXMuZmlsbENvbG9yfSk7cmV0dXJuIGN9LGdldEN5Y2xpYzpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj10aGlzLmNoYXJ0LGc9dGhpcy51c2VyT3B0aW9ucyxlPWErXCJJbmRleFwiLHE9YStcIkNvdW50ZXJcIixrPWM/Yy5sZW5ndGg6QShmLm9wdGlvbnMuY2hhcnRbYStcIkNvdW50XCJdLGZbYStcIkNvdW50XCJdKTtifHwoZD1BKGdbZV0sZ1tcIl9cIitlXSksbChkKXx8KGYuc2VyaWVzLmxlbmd0aHx8KGZbcV09MCksZ1tcIl9cIitlXT1kPWZbcV0layxmW3FdKz0xKSxjJiYoYj1jW2RdKSk7dm9pZCAwIT09ZCYmKHRoaXNbZV09ZCk7dGhpc1thXT1ifSxnZXRDb2xvcjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jb2xvckJ5UG9pbnQ/XG50aGlzLm9wdGlvbnMuY29sb3I9bnVsbDp0aGlzLmdldEN5Y2xpYyhcImNvbG9yXCIsdGhpcy5vcHRpb25zLmNvbG9yfHx0W3RoaXMudHlwZV0uY29sb3IsdGhpcy5jaGFydC5vcHRpb25zLmNvbG9ycyl9LGdldFN5bWJvbDpmdW5jdGlvbigpe3RoaXMuZ2V0Q3ljbGljKFwic3ltYm9sXCIsdGhpcy5vcHRpb25zLm1hcmtlci5zeW1ib2wsdGhpcy5jaGFydC5vcHRpb25zLnN5bWJvbHMpfSxkcmF3TGVnZW5kU3ltYm9sOmEuTGVnZW5kU3ltYm9sTWl4aW4uZHJhd0xpbmVNYXJrZXIsc2V0RGF0YTpmdW5jdGlvbihjLGYsZSxoKXt2YXIgcT10aGlzLGc9cS5wb2ludHMscD1nJiZnLmxlbmd0aHx8MCxsLHg9cS5vcHRpb25zLHI9cS5jaGFydCxuPW51bGwsdj1xLnhBeGlzLHQ9eC50dXJib1RocmVzaG9sZCx5PXRoaXMueERhdGEsdT10aGlzLnlEYXRhLEc9KGw9cS5wb2ludEFycmF5TWFwKSYmbC5sZW5ndGg7Yz1jfHxbXTtsPWMubGVuZ3RoO2Y9QShmLCEwKTtpZighMSE9PWgmJmwmJnA9PT1sJiYhcS5jcm9wcGVkJiZcbiFxLmhhc0dyb3VwZWREYXRhJiZxLnZpc2libGUpayhjLGZ1bmN0aW9uKGEsYil7Z1tiXS51cGRhdGUmJmEhPT14LmRhdGFbYl0mJmdbYl0udXBkYXRlKGEsITEsbnVsbCwhMSl9KTtlbHNle3EueEluY3JlbWVudD1udWxsO3EuY29sb3JDb3VudGVyPTA7ayh0aGlzLnBhcmFsbGVsQXJyYXlzLGZ1bmN0aW9uKGEpe3FbYStcIkRhdGFcIl0ubGVuZ3RoPTB9KTtpZih0JiZsPnQpe2ZvcihlPTA7bnVsbD09PW4mJmU8bDspbj1jW2VdLGUrKztpZihtKG4pKWZvcihlPTA7ZTxsO2UrKyl5W2VdPXRoaXMuYXV0b0luY3JlbWVudCgpLHVbZV09Y1tlXTtlbHNlIGlmKGIobikpaWYoRylmb3IoZT0wO2U8bDtlKyspbj1jW2VdLHlbZV09blswXSx1W2VdPW4uc2xpY2UoMSxHKzEpO2Vsc2UgZm9yKGU9MDtlPGw7ZSsrKW49Y1tlXSx5W2VdPW5bMF0sdVtlXT1uWzFdO2Vsc2UgYS5lcnJvcigxMil9ZWxzZSBmb3IoZT0wO2U8bDtlKyspdm9pZCAwIT09Y1tlXSYmKG49e3NlcmllczpxfSxxLnBvaW50Q2xhc3MucHJvdG90eXBlLmFwcGx5T3B0aW9ucy5hcHBseShuLFxuW2NbZV1dKSxxLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKG4sZSkpO2QodVswXSkmJmEuZXJyb3IoMTQsITApO3EuZGF0YT1bXTtxLm9wdGlvbnMuZGF0YT1xLnVzZXJPcHRpb25zLmRhdGE9Yztmb3IoZT1wO2UtLTspZ1tlXSYmZ1tlXS5kZXN0cm95JiZnW2VdLmRlc3Ryb3koKTt2JiYodi5taW5SYW5nZT12LnVzZXJNaW5SYW5nZSk7cS5pc0RpcnR5PXIuaXNEaXJ0eUJveD0hMDtxLmlzRGlydHlEYXRhPSEhZztlPSExfVwicG9pbnRcIj09PXgubGVnZW5kVHlwZSYmKHRoaXMucHJvY2Vzc0RhdGEoKSx0aGlzLmdlbmVyYXRlUG9pbnRzKCkpO2YmJnIucmVkcmF3KGUpfSxwcm9jZXNzRGF0YTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnhEYXRhLGQ9dGhpcy55RGF0YSxmPWMubGVuZ3RoLGU7ZT0wO3ZhciBnLHEsaz10aGlzLnhBeGlzLG0saD10aGlzLm9wdGlvbnM7bT1oLmNyb3BUaHJlc2hvbGQ7dmFyIGw9dGhpcy5nZXRFeHRyZW1lc0Zyb21BbGx8fGguZ2V0RXh0cmVtZXNGcm9tQWxsLHA9dGhpcy5pc0NhcnRlc2lhbixcbmg9ayYmay52YWwybGluLG49ayYmay5pc0xvZyxyLHY7aWYocCYmIXRoaXMuaXNEaXJ0eSYmIWsuaXNEaXJ0eSYmIXRoaXMueUF4aXMuaXNEaXJ0eSYmIWIpcmV0dXJuITE7ayYmKGI9ay5nZXRFeHRyZW1lcygpLHI9Yi5taW4sdj1iLm1heCk7aWYocCYmdGhpcy5zb3J0ZWQmJiFsJiYoIW18fGY+bXx8dGhpcy5mb3JjZUNyb3ApKWlmKGNbZi0xXTxyfHxjWzBdPnYpYz1bXSxkPVtdO2Vsc2UgaWYoY1swXTxyfHxjW2YtMV0+dillPXRoaXMuY3JvcERhdGEodGhpcy54RGF0YSx0aGlzLnlEYXRhLHIsdiksYz1lLnhEYXRhLGQ9ZS55RGF0YSxlPWUuc3RhcnQsZz0hMDtmb3IobT1jLmxlbmd0aHx8MTstLW07KWY9bj9oKGNbbV0pLWgoY1ttLTFdKTpjW21dLWNbbS0xXSwwPGYmJih2b2lkIDA9PT1xfHxmPHEpP3E9ZjowPmYmJnRoaXMucmVxdWlyZVNvcnRpbmcmJmEuZXJyb3IoMTUpO3RoaXMuY3JvcHBlZD1nO3RoaXMuY3JvcFN0YXJ0PWU7dGhpcy5wcm9jZXNzZWRYRGF0YT1jO3RoaXMucHJvY2Vzc2VkWURhdGE9XG5kO3RoaXMuY2xvc2VzdFBvaW50UmFuZ2U9cX0sY3JvcERhdGE6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9YS5sZW5ndGgsZz0wLGU9ZixxPUEodGhpcy5jcm9wU2hvdWxkZXIsMSksaztmb3Ioaz0wO2s8ZjtrKyspaWYoYVtrXT49Yyl7Zz1NYXRoLm1heCgwLGstcSk7YnJlYWt9Zm9yKGM9aztjPGY7YysrKWlmKGFbY10+ZCl7ZT1jK3E7YnJlYWt9cmV0dXJue3hEYXRhOmEuc2xpY2UoZyxlKSx5RGF0YTpiLnNsaWNlKGcsZSksc3RhcnQ6ZyxlbmQ6ZX19LGdlbmVyYXRlUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLmRhdGEsYj10aGlzLmRhdGEsYyxkPXRoaXMucHJvY2Vzc2VkWERhdGEsZT10aGlzLnByb2Nlc3NlZFlEYXRhLGc9dGhpcy5wb2ludENsYXNzLGs9ZC5sZW5ndGgsbT10aGlzLmNyb3BTdGFydHx8MCxoLGw9dGhpcy5oYXNHcm91cGVkRGF0YSxwLG49W10scjtifHxsfHwoYj1bXSxiLmxlbmd0aD1hLmxlbmd0aCxiPXRoaXMuZGF0YT1iKTtmb3Iocj0wO3I8XG5rO3IrKyloPW0rcixsPyhwPShuZXcgZykuaW5pdCh0aGlzLFtkW3JdXS5jb25jYXQoZihlW3JdKSkpLHAuZGF0YUdyb3VwPXRoaXMuZ3JvdXBNYXBbcl0pOihwPWJbaF0pfHx2b2lkIDA9PT1hW2hdfHwoYltoXT1wPShuZXcgZykuaW5pdCh0aGlzLGFbaF0sZFtyXSkpLHAuaW5kZXg9aCxuW3JdPXA7aWYoYiYmKGshPT0oYz1iLmxlbmd0aCl8fGwpKWZvcihyPTA7cjxjO3IrKylyIT09bXx8bHx8KHIrPWspLGJbcl0mJihiW3JdLmRlc3Ryb3lFbGVtZW50cygpLGJbcl0ucGxvdFg9dm9pZCAwKTt0aGlzLmRhdGE9Yjt0aGlzLnBvaW50cz1ufSxnZXRFeHRyZW1lczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnlBeGlzLGQ9dGhpcy5wcm9jZXNzZWRYRGF0YSxmLGU9W10sZz0wO2Y9dGhpcy54QXhpcy5nZXRFeHRyZW1lcygpO3ZhciBxPWYubWluLGs9Zi5tYXgsaCxsLHAscjthPWF8fHRoaXMuc3RhY2tlZFlEYXRhfHx0aGlzLnByb2Nlc3NlZFlEYXRhfHxbXTtmPWEubGVuZ3RoO2ZvcihyPTA7cjxcbmY7cisrKWlmKGw9ZFtyXSxwPWFbcl0saD0obShwLCEwKXx8YihwKSkmJighYy5wb3NpdGl2ZVZhbHVlc09ubHl8fHAubGVuZ3RofHwwPHApLGw9dGhpcy5nZXRFeHRyZW1lc0Zyb21BbGx8fHRoaXMub3B0aW9ucy5nZXRFeHRyZW1lc0Zyb21BbGx8fHRoaXMuY3JvcHBlZHx8KGRbcisxXXx8bCk+PXEmJihkW3ItMV18fGwpPD1rLGgmJmwpaWYoaD1wLmxlbmd0aClmb3IoO2gtLTspbnVsbCE9PXBbaF0mJihlW2crK109cFtoXSk7ZWxzZSBlW2crK109cDt0aGlzLmRhdGFNaW49RShlKTt0aGlzLmRhdGFNYXg9QyhlKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7dGhpcy5wcm9jZXNzZWRYRGF0YXx8dGhpcy5wcm9jZXNzRGF0YSgpO3RoaXMuZ2VuZXJhdGVQb2ludHMoKTt2YXIgYT10aGlzLm9wdGlvbnMsYj1hLnN0YWNraW5nLGM9dGhpcy54QXhpcyxkPWMuY2F0ZWdvcmllcyxmPXRoaXMueUF4aXMsZT10aGlzLnBvaW50cyxrPWUubGVuZ3RoLGg9ISF0aGlzLm1vZGlmeVZhbHVlLHA9YS5wb2ludFBsYWNlbWVudCxcbnI9XCJiZXR3ZWVuXCI9PT1wfHxtKHApLG49YS50aHJlc2hvbGQsdj1hLnN0YXJ0RnJvbVRocmVzaG9sZD9uOjAsdCx5LEcsRixIPU51bWJlci5NQVhfVkFMVUU7XCJiZXR3ZWVuXCI9PT1wJiYocD0uNSk7bShwKSYmKHAqPUEoYS5wb2ludFJhbmdlfHxjLnBvaW50UmFuZ2UpKTtmb3IoYT0wO2E8azthKyspe3ZhciB6PWVbYV0sQj16LngsQz16Lnk7eT16Lmxvdzt2YXIgRT1iJiZmLnN0YWNrc1sodGhpcy5uZWdTdGFja3MmJkM8KHY/MDpuKT9cIi1cIjpcIlwiKSt0aGlzLnN0YWNrS2V5XSxJO2YucG9zaXRpdmVWYWx1ZXNPbmx5JiZudWxsIT09QyYmMD49QyYmKHouaXNOdWxsPSEwKTt6LnBsb3RYPXQ9dShNYXRoLm1pbihNYXRoLm1heCgtMUU1LGMudHJhbnNsYXRlKEIsMCwwLDAsMSxwLFwiZmxhZ3NcIj09PXRoaXMudHlwZSkpLDFFNSkpO2ImJnRoaXMudmlzaWJsZSYmIXouaXNOdWxsJiZFJiZFW0JdJiYoRj10aGlzLmdldFN0YWNrSW5kaWNhdG9yKEYsQix0aGlzLmluZGV4KSxJPUVbQl0sQz1JLnBvaW50c1tGLmtleV0sXG55PUNbMF0sQz1DWzFdLHk9PT12JiZGLmtleT09PUVbQl0uYmFzZSYmKHk9QShuLGYubWluKSksZi5wb3NpdGl2ZVZhbHVlc09ubHkmJjA+PXkmJih5PW51bGwpLHoudG90YWw9ei5zdGFja1RvdGFsPUkudG90YWwsei5wZXJjZW50YWdlPUkudG90YWwmJnoueS9JLnRvdGFsKjEwMCx6LnN0YWNrWT1DLEkuc2V0T2Zmc2V0KHRoaXMucG9pbnRYT2Zmc2V0fHwwLHRoaXMuYmFyV3x8MCkpO3oueUJvdHRvbT1sKHkpP2YudHJhbnNsYXRlKHksMCwxLDAsMSk6bnVsbDtoJiYoQz10aGlzLm1vZGlmeVZhbHVlKEMseikpO3oucGxvdFk9eT1cIm51bWJlclwiPT09dHlwZW9mIEMmJkluZmluaXR5IT09Qz9NYXRoLm1pbihNYXRoLm1heCgtMUU1LGYudHJhbnNsYXRlKEMsMCwxLDAsMSkpLDFFNSk6dm9pZCAwO3ouaXNJbnNpZGU9dm9pZCAwIT09eSYmMDw9eSYmeTw9Zi5sZW4mJjA8PXQmJnQ8PWMubGVuO3ouY2xpZW50WD1yP3UoYy50cmFuc2xhdGUoQiwwLDAsMCwxLHApKTp0O3oubmVnYXRpdmU9ei55PFxuKG58fDApO3ouY2F0ZWdvcnk9ZCYmdm9pZCAwIT09ZFt6LnhdP2Rbei54XTp6Lng7ei5pc051bGx8fCh2b2lkIDAhPT1HJiYoSD1NYXRoLm1pbihILE1hdGguYWJzKHQtRykpKSxHPXQpO3ouem9uZT10aGlzLnpvbmVzLmxlbmd0aCYmei5nZXRab25lKCl9dGhpcy5jbG9zZXN0UG9pbnRSYW5nZVB4PUh9LGdldFZhbGlkUG9pbnRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jaGFydDtyZXR1cm4gSChhfHx0aGlzLnBvaW50c3x8W10sZnVuY3Rpb24oYSl7cmV0dXJuIGImJiFjLmlzSW5zaWRlUGxvdChhLnBsb3RYLGEucGxvdFksYy5pbnZlcnRlZCk/ITE6IWEuaXNOdWxsfSl9LHNldENsaXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGFydCxjPXRoaXMub3B0aW9ucyxkPWIucmVuZGVyZXIsZj1iLmludmVydGVkLGU9dGhpcy5jbGlwQm94LHE9ZXx8Yi5jbGlwQm94LGs9dGhpcy5zaGFyZWRDbGlwS2V5fHxbXCJfc2hhcmVkQ2xpcFwiLGEmJmEuZHVyYXRpb24sYSYmYS5lYXNpbmcscS5oZWlnaHQsXG5jLnhBeGlzLGMueUF4aXNdLmpvaW4oKSxtPWJba10saD1iW2srXCJtXCJdO218fChhJiYocS53aWR0aD0wLGJbaytcIm1cIl09aD1kLmNsaXBSZWN0KC05OSxmPy1iLnBsb3RMZWZ0Oi1iLnBsb3RUb3AsOTksZj9iLmNoYXJ0V2lkdGg6Yi5jaGFydEhlaWdodCkpLGJba109bT1kLmNsaXBSZWN0KHEpLG0uY291bnQ9e2xlbmd0aDowfSk7YSYmIW0uY291bnRbdGhpcy5pbmRleF0mJihtLmNvdW50W3RoaXMuaW5kZXhdPSEwLG0uY291bnQubGVuZ3RoKz0xKTshMSE9PWMuY2xpcCYmKHRoaXMuZ3JvdXAuY2xpcChhfHxlP206Yi5jbGlwUmVjdCksdGhpcy5tYXJrZXJHcm91cC5jbGlwKGgpLHRoaXMuc2hhcmVkQ2xpcEtleT1rKTthfHwobS5jb3VudFt0aGlzLmluZGV4XSYmKGRlbGV0ZSBtLmNvdW50W3RoaXMuaW5kZXhdLC0tbS5jb3VudC5sZW5ndGgpLDA9PT1tLmNvdW50Lmxlbmd0aCYmayYmYltrXSYmKGV8fChiW2tdPWJba10uZGVzdHJveSgpKSxiW2srXCJtXCJdJiYodGhpcy5tYXJrZXJHcm91cC5jbGlwKCksXG5iW2srXCJtXCJdPWJbaytcIm1cIl0uZGVzdHJveSgpKSkpfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2hhcnQsYz16KHRoaXMub3B0aW9ucy5hbmltYXRpb24pLGQ7YT90aGlzLnNldENsaXAoYyk6KGQ9dGhpcy5zaGFyZWRDbGlwS2V5LChhPWJbZF0pJiZhLmFuaW1hdGUoe3dpZHRoOmIucGxvdFNpemVYfSxjKSxiW2QrXCJtXCJdJiZiW2QrXCJtXCJdLmFuaW1hdGUoe3dpZHRoOmIucGxvdFNpemVYKzk5fSxjKSx0aGlzLmFuaW1hdGU9bnVsbCl9LGFmdGVyQW5pbWF0ZTpmdW5jdGlvbigpe3RoaXMuc2V0Q2xpcCgpO3AodGhpcyxcImFmdGVyQW5pbWF0ZVwiKX0sZHJhd1BvaW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMucG9pbnRzLGI9dGhpcy5jaGFydCxjLGQsZixlLGs9dGhpcy5vcHRpb25zLm1hcmtlcixoLHAsbCxyLG49dGhpcy5tYXJrZXJHcm91cCx2PUEoay5lbmFibGVkLHRoaXMueEF4aXMuaXNSYWRpYWw/ITA6bnVsbCx0aGlzLmNsb3Nlc3RQb2ludFJhbmdlUHg+PTIqay5yYWRpdXMpO1xuaWYoITEhPT1rLmVuYWJsZWR8fHRoaXMuX2hhc1BvaW50TWFya2Vycylmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWY9YVtkXSxjPWYucGxvdFksZT1mLmdyYXBoaWMsaD1mLm1hcmtlcnx8e30scD0hIWYubWFya2VyLGw9diYmdm9pZCAwPT09aC5lbmFibGVkfHxoLmVuYWJsZWQscj1mLmlzSW5zaWRlLGwmJm0oYykmJm51bGwhPT1mLnk/KGM9QShoLnN5bWJvbCx0aGlzLnN5bWJvbCksZi5oYXNJbWFnZT0wPT09Yy5pbmRleE9mKFwidXJsXCIpLGw9dGhpcy5tYXJrZXJBdHRyaWJzKGYsZi5zZWxlY3RlZCYmXCJzZWxlY3RcIiksZT9lW3I/XCJzaG93XCI6XCJoaWRlXCJdKCEwKS5hbmltYXRlKGwpOnImJigwPGwud2lkdGh8fGYuaGFzSW1hZ2UpJiYoZi5ncmFwaGljPWU9Yi5yZW5kZXJlci5zeW1ib2woYyxsLngsbC55LGwud2lkdGgsbC5oZWlnaHQscD9oOmspLmFkZChuKSksZSYmZS5hdHRyKHRoaXMucG9pbnRBdHRyaWJzKGYsZi5zZWxlY3RlZCYmXCJzZWxlY3RcIikpLGUmJmUuYWRkQ2xhc3MoZi5nZXRDbGFzc05hbWUoKSxcbiEwKSk6ZSYmKGYuZ3JhcGhpYz1lLmRlc3Ryb3koKSl9LG1hcmtlckF0dHJpYnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9wdGlvbnMubWFya2VyLGQ9YS5tYXJrZXJ8fHt9LGY9QShkLnJhZGl1cyxjLnJhZGl1cyk7YiYmKGM9Yy5zdGF0ZXNbYl0sYj1kLnN0YXRlcyYmZC5zdGF0ZXNbYl0sZj1BKGImJmIucmFkaXVzLGMmJmMucmFkaXVzLGYrKGMmJmMucmFkaXVzUGx1c3x8MCkpKTthLmhhc0ltYWdlJiYoZj0wKTthPXt4Ok1hdGguZmxvb3IoYS5wbG90WCktZix5OmEucGxvdFktZn07ZiYmKGEud2lkdGg9YS5oZWlnaHQ9MipmKTtyZXR1cm4gYX0scG9pbnRBdHRyaWJzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vcHRpb25zLm1hcmtlcixkPWEmJmEub3B0aW9ucyxmPWQmJmQubWFya2VyfHx7fSxlPXRoaXMuY29sb3IscT1kJiZkLmNvbG9yLGs9YSYmYS5jb2xvcixkPUEoZi5saW5lV2lkdGgsYy5saW5lV2lkdGgpO2E9YSYmYS56b25lJiZhLnpvbmUuY29sb3I7ZT1xfHxhfHxcbmt8fGU7YT1mLmZpbGxDb2xvcnx8Yy5maWxsQ29sb3J8fGU7ZT1mLmxpbmVDb2xvcnx8Yy5saW5lQ29sb3J8fGU7YiYmKGM9Yy5zdGF0ZXNbYl0sYj1mLnN0YXRlcyYmZi5zdGF0ZXNbYl18fHt9LGQ9QShiLmxpbmVXaWR0aCxjLmxpbmVXaWR0aCxkK0EoYi5saW5lV2lkdGhQbHVzLGMubGluZVdpZHRoUGx1cywwKSksYT1iLmZpbGxDb2xvcnx8Yy5maWxsQ29sb3J8fGEsZT1iLmxpbmVDb2xvcnx8Yy5saW5lQ29sb3J8fGUpO3JldHVybntzdHJva2U6ZSxcInN0cm9rZS13aWR0aFwiOmQsZmlsbDphfX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LGM9L0FwcGxlV2ViS2l0XFwvNTMzLy50ZXN0KEYubmF2aWdhdG9yLnVzZXJBZ2VudCksZCxmPWEuZGF0YXx8W10sZyxtLGg7cChhLFwiZGVzdHJveVwiKTt2KGEpO2soYS5heGlzVHlwZXN8fFtdLGZ1bmN0aW9uKGIpeyhoPWFbYl0pJiZoLnNlcmllcyYmKGUoaC5zZXJpZXMsYSksaC5pc0RpcnR5PWguZm9yY2VSZWRyYXc9XG4hMCl9KTthLmxlZ2VuZEl0ZW0mJmEuY2hhcnQubGVnZW5kLmRlc3Ryb3lJdGVtKGEpO2ZvcihkPWYubGVuZ3RoO2QtLTspKGc9ZltkXSkmJmcuZGVzdHJveSYmZy5kZXN0cm95KCk7YS5wb2ludHM9bnVsbDtjbGVhclRpbWVvdXQoYS5hbmltYXRpb25UaW1lb3V0KTtmb3IobSBpbiBhKWFbbV1pbnN0YW5jZW9mIHkmJiFhW21dLnN1cnZpdmUmJihkPWMmJlwiZ3JvdXBcIj09PW0/XCJoaWRlXCI6XCJkZXN0cm95XCIsYVttXVtkXSgpKTtiLmhvdmVyU2VyaWVzPT09YSYmKGIuaG92ZXJTZXJpZXM9bnVsbCk7ZShiLnNlcmllcyxhKTtiLm9yZGVyU2VyaWVzKCk7Zm9yKG0gaW4gYSlkZWxldGUgYVttXX0sZ2V0R3JhcGhQYXRoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGY9ZC5vcHRpb25zLGU9Zi5zdGVwLHEsbT1bXSxoPVtdLHA7YT1hfHxkLnBvaW50czsocT1hLnJldmVyc2VkKSYmYS5yZXZlcnNlKCk7KGU9e3JpZ2h0OjEsY2VudGVyOjJ9W2VdfHxlJiYzKSYmcSYmKGU9NC1lKTshZi5jb25uZWN0TnVsbHN8fFxuYnx8Y3x8KGE9dGhpcy5nZXRWYWxpZFBvaW50cyhhKSk7ayhhLGZ1bmN0aW9uKGcsayl7dmFyIHE9Zy5wbG90WCxyPWcucGxvdFksbj1hW2stMV07KGcubGVmdENsaWZmfHxuJiZuLnJpZ2h0Q2xpZmYpJiYhYyYmKHA9ITApO2cuaXNOdWxsJiYhbChiKSYmMDxrP3A9IWYuY29ubmVjdE51bGxzOmcuaXNOdWxsJiYhYj9wPSEwOigwPT09a3x8cD9rPVtcIk1cIixnLnBsb3RYLGcucGxvdFldOmQuZ2V0UG9pbnRTcGxpbmU/az1kLmdldFBvaW50U3BsaW5lKGEsZyxrKTplPyhrPTE9PT1lP1tcIkxcIixuLnBsb3RYLHJdOjI9PT1lP1tcIkxcIiwobi5wbG90WCtxKS8yLG4ucGxvdFksXCJMXCIsKG4ucGxvdFgrcSkvMixyXTpbXCJMXCIscSxuLnBsb3RZXSxrLnB1c2goXCJMXCIscSxyKSk6az1bXCJMXCIscSxyXSxoLnB1c2goZy54KSxlJiZoLnB1c2goZy54KSxtLnB1c2guYXBwbHkobSxrKSxwPSExKX0pO20ueE1hcD1oO3JldHVybiBkLmdyYXBoUGF0aD1tfSxkcmF3R3JhcGg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLFxuYj10aGlzLm9wdGlvbnMsYz0odGhpcy5nYXBwZWRQYXRofHx0aGlzLmdldEdyYXBoUGF0aCkuY2FsbCh0aGlzKSxkPVtbXCJncmFwaFwiLFwiaGlnaGNoYXJ0cy1ncmFwaFwiLGIubGluZUNvbG9yfHx0aGlzLmNvbG9yLGIuZGFzaFN0eWxlXV07ayh0aGlzLnpvbmVzLGZ1bmN0aW9uKGMsZil7ZC5wdXNoKFtcInpvbmUtZ3JhcGgtXCIrZixcImhpZ2hjaGFydHMtZ3JhcGggaGlnaGNoYXJ0cy16b25lLWdyYXBoLVwiK2YrXCIgXCIrKGMuY2xhc3NOYW1lfHxcIlwiKSxjLmNvbG9yfHxhLmNvbG9yLGMuZGFzaFN0eWxlfHxiLmRhc2hTdHlsZV0pfSk7ayhkLGZ1bmN0aW9uKGQsZil7dmFyIGU9ZFswXSxnPWFbZV07Zz8oZy5lbmRYPWMueE1hcCxnLmFuaW1hdGUoe2Q6Y30pKTpjLmxlbmd0aCYmKGFbZV09YS5jaGFydC5yZW5kZXJlci5wYXRoKGMpLmFkZENsYXNzKGRbMV0pLmF0dHIoe3pJbmRleDoxfSkuYWRkKGEuZ3JvdXApLGc9e3N0cm9rZTpkWzJdLFwic3Ryb2tlLXdpZHRoXCI6Yi5saW5lV2lkdGgsZmlsbDphLmZpbGxHcmFwaCYmXG5hLmNvbG9yfHxcIm5vbmVcIn0sZFszXT9nLmRhc2hzdHlsZT1kWzNdOlwic3F1YXJlXCIhPT1iLmxpbmVjYXAmJihnW1wic3Ryb2tlLWxpbmVjYXBcIl09Z1tcInN0cm9rZS1saW5lam9pblwiXT1cInJvdW5kXCIpLGc9YVtlXS5hdHRyKGcpLnNoYWRvdygyPmYmJmIuc2hhZG93KSk7ZyYmKGcuc3RhcnRYPWMueE1hcCxnLmlzQXJlYT1jLmlzQXJlYSl9KX0sYXBwbHlab25lczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLmNoYXJ0LGM9Yi5yZW5kZXJlcixkPXRoaXMuem9uZXMsZixlLG09dGhpcy5jbGlwc3x8W10saCxwPXRoaXMuZ3JhcGgsbD10aGlzLmFyZWEscj1NYXRoLm1heChiLmNoYXJ0V2lkdGgsYi5jaGFydEhlaWdodCksbj10aGlzWyh0aGlzLnpvbmVBeGlzfHxcInlcIikrXCJBeGlzXCJdLHYsdCx5PWIuaW52ZXJ0ZWQsdSxHLEYsSCx6PSExO2QubGVuZ3RoJiYocHx8bCkmJm4mJnZvaWQgMCE9PW4ubWluJiYodD1uLnJldmVyc2VkLHU9bi5ob3JpeixwJiZwLmhpZGUoKSxsJiZsLmhpZGUoKSxcbnY9bi5nZXRFeHRyZW1lcygpLGsoZCxmdW5jdGlvbihkLGcpe2Y9dD91P2IucGxvdFdpZHRoOjA6dT8wOm4udG9QaXhlbHModi5taW4pO2Y9TWF0aC5taW4oTWF0aC5tYXgoQShlLGYpLDApLHIpO2U9TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5yb3VuZChuLnRvUGl4ZWxzKEEoZC52YWx1ZSx2Lm1heCksITApKSwwKSxyKTt6JiYoZj1lPW4udG9QaXhlbHModi5tYXgpKTtHPU1hdGguYWJzKGYtZSk7Rj1NYXRoLm1pbihmLGUpO0g9TWF0aC5tYXgoZixlKTtuLmlzWEF4aXM/KGg9e3g6eT9IOkYseTowLHdpZHRoOkcsaGVpZ2h0OnJ9LHV8fChoLng9Yi5wbG90SGVpZ2h0LWgueCkpOihoPXt4OjAseTp5P0g6Rix3aWR0aDpyLGhlaWdodDpHfSx1JiYoaC55PWIucGxvdFdpZHRoLWgueSkpO3kmJmMuaXNWTUwmJihoPW4uaXNYQXhpcz97eDowLHk6dD9GOkgsaGVpZ2h0Omgud2lkdGgsd2lkdGg6Yi5jaGFydFdpZHRofTp7eDpoLnktYi5wbG90TGVmdC1iLnNwYWNpbmdCb3gueCx5OjAsd2lkdGg6aC5oZWlnaHQsXG5oZWlnaHQ6Yi5jaGFydEhlaWdodH0pO21bZ10/bVtnXS5hbmltYXRlKGgpOihtW2ddPWMuY2xpcFJlY3QoaCkscCYmYVtcInpvbmUtZ3JhcGgtXCIrZ10uY2xpcChtW2ddKSxsJiZhW1wiem9uZS1hcmVhLVwiK2ddLmNsaXAobVtnXSkpO3o9ZC52YWx1ZT52Lm1heH0pLHRoaXMuY2xpcHM9bSl9LGludmVydEdyb3VwczpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ayhbXCJncm91cFwiLFwibWFya2VyR3JvdXBcIl0sZnVuY3Rpb24oYil7Y1tiXSYmKGQucmVuZGVyZXIuaXNWTUwmJmNbYl0uYXR0cih7d2lkdGg6Yy55QXhpcy5sZW4saGVpZ2h0OmMueEF4aXMubGVufSksY1tiXS53aWR0aD1jLnlBeGlzLmxlbixjW2JdLmhlaWdodD1jLnhBeGlzLmxlbixjW2JdLmludmVydChhKSl9KX12YXIgYz10aGlzLGQ9Yy5jaGFydCxmO2MueEF4aXMmJihmPUIoZCxcInJlc2l6ZVwiLGIpLEIoYyxcImRlc3Ryb3lcIixmKSxiKGEpLGMuaW52ZXJ0R3JvdXBzPWIpfSxwbG90R3JvdXA6ZnVuY3Rpb24oYSxiLGMsZCxmKXt2YXIgZT1cbnRoaXNbYV0saz0hZTtrJiYodGhpc1thXT1lPXRoaXMuY2hhcnQucmVuZGVyZXIuZyhiKS5hdHRyKHt6SW5kZXg6ZHx8LjF9KS5hZGQoZiksZS5hZGRDbGFzcyhcImhpZ2hjaGFydHMtc2VyaWVzLVwiK3RoaXMuaW5kZXgrXCIgaGlnaGNoYXJ0cy1cIit0aGlzLnR5cGUrXCItc2VyaWVzIGhpZ2hjaGFydHMtY29sb3ItXCIrdGhpcy5jb2xvckluZGV4K1wiIFwiKyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lfHxcIlwiKSkpO2UuYXR0cih7dmlzaWJpbGl0eTpjfSlbaz9cImF0dHJcIjpcImFuaW1hdGVcIl0odGhpcy5nZXRQbG90Qm94KCkpO3JldHVybiBlfSxnZXRQbG90Qm94OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMueEF4aXMsYz10aGlzLnlBeGlzO2EuaW52ZXJ0ZWQmJihiPWMsYz10aGlzLnhBeGlzKTtyZXR1cm57dHJhbnNsYXRlWDpiP2IubGVmdDphLnBsb3RMZWZ0LHRyYW5zbGF0ZVk6Yz9jLnRvcDphLnBsb3RUb3Asc2NhbGVYOjEsc2NhbGVZOjF9fSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMsYj1hLmNoYXJ0LGMsZD1hLm9wdGlvbnMsZj0hIWEuYW5pbWF0ZSYmYi5yZW5kZXJlci5pc1NWRyYmeihkLmFuaW1hdGlvbikuZHVyYXRpb24sZT1hLnZpc2libGU/XCJpbmhlcml0XCI6XCJoaWRkZW5cIixrPWQuekluZGV4LG09YS5oYXNSZW5kZXJlZCxoPWIuc2VyaWVzR3JvdXAscD1iLmludmVydGVkO2M9YS5wbG90R3JvdXAoXCJncm91cFwiLFwic2VyaWVzXCIsZSxrLGgpO2EubWFya2VyR3JvdXA9YS5wbG90R3JvdXAoXCJtYXJrZXJHcm91cFwiLFwibWFya2Vyc1wiLGUsayxoKTtmJiZhLmFuaW1hdGUoITApO2MuaW52ZXJ0ZWQ9YS5pc0NhcnRlc2lhbj9wOiExO2EuZHJhd0dyYXBoJiYoYS5kcmF3R3JhcGgoKSxhLmFwcGx5Wm9uZXMoKSk7YS5kcmF3RGF0YUxhYmVscyYmYS5kcmF3RGF0YUxhYmVscygpO2EudmlzaWJsZSYmYS5kcmF3UG9pbnRzKCk7YS5kcmF3VHJhY2tlciYmITEhPT1hLm9wdGlvbnMuZW5hYmxlTW91c2VUcmFja2luZyYmYS5kcmF3VHJhY2tlcigpO2EuaW52ZXJ0R3JvdXBzKHApO1xuITE9PT1kLmNsaXB8fGEuc2hhcmVkQ2xpcEtleXx8bXx8Yy5jbGlwKGIuY2xpcFJlY3QpO2YmJmEuYW5pbWF0ZSgpO218fChhLmFuaW1hdGlvblRpbWVvdXQ9RyhmdW5jdGlvbigpe2EuYWZ0ZXJBbmltYXRlKCl9LGYpKTthLmlzRGlydHk9ITE7YS5oYXNSZW5kZXJlZD0hMH0scmVkcmF3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGFydCxiPXRoaXMuaXNEaXJ0eXx8dGhpcy5pc0RpcnR5RGF0YSxjPXRoaXMuZ3JvdXAsZD10aGlzLnhBeGlzLGY9dGhpcy55QXhpcztjJiYoYS5pbnZlcnRlZCYmYy5hdHRyKHt3aWR0aDphLnBsb3RXaWR0aCxoZWlnaHQ6YS5wbG90SGVpZ2h0fSksYy5hbmltYXRlKHt0cmFuc2xhdGVYOkEoZCYmZC5sZWZ0LGEucGxvdExlZnQpLHRyYW5zbGF0ZVk6QShmJiZmLnRvcCxhLnBsb3RUb3ApfSkpO3RoaXMudHJhbnNsYXRlKCk7dGhpcy5yZW5kZXIoKTtiJiZkZWxldGUgdGhpcy5rZFRyZWV9LGtkRGltZW5zaW9uczoxLGtkQXhpc0FycmF5OltcImNsaWVudFhcIixcblwicGxvdFlcIl0sc2VhcmNoUG9pbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnhBeGlzLGQ9dGhpcy55QXhpcyxmPXRoaXMuY2hhcnQuaW52ZXJ0ZWQ7cmV0dXJuIHRoaXMuc2VhcmNoS0RUcmVlKHtjbGllbnRYOmY/Yy5sZW4tYS5jaGFydFkrYy5wb3M6YS5jaGFydFgtYy5wb3MscGxvdFk6Zj9kLmxlbi1hLmNoYXJ0WCtkLnBvczphLmNoYXJ0WS1kLnBvc30sYil9LGJ1aWxkS0RUcmVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjLGQsZil7dmFyIGUsZztpZihnPWMmJmMubGVuZ3RoKXJldHVybiBlPWIua2RBeGlzQXJyYXlbZCVmXSxjLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVtlXS1iW2VdfSksZz1NYXRoLmZsb29yKGcvMikse3BvaW50OmNbZ10sbGVmdDphKGMuc2xpY2UoMCxnKSxkKzEsZikscmlnaHQ6YShjLnNsaWNlKGcrMSksZCsxLGYpfX10aGlzLmJ1aWxkaW5nS2RUcmVlPSEwO3ZhciBiPXRoaXMsYz1iLmtkRGltZW5zaW9ucztkZWxldGUgYi5rZFRyZWU7RyhmdW5jdGlvbigpe2Iua2RUcmVlPVxuYShiLmdldFZhbGlkUG9pbnRzKG51bGwsIWIuZGlyZWN0VG91Y2gpLGMsYyk7Yi5idWlsZGluZ0tkVHJlZT0hMX0sYi5vcHRpb25zLmtkTm93PzA6MSl9LHNlYXJjaEtEVHJlZTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGcsbSl7dmFyIGg9Yi5wb2ludCxwPWQua2RBeGlzQXJyYXlbZyVtXSxxLHIsbj1oO3I9bChhW2ZdKSYmbChoW2ZdKT9NYXRoLnBvdyhhW2ZdLWhbZl0sMik6bnVsbDtxPWwoYVtlXSkmJmwoaFtlXSk/TWF0aC5wb3coYVtlXS1oW2VdLDIpOm51bGw7cT0ocnx8MCkrKHF8fDApO2guZGlzdD1sKHEpP01hdGguc3FydChxKTpOdW1iZXIuTUFYX1ZBTFVFO2guZGlzdFg9bChyKT9NYXRoLnNxcnQocik6TnVtYmVyLk1BWF9WQUxVRTtwPWFbcF0taFtwXTtxPTA+cD9cImxlZnRcIjpcInJpZ2h0XCI7cj0wPnA/XCJyaWdodFwiOlwibGVmdFwiO2JbcV0mJihxPWMoYSxiW3FdLGcrMSxtKSxuPXFba108bltrXT9xOmgpO2Jbcl0mJk1hdGguc3FydChwKnApPG5ba10mJihhPWMoYSxcbmJbcl0sZysxLG0pLG49YVtrXTxuW2tdP2E6bik7cmV0dXJuIG59dmFyIGQ9dGhpcyxmPXRoaXMua2RBeGlzQXJyYXlbMF0sZT10aGlzLmtkQXhpc0FycmF5WzFdLGs9Yj9cImRpc3RYXCI6XCJkaXN0XCI7dGhpcy5rZFRyZWV8fHRoaXMuYnVpbGRpbmdLZFRyZWV8fHRoaXMuYnVpbGRLRFRyZWUoKTtpZih0aGlzLmtkVHJlZSlyZXR1cm4gYyhhLHRoaXMua2RUcmVlLHRoaXMua2REaW1lbnNpb25zLHRoaXMua2REaW1lbnNpb25zKX19KX0pKEkpOyhmdW5jdGlvbihhKXtmdW5jdGlvbiBCKGEsZSxjLGgsbil7dmFyIGI9YS5jaGFydC5pbnZlcnRlZDt0aGlzLmF4aXM9YTt0aGlzLmlzTmVnYXRpdmU9Yzt0aGlzLm9wdGlvbnM9ZTt0aGlzLng9aDt0aGlzLnRvdGFsPW51bGw7dGhpcy5wb2ludHM9e307dGhpcy5zdGFjaz1uO3RoaXMucmlnaHRDbGlmZj10aGlzLmxlZnRDbGlmZj0wO3RoaXMuYWxpZ25PcHRpb25zPXthbGlnbjplLmFsaWdufHwoYj9jP1wibGVmdFwiOlwicmlnaHRcIjpcImNlbnRlclwiKSxcbnZlcnRpY2FsQWxpZ246ZS52ZXJ0aWNhbEFsaWdufHwoYj9cIm1pZGRsZVwiOmM/XCJib3R0b21cIjpcInRvcFwiKSx5OmwoZS55LGI/NDpjPzE0Oi02KSx4OmwoZS54LGI/Yz8tNjo2OjApfTt0aGlzLnRleHRBbGlnbj1lLnRleHRBbGlnbnx8KGI/Yz9cInJpZ2h0XCI6XCJsZWZ0XCI6XCJjZW50ZXJcIil9dmFyIHo9YS5BeGlzLEM9YS5DaGFydCxFPWEuY29ycmVjdEZsb2F0LHU9YS5kZWZpbmVkLGg9YS5kZXN0cm95T2JqZWN0UHJvcGVydGllcyxuPWEuZWFjaCx0PWEuZm9ybWF0LGw9YS5waWNrO2E9YS5TZXJpZXM7Qi5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXtoKHRoaXMsdGhpcy5heGlzKX0scmVuZGVyOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMub3B0aW9ucyxjPWUuZm9ybWF0LGM9Yz90KGMsdGhpcyk6ZS5mb3JtYXR0ZXIuY2FsbCh0aGlzKTt0aGlzLmxhYmVsP3RoaXMubGFiZWwuYXR0cih7dGV4dDpjLHZpc2liaWxpdHk6XCJoaWRkZW5cIn0pOnRoaXMubGFiZWw9dGhpcy5heGlzLmNoYXJ0LnJlbmRlcmVyLnRleHQoYyxcbm51bGwsbnVsbCxlLnVzZUhUTUwpLmNzcyhlLnN0eWxlKS5hdHRyKHthbGlnbjp0aGlzLnRleHRBbGlnbixyb3RhdGlvbjplLnJvdGF0aW9uLHZpc2liaWxpdHk6XCJoaWRkZW5cIn0pLmFkZChhKX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsZSl7dmFyIGM9dGhpcy5heGlzLGs9Yy5jaGFydCxoPWsuaW52ZXJ0ZWQsYj1jLnJldmVyc2VkLGI9dGhpcy5pc05lZ2F0aXZlJiYhYnx8IXRoaXMuaXNOZWdhdGl2ZSYmYixtPWMudHJhbnNsYXRlKGMudXNlUGVyY2VudGFnZT8xMDA6dGhpcy50b3RhbCwwLDAsMCwxKSxjPWMudHJhbnNsYXRlKDApLGM9TWF0aC5hYnMobS1jKTthPWsueEF4aXNbMF0udHJhbnNsYXRlKHRoaXMueCkrYTt2YXIgZD1rLnBsb3RIZWlnaHQsaD17eDpoP2I/bTptLWM6YSx5Omg/ZC1hLWU6Yj9kLW0tYzpkLW0sd2lkdGg6aD9jOmUsaGVpZ2h0Omg/ZTpjfTtpZihlPXRoaXMubGFiZWwpZS5hbGlnbih0aGlzLmFsaWduT3B0aW9ucyxudWxsLGgpLGg9ZS5hbGlnbkF0dHIsZVshMT09PVxudGhpcy5vcHRpb25zLmNyb3B8fGsuaXNJbnNpZGVQbG90KGgueCxoLnkpP1wic2hvd1wiOlwiaGlkZVwiXSghMCl9fTtDLnByb3RvdHlwZS5nZXRTdGFja3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO24oYS55QXhpcyxmdW5jdGlvbihhKXthLnN0YWNrcyYmYS5oYXNWaXNpYmxlU2VyaWVzJiYoYS5vbGRTdGFja3M9YS5zdGFja3MpfSk7bihhLnNlcmllcyxmdW5jdGlvbihlKXshZS5vcHRpb25zLnN0YWNraW5nfHwhMCE9PWUudmlzaWJsZSYmITEhPT1hLm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzfHwoZS5zdGFja0tleT1lLnR5cGUrbChlLm9wdGlvbnMuc3RhY2ssXCJcIikpfSl9O3oucHJvdG90eXBlLmJ1aWxkU3RhY2tzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXJpZXMsZSxjPWwodGhpcy5vcHRpb25zLnJldmVyc2VkU3RhY2tzLCEwKSxoPWEubGVuZ3RoLG47aWYoIXRoaXMuaXNYQXhpcyl7dGhpcy51c2VQZXJjZW50YWdlPSExO2ZvcihuPWg7bi0tOylhW2M/bjpoLW4tMV0uc2V0U3RhY2tlZFBvaW50cygpO1xuZm9yKG49aDtuLS07KWU9YVtjP246aC1uLTFdLGUuc2V0U3RhY2tDbGlmZnMmJmUuc2V0U3RhY2tDbGlmZnMoKTtpZih0aGlzLnVzZVBlcmNlbnRhZ2UpZm9yKG49MDtuPGg7bisrKWFbbl0uc2V0UGVyY2VudFN0YWNrcygpfX07ei5wcm90b3R5cGUucmVuZGVyU3RhY2tUb3RhbHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNoYXJ0LGU9YS5yZW5kZXJlcixjPXRoaXMuc3RhY2tzLGgsbCxiPXRoaXMuc3RhY2tUb3RhbEdyb3VwO2J8fCh0aGlzLnN0YWNrVG90YWxHcm91cD1iPWUuZyhcInN0YWNrLWxhYmVsc1wiKS5hdHRyKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwiLHpJbmRleDo2fSkuYWRkKCkpO2IudHJhbnNsYXRlKGEucGxvdExlZnQsYS5wbG90VG9wKTtmb3IoaCBpbiBjKWZvcihsIGluIGE9Y1toXSxhKWFbbF0ucmVuZGVyKGIpfTt6LnByb3RvdHlwZS5yZXNldFN0YWNrcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhY2tzLGUsYztpZighdGhpcy5pc1hBeGlzKWZvcihlIGluIGEpZm9yKGMgaW4gYVtlXSlhW2VdW2NdLnRvdWNoZWQ8XG50aGlzLnN0YWNrc1RvdWNoZWQ/KGFbZV1bY10uZGVzdHJveSgpLGRlbGV0ZSBhW2VdW2NdKTooYVtlXVtjXS50b3RhbD1udWxsLGFbZV1bY10uY3VtPW51bGwpfTt6LnByb3RvdHlwZS5jbGVhblN0YWNrcz1mdW5jdGlvbigpe3ZhciBhLGUsYztpZighdGhpcy5pc1hBeGlzKWZvcihlIGluIHRoaXMub2xkU3RhY2tzJiYoYT10aGlzLnN0YWNrcz10aGlzLm9sZFN0YWNrcyksYSlmb3IoYyBpbiBhW2VdKWFbZV1bY10uY3VtPWFbZV1bY10udG90YWx9O2EucHJvdG90eXBlLnNldFN0YWNrZWRQb2ludHM9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuc3RhY2tpbmcmJighMD09PXRoaXMudmlzaWJsZXx8ITE9PT10aGlzLmNoYXJ0Lm9wdGlvbnMuY2hhcnQuaWdub3JlSGlkZGVuU2VyaWVzKSl7dmFyIGE9dGhpcy5wcm9jZXNzZWRYRGF0YSxlPXRoaXMucHJvY2Vzc2VkWURhdGEsYz1bXSxoPWUubGVuZ3RoLG49dGhpcy5vcHRpb25zLGI9bi50aHJlc2hvbGQsbT1uLnN0YXJ0RnJvbVRocmVzaG9sZD9cbmI6MCxkPW4uc3RhY2ssbj1uLnN0YWNraW5nLHI9dGhpcy5zdGFja0tleSx0PVwiLVwiK3Isdj10aGlzLm5lZ1N0YWNrcyxmPXRoaXMueUF4aXMseT1mLnN0YWNrcyxHPWYub2xkU3RhY2tzLEYscSx4LHosSyxDLGc7Zi5zdGFja3NUb3VjaGVkKz0xO2ZvcihLPTA7SzxoO0srKylDPWFbS10sZz1lW0tdLEY9dGhpcy5nZXRTdGFja0luZGljYXRvcihGLEMsdGhpcy5pbmRleCksej1GLmtleSx4PShxPXYmJmc8KG0/MDpiKSk/dDpyLHlbeF18fCh5W3hdPXt9KSx5W3hdW0NdfHwoR1t4XSYmR1t4XVtDXT8oeVt4XVtDXT1HW3hdW0NdLHlbeF1bQ10udG90YWw9bnVsbCk6eVt4XVtDXT1uZXcgQihmLGYub3B0aW9ucy5zdGFja0xhYmVscyxxLEMsZCkpLHg9eVt4XVtDXSxudWxsIT09ZyYmKHgucG9pbnRzW3pdPXgucG9pbnRzW3RoaXMuaW5kZXhdPVtsKHguY3VtLG0pXSx1KHguY3VtKXx8KHguYmFzZT16KSx4LnRvdWNoZWQ9Zi5zdGFja3NUb3VjaGVkLDA8Ri5pbmRleCYmITE9PT10aGlzLnNpbmdsZVN0YWNrcyYmXG4oeC5wb2ludHNbel1bMF09eC5wb2ludHNbdGhpcy5pbmRleCtcIixcIitDK1wiLDBcIl1bMF0pKSxcInBlcmNlbnRcIj09PW4/KHE9cT9yOnQsdiYmeVtxXSYmeVtxXVtDXT8ocT15W3FdW0NdLHgudG90YWw9cS50b3RhbD1NYXRoLm1heChxLnRvdGFsLHgudG90YWwpK01hdGguYWJzKGcpfHwwKTp4LnRvdGFsPUUoeC50b3RhbCsoTWF0aC5hYnMoZyl8fDApKSk6eC50b3RhbD1FKHgudG90YWwrKGd8fDApKSx4LmN1bT1sKHguY3VtLG0pKyhnfHwwKSxudWxsIT09ZyYmKHgucG9pbnRzW3pdLnB1c2goeC5jdW0pLGNbS109eC5jdW0pO1wicGVyY2VudFwiPT09biYmKGYudXNlUGVyY2VudGFnZT0hMCk7dGhpcy5zdGFja2VkWURhdGE9YztmLm9sZFN0YWNrcz17fX19O2EucHJvdG90eXBlLnNldFBlcmNlbnRTdGFja3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGU9YS5zdGFja0tleSxjPWEueUF4aXMuc3RhY2tzLGg9YS5wcm9jZXNzZWRYRGF0YSxsO24oW2UsXCItXCIrZV0sZnVuY3Rpb24oYil7Zm9yKHZhciBlPVxuaC5sZW5ndGgsZCxrO2UtLTspaWYoZD1oW2VdLGw9YS5nZXRTdGFja0luZGljYXRvcihsLGQsYS5pbmRleCxiKSxkPShrPWNbYl0mJmNbYl1bZF0pJiZrLnBvaW50c1tsLmtleV0paz1rLnRvdGFsPzEwMC9rLnRvdGFsOjAsZFswXT1FKGRbMF0qayksZFsxXT1FKGRbMV0qayksYS5zdGFja2VkWURhdGFbZV09ZFsxXX0pfTthLnByb3RvdHlwZS5nZXRTdGFja0luZGljYXRvcj1mdW5jdGlvbihhLGUsYyxoKXshdShhKXx8YS54IT09ZXx8aCYmYS5rZXkhPT1oP2E9e3g6ZSxpbmRleDowLGtleTpofTphLmluZGV4Kys7YS5rZXk9W2MsZSxhLmluZGV4XS5qb2luKCk7cmV0dXJuIGF9fSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmFuaW1hdGUsQz1hLkF4aXMsRT1hLmNyZWF0ZUVsZW1lbnQsdT1hLmNzcyxoPWEuZGVmaW5lZCxuPWEuZWFjaCx0PWEuZXJhc2UsbD1hLmV4dGVuZCxrPWEuZmlyZUV2ZW50LGU9YS5pbkFycmF5LGM9YS5pc051bWJlcixwPWEuaXNPYmplY3QsXG5IPWEubWVyZ2UsYj1hLnBpY2ssbT1hLlBvaW50LGQ9YS5TZXJpZXMscj1hLnNlcmllc1R5cGVzLEE9YS5zZXRBbmltYXRpb24sdj1hLnNwbGF0O2woYS5DaGFydC5wcm90b3R5cGUse2FkZFNlcmllczpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZT10aGlzO2EmJihjPWIoYywhMCksayhlLFwiYWRkU2VyaWVzXCIse29wdGlvbnM6YX0sZnVuY3Rpb24oKXtmPWUuaW5pdFNlcmllcyhhKTtlLmlzRGlydHlMZWdlbmQ9ITA7ZS5saW5rU2VyaWVzKCk7YyYmZS5yZWRyYXcoZCl9KSk7cmV0dXJuIGZ9LGFkZEF4aXM6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGY9Yz9cInhBeGlzXCI6XCJ5QXhpc1wiLGg9dGhpcy5vcHRpb25zO2E9SChhLHtpbmRleDp0aGlzW2ZdLmxlbmd0aCxpc1g6Y30pO25ldyBDKHRoaXMsYSk7aFtmXT12KGhbZl18fHt9KTtoW2ZdLnB1c2goYSk7YihkLCEwKSYmdGhpcy5yZWRyYXcoZSl9LHNob3dMb2FkaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLm9wdGlvbnMsZD1iLmxvYWRpbmdEaXYsXG5mPWMubG9hZGluZyxlPWZ1bmN0aW9uKCl7ZCYmdShkLHtsZWZ0OmIucGxvdExlZnQrXCJweFwiLHRvcDpiLnBsb3RUb3ArXCJweFwiLHdpZHRoOmIucGxvdFdpZHRoK1wicHhcIixoZWlnaHQ6Yi5wbG90SGVpZ2h0K1wicHhcIn0pfTtkfHwoYi5sb2FkaW5nRGl2PWQ9RShcImRpdlwiLHtjbGFzc05hbWU6XCJoaWdoY2hhcnRzLWxvYWRpbmcgaGlnaGNoYXJ0cy1sb2FkaW5nLWhpZGRlblwifSxudWxsLGIuY29udGFpbmVyKSxiLmxvYWRpbmdTcGFuPUUoXCJzcGFuXCIse2NsYXNzTmFtZTpcImhpZ2hjaGFydHMtbG9hZGluZy1pbm5lclwifSxudWxsLGQpLEIoYixcInJlZHJhd1wiLGUpKTtkLmNsYXNzTmFtZT1cImhpZ2hjaGFydHMtbG9hZGluZ1wiO2IubG9hZGluZ1NwYW4uaW5uZXJIVE1MPWF8fGMubGFuZy5sb2FkaW5nO3UoZCxsKGYuc3R5bGUse3pJbmRleDoxMH0pKTt1KGIubG9hZGluZ1NwYW4sZi5sYWJlbFN0eWxlKTtiLmxvYWRpbmdTaG93bnx8KHUoZCx7b3BhY2l0eTowLGRpc3BsYXk6XCJcIn0pLHooZCx7b3BhY2l0eTpmLnN0eWxlLm9wYWNpdHl8fFxuLjV9LHtkdXJhdGlvbjpmLnNob3dEdXJhdGlvbnx8MH0pKTtiLmxvYWRpbmdTaG93bj0hMDtlKCl9LGhpZGVMb2FkaW5nOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5sb2FkaW5nRGl2O2ImJihiLmNsYXNzTmFtZT1cImhpZ2hjaGFydHMtbG9hZGluZyBoaWdoY2hhcnRzLWxvYWRpbmctaGlkZGVuXCIseihiLHtvcGFjaXR5OjB9LHtkdXJhdGlvbjphLmxvYWRpbmcuaGlkZUR1cmF0aW9ufHwxMDAsY29tcGxldGU6ZnVuY3Rpb24oKXt1KGIse2Rpc3BsYXk6XCJub25lXCJ9KX19KSk7dGhpcy5sb2FkaW5nU2hvd249ITF9LHByb3BzUmVxdWlyZURpcnR5Qm94OlwiYmFja2dyb3VuZENvbG9yIGJvcmRlckNvbG9yIGJvcmRlcldpZHRoIG1hcmdpbiBtYXJnaW5Ub3AgbWFyZ2luUmlnaHQgbWFyZ2luQm90dG9tIG1hcmdpbkxlZnQgc3BhY2luZyBzcGFjaW5nVG9wIHNwYWNpbmdSaWdodCBzcGFjaW5nQm90dG9tIHNwYWNpbmdMZWZ0IGJvcmRlclJhZGl1cyBwbG90QmFja2dyb3VuZENvbG9yIHBsb3RCYWNrZ3JvdW5kSW1hZ2UgcGxvdEJvcmRlckNvbG9yIHBsb3RCb3JkZXJXaWR0aCBwbG90U2hhZG93IHNoYWRvd1wiLnNwbGl0KFwiIFwiKSxcbnByb3BzUmVxdWlyZVVwZGF0ZVNlcmllczpcImNoYXJ0LmludmVydGVkIGNoYXJ0LnBvbGFyIGNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcyBjaGFydC50eXBlIGNvbG9ycyBwbG90T3B0aW9uc1wiLnNwbGl0KFwiIFwiKSx1cGRhdGU6ZnVuY3Rpb24oYSxkKXt2YXIgZixrPXtjcmVkaXRzOlwiYWRkQ3JlZGl0c1wiLHRpdGxlOlwic2V0VGl0bGVcIixzdWJ0aXRsZTpcInNldFN1YnRpdGxlXCJ9LG09YS5jaGFydCxsLHA7aWYobSl7SCghMCx0aGlzLm9wdGlvbnMuY2hhcnQsbSk7XCJjbGFzc05hbWVcImluIG0mJnRoaXMuc2V0Q2xhc3NOYW1lKG0uY2xhc3NOYW1lKTtpZihcImludmVydGVkXCJpbiBtfHxcInBvbGFyXCJpbiBtKXRoaXMucHJvcEZyb21TZXJpZXMoKSxsPSEwO2ZvcihmIGluIG0pbS5oYXNPd25Qcm9wZXJ0eShmKSYmKC0xIT09ZShcImNoYXJ0LlwiK2YsdGhpcy5wcm9wc1JlcXVpcmVVcGRhdGVTZXJpZXMpJiYocD0hMCksLTEhPT1lKGYsdGhpcy5wcm9wc1JlcXVpcmVEaXJ0eUJveCkmJih0aGlzLmlzRGlydHlCb3g9XG4hMCkpO1wic3R5bGVcImluIG0mJnRoaXMucmVuZGVyZXIuc2V0U3R5bGUobS5zdHlsZSl9Zm9yKGYgaW4gYSl7aWYodGhpc1tmXSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXNbZl0udXBkYXRlKXRoaXNbZl0udXBkYXRlKGFbZl0sITEpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXNba1tmXV0pdGhpc1trW2ZdXShhW2ZdKTtcImNoYXJ0XCIhPT1mJiYtMSE9PWUoZix0aGlzLnByb3BzUmVxdWlyZVVwZGF0ZVNlcmllcykmJihwPSEwKX1hLmNvbG9ycyYmKHRoaXMub3B0aW9ucy5jb2xvcnM9YS5jb2xvcnMpO2EucGxvdE9wdGlvbnMmJkgoITAsdGhpcy5vcHRpb25zLnBsb3RPcHRpb25zLGEucGxvdE9wdGlvbnMpO24oW1wieEF4aXNcIixcInlBeGlzXCIsXCJzZXJpZXNcIl0sZnVuY3Rpb24oYil7YVtiXSYmbih2KGFbYl0pLGZ1bmN0aW9uKGEsYyl7KGM9aChhLmlkKSYmdGhpcy5nZXQoYS5pZCl8fHRoaXNbYl1bY10pJiZjLmNvbGw9PT1iJiZjLnVwZGF0ZShhLCExKX0sdGhpcyl9LHRoaXMpO1xubCYmbih0aGlzLmF4ZXMsZnVuY3Rpb24oYSl7YS51cGRhdGUoe30sITEpfSk7cCYmbih0aGlzLnNlcmllcyxmdW5jdGlvbihhKXthLnVwZGF0ZSh7fSwhMSl9KTthLmxvYWRpbmcmJkgoITAsdGhpcy5vcHRpb25zLmxvYWRpbmcsYS5sb2FkaW5nKTtmPW0mJm0ud2lkdGg7bT1tJiZtLmhlaWdodDtjKGYpJiZmIT09dGhpcy5jaGFydFdpZHRofHxjKG0pJiZtIT09dGhpcy5jaGFydEhlaWdodD90aGlzLnNldFNpemUoZixtKTpiKGQsITApJiZ0aGlzLnJlZHJhdygpfSxzZXRTdWJ0aXRsZTpmdW5jdGlvbihhKXt0aGlzLnNldFRpdGxlKHZvaWQgMCxhKX19KTtsKG0ucHJvdG90eXBlLHt1cGRhdGU6ZnVuY3Rpb24oYSxjLGQsZSl7ZnVuY3Rpb24gZigpe2guYXBwbHlPcHRpb25zKGEpO251bGw9PT1oLnkmJmsmJihoLmdyYXBoaWM9ay5kZXN0cm95KCkpO3AoYSwhMCkmJihrJiZrLmVsZW1lbnQmJmEmJmEubWFya2VyJiZhLm1hcmtlci5zeW1ib2wmJihoLmdyYXBoaWM9ay5kZXN0cm95KCkpLFxuYSYmYS5kYXRhTGFiZWxzJiZoLmRhdGFMYWJlbCYmKGguZGF0YUxhYmVsPWguZGF0YUxhYmVsLmRlc3Ryb3koKSkpO2w9aC5pbmRleDttLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGgsbCk7bi5kYXRhW2xdPXAobi5kYXRhW2xdLCEwKXx8cChhLCEwKT9oLm9wdGlvbnM6YTttLmlzRGlydHk9bS5pc0RpcnR5RGF0YT0hMDshbS5maXhlZEJveCYmbS5oYXNDYXJ0ZXNpYW5TZXJpZXMmJihnLmlzRGlydHlCb3g9ITApO1wicG9pbnRcIj09PW4ubGVnZW5kVHlwZSYmKGcuaXNEaXJ0eUxlZ2VuZD0hMCk7YyYmZy5yZWRyYXcoZCl9dmFyIGg9dGhpcyxtPWguc2VyaWVzLGs9aC5ncmFwaGljLGwsZz1tLmNoYXJ0LG49bS5vcHRpb25zO2M9YihjLCEwKTshMT09PWU/ZigpOmguZmlyZVBvaW50RXZlbnQoXCJ1cGRhdGVcIix7b3B0aW9uczphfSxmKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXJpZXMucmVtb3ZlUG9pbnQoZSh0aGlzLHRoaXMuc2VyaWVzLmRhdGEpLGEsYil9fSk7bChkLnByb3RvdHlwZSxcbnthZGRQb2ludDpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj10aGlzLm9wdGlvbnMsaD10aGlzLmRhdGEsbT10aGlzLmNoYXJ0LGs9dGhpcy54QXhpcyxrPWsmJmsuaGFzTmFtZXMmJmsubmFtZXMsbD1mLmRhdGEsZyxwLG49dGhpcy54RGF0YSxyLHY7Yz1iKGMsITApO2c9e3Nlcmllczp0aGlzfTt0aGlzLnBvaW50Q2xhc3MucHJvdG90eXBlLmFwcGx5T3B0aW9ucy5hcHBseShnLFthXSk7dj1nLng7cj1uLmxlbmd0aDtpZih0aGlzLnJlcXVpcmVTb3J0aW5nJiZ2PG5bci0xXSlmb3IocD0hMDtyJiZuW3ItMV0+djspci0tO3RoaXMudXBkYXRlUGFyYWxsZWxBcnJheXMoZyxcInNwbGljZVwiLHIsMCwwKTt0aGlzLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGcscik7ayYmZy5uYW1lJiYoa1t2XT1nLm5hbWUpO2wuc3BsaWNlKHIsMCxhKTtwJiYodGhpcy5kYXRhLnNwbGljZShyLDAsbnVsbCksdGhpcy5wcm9jZXNzRGF0YSgpKTtcInBvaW50XCI9PT1mLmxlZ2VuZFR5cGUmJnRoaXMuZ2VuZXJhdGVQb2ludHMoKTtcbmQmJihoWzBdJiZoWzBdLnJlbW92ZT9oWzBdLnJlbW92ZSghMSk6KGguc2hpZnQoKSx0aGlzLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGcsXCJzaGlmdFwiKSxsLnNoaWZ0KCkpKTt0aGlzLmlzRGlydHlEYXRhPXRoaXMuaXNEaXJ0eT0hMDtjJiZtLnJlZHJhdyhlKX0scmVtb3ZlUG9pbnQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmPXRoaXMsZT1mLmRhdGEsaD1lW2FdLG09Zi5wb2ludHMsaz1mLmNoYXJ0LGw9ZnVuY3Rpb24oKXttJiZtLmxlbmd0aD09PWUubGVuZ3RoJiZtLnNwbGljZShhLDEpO2Uuc3BsaWNlKGEsMSk7Zi5vcHRpb25zLmRhdGEuc3BsaWNlKGEsMSk7Zi51cGRhdGVQYXJhbGxlbEFycmF5cyhofHx7c2VyaWVzOmZ9LFwic3BsaWNlXCIsYSwxKTtoJiZoLmRlc3Ryb3koKTtmLmlzRGlydHk9ITA7Zi5pc0RpcnR5RGF0YT0hMDtjJiZrLnJlZHJhdygpfTtBKGQsayk7Yz1iKGMsITApO2g/aC5maXJlUG9pbnRFdmVudChcInJlbW92ZVwiLG51bGwsbCk6bCgpfSxyZW1vdmU6ZnVuY3Rpb24oYSxcbmMsZCl7ZnVuY3Rpb24gZigpe2UuZGVzdHJveSgpO2guaXNEaXJ0eUxlZ2VuZD1oLmlzRGlydHlCb3g9ITA7aC5saW5rU2VyaWVzKCk7YihhLCEwKSYmaC5yZWRyYXcoYyl9dmFyIGU9dGhpcyxoPWUuY2hhcnQ7ITEhPT1kP2soZSxcInJlbW92ZVwiLG51bGwsZik6ZigpfSx1cGRhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLGY9dGhpcy5jaGFydCxlPXRoaXMudXNlck9wdGlvbnMsaD10aGlzLm9sZFR5cGV8fHRoaXMudHlwZSxtPWEudHlwZXx8ZS50eXBlfHxmLm9wdGlvbnMuY2hhcnQudHlwZSxrPXJbaF0ucHJvdG90eXBlLHA9W1wiZ3JvdXBcIixcIm1hcmtlckdyb3VwXCIsXCJkYXRhTGFiZWxzR3JvdXBcIl0sZztpZihtJiZtIT09aHx8dm9pZCAwIT09YS56SW5kZXgpcC5sZW5ndGg9MDtuKHAsZnVuY3Rpb24oYSl7cFthXT1kW2FdO2RlbGV0ZSBkW2FdfSk7YT1IKGUse2FuaW1hdGlvbjohMSxpbmRleDp0aGlzLmluZGV4LHBvaW50U3RhcnQ6dGhpcy54RGF0YVswXX0se2RhdGE6dGhpcy5vcHRpb25zLmRhdGF9LFxuYSk7dGhpcy5yZW1vdmUoITEsbnVsbCwhMSk7Zm9yKGcgaW4gayl0aGlzW2ddPXZvaWQgMDtsKHRoaXMsclttfHxoXS5wcm90b3R5cGUpO24ocCxmdW5jdGlvbihhKXtkW2FdPXBbYV19KTt0aGlzLmluaXQoZixhKTt0aGlzLm9sZFR5cGU9aDtmLmxpbmtTZXJpZXMoKTtiKGMsITApJiZmLnJlZHJhdyghMSl9fSk7bChDLnByb3RvdHlwZSx7dXBkYXRlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcy5jaGFydDthPWQub3B0aW9uc1t0aGlzLmNvbGxdW3RoaXMub3B0aW9ucy5pbmRleF09SCh0aGlzLnVzZXJPcHRpb25zLGEpO3RoaXMuZGVzdHJveSghMCk7dGhpcy5pbml0KGQsbChhLHtldmVudHM6dm9pZCAwfSkpO2QuaXNEaXJ0eUJveD0hMDtiKGMsITApJiZkLnJlZHJhdygpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPXRoaXMuY2hhcnQsZD10aGlzLmNvbGwsZj10aGlzLnNlcmllcyxlPWYubGVuZ3RoO2UtLTspZltlXSYmZltlXS5yZW1vdmUoITEpO3QoYy5heGVzLHRoaXMpO1xudChjW2RdLHRoaXMpO2Mub3B0aW9uc1tkXS5zcGxpY2UodGhpcy5vcHRpb25zLmluZGV4LDEpO24oY1tkXSxmdW5jdGlvbihhLGIpe2Eub3B0aW9ucy5pbmRleD1ifSk7dGhpcy5kZXN0cm95KCk7Yy5pc0RpcnR5Qm94PSEwO2IoYSwhMCkmJmMucmVkcmF3KCl9LHNldFRpdGxlOmZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGUoe3RpdGxlOmF9LGIpfSxzZXRDYXRlZ29yaWVzOmZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGUoe2NhdGVnb3JpZXM6YX0sYil9fSl9KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5jb2xvcix6PWEuZWFjaCxDPWEubWFwLEU9YS5waWNrLHU9YS5TZXJpZXMsaD1hLnNlcmllc1R5cGU7aChcImFyZWFcIixcImxpbmVcIix7c29mdFRocmVzaG9sZDohMSx0aHJlc2hvbGQ6MH0se3NpbmdsZVN0YWNrczohMSxnZXRTdGFja1BvaW50czpmdW5jdGlvbigpe3ZhciBhPVtdLGg9W10sbD10aGlzLnhBeGlzLGs9dGhpcy55QXhpcyxlPWsuc3RhY2tzW3RoaXMuc3RhY2tLZXldLGM9e30sXG5wPXRoaXMucG9pbnRzLHU9dGhpcy5pbmRleCxiPWsuc2VyaWVzLG09Yi5sZW5ndGgsZCxyPUUoay5vcHRpb25zLnJldmVyc2VkU3RhY2tzLCEwKT8xOi0xLEEsdjtpZih0aGlzLm9wdGlvbnMuc3RhY2tpbmcpe2ZvcihBPTA7QTxwLmxlbmd0aDtBKyspY1twW0FdLnhdPXBbQV07Zm9yKHYgaW4gZSludWxsIT09ZVt2XS50b3RhbCYmaC5wdXNoKHYpO2guc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtkPUMoYixmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpc2libGV9KTt6KGgsZnVuY3Rpb24oYixwKXt2YXIgZj0wLG4scTtpZihjW2JdJiYhY1tiXS5pc051bGwpYS5wdXNoKGNbYl0pLHooWy0xLDFdLGZ1bmN0aW9uKGEpe3ZhciBmPTE9PT1hP1wicmlnaHROdWxsXCI6XCJsZWZ0TnVsbFwiLGs9MCxsPWVbaFtwK2FdXTtpZihsKWZvcihBPXU7MDw9QSYmQTxtOyluPWwucG9pbnRzW0FdLG58fChBPT09dT9jW2JdW2ZdPSEwOmRbQV0mJihxPWVbYl0ucG9pbnRzW0FdKSYmKGstPXFbMV0tXG5xWzBdKSksQSs9cjtjW2JdWzE9PT1hP1wicmlnaHRDbGlmZlwiOlwibGVmdENsaWZmXCJdPWt9KTtlbHNle2ZvcihBPXU7MDw9QSYmQTxtOyl7aWYobj1lW2JdLnBvaW50c1tBXSl7Zj1uWzFdO2JyZWFrfUErPXJ9Zj1rLnRyYW5zbGF0ZShmLDAsMSwwLDEpO2EucHVzaCh7aXNOdWxsOiEwLHBsb3RYOmwudHJhbnNsYXRlKGIsMCwwLDAsMSkseDpiLHBsb3RZOmYseUJvdHRvbTpmfSl9fSl9cmV0dXJuIGF9LGdldEdyYXBoUGF0aDpmdW5jdGlvbihhKXt2YXIgaD11LnByb3RvdHlwZS5nZXRHcmFwaFBhdGgsbD10aGlzLm9wdGlvbnMsaz1sLnN0YWNraW5nLGU9dGhpcy55QXhpcyxjLHAsbj1bXSxiPVtdLG09dGhpcy5pbmRleCxkLHI9ZS5zdGFja3NbdGhpcy5zdGFja0tleV0sQT1sLnRocmVzaG9sZCx2PWUuZ2V0VGhyZXNob2xkKGwudGhyZXNob2xkKSxmLGw9bC5jb25uZWN0TnVsbHN8fFwicGVyY2VudFwiPT09ayx5PWZ1bmN0aW9uKGMsZixoKXt2YXIgbD1hW2NdO2M9ayYmcltsLnhdLnBvaW50c1ttXTtcbnZhciBwPWxbaCtcIk51bGxcIl18fDA7aD1sW2grXCJDbGlmZlwiXXx8MDt2YXIgcSx0LGw9ITA7aHx8cD8ocT0ocD9jWzBdOmNbMV0pK2gsdD1jWzBdK2gsbD0hIXApOiFrJiZhW2ZdJiZhW2ZdLmlzTnVsbCYmKHE9dD1BKTt2b2lkIDAhPT1xJiYoYi5wdXNoKHtwbG90WDpkLHBsb3RZOm51bGw9PT1xP3Y6ZS5nZXRUaHJlc2hvbGQocSksaXNOdWxsOmwsaXNDbGlmZjohMH0pLG4ucHVzaCh7cGxvdFg6ZCxwbG90WTpudWxsPT09dD92OmUuZ2V0VGhyZXNob2xkKHQpLGRvQ3VydmU6ITF9KSl9O2E9YXx8dGhpcy5wb2ludHM7ayYmKGE9dGhpcy5nZXRTdGFja1BvaW50cygpKTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWlmKHA9YVtjXS5pc051bGwsZD1FKGFbY10ucmVjdFBsb3RYLGFbY10ucGxvdFgpLGY9RShhW2NdLnlCb3R0b20sdiksIXB8fGwpbHx8eShjLGMtMSxcImxlZnRcIikscCYmIWsmJmx8fChiLnB1c2goYVtjXSksbi5wdXNoKHt4OmMscGxvdFg6ZCxwbG90WTpmfSkpLGx8fHkoYyxjK1xuMSxcInJpZ2h0XCIpO2M9aC5jYWxsKHRoaXMsYiwhMCwhMCk7bi5yZXZlcnNlZD0hMDtwPWguY2FsbCh0aGlzLG4sITAsITApO3AubGVuZ3RoJiYocFswXT1cIkxcIik7cD1jLmNvbmNhdChwKTtoPWguY2FsbCh0aGlzLGIsITEsbCk7cC54TWFwPWMueE1hcDt0aGlzLmFyZWFQYXRoPXA7cmV0dXJuIGh9LGRyYXdHcmFwaDpmdW5jdGlvbigpe3RoaXMuYXJlYVBhdGg9W107dS5wcm90b3R5cGUuZHJhd0dyYXBoLmFwcGx5KHRoaXMpO3ZhciBhPXRoaXMsaD10aGlzLmFyZWFQYXRoLGw9dGhpcy5vcHRpb25zLGs9W1tcImFyZWFcIixcImhpZ2hjaGFydHMtYXJlYVwiLHRoaXMuY29sb3IsbC5maWxsQ29sb3JdXTt6KHRoaXMuem9uZXMsZnVuY3Rpb24oZSxjKXtrLnB1c2goW1wiem9uZS1hcmVhLVwiK2MsXCJoaWdoY2hhcnRzLWFyZWEgaGlnaGNoYXJ0cy16b25lLWFyZWEtXCIrYytcIiBcIitlLmNsYXNzTmFtZSxlLmNvbG9yfHxhLmNvbG9yLGUuZmlsbENvbG9yfHxsLmZpbGxDb2xvcl0pfSk7eihrLGZ1bmN0aW9uKGUpe3ZhciBjPVxuZVswXSxrPWFbY107az8oay5lbmRYPWgueE1hcCxrLmFuaW1hdGUoe2Q6aH0pKTooaz1hW2NdPWEuY2hhcnQucmVuZGVyZXIucGF0aChoKS5hZGRDbGFzcyhlWzFdKS5hdHRyKHtmaWxsOkUoZVszXSxCKGVbMl0pLnNldE9wYWNpdHkoRShsLmZpbGxPcGFjaXR5LC43NSkpLmdldCgpKSx6SW5kZXg6MH0pLmFkZChhLmdyb3VwKSxrLmlzQXJlYT0hMCk7ay5zdGFydFg9aC54TWFwO2suc2hpZnRVbml0PWwuc3RlcD8yOjF9KX0sZHJhd0xlZ2VuZFN5bWJvbDphLkxlZ2VuZFN5bWJvbE1peGluLmRyYXdSZWN0YW5nbGV9KX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQj1hLnBpY2s7YT1hLnNlcmllc1R5cGU7YShcInNwbGluZVwiLFwibGluZVwiLHt9LHtnZXRQb2ludFNwbGluZTpmdW5jdGlvbihhLEMsRSl7dmFyIHU9Qy5wbG90WCxoPUMucGxvdFksbj1hW0UtMV07RT1hW0UrMV07dmFyIHQsbCxrLGU7aWYobiYmIW4uaXNOdWxsJiYhMSE9PW4uZG9DdXJ2ZSYmIUMuaXNDbGlmZiYmRSYmIUUuaXNOdWxsJiZcbiExIT09RS5kb0N1cnZlJiYhQy5pc0NsaWZmKXthPW4ucGxvdFk7az1FLnBsb3RYO0U9RS5wbG90WTt2YXIgYz0wO3Q9KDEuNSp1K24ucGxvdFgpLzIuNTtsPSgxLjUqaCthKS8yLjU7az0oMS41KnUraykvMi41O2U9KDEuNSpoK0UpLzIuNTtrIT09dCYmKGM9KGUtbCkqKGstdSkvKGstdCkraC1lKTtsKz1jO2UrPWM7bD5hJiZsPmg/KGw9TWF0aC5tYXgoYSxoKSxlPTIqaC1sKTpsPGEmJmw8aCYmKGw9TWF0aC5taW4oYSxoKSxlPTIqaC1sKTtlPkUmJmU+aD8oZT1NYXRoLm1heChFLGgpLGw9MipoLWUpOmU8RSYmZTxoJiYoZT1NYXRoLm1pbihFLGgpLGw9MipoLWUpO0MucmlnaHRDb250WD1rO0MucmlnaHRDb250WT1lfUM9W1wiQ1wiLEIobi5yaWdodENvbnRYLG4ucGxvdFgpLEIobi5yaWdodENvbnRZLG4ucGxvdFkpLEIodCx1KSxCKGwsaCksdSxoXTtuLnJpZ2h0Q29udFg9bi5yaWdodENvbnRZPW51bGw7cmV0dXJuIEN9fSl9KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5zZXJpZXNUeXBlcy5hcmVhLnByb3RvdHlwZSxcbno9YS5zZXJpZXNUeXBlO3ooXCJhcmVhc3BsaW5lXCIsXCJzcGxpbmVcIixhLmRlZmF1bHRQbG90T3B0aW9ucy5hcmVhLHtnZXRTdGFja1BvaW50czpCLmdldFN0YWNrUG9pbnRzLGdldEdyYXBoUGF0aDpCLmdldEdyYXBoUGF0aCxzZXRTdGFja0NsaWZmczpCLnNldFN0YWNrQ2xpZmZzLGRyYXdHcmFwaDpCLmRyYXdHcmFwaCxkcmF3TGVnZW5kU3ltYm9sOmEuTGVnZW5kU3ltYm9sTWl4aW4uZHJhd1JlY3RhbmdsZX0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYW5pbU9iamVjdCx6PWEuY29sb3IsQz1hLmVhY2gsRT1hLmV4dGVuZCx1PWEuaXNOdW1iZXIsaD1hLm1lcmdlLG49YS5waWNrLHQ9YS5TZXJpZXMsbD1hLnNlcmllc1R5cGUsaz1hLnN2ZztsKFwiY29sdW1uXCIsXCJsaW5lXCIse2JvcmRlclJhZGl1czowLGdyb3VwUGFkZGluZzouMixtYXJrZXI6bnVsbCxwb2ludFBhZGRpbmc6LjEsbWluUG9pbnRMZW5ndGg6MCxjcm9wVGhyZXNob2xkOjUwLHBvaW50UmFuZ2U6bnVsbCxzdGF0ZXM6e2hvdmVyOntoYWxvOiExLFxuYnJpZ2h0bmVzczouMSxzaGFkb3c6ITF9LHNlbGVjdDp7Y29sb3I6XCIjY2NjY2NjXCIsYm9yZGVyQ29sb3I6XCIjMDAwMDAwXCIsc2hhZG93OiExfX0sZGF0YUxhYmVsczp7YWxpZ246bnVsbCx2ZXJ0aWNhbEFsaWduOm51bGwseTpudWxsfSxzb2Z0VGhyZXNob2xkOiExLHN0YXJ0RnJvbVRocmVzaG9sZDohMCxzdGlja3lUcmFja2luZzohMSx0b29sdGlwOntkaXN0YW5jZTo2fSx0aHJlc2hvbGQ6MCxib3JkZXJDb2xvcjpcIiNmZmZmZmZcIn0se2Nyb3BTaG91bGRlcjowLGRpcmVjdFRvdWNoOiEwLHRyYWNrZXJHcm91cHM6W1wiZ3JvdXBcIixcImRhdGFMYWJlbHNHcm91cFwiXSxuZWdTdGFja3M6ITAsaW5pdDpmdW5jdGlvbigpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPXRoaXMsYz1hLmNoYXJ0O2MuaGFzUmVuZGVyZWQmJkMoYy5zZXJpZXMsZnVuY3Rpb24oYyl7Yy50eXBlPT09YS50eXBlJiYoYy5pc0RpcnR5PSEwKX0pfSxnZXRDb2x1bW5NZXRyaWNzOmZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLGM9YS5vcHRpb25zLGg9YS54QXhpcyxrPWEueUF4aXMsYj1oLnJldmVyc2VkLG0sZD17fSxsPTA7ITE9PT1jLmdyb3VwaW5nP2w9MTpDKGEuY2hhcnQuc2VyaWVzLGZ1bmN0aW9uKGIpe3ZhciBjPWIub3B0aW9ucyxmPWIueUF4aXMsZTtiLnR5cGU9PT1hLnR5cGUmJmIudmlzaWJsZSYmay5sZW49PT1mLmxlbiYmay5wb3M9PT1mLnBvcyYmKGMuc3RhY2tpbmc/KG09Yi5zdGFja0tleSx2b2lkIDA9PT1kW21dJiYoZFttXT1sKyspLGU9ZFttXSk6ITEhPT1jLmdyb3VwaW5nJiYoZT1sKyspLGIuY29sdW1uSW5kZXg9ZSl9KTt2YXIgdD1NYXRoLm1pbihNYXRoLmFicyhoLnRyYW5zQSkqKGgub3JkaW5hbFNsb3BlfHxjLnBvaW50UmFuZ2V8fGguY2xvc2VzdFBvaW50UmFuZ2V8fGgudGlja0ludGVydmFsfHwxKSxoLmxlbiksdj10KmMuZ3JvdXBQYWRkaW5nLGY9KHQtMip2KS8obHx8MSksYz1NYXRoLm1pbihjLm1heFBvaW50V2lkdGh8fGgubGVuLG4oYy5wb2ludFdpZHRoLGYqKDEtXG4yKmMucG9pbnRQYWRkaW5nKSkpO2EuY29sdW1uTWV0cmljcz17d2lkdGg6YyxvZmZzZXQ6KGYtYykvMisodisoKGEuY29sdW1uSW5kZXh8fDApKyhiPzE6MCkpKmYtdC8yKSooYj8tMToxKX07cmV0dXJuIGEuY29sdW1uTWV0cmljc30sY3Jpc3BDb2w6ZnVuY3Rpb24oYSxjLGgsayl7dmFyIGI9dGhpcy5jaGFydCxlPXRoaXMuYm9yZGVyV2lkdGgsZD0tKGUlMj8uNTowKSxlPWUlMj8uNToxO2IuaW52ZXJ0ZWQmJmIucmVuZGVyZXIuaXNWTUwmJihlKz0xKTtoPU1hdGgucm91bmQoYStoKStkO2E9TWF0aC5yb3VuZChhKStkO2s9TWF0aC5yb3VuZChjK2spK2U7ZD0uNT49TWF0aC5hYnMoYykmJi41PGs7Yz1NYXRoLnJvdW5kKGMpK2U7ay09YztkJiZrJiYoLS1jLGsrPTEpO3JldHVybnt4OmEseTpjLHdpZHRoOmgtYSxoZWlnaHQ6a319LHRyYW5zbGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLmNoYXJ0LGg9YS5vcHRpb25zLGs9YS5kZW5zZT0yPmEuY2xvc2VzdFBvaW50UmFuZ2UqXG5hLnhBeGlzLnRyYW5zQSxrPWEuYm9yZGVyV2lkdGg9bihoLmJvcmRlcldpZHRoLGs/MDoxKSxiPWEueUF4aXMsbT1hLnRyYW5zbGF0ZWRUaHJlc2hvbGQ9Yi5nZXRUaHJlc2hvbGQoaC50aHJlc2hvbGQpLGQ9bihoLm1pblBvaW50TGVuZ3RoLDUpLGw9YS5nZXRDb2x1bW5NZXRyaWNzKCksdT1sLndpZHRoLHY9YS5iYXJXPU1hdGgubWF4KHUsMSsyKmspLGY9YS5wb2ludFhPZmZzZXQ9bC5vZmZzZXQ7Yy5pbnZlcnRlZCYmKG0tPS41KTtoLnBvaW50UGFkZGluZyYmKHY9TWF0aC5jZWlsKHYpKTt0LnByb3RvdHlwZS50cmFuc2xhdGUuYXBwbHkoYSk7QyhhLnBvaW50cyxmdW5jdGlvbihlKXt2YXIgaD1uKGUueUJvdHRvbSxtKSxrPTk5OStNYXRoLmFicyhoKSxrPU1hdGgubWluKE1hdGgubWF4KC1rLGUucGxvdFkpLGIubGVuK2spLGw9ZS5wbG90WCtmLHA9dixyPU1hdGgubWluKGssaCksdCx5PU1hdGgubWF4KGssaCktcjtNYXRoLmFicyh5KTxkJiZkJiYoeT1kLHQ9IWIucmV2ZXJzZWQmJlxuIWUubmVnYXRpdmV8fGIucmV2ZXJzZWQmJmUubmVnYXRpdmUscj1NYXRoLmFicyhyLW0pPmQ/aC1kOm0tKHQ/ZDowKSk7ZS5iYXJYPWw7ZS5wb2ludFdpZHRoPXU7ZS50b29sdGlwUG9zPWMuaW52ZXJ0ZWQ/W2IubGVuK2IucG9zLWMucGxvdExlZnQtayxhLnhBeGlzLmxlbi1sLXAvMix5XTpbbCtwLzIsaytiLnBvcy1jLnBsb3RUb3AseV07ZS5zaGFwZVR5cGU9XCJyZWN0XCI7ZS5zaGFwZUFyZ3M9YS5jcmlzcENvbC5hcHBseShhLGUuaXNOdWxsP1tlLnBsb3RYLGIubGVuLzIsMCwwXTpbbCxyLHAseV0pfSl9LGdldFN5bWJvbDphLm5vb3AsZHJhd0xlZ2VuZFN5bWJvbDphLkxlZ2VuZFN5bWJvbE1peGluLmRyYXdSZWN0YW5nbGUsZHJhd0dyYXBoOmZ1bmN0aW9uKCl7dGhpcy5ncm91cFt0aGlzLmRlbnNlP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiaGlnaGNoYXJ0cy1kZW5zZS1kYXRhXCIpfSxwb2ludEF0dHJpYnM6ZnVuY3Rpb24oYSxjKXt2YXIgZT10aGlzLm9wdGlvbnMsayxiPXRoaXMucG9pbnRBdHRyVG9PcHRpb25zfHxcbnt9O2s9Yi5zdHJva2V8fFwiYm9yZGVyQ29sb3JcIjt2YXIgbT1iW1wic3Ryb2tlLXdpZHRoXCJdfHxcImJvcmRlcldpZHRoXCIsZD1hJiZhLmNvbG9yfHx0aGlzLmNvbG9yLGw9YVtrXXx8ZVtrXXx8dGhpcy5jb2xvcnx8ZCxuPWFbbV18fGVbbV18fHRoaXNbbV18fDAsYj1lLmRhc2hTdHlsZTthJiZ0aGlzLnpvbmVzLmxlbmd0aCYmKGQ9KGQ9YS5nZXRab25lKCkpJiZkLmNvbG9yfHxhLm9wdGlvbnMuY29sb3J8fHRoaXMuY29sb3IpO2MmJihhPWgoZS5zdGF0ZXNbY10sYS5vcHRpb25zLnN0YXRlcyYmYS5vcHRpb25zLnN0YXRlc1tjXXx8e30pLGM9YS5icmlnaHRuZXNzLGQ9YS5jb2xvcnx8dm9pZCAwIT09YyYmeihkKS5icmlnaHRlbihhLmJyaWdodG5lc3MpLmdldCgpfHxkLGw9YVtrXXx8bCxuPWFbbV18fG4sYj1hLmRhc2hTdHlsZXx8Yik7az17ZmlsbDpkLHN0cm9rZTpsLFwic3Ryb2tlLXdpZHRoXCI6bn07ZS5ib3JkZXJSYWRpdXMmJihrLnI9ZS5ib3JkZXJSYWRpdXMpO2ImJihrLmRhc2hzdHlsZT1cbmIpO3JldHVybiBrfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPXRoaXMuY2hhcnQsaz1hLm9wdGlvbnMsbD1jLnJlbmRlcmVyLGI9ay5hbmltYXRpb25MaW1pdHx8MjUwLG07QyhhLnBvaW50cyxmdW5jdGlvbihkKXt2YXIgZT1kLmdyYXBoaWM7aWYodShkLnBsb3RZKSYmbnVsbCE9PWQueSl7bT1kLnNoYXBlQXJncztpZihlKWVbYy5wb2ludENvdW50PGI/XCJhbmltYXRlXCI6XCJhdHRyXCJdKGgobSkpO2Vsc2UgZC5ncmFwaGljPWU9bFtkLnNoYXBlVHlwZV0obSkuYWRkKGQuZ3JvdXB8fGEuZ3JvdXApO2UuYXR0cihhLnBvaW50QXR0cmlicyhkLGQuc2VsZWN0ZWQmJlwic2VsZWN0XCIpKS5zaGFkb3coay5zaGFkb3csbnVsbCxrLnN0YWNraW5nJiYhay5ib3JkZXJSYWRpdXMpO2UuYWRkQ2xhc3MoZC5nZXRDbGFzc05hbWUoKSwhMCl9ZWxzZSBlJiYoZC5ncmFwaGljPWUuZGVzdHJveSgpKX0pfSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZT10aGlzLnlBeGlzLFxuaD1jLm9wdGlvbnMsYj10aGlzLmNoYXJ0LmludmVydGVkLG09e307ayYmKGE/KG0uc2NhbGVZPS4wMDEsYT1NYXRoLm1pbihlLnBvcytlLmxlbixNYXRoLm1heChlLnBvcyxlLnRvUGl4ZWxzKGgudGhyZXNob2xkKSkpLGI/bS50cmFuc2xhdGVYPWEtZS5sZW46bS50cmFuc2xhdGVZPWEsYy5ncm91cC5hdHRyKG0pKToobVtiP1widHJhbnNsYXRlWFwiOlwidHJhbnNsYXRlWVwiXT1lLnBvcyxjLmdyb3VwLmFuaW1hdGUobSxFKEIoYy5vcHRpb25zLmFuaW1hdGlvbikse3N0ZXA6ZnVuY3Rpb24oYSxiKXtjLmdyb3VwLmF0dHIoe3NjYWxlWTpNYXRoLm1heCguMDAxLGIucG9zKX0pfX0pKSxjLmFuaW1hdGU9bnVsbCkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9YS5jaGFydDtjLmhhc1JlbmRlcmVkJiZDKGMuc2VyaWVzLGZ1bmN0aW9uKGMpe2MudHlwZT09PWEudHlwZSYmKGMuaXNEaXJ0eT0hMCl9KTt0LnByb3RvdHlwZS5yZW1vdmUuYXBwbHkoYSxhcmd1bWVudHMpfX0pfSkoSSk7XG4oZnVuY3Rpb24oYSl7YT1hLnNlcmllc1R5cGU7YShcImJhclwiLFwiY29sdW1uXCIsbnVsbCx7aW52ZXJ0ZWQ6ITB9KX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQj1hLlNlcmllczthPWEuc2VyaWVzVHlwZTthKFwic2NhdHRlclwiLFwibGluZVwiLHtsaW5lV2lkdGg6MCxtYXJrZXI6e2VuYWJsZWQ6ITB9LHRvb2x0aXA6e2hlYWRlckZvcm1hdDonXFx4M2NzcGFuIHN0eWxlXFx4M2RcImNvbG9yOntwb2ludC5jb2xvcn1cIlxceDNlXFx1MjVjZlxceDNjL3NwYW5cXHgzZSBcXHgzY3NwYW4gc3R5bGVcXHgzZFwiZm9udC1zaXplOiAwLjg1ZW1cIlxceDNlIHtzZXJpZXMubmFtZX1cXHgzYy9zcGFuXFx4M2VcXHgzY2JyL1xceDNlJyxwb2ludEZvcm1hdDpcIng6IFxceDNjYlxceDNle3BvaW50Lnh9XFx4M2MvYlxceDNlXFx4M2Nici9cXHgzZXk6IFxceDNjYlxceDNle3BvaW50Lnl9XFx4M2MvYlxceDNlXFx4M2Nici9cXHgzZVwifX0se3NvcnRlZDohMSxyZXF1aXJlU29ydGluZzohMSxub1NoYXJlZFRvb2x0aXA6ITAsdHJhY2tlckdyb3VwczpbXCJncm91cFwiLFxuXCJtYXJrZXJHcm91cFwiLFwiZGF0YUxhYmVsc0dyb3VwXCJdLHRha2VPcmRpbmFsUG9zaXRpb246ITEsa2REaW1lbnNpb25zOjIsZHJhd0dyYXBoOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmxpbmVXaWR0aCYmQi5wcm90b3R5cGUuZHJhd0dyYXBoLmNhbGwodGhpcyl9fSl9KShJKTsoZnVuY3Rpb24oYSl7dmFyIEI9YS5waWNrLHo9YS5yZWxhdGl2ZUxlbmd0aDthLkNlbnRlcmVkU2VyaWVzTWl4aW49e2dldENlbnRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxFPXRoaXMuY2hhcnQsdT0yKihhLnNsaWNlZE9mZnNldHx8MCksaD1FLnBsb3RXaWR0aC0yKnUsRT1FLnBsb3RIZWlnaHQtMip1LG49YS5jZW50ZXIsbj1bQihuWzBdLFwiNTAlXCIpLEIoblsxXSxcIjUwJVwiKSxhLnNpemV8fFwiMTAwJVwiLGEuaW5uZXJTaXplfHwwXSx0PU1hdGgubWluKGgsRSksbCxrO2ZvcihsPTA7ND5sOysrbClrPW5bbF0sYT0yPmx8fDI9PT1sJiYvJSQvLnRlc3QoayksbltsXT16KGssW2gsRSx0LG5bMl1dW2xdKStcbihhP3U6MCk7blszXT5uWzJdJiYoblszXT1uWzJdKTtyZXR1cm4gbn19fSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmRlZmluZWQsQz1hLmVhY2gsRT1hLmV4dGVuZCx1PWEuaW5BcnJheSxoPWEubm9vcCxuPWEucGljayx0PWEuUG9pbnQsbD1hLlNlcmllcyxrPWEuc2VyaWVzVHlwZSxlPWEuc2V0QW5pbWF0aW9uO2soXCJwaWVcIixcImxpbmVcIix7Y2VudGVyOltudWxsLG51bGxdLGNsaXA6ITEsY29sb3JCeVBvaW50OiEwLGRhdGFMYWJlbHM6e2Rpc3RhbmNlOjMwLGVuYWJsZWQ6ITAsZm9ybWF0dGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnk/dm9pZCAwOnRoaXMucG9pbnQubmFtZX0seDowfSxpZ25vcmVIaWRkZW5Qb2ludDohMCxsZWdlbmRUeXBlOlwicG9pbnRcIixtYXJrZXI6bnVsbCxzaXplOm51bGwsc2hvd0luTGVnZW5kOiExLHNsaWNlZE9mZnNldDoxMCxzdGlja3lUcmFja2luZzohMSx0b29sdGlwOntmb2xsb3dQb2ludGVyOiEwfSxib3JkZXJDb2xvcjpcIiNmZmZmZmZcIixcbmJvcmRlcldpZHRoOjEsc3RhdGVzOntob3Zlcjp7YnJpZ2h0bmVzczouMSxzaGFkb3c6ITF9fX0se2lzQ2FydGVzaWFuOiExLHJlcXVpcmVTb3J0aW5nOiExLGRpcmVjdFRvdWNoOiEwLG5vU2hhcmVkVG9vbHRpcDohMCx0cmFja2VyR3JvdXBzOltcImdyb3VwXCIsXCJkYXRhTGFiZWxzR3JvdXBcIl0sYXhpc1R5cGVzOltdLHBvaW50QXR0cmliczphLnNlcmllc1R5cGVzLmNvbHVtbi5wcm90b3R5cGUucG9pbnRBdHRyaWJzLGFuaW1hdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxlPWMucG9pbnRzLGI9Yy5zdGFydEFuZ2xlUmFkO2F8fChDKGUsZnVuY3Rpb24oYSl7dmFyIGQ9YS5ncmFwaGljLGU9YS5zaGFwZUFyZ3M7ZCYmKGQuYXR0cih7cjphLnN0YXJ0Unx8Yy5jZW50ZXJbM10vMixzdGFydDpiLGVuZDpifSksZC5hbmltYXRlKHtyOmUucixzdGFydDplLnN0YXJ0LGVuZDplLmVuZH0sYy5vcHRpb25zLmFuaW1hdGlvbikpfSksYy5hbmltYXRlPW51bGwpfSx1cGRhdGVUb3RhbHM6ZnVuY3Rpb24oKXt2YXIgYSxcbmU9MCxoPXRoaXMucG9pbnRzLGI9aC5sZW5ndGgsayxkPXRoaXMub3B0aW9ucy5pZ25vcmVIaWRkZW5Qb2ludDtmb3IoYT0wO2E8YjthKyspaz1oW2FdLDA+ay55JiYoay55PW51bGwpLGUrPWQmJiFrLnZpc2libGU/MDprLnk7dGhpcy50b3RhbD1lO2ZvcihhPTA7YTxiO2ErKylrPWhbYV0say5wZXJjZW50YWdlPTA8ZSYmKGsudmlzaWJsZXx8IWQpP2sueS9lKjEwMDowLGsudG90YWw9ZX0sZ2VuZXJhdGVQb2ludHM6ZnVuY3Rpb24oKXtsLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50cy5jYWxsKHRoaXMpO3RoaXMudXBkYXRlVG90YWxzKCl9LHRyYW5zbGF0ZTpmdW5jdGlvbihhKXt0aGlzLmdlbmVyYXRlUG9pbnRzKCk7dmFyIGM9MCxlPXRoaXMub3B0aW9ucyxiPWUuc2xpY2VkT2Zmc2V0LGg9YisoZS5ib3JkZXJXaWR0aHx8MCksZCxrLGwsdj1lLnN0YXJ0QW5nbGV8fDAsZj10aGlzLnN0YXJ0QW5nbGVSYWQ9TWF0aC5QSS8xODAqKHYtOTApLHY9KHRoaXMuZW5kQW5nbGVSYWQ9TWF0aC5QSS9cbjE4MCoobihlLmVuZEFuZ2xlLHYrMzYwKS05MCkpLWYsdD10aGlzLnBvaW50cyx1PWUuZGF0YUxhYmVscy5kaXN0YW5jZSxlPWUuaWdub3JlSGlkZGVuUG9pbnQsRixxPXQubGVuZ3RoLHg7YXx8KHRoaXMuY2VudGVyPWE9dGhpcy5nZXRDZW50ZXIoKSk7dGhpcy5nZXRYPWZ1bmN0aW9uKGIsYyl7bD1NYXRoLmFzaW4oTWF0aC5taW4oKGItYVsxXSkvKGFbMl0vMit1KSwxKSk7cmV0dXJuIGFbMF0rKGM/LTE6MSkqTWF0aC5jb3MobCkqKGFbMl0vMit1KX07Zm9yKEY9MDtGPHE7RisrKXt4PXRbRl07ZD1mK2MqdjtpZighZXx8eC52aXNpYmxlKWMrPXgucGVyY2VudGFnZS8xMDA7az1mK2Mqdjt4LnNoYXBlVHlwZT1cImFyY1wiO3guc2hhcGVBcmdzPXt4OmFbMF0seTphWzFdLHI6YVsyXS8yLGlubmVyUjphWzNdLzIsc3RhcnQ6TWF0aC5yb3VuZCgxRTMqZCkvMUUzLGVuZDpNYXRoLnJvdW5kKDFFMyprKS8xRTN9O2w9KGsrZCkvMjtsPjEuNSpNYXRoLlBJP2wtPTIqTWF0aC5QSTpsPC1NYXRoLlBJL1xuMiYmKGwrPTIqTWF0aC5QSSk7eC5zbGljZWRUcmFuc2xhdGlvbj17dHJhbnNsYXRlWDpNYXRoLnJvdW5kKE1hdGguY29zKGwpKmIpLHRyYW5zbGF0ZVk6TWF0aC5yb3VuZChNYXRoLnNpbihsKSpiKX07ZD1NYXRoLmNvcyhsKSphWzJdLzI7az1NYXRoLnNpbihsKSphWzJdLzI7eC50b29sdGlwUG9zPVthWzBdKy43KmQsYVsxXSsuNyprXTt4LmhhbGY9bDwtTWF0aC5QSS8yfHxsPk1hdGguUEkvMj8xOjA7eC5hbmdsZT1sO2g9TWF0aC5taW4oaCx1LzUpO3gubGFiZWxQb3M9W2FbMF0rZCtNYXRoLmNvcyhsKSp1LGFbMV0raytNYXRoLnNpbihsKSp1LGFbMF0rZCtNYXRoLmNvcyhsKSpoLGFbMV0raytNYXRoLnNpbihsKSpoLGFbMF0rZCxhWzFdK2ssMD51P1wiY2VudGVyXCI6eC5oYWxmP1wicmlnaHRcIjpcImxlZnRcIixsXX19LGRyYXdHcmFwaDpudWxsLGRyYXdQb2ludHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGU9YS5jaGFydC5yZW5kZXJlcixoLGIsayxkLGw9YS5vcHRpb25zLnNoYWRvdztsJiZcbiFhLnNoYWRvd0dyb3VwJiYoYS5zaGFkb3dHcm91cD1lLmcoXCJzaGFkb3dcIikuYWRkKGEuZ3JvdXApKTtDKGEucG9pbnRzLGZ1bmN0aW9uKGMpe2lmKG51bGwhPT1jLnkpe2I9Yy5ncmFwaGljO2Q9Yy5zaGFwZUFyZ3M7aD1jLmdldFRyYW5zbGF0ZSgpO3ZhciBtPWMuc2hhZG93R3JvdXA7bCYmIW0mJihtPWMuc2hhZG93R3JvdXA9ZS5nKFwic2hhZG93XCIpLmFkZChhLnNoYWRvd0dyb3VwKSk7bSYmbS5hdHRyKGgpO2s9YS5wb2ludEF0dHJpYnMoYyxjLnNlbGVjdGVkJiZcInNlbGVjdFwiKTtiP2Iuc2V0UmFkaWFsUmVmZXJlbmNlKGEuY2VudGVyKS5hdHRyKGspLmFuaW1hdGUoRShkLGgpKTooYy5ncmFwaGljPWI9ZVtjLnNoYXBlVHlwZV0oZCkuc2V0UmFkaWFsUmVmZXJlbmNlKGEuY2VudGVyKS5hdHRyKGgpLmFkZChhLmdyb3VwKSxjLnZpc2libGV8fGIuYXR0cih7dmlzaWJpbGl0eTpcImhpZGRlblwifSksYi5hdHRyKGspLmF0dHIoe1wic3Ryb2tlLWxpbmVqb2luXCI6XCJyb3VuZFwifSkuc2hhZG93KGwsXG5tKSk7Yi5hZGRDbGFzcyhjLmdldENsYXNzTmFtZSgpKX19KX0sc2VhcmNoUG9pbnQ6aCxzb3J0QnlBbmdsZTpmdW5jdGlvbihhLGUpe2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDAhPT1hLmFuZ2xlJiYoYi5hbmdsZS1hLmFuZ2xlKSplfSl9LGRyYXdMZWdlbmRTeW1ib2w6YS5MZWdlbmRTeW1ib2xNaXhpbi5kcmF3UmVjdGFuZ2xlLGdldENlbnRlcjphLkNlbnRlcmVkU2VyaWVzTWl4aW4uZ2V0Q2VudGVyLGdldFN5bWJvbDpofSx7aW5pdDpmdW5jdGlvbigpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPXRoaXMsZTthLm5hbWU9bihhLm5hbWUsXCJTbGljZVwiKTtlPWZ1bmN0aW9uKGMpe2Euc2xpY2UoXCJzZWxlY3RcIj09PWMudHlwZSl9O0IoYSxcInNlbGVjdFwiLGUpO0IoYSxcInVuc2VsZWN0XCIsZSk7cmV0dXJuIGF9LHNldFZpc2libGU6ZnVuY3Rpb24oYSxlKXt2YXIgYz10aGlzLGI9Yy5zZXJpZXMsaD1iLmNoYXJ0LGQ9Yi5vcHRpb25zLmlnbm9yZUhpZGRlblBvaW50O1xuZT1uKGUsZCk7YSE9PWMudmlzaWJsZSYmKGMudmlzaWJsZT1jLm9wdGlvbnMudmlzaWJsZT1hPXZvaWQgMD09PWE/IWMudmlzaWJsZTphLGIub3B0aW9ucy5kYXRhW3UoYyxiLmRhdGEpXT1jLm9wdGlvbnMsQyhbXCJncmFwaGljXCIsXCJkYXRhTGFiZWxcIixcImNvbm5lY3RvclwiLFwic2hhZG93R3JvdXBcIl0sZnVuY3Rpb24oYil7aWYoY1tiXSljW2JdW2E/XCJzaG93XCI6XCJoaWRlXCJdKCEwKX0pLGMubGVnZW5kSXRlbSYmaC5sZWdlbmQuY29sb3JpemVJdGVtKGMsYSksYXx8XCJob3ZlclwiIT09Yy5zdGF0ZXx8Yy5zZXRTdGF0ZShcIlwiKSxkJiYoYi5pc0RpcnR5PSEwKSxlJiZoLnJlZHJhdygpKX0sc2xpY2U6ZnVuY3Rpb24oYSxoLGspe3ZhciBiPXRoaXMuc2VyaWVzO2UoayxiLmNoYXJ0KTtuKGgsITApO3RoaXMuc2xpY2VkPXRoaXMub3B0aW9ucy5zbGljZWQ9eihhKT9hOiF0aGlzLnNsaWNlZDtiLm9wdGlvbnMuZGF0YVt1KHRoaXMsYi5kYXRhKV09dGhpcy5vcHRpb25zO3RoaXMuZ3JhcGhpYy5hbmltYXRlKHRoaXMuZ2V0VHJhbnNsYXRlKCkpO1xudGhpcy5zaGFkb3dHcm91cCYmdGhpcy5zaGFkb3dHcm91cC5hbmltYXRlKHRoaXMuZ2V0VHJhbnNsYXRlKCkpfSxnZXRUcmFuc2xhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGljZWQ/dGhpcy5zbGljZWRUcmFuc2xhdGlvbjp7dHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MH19LGhhbG9QYXRoOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuc2hhcGVBcmdzO3JldHVybiB0aGlzLnNsaWNlZHx8IXRoaXMudmlzaWJsZT9bXTp0aGlzLnNlcmllcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmFyYyhjLngsYy55LGMucithLGMucithLHtpbm5lclI6dGhpcy5zaGFwZUFyZ3MucixzdGFydDpjLnN0YXJ0LGVuZDpjLmVuZH0pfX0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuYWRkRXZlbnQsej1hLmFycmF5TWF4LEM9YS5kZWZpbmVkLEU9YS5lYWNoLHU9YS5leHRlbmQsaD1hLmZvcm1hdCxuPWEubWFwLHQ9YS5tZXJnZSxsPWEubm9vcCxrPWEucGljayxlPWEucmVsYXRpdmVMZW5ndGgsYz1hLlNlcmllcyxcbnA9YS5zZXJpZXNUeXBlcyxIPWEuc3RhYmxlU29ydDthLmRpc3RyaWJ1dGU9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGEudGFyZ2V0LWIudGFyZ2V0fXZhciBlLGg9ITAsaz1hLGY9W10sbDtsPTA7Zm9yKGU9YS5sZW5ndGg7ZS0tOylsKz1hW2VdLnNpemU7aWYobD5jKXtIKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4oYi5yYW5rfHwwKS0oYS5yYW5rfHwwKX0pO2ZvcihsPWU9MDtsPD1jOylsKz1hW2VdLnNpemUsZSsrO2Y9YS5zcGxpY2UoZS0xLGEubGVuZ3RoKX1IKGEsYik7Zm9yKGE9bihhLGZ1bmN0aW9uKGEpe3JldHVybntzaXplOmEuc2l6ZSx0YXJnZXRzOlthLnRhcmdldF19fSk7aDspe2ZvcihlPWEubGVuZ3RoO2UtLTspaD1hW2VdLGw9KE1hdGgubWluLmFwcGx5KDAsaC50YXJnZXRzKStNYXRoLm1heC5hcHBseSgwLGgudGFyZ2V0cykpLzIsaC5wb3M9TWF0aC5taW4oTWF0aC5tYXgoMCxsLWguc2l6ZS8yKSxjLWguc2l6ZSk7ZT1hLmxlbmd0aDtmb3IoaD1cbiExO2UtLTspMDxlJiZhW2UtMV0ucG9zK2FbZS0xXS5zaXplPmFbZV0ucG9zJiYoYVtlLTFdLnNpemUrPWFbZV0uc2l6ZSxhW2UtMV0udGFyZ2V0cz1hW2UtMV0udGFyZ2V0cy5jb25jYXQoYVtlXS50YXJnZXRzKSxhW2UtMV0ucG9zK2FbZS0xXS5zaXplPmMmJihhW2UtMV0ucG9zPWMtYVtlLTFdLnNpemUpLGEuc3BsaWNlKGUsMSksaD0hMCl9ZT0wO0UoYSxmdW5jdGlvbihhKXt2YXIgYj0wO0UoYS50YXJnZXRzLGZ1bmN0aW9uKCl7a1tlXS5wb3M9YS5wb3MrYjtiKz1rW2VdLnNpemU7ZSsrfSl9KTtrLnB1c2guYXBwbHkoayxmKTtIKGssYil9O2MucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPWEub3B0aW9ucyxkPWMuZGF0YUxhYmVscyxlPWEucG9pbnRzLGwsbixmPWEuaGFzUmVuZGVyZWR8fDAscCx1LEY9ayhkLmRlZmVyLCEwKSxxPWEuY2hhcnQucmVuZGVyZXI7aWYoZC5lbmFibGVkfHxhLl9oYXNQb2ludExhYmVscylhLmRsUHJvY2Vzc09wdGlvbnMmJlxuYS5kbFByb2Nlc3NPcHRpb25zKGQpLHU9YS5wbG90R3JvdXAoXCJkYXRhTGFiZWxzR3JvdXBcIixcImRhdGEtbGFiZWxzXCIsRiYmIWY/XCJoaWRkZW5cIjpcInZpc2libGVcIixkLnpJbmRleHx8NiksRiYmKHUuYXR0cih7b3BhY2l0eTorZn0pLGZ8fEIoYSxcImFmdGVyQW5pbWF0ZVwiLGZ1bmN0aW9uKCl7YS52aXNpYmxlJiZ1LnNob3coITApO3VbYy5hbmltYXRpb24/XCJhbmltYXRlXCI6XCJhdHRyXCJdKHtvcGFjaXR5OjF9LHtkdXJhdGlvbjoyMDB9KX0pKSxuPWQsRShlLGZ1bmN0aW9uKGIpe3ZhciBmLGU9Yi5kYXRhTGFiZWwsbSxnLHIsdj1iLmNvbm5lY3Rvcix5PSFlLHg7bD1iLmRsT3B0aW9uc3x8Yi5vcHRpb25zJiZiLm9wdGlvbnMuZGF0YUxhYmVscztpZihmPWsobCYmbC5lbmFibGVkLG4uZW5hYmxlZCkmJm51bGwhPT1iLnkpZm9yKGcgaW4gZD10KG4sbCksbT1iLmdldExhYmVsQ29uZmlnKCkscD1kLmZvcm1hdD9oKGQuZm9ybWF0LG0pOmQuZm9ybWF0dGVyLmNhbGwobSxkKSx4PWQuc3R5bGUsXG5yPWQucm90YXRpb24seC5jb2xvcj1rKGQuY29sb3IseC5jb2xvcixhLmNvbG9yLFwiIzAwMDAwMFwiKSxcImNvbnRyYXN0XCI9PT14LmNvbG9yJiYoeC5jb2xvcj1kLmluc2lkZXx8MD5kLmRpc3RhbmNlfHxjLnN0YWNraW5nP3EuZ2V0Q29udHJhc3QoYi5jb2xvcnx8YS5jb2xvcik6XCIjMDAwMDAwXCIpLGMuY3Vyc29yJiYoeC5jdXJzb3I9Yy5jdXJzb3IpLG09e2ZpbGw6ZC5iYWNrZ3JvdW5kQ29sb3Isc3Ryb2tlOmQuYm9yZGVyQ29sb3IsXCJzdHJva2Utd2lkdGhcIjpkLmJvcmRlcldpZHRoLHI6ZC5ib3JkZXJSYWRpdXN8fDAscm90YXRpb246cixwYWRkaW5nOmQucGFkZGluZyx6SW5kZXg6MX0sbSl2b2lkIDA9PT1tW2ddJiZkZWxldGUgbVtnXTshZXx8ZiYmQyhwKT9mJiZDKHApJiYoZT9tLnRleHQ9cDooZT1iLmRhdGFMYWJlbD1xW3I/XCJ0ZXh0XCI6XCJsYWJlbFwiXShwLDAsLTk5OTksZC5zaGFwZSxudWxsLG51bGwsZC51c2VIVE1MLG51bGwsXCJkYXRhLWxhYmVsXCIpLGUuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLWRhdGEtbGFiZWwtY29sb3ItXCIrXG5iLmNvbG9ySW5kZXgrXCIgXCIrKGQuY2xhc3NOYW1lfHxcIlwiKSsoZC51c2VIVE1MP1wiaGlnaGNoYXJ0cy10cmFja2VyXCI6XCJcIikpKSxlLmF0dHIobSksZS5jc3MoeCkuc2hhZG93KGQuc2hhZG93KSxlLmFkZGVkfHxlLmFkZCh1KSxhLmFsaWduRGF0YUxhYmVsKGIsZSxkLG51bGwseSkpOihiLmRhdGFMYWJlbD1lLmRlc3Ryb3koKSx2JiYoYi5jb25uZWN0b3I9di5kZXN0cm95KCkpKX0pfTtjLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbD1mdW5jdGlvbihhLGMsZCxlLGgpe3ZhciBiPXRoaXMuY2hhcnQsZj1iLmludmVydGVkLGw9ayhhLnBsb3RYLC05OTk5KSxtPWsoYS5wbG90WSwtOTk5OSksbj1jLmdldEJCb3goKSxxLHA9ZC5yb3RhdGlvbixyPWQuYWxpZ24sdD10aGlzLnZpc2libGUmJihhLnNlcmllcy5mb3JjZURMfHxiLmlzSW5zaWRlUGxvdChsLE1hdGgucm91bmQobSksZil8fGUmJmIuaXNJbnNpZGVQbG90KGwsZj9lLngrMTplLnkrZS5oZWlnaHQtMSxmKSksQT1cImp1c3RpZnlcIj09PVxuayhkLm92ZXJmbG93LFwianVzdGlmeVwiKTt0JiYocT1kLnN0eWxlLmZvbnRTaXplLHE9Yi5yZW5kZXJlci5mb250TWV0cmljcyhxLGMpLmIsZT11KHt4OmY/Yi5wbG90V2lkdGgtbTpsLHk6TWF0aC5yb3VuZChmP2IucGxvdEhlaWdodC1sOm0pLHdpZHRoOjAsaGVpZ2h0OjB9LGUpLHUoZCx7d2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHR9KSxwPyhBPSExLGY9Yi5yZW5kZXJlci5yb3RDb3JyKHEscCksZj17eDplLngrZC54K2Uud2lkdGgvMitmLngseTplLnkrZC55K3t0b3A6MCxtaWRkbGU6LjUsYm90dG9tOjF9W2QudmVydGljYWxBbGlnbl0qZS5oZWlnaHR9LGNbaD9cImF0dHJcIjpcImFuaW1hdGVcIl0oZikuYXR0cih7YWxpZ246cn0pLGw9KHArNzIwKSUzNjAsbD0xODA8bCYmMzYwPmwsXCJsZWZ0XCI9PT1yP2YueS09bD9uLmhlaWdodDowOlwiY2VudGVyXCI9PT1yPyhmLngtPW4ud2lkdGgvMixmLnktPW4uaGVpZ2h0LzIpOlwicmlnaHRcIj09PXImJihmLngtPW4ud2lkdGgsZi55LT1sPzA6XG5uLmhlaWdodCkpOihjLmFsaWduKGQsbnVsbCxlKSxmPWMuYWxpZ25BdHRyKSxBP3RoaXMuanVzdGlmeURhdGFMYWJlbChjLGQsZixuLGUsaCk6ayhkLmNyb3AsITApJiYodD1iLmlzSW5zaWRlUGxvdChmLngsZi55KSYmYi5pc0luc2lkZVBsb3QoZi54K24ud2lkdGgsZi55K24uaGVpZ2h0KSksZC5zaGFwZSYmIXAmJmMuYXR0cih7YW5jaG9yWDphLnBsb3RYLGFuY2hvclk6YS5wbG90WX0pKTt0fHwoYy5hdHRyKHt5Oi05OTk5fSksYy5wbGFjZWQ9ITEpfTtjLnByb3RvdHlwZS5qdXN0aWZ5RGF0YUxhYmVsPWZ1bmN0aW9uKGEsYyxkLGUsaCxrKXt2YXIgYj10aGlzLmNoYXJ0LGw9Yy5hbGlnbixtPWMudmVydGljYWxBbGlnbixuLHEscD1hLmJveD8wOmEucGFkZGluZ3x8MDtuPWQueCtwOzA+biYmKFwicmlnaHRcIj09PWw/Yy5hbGlnbj1cImxlZnRcIjpjLng9LW4scT0hMCk7bj1kLngrZS53aWR0aC1wO24+Yi5wbG90V2lkdGgmJihcImxlZnRcIj09PWw/Yy5hbGlnbj1cInJpZ2h0XCI6Yy54PWIucGxvdFdpZHRoLVxubixxPSEwKTtuPWQueStwOzA+biYmKFwiYm90dG9tXCI9PT1tP2MudmVydGljYWxBbGlnbj1cInRvcFwiOmMueT0tbixxPSEwKTtuPWQueStlLmhlaWdodC1wO24+Yi5wbG90SGVpZ2h0JiYoXCJ0b3BcIj09PW0/Yy52ZXJ0aWNhbEFsaWduPVwiYm90dG9tXCI6Yy55PWIucGxvdEhlaWdodC1uLHE9ITApO3EmJihhLnBsYWNlZD0hayxhLmFsaWduKGMsbnVsbCxoKSl9O3AucGllJiYocC5waWUucHJvdG90eXBlLmRyYXdEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxlPWIuZGF0YSxkLGg9Yi5jaGFydCxsPWIub3B0aW9ucy5kYXRhTGFiZWxzLHA9ayhsLmNvbm5lY3RvclBhZGRpbmcsMTApLGY9ayhsLmNvbm5lY3RvcldpZHRoLDEpLHQ9aC5wbG90V2lkdGgsdT1oLnBsb3RIZWlnaHQsRixxPWwuZGlzdGFuY2UseD1iLmNlbnRlcixCPXhbMl0vMixDPXhbMV0sSD0wPHEsZyxELEksTSxSPVtbXSxbXV0sTix3LE8sUSxQPVswLDAsMCwwXTtiLnZpc2libGUmJihsLmVuYWJsZWR8fGIuX2hhc1BvaW50TGFiZWxzKSYmXG4oRShlLGZ1bmN0aW9uKGEpe2EuZGF0YUxhYmVsJiZhLnZpc2libGUmJmEuZGF0YUxhYmVsLnNob3J0ZW5lZCYmKGEuZGF0YUxhYmVsLmF0dHIoe3dpZHRoOlwiYXV0b1wifSkuY3NzKHt3aWR0aDpcImF1dG9cIix0ZXh0T3ZlcmZsb3c6XCJjbGlwXCJ9KSxhLmRhdGFMYWJlbC5zaG9ydGVuZWQ9ITEpfSksYy5wcm90b3R5cGUuZHJhd0RhdGFMYWJlbHMuYXBwbHkoYiksRShlLGZ1bmN0aW9uKGEpe2EuZGF0YUxhYmVsJiZhLnZpc2libGUmJihSW2EuaGFsZl0ucHVzaChhKSxhLmRhdGFMYWJlbC5fcG9zPW51bGwpfSksRShSLGZ1bmN0aW9uKGMsZil7dmFyIGUsayxtPWMubGVuZ3RoLHIsdix5O2lmKG0pZm9yKGIuc29ydEJ5QW5nbGUoYyxmLS41KSwwPHEmJihlPU1hdGgubWF4KDAsQy1CLXEpLGs9TWF0aC5taW4oQytCK3EsaC5wbG90SGVpZ2h0KSxyPW4oYyxmdW5jdGlvbihhKXtpZihhLmRhdGFMYWJlbClyZXR1cm4geT1hLmRhdGFMYWJlbC5nZXRCQm94KCkuaGVpZ2h0fHwyMSx7dGFyZ2V0OmEubGFiZWxQb3NbMV0tXG5lK3kvMixzaXplOnkscmFuazphLnl9fSksYS5kaXN0cmlidXRlKHIsayt5LWUpKSxRPTA7UTxtO1ErKylkPWNbUV0sST1kLmxhYmVsUG9zLGc9ZC5kYXRhTGFiZWwsTz0hMT09PWQudmlzaWJsZT9cImhpZGRlblwiOlwiaW5oZXJpdFwiLHY9SVsxXSxyP3ZvaWQgMD09PXJbUV0ucG9zP089XCJoaWRkZW5cIjooTT1yW1FdLnNpemUsdz1lK3JbUV0ucG9zKTp3PXYsTj1sLmp1c3RpZnk/eFswXSsoZj8tMToxKSooQitxKTpiLmdldFgodzxlKzJ8fHc+ay0yP3Y6dyxmKSxnLl9hdHRyPXt2aXNpYmlsaXR5Ok8sYWxpZ246SVs2XX0sZy5fcG9zPXt4Ok4rbC54Kyh7bGVmdDpwLHJpZ2h0Oi1wfVtJWzZdXXx8MCkseTp3K2wueS0xMH0sSS54PU4sSS55PXcsbnVsbD09PWIub3B0aW9ucy5zaXplJiYoRD1nLmdldEJCb3goKS53aWR0aCx2PW51bGwsTi1EPHA/KHY9TWF0aC5yb3VuZChELU4rcCksUFszXT1NYXRoLm1heCh2LFBbM10pKTpOK0Q+dC1wJiYodj1NYXRoLnJvdW5kKE4rRC10K3ApLFBbMV09TWF0aC5tYXgodixcblBbMV0pKSwwPnctTS8yP1BbMF09TWF0aC5tYXgoTWF0aC5yb3VuZCgtdytNLzIpLFBbMF0pOncrTS8yPnUmJihQWzJdPU1hdGgubWF4KE1hdGgucm91bmQodytNLzItdSksUFsyXSkpLGcuc2lkZU92ZXJmbG93PXYpfSksMD09PXooUCl8fHRoaXMudmVyaWZ5RGF0YUxhYmVsT3ZlcmZsb3coUCkpJiYodGhpcy5wbGFjZURhdGFMYWJlbHMoKSxIJiZmJiZFKHRoaXMucG9pbnRzLGZ1bmN0aW9uKGEpe3ZhciBjO0Y9YS5jb25uZWN0b3I7aWYoKGc9YS5kYXRhTGFiZWwpJiZnLl9wb3MmJmEudmlzaWJsZSl7Tz1nLl9hdHRyLnZpc2liaWxpdHk7aWYoYz0hRilhLmNvbm5lY3Rvcj1GPWgucmVuZGVyZXIucGF0aCgpLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy1kYXRhLWxhYmVsLWNvbm5lY3RvciBoaWdoY2hhcnRzLWNvbG9yLVwiK2EuY29sb3JJbmRleCkuYWRkKGIuZGF0YUxhYmVsc0dyb3VwKSxGLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6ZixzdHJva2U6bC5jb25uZWN0b3JDb2xvcnx8YS5jb2xvcnx8XG5cIiM2NjY2NjZcIn0pO0ZbYz9cImF0dHJcIjpcImFuaW1hdGVcIl0oe2Q6Yi5jb25uZWN0b3JQYXRoKGEubGFiZWxQb3MpfSk7Ri5hdHRyKFwidmlzaWJpbGl0eVwiLE8pfWVsc2UgRiYmKGEuY29ubmVjdG9yPUYuZGVzdHJveSgpKX0pKX0scC5waWUucHJvdG90eXBlLmNvbm5lY3RvclBhdGg9ZnVuY3Rpb24oYSl7dmFyIGI9YS54LGM9YS55O3JldHVybiBrKHRoaXMub3B0aW9ucy5kYXRhTGFiZWxzLnNvZnRDb25uZWN0b3IsITApP1tcIk1cIixiKyhcImxlZnRcIj09PWFbNl0/NTotNSksYyxcIkNcIixiLGMsMiphWzJdLWFbNF0sMiphWzNdLWFbNV0sYVsyXSxhWzNdLFwiTFwiLGFbNF0sYVs1XV06W1wiTVwiLGIrKFwibGVmdFwiPT09YVs2XT81Oi01KSxjLFwiTFwiLGFbMl0sYVszXSxcIkxcIixhWzRdLGFbNV1dfSxwLnBpZS5wcm90b3R5cGUucGxhY2VEYXRhTGFiZWxzPWZ1bmN0aW9uKCl7RSh0aGlzLnBvaW50cyxmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFMYWJlbDtiJiZhLnZpc2libGUmJigoYT1iLl9wb3MpPyhiLnNpZGVPdmVyZmxvdyYmXG4oYi5fYXR0ci53aWR0aD1iLmdldEJCb3goKS53aWR0aC1iLnNpZGVPdmVyZmxvdyxiLmNzcyh7d2lkdGg6Yi5fYXR0ci53aWR0aCtcInB4XCIsdGV4dE92ZXJmbG93OlwiZWxsaXBzaXNcIn0pLGIuc2hvcnRlbmVkPSEwKSxiLmF0dHIoYi5fYXR0ciksYltiLm1vdmVkP1wiYW5pbWF0ZVwiOlwiYXR0clwiXShhKSxiLm1vdmVkPSEwKTpiJiZiLmF0dHIoe3k6LTk5OTl9KSl9LHRoaXMpfSxwLnBpZS5wcm90b3R5cGUuYWxpZ25EYXRhTGFiZWw9bCxwLnBpZS5wcm90b3R5cGUudmVyaWZ5RGF0YUxhYmVsT3ZlcmZsb3c9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jZW50ZXIsYz10aGlzLm9wdGlvbnMsaD1jLmNlbnRlcixrPWMubWluU2l6ZXx8ODAsbCxmO251bGwhPT1oWzBdP2w9TWF0aC5tYXgoYlsyXS1NYXRoLm1heChhWzFdLGFbM10pLGspOihsPU1hdGgubWF4KGJbMl0tYVsxXS1hWzNdLGspLGJbMF0rPShhWzNdLWFbMV0pLzIpO251bGwhPT1oWzFdP2w9TWF0aC5tYXgoTWF0aC5taW4obCxiWzJdLVxuTWF0aC5tYXgoYVswXSxhWzJdKSksayk6KGw9TWF0aC5tYXgoTWF0aC5taW4obCxiWzJdLWFbMF0tYVsyXSksayksYlsxXSs9KGFbMF0tYVsyXSkvMik7bDxiWzJdPyhiWzJdPWwsYlszXT1NYXRoLm1pbihlKGMuaW5uZXJTaXplfHwwLGwpLGwpLHRoaXMudHJhbnNsYXRlKGIpLHRoaXMuZHJhd0RhdGFMYWJlbHMmJnRoaXMuZHJhd0RhdGFMYWJlbHMoKSk6Zj0hMDtyZXR1cm4gZn0pO3AuY29sdW1uJiYocC5jb2x1bW4ucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsPWZ1bmN0aW9uKGEsZSxkLGgsbCl7dmFyIGI9dGhpcy5jaGFydC5pbnZlcnRlZCxmPWEuc2VyaWVzLG09YS5kbEJveHx8YS5zaGFwZUFyZ3Msbj1rKGEuYmVsb3csYS5wbG90WT5rKHRoaXMudHJhbnNsYXRlZFRocmVzaG9sZCxmLnlBeGlzLmxlbikpLHA9ayhkLmluc2lkZSwhIXRoaXMub3B0aW9ucy5zdGFja2luZyk7bSYmKGg9dChtKSwwPmgueSYmKGguaGVpZ2h0Kz1oLnksaC55PTApLG09aC55K2guaGVpZ2h0LWYueUF4aXMubGVuLFxuMDxtJiYoaC5oZWlnaHQtPW0pLGImJihoPXt4OmYueUF4aXMubGVuLWgueS1oLmhlaWdodCx5OmYueEF4aXMubGVuLWgueC1oLndpZHRoLHdpZHRoOmguaGVpZ2h0LGhlaWdodDpoLndpZHRofSkscHx8KGI/KGgueCs9bj8wOmgud2lkdGgsaC53aWR0aD0wKTooaC55Kz1uP2guaGVpZ2h0OjAsaC5oZWlnaHQ9MCkpKTtkLmFsaWduPWsoZC5hbGlnbiwhYnx8cD9cImNlbnRlclwiOm4/XCJyaWdodFwiOlwibGVmdFwiKTtkLnZlcnRpY2FsQWxpZ249ayhkLnZlcnRpY2FsQWxpZ24sYnx8cD9cIm1pZGRsZVwiOm4/XCJ0b3BcIjpcImJvdHRvbVwiKTtjLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbC5jYWxsKHRoaXMsYSxlLGQsaCxsKX0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuQ2hhcnQsej1hLmVhY2gsQz1hLnBpY2ssRT1hLmFkZEV2ZW50O0IucHJvdG90eXBlLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGgoKXt2YXIgaD1bXTt6KGEuc2VyaWVzfHxbXSxmdW5jdGlvbihhKXt2YXIgbD1cbmEub3B0aW9ucy5kYXRhTGFiZWxzLGs9YS5kYXRhTGFiZWxDb2xsZWN0aW9uc3x8W1wiZGF0YUxhYmVsXCJdOyhsLmVuYWJsZWR8fGEuX2hhc1BvaW50TGFiZWxzKSYmIWwuYWxsb3dPdmVybGFwJiZhLnZpc2libGUmJnooayxmdW5jdGlvbihlKXt6KGEucG9pbnRzLGZ1bmN0aW9uKGEpe2FbZV0mJihhW2VdLmxhYmVscmFuaz1DKGEubGFiZWxyYW5rLGEuc2hhcGVBcmdzJiZhLnNoYXBlQXJncy5oZWlnaHQpLGgucHVzaChhW2VdKSl9KX0pfSk7YS5oaWRlT3ZlcmxhcHBpbmdMYWJlbHMoaCl9aCgpO0UoYSxcInJlZHJhd1wiLGgpfSk7Qi5wcm90b3R5cGUuaGlkZU92ZXJsYXBwaW5nTGFiZWxzPWZ1bmN0aW9uKGEpe3ZhciBoPWEubGVuZ3RoLG4sdCxsLGssZSxjLHAsdSxiLG09ZnVuY3Rpb24oYSxiLGMsZSxmLGgsayxsKXtyZXR1cm4hKGY+YStjfHxmK2s8YXx8aD5iK2V8fGgrbDxiKX07Zm9yKHQ9MDt0PGg7dCsrKWlmKG49YVt0XSluLm9sZE9wYWNpdHk9bi5vcGFjaXR5LG4ubmV3T3BhY2l0eT1cbjE7YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuKGIubGFiZWxyYW5rfHwwKS0oYS5sYWJlbHJhbmt8fDApfSk7Zm9yKHQ9MDt0PGg7dCsrKWZvcihsPWFbdF0sbj10KzE7bjxoOysrbilpZihrPWFbbl0sbCYmayYmbC5wbGFjZWQmJmsucGxhY2VkJiYwIT09bC5uZXdPcGFjaXR5JiYwIT09ay5uZXdPcGFjaXR5JiYoZT1sLmFsaWduQXR0cixjPWsuYWxpZ25BdHRyLHA9bC5wYXJlbnRHcm91cCx1PWsucGFyZW50R3JvdXAsYj0yKihsLmJveD8wOmwucGFkZGluZyksZT1tKGUueCtwLnRyYW5zbGF0ZVgsZS55K3AudHJhbnNsYXRlWSxsLndpZHRoLWIsbC5oZWlnaHQtYixjLngrdS50cmFuc2xhdGVYLGMueSt1LnRyYW5zbGF0ZVksay53aWR0aC1iLGsuaGVpZ2h0LWIpKSkobC5sYWJlbHJhbms8ay5sYWJlbHJhbms/bDprKS5uZXdPcGFjaXR5PTA7eihhLGZ1bmN0aW9uKGEpe3ZhciBiLGM7YSYmKGM9YS5uZXdPcGFjaXR5LGEub2xkT3BhY2l0eSE9PWMmJmEucGxhY2VkJiYoYz9hLnNob3coITApOlxuYj1mdW5jdGlvbigpe2EuaGlkZSgpfSxhLmFsaWduQXR0ci5vcGFjaXR5PWMsYVthLmlzT2xkP1wiYW5pbWF0ZVwiOlwiYXR0clwiXShhLmFsaWduQXR0cixudWxsLGIpKSxhLmlzT2xkPSEwKX0pfX0pKEkpOyhmdW5jdGlvbihhKXt2YXIgQj1hLmFkZEV2ZW50LHo9YS5DaGFydCxDPWEuY3JlYXRlRWxlbWVudCxFPWEuY3NzLHU9YS5kZWZhdWx0T3B0aW9ucyxoPWEuZGVmYXVsdFBsb3RPcHRpb25zLG49YS5lYWNoLHQ9YS5leHRlbmQsbD1hLmZpcmVFdmVudCxrPWEuaGFzVG91Y2gsZT1hLmluQXJyYXksYz1hLmlzT2JqZWN0LHA9YS5MZWdlbmQsSD1hLm1lcmdlLGI9YS5waWNrLG09YS5Qb2ludCxkPWEuU2VyaWVzLHI9YS5zZXJpZXNUeXBlcyxBPWEuc3ZnO2E9YS5UcmFja2VyTWl4aW49e2RyYXdUcmFja2VyUG9pbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jaGFydC5wb2ludGVyLGM9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5nZXRQb2ludEZyb21FdmVudChhKTtpZih2b2lkIDAhPT1jKWMub25Nb3VzZU92ZXIoYSl9O1xubihhLnBvaW50cyxmdW5jdGlvbihhKXthLmdyYXBoaWMmJihhLmdyYXBoaWMuZWxlbWVudC5wb2ludD1hKTthLmRhdGFMYWJlbCYmKGEuZGF0YUxhYmVsLmRpdj9hLmRhdGFMYWJlbC5kaXYucG9pbnQ9YTphLmRhdGFMYWJlbC5lbGVtZW50LnBvaW50PWEpfSk7YS5faGFzVHJhY2tpbmd8fChuKGEudHJhY2tlckdyb3VwcyxmdW5jdGlvbihkKXtpZihhW2RdKXthW2RdLmFkZENsYXNzKFwiaGlnaGNoYXJ0cy10cmFja2VyXCIpLm9uKFwibW91c2VvdmVyXCIsYykub24oXCJtb3VzZW91dFwiLGZ1bmN0aW9uKGEpe2Iub25UcmFja2VyTW91c2VPdXQoYSl9KTtpZihrKWFbZF0ub24oXCJ0b3VjaHN0YXJ0XCIsYyk7YS5vcHRpb25zLmN1cnNvciYmYVtkXS5jc3MoRSkuY3NzKHtjdXJzb3I6YS5vcHRpb25zLmN1cnNvcn0pfX0pLGEuX2hhc1RyYWNraW5nPSEwKX0sZHJhd1RyYWNrZXJHcmFwaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9wdGlvbnMsYz1iLnRyYWNrQnlBcmVhLGQ9W10uY29uY2F0KGM/XG5hLmFyZWFQYXRoOmEuZ3JhcGhQYXRoKSxlPWQubGVuZ3RoLGg9YS5jaGFydCxsPWgucG9pbnRlcixtPWgucmVuZGVyZXIscD1oLm9wdGlvbnMudG9vbHRpcC5zbmFwLHQ9YS50cmFja2VyLGcscj1mdW5jdGlvbigpe2lmKGguaG92ZXJTZXJpZXMhPT1hKWEub25Nb3VzZU92ZXIoKX0sdT1cInJnYmEoMTkyLDE5MiwxOTIsXCIrKEE/LjAwMDE6LjAwMikrXCIpXCI7aWYoZSYmIWMpZm9yKGc9ZSsxO2ctLTspXCJNXCI9PT1kW2ddJiZkLnNwbGljZShnKzEsMCxkW2crMV0tcCxkW2crMl0sXCJMXCIpLChnJiZcIk1cIj09PWRbZ118fGc9PT1lKSYmZC5zcGxpY2UoZywwLFwiTFwiLGRbZy0yXStwLGRbZy0xXSk7dD90LmF0dHIoe2Q6ZH0pOmEuZ3JhcGgmJihhLnRyYWNrZXI9bS5wYXRoKGQpLmF0dHIoe1wic3Ryb2tlLWxpbmVqb2luXCI6XCJyb3VuZFwiLHZpc2liaWxpdHk6YS52aXNpYmxlP1widmlzaWJsZVwiOlwiaGlkZGVuXCIsc3Ryb2tlOnUsZmlsbDpjP3U6XCJub25lXCIsXCJzdHJva2Utd2lkdGhcIjphLmdyYXBoLnN0cm9rZVdpZHRoKCkrXG4oYz8wOjIqcCksekluZGV4OjJ9KS5hZGQoYS5ncm91cCksbihbYS50cmFja2VyLGEubWFya2VyR3JvdXBdLGZ1bmN0aW9uKGEpe2EuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXRyYWNrZXJcIikub24oXCJtb3VzZW92ZXJcIixyKS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7bC5vblRyYWNrZXJNb3VzZU91dChhKX0pO2IuY3Vyc29yJiZhLmNzcyh7Y3Vyc29yOmIuY3Vyc29yfSk7aWYoaylhLm9uKFwidG91Y2hzdGFydFwiLHIpfSkpfX07ci5jb2x1bW4mJihyLmNvbHVtbi5wcm90b3R5cGUuZHJhd1RyYWNrZXI9YS5kcmF3VHJhY2tlclBvaW50KTtyLnBpZSYmKHIucGllLnByb3RvdHlwZS5kcmF3VHJhY2tlcj1hLmRyYXdUcmFja2VyUG9pbnQpO3Iuc2NhdHRlciYmKHIuc2NhdHRlci5wcm90b3R5cGUuZHJhd1RyYWNrZXI9YS5kcmF3VHJhY2tlclBvaW50KTt0KHAucHJvdG90eXBlLHtzZXRJdGVtRXZlbnRzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5jaGFydC5yZW5kZXJlci5ib3hXcmFwcGVyLFxuZj1cImhpZ2hjaGFydHMtbGVnZW5kLVwiKyhhLnNlcmllcz9cInBvaW50XCI6XCJzZXJpZXNcIikrXCItYWN0aXZlXCI7KGM/YjphLmxlZ2VuZEdyb3VwKS5vbihcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7YS5zZXRTdGF0ZShcImhvdmVyXCIpO2UuYWRkQ2xhc3MoZik7Yi5jc3MoZC5vcHRpb25zLml0ZW1Ib3ZlclN0eWxlKX0pLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbigpe2IuY3NzKGEudmlzaWJsZT9kLml0ZW1TdHlsZTpkLml0ZW1IaWRkZW5TdHlsZSk7ZS5yZW1vdmVDbGFzcyhmKTthLnNldFN0YXRlKCl9KS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGM9ZnVuY3Rpb24oKXthLnNldFZpc2libGUmJmEuc2V0VmlzaWJsZSgpfTtiPXticm93c2VyRXZlbnQ6Yn07YS5maXJlUG9pbnRFdmVudD9hLmZpcmVQb2ludEV2ZW50KFwibGVnZW5kSXRlbUNsaWNrXCIsYixjKTpsKGEsXCJsZWdlbmRJdGVtQ2xpY2tcIixiLGMpfSl9LGNyZWF0ZUNoZWNrYm94Rm9ySXRlbTpmdW5jdGlvbihhKXthLmNoZWNrYm94PUMoXCJpbnB1dFwiLFxue3R5cGU6XCJjaGVja2JveFwiLGNoZWNrZWQ6YS5zZWxlY3RlZCxkZWZhdWx0Q2hlY2tlZDphLnNlbGVjdGVkfSx0aGlzLm9wdGlvbnMuaXRlbUNoZWNrYm94U3R5bGUsdGhpcy5jaGFydC5jb250YWluZXIpO0IoYS5jaGVja2JveCxcImNsaWNrXCIsZnVuY3Rpb24oYil7bChhLnNlcmllc3x8YSxcImNoZWNrYm94Q2xpY2tcIix7Y2hlY2tlZDpiLnRhcmdldC5jaGVja2VkLGl0ZW06YX0sZnVuY3Rpb24oKXthLnNlbGVjdCgpfSl9KX19KTt1LmxlZ2VuZC5pdGVtU3R5bGUuY3Vyc29yPVwicG9pbnRlclwiO3Qoei5wcm90b3R5cGUse3Nob3dSZXNldFpvb206ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dS5sYW5nLGM9YS5vcHRpb25zLmNoYXJ0LnJlc2V0Wm9vbUJ1dHRvbixkPWMudGhlbWUsZT1kLnN0YXRlcyxoPVwiY2hhcnRcIj09PWMucmVsYXRpdmVUbz9udWxsOlwicGxvdEJveFwiO3RoaXMucmVzZXRab29tQnV0dG9uPWEucmVuZGVyZXIuYnV0dG9uKGIucmVzZXRab29tLG51bGwsbnVsbCxmdW5jdGlvbigpe2Euem9vbU91dCgpfSxcbmQsZSYmZS5ob3ZlcikuYXR0cih7YWxpZ246Yy5wb3NpdGlvbi5hbGlnbix0aXRsZTpiLnJlc2V0Wm9vbVRpdGxlfSkuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXJlc2V0LXpvb21cIikuYWRkKCkuYWxpZ24oYy5wb3NpdGlvbiwhMSxoKX0sem9vbU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7bChhLFwic2VsZWN0aW9uXCIse3Jlc2V0U2VsZWN0aW9uOiEwfSxmdW5jdGlvbigpe2Euem9vbSgpfSl9LHpvb206ZnVuY3Rpb24oYSl7dmFyIGQsZT10aGlzLnBvaW50ZXIsaD0hMSxrOyFhfHxhLnJlc2V0U2VsZWN0aW9uP24odGhpcy5heGVzLGZ1bmN0aW9uKGEpe2Q9YS56b29tKCl9KTpuKGEueEF4aXMuY29uY2F0KGEueUF4aXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEuYXhpcztlW2IuaXNYQXhpcz9cInpvb21YXCI6XCJ6b29tWVwiXSYmKGQ9Yi56b29tKGEubWluLGEubWF4KSxiLmRpc3BsYXlCdG4mJihoPSEwKSl9KTtrPXRoaXMucmVzZXRab29tQnV0dG9uO2gmJiFrP3RoaXMuc2hvd1Jlc2V0Wm9vbSgpOlxuIWgmJmMoaykmJih0aGlzLnJlc2V0Wm9vbUJ1dHRvbj1rLmRlc3Ryb3koKSk7ZCYmdGhpcy5yZWRyYXcoYih0aGlzLm9wdGlvbnMuY2hhcnQuYW5pbWF0aW9uLGEmJmEuYW5pbWF0aW9uLDEwMD50aGlzLnBvaW50Q291bnQpKX0scGFuOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuaG92ZXJQb2ludHMsZTtkJiZuKGQsZnVuY3Rpb24oYSl7YS5zZXRTdGF0ZSgpfSk7bihcInh5XCI9PT1iP1sxLDBdOlsxXSxmdW5jdGlvbihiKXtiPWNbYj9cInhBeGlzXCI6XCJ5QXhpc1wiXVswXTt2YXIgZD1iLmhvcml6LGY9YVtkP1wiY2hhcnRYXCI6XCJjaGFydFlcIl0sZD1kP1wibW91c2VEb3duWFwiOlwibW91c2VEb3duWVwiLGg9Y1tkXSxrPShiLnBvaW50UmFuZ2V8fDApLzIsZz1iLmdldEV4dHJlbWVzKCksbD1iLnRvVmFsdWUoaC1mLCEwKStrLGs9Yi50b1ZhbHVlKGgrYi5sZW4tZiwhMCktayxtPWs8bCxoPW0/azpsLGw9bT9sOmssbT1iLnRvVmFsdWUoYi50b1BpeGVscyhnLm1pbiktYi5taW5QaXhlbFBhZGRpbmcpLFxuaz1iLnRvVmFsdWUoYi50b1BpeGVscyhnLm1heCkrYi5taW5QaXhlbFBhZGRpbmcpLG09TWF0aC5taW4oZy5kYXRhTWluLG0pLWgsZz1sLU1hdGgubWF4KGcuZGF0YU1heCxrKTtiLnNlcmllcy5sZW5ndGgmJjA+bSYmMD5nJiYoYi5zZXRFeHRyZW1lcyhoLGwsITEsITEse3RyaWdnZXI6XCJwYW5cIn0pLGU9ITApO2NbZF09Zn0pO2UmJmMucmVkcmF3KCExKTtFKGMuY29udGFpbmVyLHtjdXJzb3I6XCJtb3ZlXCJ9KX19KTt0KG0ucHJvdG90eXBlLHtzZWxlY3Q6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLGY9ZC5zZXJpZXMsaD1mLmNoYXJ0O2E9YihhLCFkLnNlbGVjdGVkKTtkLmZpcmVQb2ludEV2ZW50KGE/XCJzZWxlY3RcIjpcInVuc2VsZWN0XCIse2FjY3VtdWxhdGU6Y30sZnVuY3Rpb24oKXtkLnNlbGVjdGVkPWQub3B0aW9ucy5zZWxlY3RlZD1hO2Yub3B0aW9ucy5kYXRhW2UoZCxmLmRhdGEpXT1kLm9wdGlvbnM7ZC5zZXRTdGF0ZShhJiZcInNlbGVjdFwiKTtjfHxuKGguZ2V0U2VsZWN0ZWRQb2ludHMoKSxcbmZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQmJmEhPT1kJiYoYS5zZWxlY3RlZD1hLm9wdGlvbnMuc2VsZWN0ZWQ9ITEsZi5vcHRpb25zLmRhdGFbZShhLGYuZGF0YSldPWEub3B0aW9ucyxhLnNldFN0YXRlKFwiXCIpLGEuZmlyZVBvaW50RXZlbnQoXCJ1bnNlbGVjdFwiKSl9KX0pfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNlcmllcy5jaGFydC5wb2ludGVyO3RoaXMuZmlyZVBvaW50RXZlbnQoXCJtb3VzZU92ZXJcIik7Yi5ydW5Qb2ludEFjdGlvbnMoYSx0aGlzKX0sb25Nb3VzZU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VyaWVzLmNoYXJ0O3RoaXMuZmlyZVBvaW50RXZlbnQoXCJtb3VzZU91dFwiKTtuKGEuaG92ZXJQb2ludHN8fFtdLGZ1bmN0aW9uKGEpe2Euc2V0U3RhdGUoKX0pO2EuaG92ZXJQb2ludHM9YS5ob3ZlclBvaW50PW51bGx9LGltcG9ydEV2ZW50czpmdW5jdGlvbigpe2lmKCF0aGlzLmhhc0ltcG9ydGVkRXZlbnRzKXt2YXIgYT1IKHRoaXMuc2VyaWVzLm9wdGlvbnMucG9pbnQsXG50aGlzLm9wdGlvbnMpLmV2ZW50cyxiO3RoaXMuZXZlbnRzPWE7Zm9yKGIgaW4gYSlCKHRoaXMsYixhW2JdKTt0aGlzLmhhc0ltcG9ydGVkRXZlbnRzPSEwfX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSxjKXt2YXIgZD1NYXRoLmZsb29yKHRoaXMucGxvdFgpLGU9dGhpcy5wbG90WSxmPXRoaXMuc2VyaWVzLGs9Zi5vcHRpb25zLnN0YXRlc1thXXx8e30sbD1oW2YudHlwZV0ubWFya2VyJiZmLm9wdGlvbnMubWFya2VyLG09bCYmITE9PT1sLmVuYWJsZWQsbj1sJiZsLnN0YXRlcyYmbC5zdGF0ZXNbYV18fHt9LHA9ITE9PT1uLmVuYWJsZWQsZz1mLnN0YXRlTWFya2VyR3JhcGhpYyxyPXRoaXMubWFya2VyfHx7fSx1PWYuY2hhcnQsdj1mLmhhbG8seixBPWwmJmYubWFya2VyQXR0cmliczthPWF8fFwiXCI7aWYoIShhPT09dGhpcy5zdGF0ZSYmIWN8fHRoaXMuc2VsZWN0ZWQmJlwic2VsZWN0XCIhPT1hfHwhMT09PWsuZW5hYmxlZHx8YSYmKHB8fG0mJiExPT09bi5lbmFibGVkKXx8YSYmci5zdGF0ZXMmJlxuci5zdGF0ZXNbYV0mJiExPT09ci5zdGF0ZXNbYV0uZW5hYmxlZCkpe0EmJih6PWYubWFya2VyQXR0cmlicyh0aGlzLGEpKTtpZih0aGlzLmdyYXBoaWMpdGhpcy5zdGF0ZSYmdGhpcy5ncmFwaGljLnJlbW92ZUNsYXNzKFwiaGlnaGNoYXJ0cy1wb2ludC1cIit0aGlzLnN0YXRlKSxhJiZ0aGlzLmdyYXBoaWMuYWRkQ2xhc3MoXCJoaWdoY2hhcnRzLXBvaW50LVwiK2EpLHRoaXMuZ3JhcGhpYy5hdHRyKGYucG9pbnRBdHRyaWJzKHRoaXMsYSkpLHomJnRoaXMuZ3JhcGhpYy5hbmltYXRlKHosYih1Lm9wdGlvbnMuY2hhcnQuYW5pbWF0aW9uLG4uYW5pbWF0aW9uLGwuYW5pbWF0aW9uKSksZyYmZy5oaWRlKCk7ZWxzZXtpZihhJiZuKXtsPXIuc3ltYm9sfHxmLnN5bWJvbDtnJiZnLmN1cnJlbnRTeW1ib2whPT1sJiYoZz1nLmRlc3Ryb3koKSk7aWYoZylnW2M/XCJhbmltYXRlXCI6XCJhdHRyXCJdKHt4OnoueCx5OnoueX0pO2Vsc2UgbCYmKGYuc3RhdGVNYXJrZXJHcmFwaGljPWc9dS5yZW5kZXJlci5zeW1ib2wobCxcbnoueCx6Lnksei53aWR0aCx6LmhlaWdodCkuYWRkKGYubWFya2VyR3JvdXApLGcuY3VycmVudFN5bWJvbD1sKTtnJiZnLmF0dHIoZi5wb2ludEF0dHJpYnModGhpcyxhKSl9ZyYmKGdbYSYmdS5pc0luc2lkZVBsb3QoZCxlLHUuaW52ZXJ0ZWQpP1wic2hvd1wiOlwiaGlkZVwiXSgpLGcuZWxlbWVudC5wb2ludD10aGlzKX0oZD1rLmhhbG8pJiZkLnNpemU/KHZ8fChmLmhhbG89dj11LnJlbmRlcmVyLnBhdGgoKS5hZGQoQT9mLm1hcmtlckdyb3VwOmYuZ3JvdXApKSx2W2M/XCJhbmltYXRlXCI6XCJhdHRyXCJdKHtkOnRoaXMuaGFsb1BhdGgoZC5zaXplKX0pLHYuYXR0cih7XCJjbGFzc1wiOlwiaGlnaGNoYXJ0cy1oYWxvIGhpZ2hjaGFydHMtY29sb3ItXCIrYih0aGlzLmNvbG9ySW5kZXgsZi5jb2xvckluZGV4KX0pLHYucG9pbnQ9dGhpcyx2LmF0dHIodCh7ZmlsbDp0aGlzLmNvbG9yfHxmLmNvbG9yLFwiZmlsbC1vcGFjaXR5XCI6ZC5vcGFjaXR5LHpJbmRleDotMX0sZC5hdHRyaWJ1dGVzKSkpOnYmJnYucG9pbnQmJlxudi5wb2ludC5oYWxvUGF0aCYmdi5hbmltYXRlKHtkOnYucG9pbnQuaGFsb1BhdGgoMCl9KTt0aGlzLnN0YXRlPWF9fSxoYWxvUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zZXJpZXMuY2hhcnQucmVuZGVyZXIuc3ltYm9scy5jaXJjbGUoTWF0aC5mbG9vcih0aGlzLnBsb3RYKS1hLHRoaXMucGxvdFktYSwyKmEsMiphKX19KTt0KGQucHJvdG90eXBlLHtvbk1vdXNlT3ZlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2hhcnQsYj1hLmhvdmVyU2VyaWVzO2lmKGImJmIhPT10aGlzKWIub25Nb3VzZU91dCgpO3RoaXMub3B0aW9ucy5ldmVudHMubW91c2VPdmVyJiZsKHRoaXMsXCJtb3VzZU92ZXJcIik7dGhpcy5zZXRTdGF0ZShcImhvdmVyXCIpO2EuaG92ZXJTZXJpZXM9dGhpc30sb25Nb3VzZU91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucyxiPXRoaXMuY2hhcnQsYz1iLnRvb2x0aXAsZD1iLmhvdmVyUG9pbnQ7Yi5ob3ZlclNlcmllcz1udWxsO2lmKGQpZC5vbk1vdXNlT3V0KCk7XG50aGlzJiZhLmV2ZW50cy5tb3VzZU91dCYmbCh0aGlzLFwibW91c2VPdXRcIik7IWN8fGEuc3RpY2t5VHJhY2tpbmd8fGMuc2hhcmVkJiYhdGhpcy5ub1NoYXJlZFRvb2x0aXB8fGMuaGlkZSgpO3RoaXMuc2V0U3RhdGUoKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxkPWMub3B0aW9ucyxlPWMuZ3JhcGgsaD1kLnN0YXRlcyxrPWQubGluZVdpZHRoLGQ9MDthPWF8fFwiXCI7aWYoYy5zdGF0ZSE9PWEmJihuKFtjLmdyb3VwLGMubWFya2VyR3JvdXAsYy5kYXRhTGFiZWxzR3JvdXBdLGZ1bmN0aW9uKGIpe2ImJihjLnN0YXRlJiZiLnJlbW92ZUNsYXNzKFwiaGlnaGNoYXJ0cy1zZXJpZXMtXCIrYy5zdGF0ZSksYSYmYi5hZGRDbGFzcyhcImhpZ2hjaGFydHMtc2VyaWVzLVwiK2EpKX0pLGMuc3RhdGU9YSwhaFthXXx8ITEhPT1oW2FdLmVuYWJsZWQpJiYoYSYmKGs9aFthXS5saW5lV2lkdGh8fGsrKGhbYV0ubGluZVdpZHRoUGx1c3x8MCkpLGUmJiFlLmRhc2hzdHlsZSkpZm9yKGs9e1wic3Ryb2tlLXdpZHRoXCI6a30sXG5lLmFuaW1hdGUoayxiKGMuY2hhcnQub3B0aW9ucy5jaGFydC5hbmltYXRpb24saFthXSYmaFthXS5hbmltYXRpb24pKTtjW1wiem9uZS1ncmFwaC1cIitkXTspY1tcInpvbmUtZ3JhcGgtXCIrZF0uYXR0cihrKSxkKz0xfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY2hhcnQsZT1jLmxlZ2VuZEl0ZW0sZixoPWQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMsaz1jLnZpc2libGU7Zj0oYy52aXNpYmxlPWE9Yy5vcHRpb25zLnZpc2libGU9Yy51c2VyT3B0aW9ucy52aXNpYmxlPXZvaWQgMD09PWE/IWs6YSk/XCJzaG93XCI6XCJoaWRlXCI7bihbXCJncm91cFwiLFwiZGF0YUxhYmVsc0dyb3VwXCIsXCJtYXJrZXJHcm91cFwiLFwidHJhY2tlclwiLFwidHRcIl0sZnVuY3Rpb24oYSl7aWYoY1thXSljW2FdW2ZdKCl9KTtpZihkLmhvdmVyU2VyaWVzPT09Y3x8KGQuaG92ZXJQb2ludCYmZC5ob3ZlclBvaW50LnNlcmllcyk9PT1jKWMub25Nb3VzZU91dCgpO2UmJmQubGVnZW5kLmNvbG9yaXplSXRlbShjLFxuYSk7Yy5pc0RpcnR5PSEwO2Mub3B0aW9ucy5zdGFja2luZyYmbihkLnNlcmllcyxmdW5jdGlvbihhKXthLm9wdGlvbnMuc3RhY2tpbmcmJmEudmlzaWJsZSYmKGEuaXNEaXJ0eT0hMCl9KTtuKGMubGlua2VkU2VyaWVzLGZ1bmN0aW9uKGIpe2Iuc2V0VmlzaWJsZShhLCExKX0pO2gmJihkLmlzRGlydHlCb3g9ITApOyExIT09YiYmZC5yZWRyYXcoKTtsKGMsZil9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldFZpc2libGUoITApfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRWaXNpYmxlKCExKX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0ZWQ9YT12b2lkIDA9PT1hPyF0aGlzLnNlbGVjdGVkOmE7dGhpcy5jaGVja2JveCYmKHRoaXMuY2hlY2tib3guY2hlY2tlZD1hKTtsKHRoaXMsYT9cInNlbGVjdFwiOlwidW5zZWxlY3RcIil9LGRyYXdUcmFja2VyOmEuZHJhd1RyYWNrZXJHcmFwaH0pfSkoSSk7KGZ1bmN0aW9uKGEpe3ZhciBCPWEuQ2hhcnQsej1hLmVhY2gsQz1hLmluQXJyYXksRT1cbmEuaXNBcnJheSx1PWEuaXNPYmplY3QsaD1hLnBpY2ssbj1hLnNwbGF0O0IucHJvdG90eXBlLnNldFJlc3BvbnNpdmU9ZnVuY3Rpb24oaCl7dmFyIGw9dGhpcy5vcHRpb25zLnJlc3BvbnNpdmUsaz1bXSxlPXRoaXMuY3VycmVudFJlc3BvbnNpdmU7bCYmbC5ydWxlcyYmeihsLnJ1bGVzLGZ1bmN0aW9uKGMpe3ZvaWQgMD09PWMuX2lkJiYoYy5faWQ9YS51bmlxdWVLZXkoKSk7dGhpcy5tYXRjaFJlc3BvbnNpdmVSdWxlKGMsayxoKX0sdGhpcyk7dmFyIGM9YS5tZXJnZS5hcHBseSgwLGEubWFwKGssZnVuY3Rpb24oYyl7cmV0dXJuIGEuZmluZChsLnJ1bGVzLGZ1bmN0aW9uKGEpe3JldHVybiBhLl9pZD09PWN9KS5jaGFydE9wdGlvbnN9KSksaz1rLnRvU3RyaW5nKCl8fHZvaWQgMDtrIT09KGUmJmUucnVsZUlkcykmJihlJiZ0aGlzLnVwZGF0ZShlLnVuZG9PcHRpb25zLGgpLGs/KHRoaXMuY3VycmVudFJlc3BvbnNpdmU9e3J1bGVJZHM6ayxtZXJnZWRPcHRpb25zOmMsdW5kb09wdGlvbnM6dGhpcy5jdXJyZW50T3B0aW9ucyhjKX0sXG50aGlzLnVwZGF0ZShjLGgpKTp0aGlzLmN1cnJlbnRSZXNwb25zaXZlPXZvaWQgMCl9O0IucHJvdG90eXBlLm1hdGNoUmVzcG9uc2l2ZVJ1bGU9ZnVuY3Rpb24oYSxsKXt2YXIgaz1hLmNvbmRpdGlvbjsoay5jYWxsYmFja3x8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGFydFdpZHRoPD1oKGsubWF4V2lkdGgsTnVtYmVyLk1BWF9WQUxVRSkmJnRoaXMuY2hhcnRIZWlnaHQ8PWgoay5tYXhIZWlnaHQsTnVtYmVyLk1BWF9WQUxVRSkmJnRoaXMuY2hhcnRXaWR0aD49aChrLm1pbldpZHRoLDApJiZ0aGlzLmNoYXJ0SGVpZ2h0Pj1oKGsubWluSGVpZ2h0LDApfSkuY2FsbCh0aGlzKSYmbC5wdXNoKGEuX2lkKX07Qi5wcm90b3R5cGUuY3VycmVudE9wdGlvbnM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gaChhLGMsayxsKXt2YXIgYixlO2ZvcihiIGluIGEpaWYoIWwmJi0xPEMoYixbXCJzZXJpZXNcIixcInhBeGlzXCIsXCJ5QXhpc1wiXSkpZm9yKGFbYl09bihhW2JdKSxrW2JdPVtdLGU9MDtlPGFbYl0ubGVuZ3RoO2UrKyljW2JdW2VdJiZcbihrW2JdW2VdPXt9LGgoYVtiXVtlXSxjW2JdW2VdLGtbYl1bZV0sbCsxKSk7ZWxzZSB1KGFbYl0pPyhrW2JdPUUoYVtiXSk/W106e30saChhW2JdLGNbYl18fHt9LGtbYl0sbCsxKSk6a1tiXT1jW2JdfHxudWxsfXZhciBrPXt9O2goYSx0aGlzLm9wdGlvbnMsaywwKTtyZXR1cm4ga319KShJKTtyZXR1cm4gSX0pO1xuIiwiIWZ1bmN0aW9uKHQscil7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9cihyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcImhpZ2hjaGFydHNcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIixcImhpZ2hjaGFydHNcIl0scik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5SZWFjdEhpZ2hjaGFydHM9cihyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcImhpZ2hjaGFydHNcIikpOnQuUmVhY3RIaWdoY2hhcnRzPXIodC5SZWFjdCx0LkhpZ2hjaGFydHMpfSh0aGlzLGZ1bmN0aW9uKHQscil7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIobyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBuPWVbb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiB0W29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLHIpLG4ubG9hZGVkPSEwLG4uZXhwb3J0c312YXIgZT17fTtyZXR1cm4gci5tPXQsci5jPWUsci5wPVwiXCIscigwKX0oW2Z1bmN0aW9uKHQscixlKXt0LmV4cG9ydHM9ZSgzKX0sZnVuY3Rpb24ocixlKXtyLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxyLGUpeyhmdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgZT1hcmd1bWVudHNbcl07Zm9yKHZhciBvIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJih0W29dPWVbb10pfXJldHVybiB0fSxuPWUoMSksaT1cInVuZGVmaW5lZFwiPT10eXBlb2Ygcj93aW5kb3c6cjt0LmV4cG9ydHM9ZnVuY3Rpb24ocixlKXt2YXIgYz1cIkhpZ2hjaGFydHNcIityLHM9bi5jcmVhdGVDbGFzcyh7ZGlzcGxheU5hbWU6Yyxwcm9wVHlwZXM6e2NvbmZpZzpuLlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxpc1B1cmVDb25maWc6bi5Qcm9wVHlwZXMuYm9vbCxuZXZlclJlZmxvdzpuLlByb3BUeXBlcy5ib29sLGNhbGxiYWNrOm4uUHJvcFR5cGVzLmZ1bmMsZG9tUHJvcHM6bi5Qcm9wVHlwZXMub2JqZWN0fSxkZWZhdWx0UHJvcHM6e2NhbGxiYWNrOmZ1bmN0aW9uKCl7fSxkb21Qcm9wczp7fX0scmVuZGVyQ2hhcnQ6ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDb25maWcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIHRoZSBcIitjK1wiIGNvbXBvbmVudFwiKTt2YXIgcz10LmNoYXJ0O3RoaXMuY2hhcnQ9bmV3IGVbcl0obyh7fSx0LHtjaGFydDpvKHt9LHMse3JlbmRlclRvOnRoaXMucmVmcy5jaGFydH0pfSksdGhpcy5wcm9wcy5jYWxsYmFjayksdGhpcy5wcm9wcy5uZXZlclJlZmxvd3x8aSYmaS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe24uY2hhcnQmJm4uY2hhcnQub3B0aW9ucyYmbi5jaGFydC5yZWZsb3coKX0pfSxzaG91bGRDb21wb25lbnRVcGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuISEodC5uZXZlclJlZmxvd3x8dC5pc1B1cmVDb25maWcmJnRoaXMucHJvcHMuY29uZmlnPT09dC5jb25maWcpfHwodGhpcy5yZW5kZXJDaGFydCh0LmNvbmZpZyksITEpfSxnZXRDaGFydDpmdW5jdGlvbigpe2lmKCF0aGlzLmNoYXJ0KXRocm93IG5ldyBFcnJvcihcImdldENoYXJ0KCkgc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFwiKTtyZXR1cm4gdGhpcy5jaGFydH0sY29tcG9uZW50RGlkTW91bnQ6ZnVuY3Rpb24oKXt0aGlzLnJlbmRlckNoYXJ0KHRoaXMucHJvcHMuY29uZmlnKX0sY29tcG9uZW50V2lsbFVubW91bnQ6ZnVuY3Rpb24oKXt0aGlzLmNoYXJ0LmRlc3Ryb3koKX0scmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcImRpdlwiLG8oe3JlZjpcImNoYXJ0XCJ9LHRoaXMucHJvcHMuZG9tUHJvcHMpKX19KTtyZXR1cm4gcy5IaWdoY2hhcnRzPWUscy53aXRoSGlnaGNoYXJ0cz1mdW5jdGlvbihlKXtyZXR1cm4gdC5leHBvcnRzKHIsZSl9LHN9fSkuY2FsbChyLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LHIsZSl7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWUoMikoXCJDaGFydFwiLGUoNCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1yfV0pfSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbi8vIHRoaXMgbmVlZHMgdG8gYmUgc2V0IHRvIHRydWUgYmVmb3JlIEtlZXAuanMgc3RhcnRzIHN0b3JpbmcsIGRvbmUgdmlhIHVzZUtlZXBcbnZhciB1c2UgPSBmYWxzZTtcblxudmFyIGNyZWF0ZWRTdG9yZXMgPSBbXTtcblxudmFyIGNyZWF0ZWRBY3Rpb25zID0gW107XG5cbmZ1bmN0aW9uIHVzZUtlZXAoKSB7XG5cdHZhciBib29sID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG5cdHVzZSA9IGJvb2w7XG59XG5cbmZ1bmN0aW9uIGFkZFN0b3JlKHN0cikge1xuXHRpZiAodXNlKSB7XG5cdFx0Y3JlYXRlZFN0b3Jlcy5wdXNoKHN0cik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYWRkQWN0aW9uKGFjdCkge1xuXHRpZiAodXNlKSB7XG5cdFx0Y3JlYXRlZEFjdGlvbnMucHVzaChhY3QpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlc2V0KCkge1xuXHR3aGlsZSAoY3JlYXRlZFN0b3Jlcy5sZW5ndGgpIHtcblx0XHRjcmVhdGVkU3RvcmVzLnBvcCgpO1xuXHR9XG5cdHdoaWxlIChjcmVhdGVkQWN0aW9ucy5sZW5ndGgpIHtcblx0XHRjcmVhdGVkQWN0aW9ucy5wb3AoKTtcblx0fVxufVxuXG5leHBvcnRzLnVzZUtlZXAgPSB1c2VLZWVwO1xuZXhwb3J0cy5hZGRTdG9yZSA9IGFkZFN0b3JlO1xuZXhwb3J0cy5hZGRBY3Rpb24gPSBhZGRBY3Rpb247XG5leHBvcnRzLmNyZWF0ZWRTdG9yZXMgPSBjcmVhdGVkU3RvcmVzO1xuZXhwb3J0cy5jcmVhdGVkQWN0aW9ucyA9IGNyZWF0ZWRBY3Rpb25zO1xuZXhwb3J0cy5yZXNldCA9IHJlc2V0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmpvaW5TdHJpY3QgPSBleHBvcnRzLmpvaW5Db25jYXQgPSBleHBvcnRzLmpvaW5MZWFkaW5nID0gZXhwb3J0cy5qb2luVHJhaWxpbmcgPSBleHBvcnRzLmZldGNoSW5pdGlhbFN0YXRlID0gZXhwb3J0cy5zdG9wTGlzdGVuaW5nVG9BbGwgPSBleHBvcnRzLnN0b3BMaXN0ZW5pbmdUbyA9IGV4cG9ydHMubGlzdGVuVG8gPSBleHBvcnRzLnZhbGlkYXRlTGlzdGVuaW5nID0gZXhwb3J0cy5saXN0ZW5Ub01hbnkgPSBleHBvcnRzLmhhc0xpc3RlbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9qb2lucyA9IHJlcXVpcmUoXCIuL2pvaW5zXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcclxuICogRXh0cmFjdCBjaGlsZCBsaXN0ZW5hYmxlcyBmcm9tIGEgcGFyZW50IGZyb20gdGhlaXJcclxuICogY2hpbGRyZW4gcHJvcGVydHkgYW5kIHJldHVybiB0aGVtIGluIGEga2V5ZWQgT2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0ZW5hYmxlIFRoZSBwYXJlbnQgbGlzdGVuYWJsZVxyXG4gKi9cbnZhciBtYXBDaGlsZExpc3RlbmFibGVzID0gZnVuY3Rpb24gbWFwQ2hpbGRMaXN0ZW5hYmxlcyhsaXN0ZW5hYmxlKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBjaGlsZHJlbiA9IHt9LFxuICAgICAgICBjaGlsZE5hbWU7XG4gICAgZm9yICg7IGkgPCAobGlzdGVuYWJsZS5jaGlsZHJlbiB8fCBbXSkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY2hpbGROYW1lID0gbGlzdGVuYWJsZS5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGxpc3RlbmFibGVbY2hpbGROYW1lXSkge1xuICAgICAgICAgICAgY2hpbGRyZW5bY2hpbGROYW1lXSA9IGxpc3RlbmFibGVbY2hpbGROYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59O1xuXG4vKipcclxuICogTWFrZSBhIGZsYXQgZGljdGlvbmFyeSBvZiBhbGwgbGlzdGVuYWJsZXMgaW5jbHVkaW5nIHRoZWlyXHJcbiAqIHBvc3NpYmxlIGNoaWxkcmVuIChyZWN1cnNpdmVseSksIGNvbmNhdGVuYXRpbmcgbmFtZXMgaW4gY2FtZWxDYXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbGlzdGVuYWJsZXMgVGhlIHRvcC1sZXZlbCBsaXN0ZW5hYmxlc1xyXG4gKi9cbnZhciBmbGF0dGVuTGlzdGVuYWJsZXMgPSBmdW5jdGlvbiBmbGF0dGVuTGlzdGVuYWJsZXMobGlzdGVuYWJsZXMpIHtcbiAgICB2YXIgZmxhdHRlbmVkID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIGxpc3RlbmFibGVzKSB7XG4gICAgICAgIHZhciBsaXN0ZW5hYmxlID0gbGlzdGVuYWJsZXNba2V5XTtcbiAgICAgICAgdmFyIGNoaWxkTWFwID0gbWFwQ2hpbGRMaXN0ZW5hYmxlcyhsaXN0ZW5hYmxlKTtcblxuICAgICAgICAvLyByZWN1cnNpdmVseSBmbGF0dGVuIGNoaWxkcmVuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGZsYXR0ZW5MaXN0ZW5hYmxlcyhjaGlsZE1hcCk7XG5cbiAgICAgICAgLy8gYWRkIHRoZSBwcmltYXJ5IGxpc3RlbmFibGUgYW5kIGNoaWxyZW5cbiAgICAgICAgZmxhdHRlbmVkW2tleV0gPSBsaXN0ZW5hYmxlO1xuICAgICAgICBmb3IgKHZhciBjaGlsZEtleSBpbiBjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkTGlzdGVuYWJsZSA9IGNoaWxkcmVuW2NoaWxkS2V5XTtcbiAgICAgICAgICAgIGZsYXR0ZW5lZFtrZXkgKyBfLmNhcGl0YWxpemUoY2hpbGRLZXkpXSA9IGNoaWxkTGlzdGVuYWJsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmbGF0dGVuZWQ7XG59O1xuXG4vKipcclxuICogQW4gaW50ZXJuYWwgdXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IGB2YWxpZGF0ZUxpc3RlbmluZ2BcclxuICpcclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgVGhlIGxpc3RlbmFibGUgd2Ugd2FudCB0byBzZWFyY2ggZm9yXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIGEgcmVjdXJzaXZlIHNlYXJjaCBhbW9uZyBgdGhpcy5zdWJzY3JpcHRpb25zYFxyXG4gKi9cbnZhciBoYXNMaXN0ZW5lciA9IGV4cG9ydHMuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbiBoYXNMaXN0ZW5lcihsaXN0ZW5hYmxlKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBqLFxuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgbGlzdGVuYWJsZXM7XG4gICAgZm9yICg7IGkgPCAodGhpcy5zdWJzY3JpcHRpb25zIHx8IFtdKS5sZW5ndGg7ICsraSkge1xuICAgICAgICBsaXN0ZW5hYmxlcyA9IFtdLmNvbmNhdCh0aGlzLnN1YnNjcmlwdGlvbnNbaV0ubGlzdGVuYWJsZSk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBsaXN0ZW5hYmxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5hYmxlc1tqXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuYWJsZSB8fCBsaXN0ZW5lci5oYXNMaXN0ZW5lciAmJiBsaXN0ZW5lci5oYXNMaXN0ZW5lcihsaXN0ZW5hYmxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxyXG4gKiBBIGNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGxpc3RlbnMgdG8gYWxsIGxpc3RlbmFibGVzIGluIHRoZSBnaXZlbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0ZW5hYmxlcyBBbiBvYmplY3Qgb2YgbGlzdGVuYWJsZXMuIEtleXMgd2lsbCBiZSB1c2VkIGFzIGNhbGxiYWNrIG1ldGhvZCBuYW1lcy5cclxuICovXG52YXIgbGlzdGVuVG9NYW55ID0gZXhwb3J0cy5saXN0ZW5Ub01hbnkgPSBmdW5jdGlvbiBsaXN0ZW5Ub01hbnkobGlzdGVuYWJsZXMpIHtcbiAgICB2YXIgYWxsTGlzdGVuYWJsZXMgPSBmbGF0dGVuTGlzdGVuYWJsZXMobGlzdGVuYWJsZXMpO1xuICAgIGZvciAodmFyIGtleSBpbiBhbGxMaXN0ZW5hYmxlcykge1xuICAgICAgICB2YXIgY2JuYW1lID0gXy5jYWxsYmFja05hbWUoa2V5KSxcbiAgICAgICAgICAgIGxvY2FsbmFtZSA9IHRoaXNbY2JuYW1lXSA/IGNibmFtZSA6IHRoaXNba2V5XSA/IGtleSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxvY2FsbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyhhbGxMaXN0ZW5hYmxlc1trZXldLCBsb2NhbG5hbWUsIHRoaXNbY2JuYW1lICsgXCJEZWZhdWx0XCJdIHx8IHRoaXNbbG9jYWxuYW1lICsgXCJEZWZhdWx0XCJdIHx8IGxvY2FsbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcclxuICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IGNvbnRleHQgY2FuIGxpc3RlbiB0byB0aGUgc3VwcGxpZWQgbGlzdGVuYWJsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge0FjdGlvbnxTdG9yZX0gbGlzdGVuYWJsZSBBbiBBY3Rpb24gb3IgU3RvcmUgdGhhdCBzaG91bGQgYmVcclxuICogIGxpc3RlbmVkIHRvLlxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gQW4gZXJyb3IgbWVzc2FnZSwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIHdhcyBubyBwcm9ibGVtLlxyXG4gKi9cbnZhciB2YWxpZGF0ZUxpc3RlbmluZyA9IGV4cG9ydHMudmFsaWRhdGVMaXN0ZW5pbmcgPSBmdW5jdGlvbiB2YWxpZGF0ZUxpc3RlbmluZyhsaXN0ZW5hYmxlKSB7XG4gICAgaWYgKGxpc3RlbmFibGUgPT09IHRoaXMpIHtcbiAgICAgICAgcmV0dXJuIFwiTGlzdGVuZXIgaXMgbm90IGFibGUgdG8gbGlzdGVuIHRvIGl0c2VsZlwiO1xuICAgIH1cbiAgICBpZiAoIV8uaXNGdW5jdGlvbihsaXN0ZW5hYmxlLmxpc3RlbikpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmFibGUgKyBcIiBpcyBtaXNzaW5nIGEgbGlzdGVuIG1ldGhvZFwiO1xuICAgIH1cbiAgICBpZiAobGlzdGVuYWJsZS5oYXNMaXN0ZW5lciAmJiBsaXN0ZW5hYmxlLmhhc0xpc3RlbmVyKHRoaXMpKSB7XG4gICAgICAgIHJldHVybiBcIkxpc3RlbmVyIGNhbm5vdCBsaXN0ZW4gdG8gdGhpcyBsaXN0ZW5hYmxlIGJlY2F1c2Ugb2YgY2lyY3VsYXIgbG9vcFwiO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBTZXRzIHVwIGEgc3Vic2NyaXB0aW9uIHRvIHRoZSBnaXZlbiBsaXN0ZW5hYmxlIGZvciB0aGUgY29udGV4dCBvYmplY3RcclxuICpcclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgQW4gQWN0aW9uIG9yIFN0b3JlIHRoYXQgc2hvdWxkIGJlXHJcbiAqICBsaXN0ZW5lZCB0by5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byByZWdpc3RlciBhcyBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBkZWZhdWx0Q2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyIGFzIGRlZmF1bHQgaGFuZGxlclxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHN1YnNjcmlwdGlvbiBvYmogd2hlcmUgYHN0b3BgIGlzIGFuIHVuc3ViIGZ1bmN0aW9uIGFuZCBgbGlzdGVuYWJsZWAgaXMgdGhlIG9iamVjdCBiZWluZyBsaXN0ZW5lZCB0b1xyXG4gKi9cbnZhciBsaXN0ZW5UbyA9IGV4cG9ydHMubGlzdGVuVG8gPSBmdW5jdGlvbiBsaXN0ZW5UbyhsaXN0ZW5hYmxlLCBjYWxsYmFjaywgZGVmYXVsdENhbGxiYWNrKSB7XG4gICAgdmFyIGRlc3ViLFxuICAgICAgICB1bnN1YnNjcmliZXIsXG4gICAgICAgIHN1YnNjcmlwdGlvbm9iaixcbiAgICAgICAgc3VicyA9IHRoaXMuc3Vic2NyaXB0aW9ucyA9IHRoaXMuc3Vic2NyaXB0aW9ucyB8fCBbXTtcbiAgICBfLnRocm93SWYodGhpcy52YWxpZGF0ZUxpc3RlbmluZyhsaXN0ZW5hYmxlKSk7XG4gICAgdGhpcy5mZXRjaEluaXRpYWxTdGF0ZShsaXN0ZW5hYmxlLCBkZWZhdWx0Q2FsbGJhY2spO1xuICAgIGRlc3ViID0gbGlzdGVuYWJsZS5saXN0ZW4odGhpc1tjYWxsYmFja10gfHwgY2FsbGJhY2ssIHRoaXMpO1xuICAgIHVuc3Vic2NyaWJlciA9IGZ1bmN0aW9uIHVuc3Vic2NyaWJlcigpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gc3Vicy5pbmRleE9mKHN1YnNjcmlwdGlvbm9iaik7XG4gICAgICAgIF8udGhyb3dJZihpbmRleCA9PT0gLTEsIFwiVHJpZWQgdG8gcmVtb3ZlIGxpc3RlbiBhbHJlYWR5IGdvbmUgZnJvbSBzdWJzY3JpcHRpb25zIGxpc3QhXCIpO1xuICAgICAgICBzdWJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGRlc3ViKCk7XG4gICAgfTtcbiAgICBzdWJzY3JpcHRpb25vYmogPSB7XG4gICAgICAgIHN0b3A6IHVuc3Vic2NyaWJlcixcbiAgICAgICAgbGlzdGVuYWJsZTogbGlzdGVuYWJsZVxuICAgIH07XG4gICAgc3Vicy5wdXNoKHN1YnNjcmlwdGlvbm9iaik7XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbm9iajtcbn07XG5cbi8qKlxyXG4gKiBTdG9wcyBsaXN0ZW5pbmcgdG8gYSBzaW5nbGUgbGlzdGVuYWJsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge0FjdGlvbnxTdG9yZX0gbGlzdGVuYWJsZSBUaGUgYWN0aW9uIG9yIHN0b3JlIHdlIG5vIGxvbmdlciB3YW50IHRvIGxpc3RlbiB0b1xyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiBhIHN1YnNjcmlwdGlvbiB3YXMgZm91bmQgYW5kIHJlbW92ZWQsIG90aGVyd2lzZSBmYWxzZS5cclxuICovXG52YXIgc3RvcExpc3RlbmluZ1RvID0gZXhwb3J0cy5zdG9wTGlzdGVuaW5nVG8gPSBmdW5jdGlvbiBzdG9wTGlzdGVuaW5nVG8obGlzdGVuYWJsZSkge1xuICAgIHZhciBzdWIsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBzdWJzID0gdGhpcy5zdWJzY3JpcHRpb25zIHx8IFtdO1xuICAgIGZvciAoOyBpIDwgc3Vicy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdWIgPSBzdWJzW2ldO1xuICAgICAgICBpZiAoc3ViLmxpc3RlbmFibGUgPT09IGxpc3RlbmFibGUpIHtcbiAgICAgICAgICAgIHN1Yi5zdG9wKCk7XG4gICAgICAgICAgICBfLnRocm93SWYoc3Vicy5pbmRleE9mKHN1YikgIT09IC0xLCBcIkZhaWxlZCB0byByZW1vdmUgbGlzdGVuIGZyb20gc3Vic2NyaXB0aW9ucyBsaXN0IVwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxyXG4gKiBTdG9wcyBhbGwgc3Vic2NyaXB0aW9ucyBhbmQgZW1wdGllcyBzdWJzY3JpcHRpb25zIGFycmF5XHJcbiAqL1xudmFyIHN0b3BMaXN0ZW5pbmdUb0FsbCA9IGV4cG9ydHMuc3RvcExpc3RlbmluZ1RvQWxsID0gZnVuY3Rpb24gc3RvcExpc3RlbmluZ1RvQWxsKCkge1xuICAgIHZhciByZW1haW5pbmcsXG4gICAgICAgIHN1YnMgPSB0aGlzLnN1YnNjcmlwdGlvbnMgfHwgW107XG4gICAgd2hpbGUgKHJlbWFpbmluZyA9IHN1YnMubGVuZ3RoKSB7XG4gICAgICAgIHN1YnNbMF0uc3RvcCgpO1xuICAgICAgICBfLnRocm93SWYoc3Vicy5sZW5ndGggIT09IHJlbWFpbmluZyAtIDEsIFwiRmFpbGVkIHRvIHJlbW92ZSBsaXN0ZW4gZnJvbSBzdWJzY3JpcHRpb25zIGxpc3QhXCIpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBVc2VkIGluIGBsaXN0ZW5Ub2AuIEZldGNoZXMgaW5pdGlhbCBkYXRhIGZyb20gYSBwdWJsaXNoZXIgaWYgaXQgaGFzIGEgYGdldEluaXRpYWxTdGF0ZWAgbWV0aG9kLlxyXG4gKiBAcGFyYW0ge0FjdGlvbnxTdG9yZX0gbGlzdGVuYWJsZSBUaGUgcHVibGlzaGVyIHdlIHdhbnQgdG8gZ2V0IGluaXRpYWwgc3RhdGUgZnJvbVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gZGVmYXVsdENhbGxiYWNrIFRoZSBtZXRob2QgdG8gcmVjZWl2ZSB0aGUgZGF0YVxyXG4gKi9cbnZhciBmZXRjaEluaXRpYWxTdGF0ZSA9IGV4cG9ydHMuZmV0Y2hJbml0aWFsU3RhdGUgPSBmdW5jdGlvbiBmZXRjaEluaXRpYWxTdGF0ZShsaXN0ZW5hYmxlLCBkZWZhdWx0Q2FsbGJhY2spIHtcbiAgICBkZWZhdWx0Q2FsbGJhY2sgPSBkZWZhdWx0Q2FsbGJhY2sgJiYgdGhpc1tkZWZhdWx0Q2FsbGJhY2tdIHx8IGRlZmF1bHRDYWxsYmFjaztcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIGlmIChfLmlzRnVuY3Rpb24oZGVmYXVsdENhbGxiYWNrKSAmJiBfLmlzRnVuY3Rpb24obGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUpKSB7XG4gICAgICAgIHZhciBkYXRhID0gbGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUoKTtcbiAgICAgICAgaWYgKGRhdGEgJiYgXy5pc0Z1bmN0aW9uKGRhdGEudGhlbikpIHtcbiAgICAgICAgICAgIGRhdGEudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdENhbGxiYWNrLmFwcGx5KG1lLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZhdWx0Q2FsbGJhY2suY2FsbCh0aGlzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbGwgbGlzdGVuYWJsZXMgaGF2ZSB0cmlnZ2VyZWQgYXQgbGVhc3Qgb25jZS5cclxuICogSXQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIGxhc3QgZW1pc3Npb24gZnJvbSBlYWNoIGxpc3RlbmFibGUuXHJcbiAqIEBwYXJhbSB7Li4uUHVibGlzaGVyc30gcHVibGlzaGVycyBQdWJsaXNoZXJzIHRoYXQgc2hvdWxkIGJlIHRyYWNrZWQuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBjYWxsYmFjayBUaGUgbWV0aG9kIHRvIGNhbGwgd2hlbiBhbGwgcHVibGlzaGVycyBoYXZlIGVtaXR0ZWRcclxuICogQHJldHVybnMge09iamVjdH0gQSBzdWJzY3JpcHRpb24gb2JqIHdoZXJlIGBzdG9wYCBpcyBhbiB1bnN1YiBmdW5jdGlvbiBhbmQgYGxpc3RlbmFibGVgIGlzIGFuIGFycmF5IG9mIGxpc3RlbmFibGVzXHJcbiAqL1xudmFyIGpvaW5UcmFpbGluZyA9IGV4cG9ydHMuam9pblRyYWlsaW5nID0gKDAsIF9qb2lucy5pbnN0YW5jZUpvaW5DcmVhdG9yKShcImxhc3RcIik7XG5cbi8qKlxyXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbGwgbGlzdGVuYWJsZXMgaGF2ZSB0cmlnZ2VyZWQgYXQgbGVhc3Qgb25jZS5cclxuICogSXQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIGZpcnN0IGVtaXNzaW9uIGZyb20gZWFjaCBsaXN0ZW5hYmxlLlxyXG4gKiBAcGFyYW0gey4uLlB1Ymxpc2hlcnN9IHB1Ymxpc2hlcnMgUHVibGlzaGVycyB0aGF0IHNob3VsZCBiZSB0cmFja2VkLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gY2FsbGJhY2sgVGhlIG1ldGhvZCB0byBjYWxsIHdoZW4gYWxsIHB1Ymxpc2hlcnMgaGF2ZSBlbWl0dGVkXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgc3Vic2NyaXB0aW9uIG9iaiB3aGVyZSBgc3RvcGAgaXMgYW4gdW5zdWIgZnVuY3Rpb24gYW5kIGBsaXN0ZW5hYmxlYCBpcyBhbiBhcnJheSBvZiBsaXN0ZW5hYmxlc1xyXG4gKi9cbnZhciBqb2luTGVhZGluZyA9IGV4cG9ydHMuam9pbkxlYWRpbmcgPSAoMCwgX2pvaW5zLmluc3RhbmNlSm9pbkNyZWF0b3IpKFwiZmlyc3RcIik7XG5cbi8qKlxyXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbGwgbGlzdGVuYWJsZXMgaGF2ZSB0cmlnZ2VyZWQgYXQgbGVhc3Qgb25jZS5cclxuICogSXQgd2lsbCBiZSBpbnZva2VkIHdpdGggYWxsIGVtaXNzaW9uIGZyb20gZWFjaCBsaXN0ZW5hYmxlLlxyXG4gKiBAcGFyYW0gey4uLlB1Ymxpc2hlcnN9IHB1Ymxpc2hlcnMgUHVibGlzaGVycyB0aGF0IHNob3VsZCBiZSB0cmFja2VkLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gY2FsbGJhY2sgVGhlIG1ldGhvZCB0byBjYWxsIHdoZW4gYWxsIHB1Ymxpc2hlcnMgaGF2ZSBlbWl0dGVkXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgc3Vic2NyaXB0aW9uIG9iaiB3aGVyZSBgc3RvcGAgaXMgYW4gdW5zdWIgZnVuY3Rpb24gYW5kIGBsaXN0ZW5hYmxlYCBpcyBhbiBhcnJheSBvZiBsaXN0ZW5hYmxlc1xyXG4gKi9cbnZhciBqb2luQ29uY2F0ID0gZXhwb3J0cy5qb2luQ29uY2F0ID0gKDAsIF9qb2lucy5pbnN0YW5jZUpvaW5DcmVhdG9yKShcImFsbFwiKTtcblxuLyoqXHJcbiAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBvbmNlIGFsbCBsaXN0ZW5hYmxlcyBoYXZlIHRyaWdnZXJlZC5cclxuICogSWYgYSBjYWxsYmFjayB0cmlnZ2VycyB0d2ljZSBiZWZvcmUgdGhhdCBoYXBwZW5zLCBhbiBlcnJvciBpcyB0aHJvd24uXHJcbiAqIEBwYXJhbSB7Li4uUHVibGlzaGVyc30gcHVibGlzaGVycyBQdWJsaXNoZXJzIHRoYXQgc2hvdWxkIGJlIHRyYWNrZWQuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBjYWxsYmFjayBUaGUgbWV0aG9kIHRvIGNhbGwgd2hlbiBhbGwgcHVibGlzaGVycyBoYXZlIGVtaXR0ZWRcclxuICogQHJldHVybnMge09iamVjdH0gQSBzdWJzY3JpcHRpb24gb2JqIHdoZXJlIGBzdG9wYCBpcyBhbiB1bnN1YiBmdW5jdGlvbiBhbmQgYGxpc3RlbmFibGVgIGlzIGFuIGFycmF5IG9mIGxpc3RlbmFibGVzXHJcbiAqL1xudmFyIGpvaW5TdHJpY3QgPSBleHBvcnRzLmpvaW5TdHJpY3QgPSAoMCwgX2pvaW5zLmluc3RhbmNlSm9pbkNyZWF0b3IpKFwic3RyaWN0XCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmVyV2l0aCA9IGV4cG9ydHMudHJpZ2dlckFzeW5jID0gZXhwb3J0cy50cmlnZ2VyID0gZXhwb3J0cy5saXN0ZW4gPSBleHBvcnRzLnNob3VsZEVtaXQgPSBleHBvcnRzLnByZUVtaXQgPSB1bmRlZmluZWQ7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF8gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcclxuICogQSBtb2R1bGUgb2YgbWV0aG9kcyBmb3Igb2JqZWN0IHRoYXQgeW91IHdhbnQgdG8gYmUgYWJsZSB0byBsaXN0ZW4gdG8uXHJcbiAqIFRoaXMgbW9kdWxlIGlzIGNvbnN1bWVkIGJ5IGBjcmVhdGVTdG9yZWAgYW5kIGBjcmVhdGVBY3Rpb25gXHJcbiAqL1xuXG4vKipcclxuICogSG9vayB1c2VkIGJ5IHRoZSBwdWJsaXNoZXIgdGhhdCBpcyBpbnZva2VkIGJlZm9yZSBlbWl0dGluZ1xyXG4gKiBhbmQgYmVmb3JlIGBzaG91bGRFbWl0YC4gVGhlIGFyZ3VtZW50cyBhcmUgdGhlIG9uZXMgdGhhdCB0aGUgYWN0aW9uXHJcbiAqIGlzIGludm9rZWQgd2l0aC4gSWYgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHNvbWV0aGluZyBvdGhlciB0aGFuXHJcbiAqIHVuZGVmaW5lZCwgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiBhcyBhcmd1bWVudHMgZm9yIHNob3VsZEVtaXQgYW5kXHJcbiAqIGVtaXNzaW9uLlxyXG4gKi9cbnZhciBwcmVFbWl0ID0gZXhwb3J0cy5wcmVFbWl0ID0gZnVuY3Rpb24gcHJlRW1pdCgpIHt9O1xuXG4vKipcclxuICogSG9vayB1c2VkIGJ5IHRoZSBwdWJsaXNoZXIgYWZ0ZXIgYHByZUVtaXRgIHRvIGRldGVybWluZSBpZiB0aGVcclxuICogZXZlbnQgc2hvdWxkIGJlIGVtaXR0ZWQgd2l0aCBnaXZlbiBhcmd1bWVudHMuIFRoaXMgbWF5IGJlIG92ZXJyaWRkZW5cclxuICogaW4geW91ciBhcHBsaWNhdGlvbiwgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBhbHdheXMgcmV0dXJucyB0cnVlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBldmVudCBzaG91bGQgYmUgZW1pdHRlZFxyXG4gKi9cbnZhciBzaG91bGRFbWl0ID0gZXhwb3J0cy5zaG91bGRFbWl0ID0gZnVuY3Rpb24gc2hvdWxkRW1pdCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxyXG4gKiBTdWJzY3JpYmVzIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYWN0aW9uIHRyaWdnZXJlZFxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIgYXMgZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0ge01peGVkfSBbb3B0aW9uYWxdIGJpbmRDb250ZXh0IFRoZSBjb250ZXh0IHRvIGJpbmQgdGhlIGNhbGxiYWNrIHdpdGhcclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBDYWxsYmFjayB0aGF0IHVuc3Vic2NyaWJlcyB0aGUgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyXHJcbiAqL1xudmFyIGxpc3RlbiA9IGV4cG9ydHMubGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGNhbGxiYWNrLCBiaW5kQ29udGV4dCkge1xuICAgIGJpbmRDb250ZXh0ID0gYmluZENvbnRleHQgfHwgdGhpcztcbiAgICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjay5hcHBseShiaW5kQ29udGV4dCwgYXJncyk7XG4gICAgfSxcbiAgICAgICAgbWUgPSB0aGlzLFxuICAgICAgICBhYm9ydGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0dGVyLmFkZExpc3RlbmVyKHRoaXMuZXZlbnRMYWJlbCwgZXZlbnRIYW5kbGVyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgbWUuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihtZS5ldmVudExhYmVsLCBldmVudEhhbmRsZXIpO1xuICAgIH07XG59O1xuXG4vKipcclxuICogUHVibGlzaGVzIGFuIGV2ZW50IHVzaW5nIGB0aGlzLmVtaXR0ZXJgIChpZiBgc2hvdWxkRW1pdGAgYWdyZWVzKVxyXG4gKi9cbnZhciB0cmlnZ2VyID0gZXhwb3J0cy50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgcHJlID0gdGhpcy5wcmVFbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGFyZ3MgPSBwcmUgPT09IHVuZGVmaW5lZCA/IGFyZ3MgOiBfLmlzQXJndW1lbnRzKHByZSkgPyBwcmUgOiBbXS5jb25jYXQocHJlKTtcbiAgICBpZiAodGhpcy5zaG91bGRFbWl0LmFwcGx5KHRoaXMsIGFyZ3MpKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KHRoaXMuZXZlbnRMYWJlbCwgYXJncyk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFRyaWVzIHRvIHB1Ymxpc2ggdGhlIGV2ZW50IG9uIHRoZSBuZXh0IHRpY2tcclxuICovXG52YXIgdHJpZ2dlckFzeW5jID0gZXhwb3J0cy50cmlnZ2VyQXN5bmMgPSBmdW5jdGlvbiB0cmlnZ2VyQXN5bmMoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIG1lID0gdGhpcztcbiAgICBfLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWUudHJpZ2dlci5hcHBseShtZSwgYXJncyk7XG4gICAgfSk7XG59O1xuXG4vKipcclxuICogV3JhcHMgdGhlIHRyaWdnZXIgbWVjaGFuaXNtIHdpdGggYSBkZWZlcnJhbCBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGRlZmVycmFsIGZ1bmN0aW9uLFxyXG4gKiAgICAgICAgZmlyc3QgYXJndW1lbnQgaXMgdGhlIHJlc29sdmluZyBmdW5jdGlvbiBhbmQgdGhlXHJcbiAqICAgICAgICByZXN0IGFyZSB0aGUgYXJndW1lbnRzIHByb3ZpZGVkIGZyb20gdGhlIHByZXZpb3VzXHJcbiAqICAgICAgICB0cmlnZ2VyIGludm9jYXRpb25cclxuICovXG52YXIgZGVmZXJXaXRoID0gZXhwb3J0cy5kZWZlcldpdGggPSBmdW5jdGlvbiBkZWZlcldpdGgoY2FsbGJhY2spIHtcbiAgICB2YXIgb2xkVHJpZ2dlciA9IHRoaXMudHJpZ2dlcixcbiAgICAgICAgY3R4ID0gdGhpcyxcbiAgICAgICAgcmVzb2x2ZXIgPSBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgICAgb2xkVHJpZ2dlci5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICB0aGlzLnRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgW3Jlc29sdmVyXS5jb25jYXQoW10uc3BsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xuICAgIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmJpbmRNZXRob2RzID0gYmluZE1ldGhvZHM7XG5mdW5jdGlvbiBiaW5kTWV0aG9kcyhzdG9yZSwgZGVmaW5pdGlvbikge1xuICAgIGZvciAodmFyIG5hbWUgaW4gZGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmluaXRpb24sIG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoIXByb3BlcnR5RGVzY3JpcHRvci52YWx1ZSB8fCB0eXBlb2YgcHJvcGVydHlEZXNjcmlwdG9yLnZhbHVlICE9PSBcImZ1bmN0aW9uXCIgfHwgIWRlZmluaXRpb24uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmVbbmFtZV0gPSBkZWZpbml0aW9uW25hbWVdLmJpbmQoc3RvcmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gZGVmaW5pdGlvbltuYW1lXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gXCJmdW5jdGlvblwiIHx8ICFkZWZpbml0aW9uLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0b3JlW25hbWVdID0gcHJvcGVydHkuYmluZChzdG9yZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmU7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gY3JlYXRlQWN0aW9uO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9BY3Rpb25NZXRob2RzID0gcmVxdWlyZShcIi4vQWN0aW9uTWV0aG9kc1wiKTtcblxudmFyIEFjdGlvbk1ldGhvZHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfQWN0aW9uTWV0aG9kcyk7XG5cbnZhciBfUHVibGlzaGVyTWV0aG9kcyA9IHJlcXVpcmUoXCIuL1B1Ymxpc2hlck1ldGhvZHNcIik7XG5cbnZhciBQdWJsaXNoZXJNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX1B1Ymxpc2hlck1ldGhvZHMpO1xuXG52YXIgX0tlZXAgPSByZXF1aXJlKFwiLi9LZWVwXCIpO1xuXG52YXIgS2VlcCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9LZWVwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxudmFyIGFsbG93ZWQgPSB7IHByZUVtaXQ6IDEsIHNob3VsZEVtaXQ6IDEgfTtcblxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gYWN0aW9uIGZ1bmN0b3Igb2JqZWN0LiBJdCBpcyBtaXhlZCBpbiB3aXRoIGZ1bmN0aW9uc1xyXG4gKiBmcm9tIHRoZSBgUHVibGlzaGVyTWV0aG9kc2AgbWl4aW4uIGBwcmVFbWl0YCBhbmQgYHNob3VsZEVtaXRgIG1heVxyXG4gKiBiZSBvdmVycmlkZGVuIGluIHRoZSBkZWZpbml0aW9uIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGRlZmluaXRpb24gVGhlIGFjdGlvbiBvYmplY3QgZGVmaW5pdGlvblxyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbihkZWZpbml0aW9uKSB7XG5cbiAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbiB8fCB7fTtcbiAgICBpZiAoIV8uaXNPYmplY3QoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IHsgYWN0aW9uTmFtZTogZGVmaW5pdGlvbiB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGEgaW4gQWN0aW9uTWV0aG9kcykge1xuICAgICAgICBpZiAoIWFsbG93ZWRbYV0gJiYgUHVibGlzaGVyTWV0aG9kc1thXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG92ZXJyaWRlIEFQSSBtZXRob2QgXCIgKyBhICsgXCIgaW4gUmVmbHV4LkFjdGlvbk1ldGhvZHMuIFVzZSBhbm90aGVyIG1ldGhvZCBuYW1lIG9yIG92ZXJyaWRlIGl0IG9uIFJlZmx1eC5QdWJsaXNoZXJNZXRob2RzIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZCBpbiBkZWZpbml0aW9uKSB7XG4gICAgICAgIGlmICghYWxsb3dlZFtkXSAmJiBQdWJsaXNoZXJNZXRob2RzW2RdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgb3ZlcnJpZGUgQVBJIG1ldGhvZCBcIiArIGQgKyBcIiBpbiBhY3Rpb24gY3JlYXRpb24uIFVzZSBhbm90aGVyIG1ldGhvZCBuYW1lIG9yIG92ZXJyaWRlIGl0IG9uIFJlZmx1eC5QdWJsaXNoZXJNZXRob2RzIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVmaW5pdGlvbi5jaGlsZHJlbiA9IGRlZmluaXRpb24uY2hpbGRyZW4gfHwgW107XG4gICAgaWYgKGRlZmluaXRpb24uYXN5bmNSZXN1bHQpIHtcbiAgICAgICAgZGVmaW5pdGlvbi5jaGlsZHJlbiA9IGRlZmluaXRpb24uY2hpbGRyZW4uY29uY2F0KFtcImNvbXBsZXRlZFwiLCBcImZhaWxlZFwiXSk7XG4gICAgfVxuXG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBjaGlsZEFjdGlvbnMgPSB7fTtcbiAgICBmb3IgKDsgaSA8IGRlZmluaXRpb24uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoRGVmID0gZGVmaW5pdGlvbi5jaGlsZHJlbltpXTtcbiAgICAgICAgdmFyIGNoTmFtZSA9IHR5cGVvZiBjaERlZiA9PT0gXCJzdHJpbmdcIiA/IGNoRGVmIDogY2hEZWYuYWN0aW9uTmFtZTtcbiAgICAgICAgY2hpbGRBY3Rpb25zW2NoTmFtZV0gPSBjcmVhdGVBY3Rpb24oY2hEZWYpO1xuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0gXy5leHRlbmQoe1xuICAgICAgICBldmVudExhYmVsOiBcImFjdGlvblwiLFxuICAgICAgICBlbWl0dGVyOiBuZXcgXy5FdmVudEVtaXR0ZXIoKSxcbiAgICAgICAgX2lzQWN0aW9uOiB0cnVlXG4gICAgfSwgUHVibGlzaGVyTWV0aG9kcywgQWN0aW9uTWV0aG9kcywgZGVmaW5pdGlvbik7XG5cbiAgICB2YXIgZnVuY3RvciA9IGZ1bmN0aW9uIGZ1bmN0b3IoKSB7XG4gICAgICAgIHZhciBoYXNDaGlsZEFjdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgLyogZXNsaW50IG5vLXVudXNlZC12YXJzOjAgKi9cbiAgICAgICAgZm9yICh2YXIgaWdub3JlIGluIGZ1bmN0b3IuY2hpbGRBY3Rpb25zKSB7XG4gICAgICAgICAgICBoYXNDaGlsZEFjdGlvbnMgPSB0cnVlO2JyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhc3luYyA9ICFmdW5jdG9yLnN5bmMgJiYgdHlwZW9mIGZ1bmN0b3Iuc3luYyAhPT0gXCJ1bmRlZmluZWRcIiB8fCBoYXNDaGlsZEFjdGlvbnM7XG4gICAgICAgIHZhciB0cmlnZ2VyVHlwZSA9IGFzeW5jID8gXCJ0cmlnZ2VyQXN5bmNcIiA6IFwidHJpZ2dlclwiO1xuICAgICAgICByZXR1cm4gZnVuY3Rvclt0cmlnZ2VyVHlwZV0uYXBwbHkoZnVuY3RvciwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgXy5leHRlbmQoZnVuY3RvciwgY2hpbGRBY3Rpb25zLCBjb250ZXh0KTtcblxuICAgIEtlZXAuYWRkQWN0aW9uKGZ1bmN0b3IpO1xuXG4gICAgcmV0dXJuIGZ1bmN0b3I7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY3JlYXRlU3RvcmUgPSBjcmVhdGVTdG9yZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgXyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfS2VlcCA9IHJlcXVpcmUoXCIuL0tlZXBcIik7XG5cbnZhciBLZWVwID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0tlZXApO1xuXG52YXIgX21peGVyID0gcmVxdWlyZShcIi4vbWl4ZXJcIik7XG5cbnZhciBfYmluZE1ldGhvZHMgPSByZXF1aXJlKFwiLi9iaW5kTWV0aG9kc1wiKTtcblxudmFyIF9TdG9yZU1ldGhvZHMgPSByZXF1aXJlKFwiLi9TdG9yZU1ldGhvZHNcIik7XG5cbnZhciBTdG9yZU1ldGhvZHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfU3RvcmVNZXRob2RzKTtcblxudmFyIF9QdWJsaXNoZXJNZXRob2RzID0gcmVxdWlyZShcIi4vUHVibGlzaGVyTWV0aG9kc1wiKTtcblxudmFyIFB1Ymxpc2hlck1ldGhvZHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfUHVibGlzaGVyTWV0aG9kcyk7XG5cbnZhciBfTGlzdGVuZXJNZXRob2RzID0gcmVxdWlyZShcIi4vTGlzdGVuZXJNZXRob2RzXCIpO1xuXG52YXIgTGlzdGVuZXJNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0xpc3RlbmVyTWV0aG9kcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbnZhciBhbGxvd2VkID0geyBwcmVFbWl0OiAxLCBzaG91bGRFbWl0OiAxIH07XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGVtaXR0aW5nIERhdGEgU3RvcmUuIEl0IGlzIG1peGVkIGluIHdpdGggZnVuY3Rpb25zXHJcbiAqIGZyb20gdGhlIGBMaXN0ZW5lck1ldGhvZHNgIGFuZCBgUHVibGlzaGVyTWV0aG9kc2AgbWl4aW5zLiBgcHJlRW1pdGBcclxuICogYW5kIGBzaG91bGRFbWl0YCBtYXkgYmUgb3ZlcnJpZGRlbiBpbiB0aGUgZGVmaW5pdGlvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIFRoZSBkYXRhIHN0b3JlIG9iamVjdCBkZWZpbml0aW9uXHJcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBkYXRhIHN0b3JlIGluc3RhbmNlXHJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUoZGVmaW5pdGlvbikge1xuXG4gICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24gfHwge307XG5cbiAgICBmb3IgKHZhciBhIGluIFN0b3JlTWV0aG9kcykge1xuICAgICAgICBpZiAoIWFsbG93ZWRbYV0gJiYgKFB1Ymxpc2hlck1ldGhvZHNbYV0gfHwgTGlzdGVuZXJNZXRob2RzW2FdKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG92ZXJyaWRlIEFQSSBtZXRob2QgXCIgKyBhICsgXCIgaW4gUmVmbHV4LlN0b3JlTWV0aG9kcy4gVXNlIGFub3RoZXIgbWV0aG9kIG5hbWUgb3Igb3ZlcnJpZGUgaXQgb24gUmVmbHV4LlB1Ymxpc2hlck1ldGhvZHMgLyBSZWZsdXguTGlzdGVuZXJNZXRob2RzIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZCBpbiBkZWZpbml0aW9uKSB7XG4gICAgICAgIGlmICghYWxsb3dlZFtkXSAmJiAoUHVibGlzaGVyTWV0aG9kc1tkXSB8fCBMaXN0ZW5lck1ldGhvZHNbZF0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgb3ZlcnJpZGUgQVBJIG1ldGhvZCBcIiArIGQgKyBcIiBpbiBzdG9yZSBjcmVhdGlvbi4gVXNlIGFub3RoZXIgbWV0aG9kIG5hbWUgb3Igb3ZlcnJpZGUgaXQgb24gUmVmbHV4LlB1Ymxpc2hlck1ldGhvZHMgLyBSZWZsdXguTGlzdGVuZXJNZXRob2RzIGluc3RlYWQuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVmaW5pdGlvbiA9ICgwLCBfbWl4ZXIubWl4KShkZWZpbml0aW9uKTtcblxuICAgIGZ1bmN0aW9uIFN0b3JlKCkge1xuICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICBhcnI7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgXy5FdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5ldmVudExhYmVsID0gXCJjaGFuZ2VcIjtcbiAgICAgICAgKDAsIF9iaW5kTWV0aG9kcy5iaW5kTWV0aG9kcykodGhpcywgZGVmaW5pdGlvbik7XG4gICAgICAgIGlmICh0aGlzLmluaXQgJiYgXy5pc0Z1bmN0aW9uKHRoaXMuaW5pdCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmFibGVzKSB7XG4gICAgICAgICAgICBhcnIgPSBbXS5jb25jYXQodGhpcy5saXN0ZW5hYmxlcyk7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuVG9NYW55KGFycltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfLmV4dGVuZChTdG9yZS5wcm90b3R5cGUsIExpc3RlbmVyTWV0aG9kcywgUHVibGlzaGVyTWV0aG9kcywgU3RvcmVNZXRob2RzLCBkZWZpbml0aW9uKTtcblxuICAgIHZhciBzdG9yZSA9IG5ldyBTdG9yZSgpO1xuICAgIEtlZXAuYWRkU3RvcmUoc3RvcmUpO1xuXG4gICAgcmV0dXJuIHN0b3JlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLl9fa2VlcCA9IGV4cG9ydHMuam9pbkNvbmNhdCA9IGV4cG9ydHMuam9pblN0cmljdCA9IGV4cG9ydHMuam9pbkxlYWRpbmcgPSBleHBvcnRzLmFsbCA9IGV4cG9ydHMuam9pblRyYWlsaW5nID0gZXhwb3J0cy51c2UgPSBleHBvcnRzLm5leHRUaWNrID0gZXhwb3J0cy5zZXRFdmVudEVtaXR0ZXIgPSBleHBvcnRzLmNyZWF0ZUFjdGlvbnMgPSBleHBvcnRzLmNyZWF0ZVN0b3JlID0gZXhwb3J0cy5jcmVhdGVBY3Rpb24gPSBleHBvcnRzLnV0aWxzID0gZXhwb3J0cy5TdG9yZU1ldGhvZHMgPSBleHBvcnRzLlB1Ymxpc2hlck1ldGhvZHMgPSBleHBvcnRzLkxpc3RlbmVyTWV0aG9kcyA9IGV4cG9ydHMuQWN0aW9uTWV0aG9kcyA9IGV4cG9ydHMudmVyc2lvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9BY3Rpb25NZXRob2RzID0gcmVxdWlyZShcIi4vQWN0aW9uTWV0aG9kc1wiKTtcblxudmFyIEFjdGlvbk1ldGhvZHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfQWN0aW9uTWV0aG9kcyk7XG5cbnZhciBfTGlzdGVuZXJNZXRob2RzID0gcmVxdWlyZShcIi4vTGlzdGVuZXJNZXRob2RzXCIpO1xuXG52YXIgTGlzdGVuZXJNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0xpc3RlbmVyTWV0aG9kcyk7XG5cbnZhciBfUHVibGlzaGVyTWV0aG9kcyA9IHJlcXVpcmUoXCIuL1B1Ymxpc2hlck1ldGhvZHNcIik7XG5cbnZhciBQdWJsaXNoZXJNZXRob2RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX1B1Ymxpc2hlck1ldGhvZHMpO1xuXG52YXIgX1N0b3JlTWV0aG9kcyA9IHJlcXVpcmUoXCIuL1N0b3JlTWV0aG9kc1wiKTtcblxudmFyIFN0b3JlTWV0aG9kcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9TdG9yZU1ldGhvZHMpO1xuXG52YXIgX2pvaW5zID0gcmVxdWlyZShcIi4vam9pbnNcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF8gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX2NyZWF0ZUFjdGlvbiA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFjdGlvblwiKTtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoXCIuL2NyZWF0ZVN0b3JlXCIpO1xuXG52YXIgX0tlZXAgPSByZXF1aXJlKFwiLi9LZWVwXCIpO1xuXG52YXIgX19rZWVwID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0tlZXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG52YXIgdmVyc2lvbiA9IHtcbiAgICBcInJlZmx1eC1jb3JlXCI6IFwiMS4wLjBcIlxufTtcblxudmFyIGpvaW5UcmFpbGluZyA9ICgwLCBfam9pbnMuc3RhdGljSm9pbkNyZWF0b3IpKFwibGFzdFwiKTtcbnZhciBhbGwgPSBqb2luVHJhaWxpbmc7IC8vIFJlZmx1eC5hbGwgYWxpYXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbnZhciBqb2luTGVhZGluZyA9ICgwLCBfam9pbnMuc3RhdGljSm9pbkNyZWF0b3IpKFwiZmlyc3RcIik7XG52YXIgam9pblN0cmljdCA9ICgwLCBfam9pbnMuc3RhdGljSm9pbkNyZWF0b3IpKFwic3RyaWN0XCIpO1xudmFyIGpvaW5Db25jYXQgPSAoMCwgX2pvaW5zLnN0YXRpY0pvaW5DcmVhdG9yKShcImFsbFwiKTtcblxudmFyIHV0aWxzID0gXztcblxuXG4vKipcclxuICogQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgc2V0IG9mIGFjdGlvbnNcclxuICpcclxuICogQHBhcmFtIGRlZmluaXRpb25zIHRoZSBkZWZpbml0aW9ucyBmb3IgdGhlIGFjdGlvbnMgdG8gYmUgY3JlYXRlZFxyXG4gKiBAcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhY3Rpb25zIG9mIGNvcnJlc3BvbmRpbmcgYWN0aW9uIG5hbWVzXHJcbiAqL1xudmFyIGNyZWF0ZUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlZHVjZXIgPSBmdW5jdGlvbiByZWR1Y2VyKGRlZmluaXRpb25zLCBhY3Rpb25zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRlZmluaXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gZGVmaW5pdGlvbnNbYWN0aW9uTmFtZV07XG4gICAgICAgICAgICBhY3Rpb25zW2FjdGlvbk5hbWVdID0gKDAsIF9jcmVhdGVBY3Rpb24uY3JlYXRlQWN0aW9uKSh2YWwpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkZWZpbml0aW9ucykge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoZGVmaW5pdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICByZWR1Y2VyKHZhbCwgYWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1t2YWxdID0gKDAsIF9jcmVhdGVBY3Rpb24uY3JlYXRlQWN0aW9uKSh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVkdWNlcihkZWZpbml0aW9ucywgYWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfTtcbn0oKTtcblxuLyoqXHJcbiAqIFNldHMgdGhlIGV2ZW50bWl0dGVyIHRoYXQgUmVmbHV4IHVzZXNcclxuICovXG5mdW5jdGlvbiBzZXRFdmVudEVtaXR0ZXIoY3R4KSB7XG4gICAgXy5FdmVudEVtaXR0ZXIgPSBjdHg7XG59XG5cbi8qKlxyXG4gKiBTZXRzIHRoZSBtZXRob2QgdXNlZCBmb3IgZGVmZXJyaW5nIGFjdGlvbnMgYW5kIHN0b3Jlc1xyXG4gKi9cbmZ1bmN0aW9uIG5leHRUaWNrKG5leHRUaWNrKSB7XG4gICAgXy5uZXh0VGljayA9IG5leHRUaWNrO1xufVxuXG5mdW5jdGlvbiB1c2UocGx1Z2luQ2IpIHtcbiAgICBwbHVnaW5DYih0aGlzKTtcbn1cblxuLyoqXHJcbiAqIFByb3ZpZGVzIHRoZSBzZXQgb2YgY3JlYXRlZCBhY3Rpb25zIGFuZCBzdG9yZXMgZm9yIGludHJvc3BlY3Rpb25cclxuICovXG4vKmVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlKi9cblxuXG4vLyBleHBvcnQgaW4gZm9ybWF0IHRoYXQgc3VwcG9ydHMgc3ludGF4OiB2YXIgUmVmbHV4ID0gcmVxdWlyZSgncmVmbHV4LWNvcmUnKTtcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XG5leHBvcnRzLkFjdGlvbk1ldGhvZHMgPSBBY3Rpb25NZXRob2RzO1xuZXhwb3J0cy5MaXN0ZW5lck1ldGhvZHMgPSBMaXN0ZW5lck1ldGhvZHM7XG5leHBvcnRzLlB1Ymxpc2hlck1ldGhvZHMgPSBQdWJsaXNoZXJNZXRob2RzO1xuZXhwb3J0cy5TdG9yZU1ldGhvZHMgPSBTdG9yZU1ldGhvZHM7XG5leHBvcnRzLnV0aWxzID0gdXRpbHM7XG5leHBvcnRzLmNyZWF0ZUFjdGlvbiA9IF9jcmVhdGVBY3Rpb24uY3JlYXRlQWN0aW9uO1xuZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZS5jcmVhdGVTdG9yZTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9ucyA9IGNyZWF0ZUFjdGlvbnM7XG5leHBvcnRzLnNldEV2ZW50RW1pdHRlciA9IHNldEV2ZW50RW1pdHRlcjtcbmV4cG9ydHMubmV4dFRpY2sgPSBuZXh0VGljaztcbmV4cG9ydHMudXNlID0gdXNlO1xuZXhwb3J0cy5qb2luVHJhaWxpbmcgPSBqb2luVHJhaWxpbmc7XG5leHBvcnRzLmFsbCA9IGFsbDtcbmV4cG9ydHMuam9pbkxlYWRpbmcgPSBqb2luTGVhZGluZztcbmV4cG9ydHMuam9pblN0cmljdCA9IGpvaW5TdHJpY3Q7XG5leHBvcnRzLmpvaW5Db25jYXQgPSBqb2luQ29uY2F0O1xuZXhwb3J0cy5fX2tlZXAgPSBfX2tlZXA7XG4vKmVzbGludC1lbmFibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUqL1xuXG4vLyBleHBvcnQgaW4gZm9ybWF0IHRoYXQgc3VwcG9ydHMgc3ludGF4OiBpbXBvcnQgUmVmbHV4IGZyb20gJ3JlZmx1eC1jb3JlJztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVmYXVsdFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgIH1cbn0pO1xuXG4vKipcclxuICogV2FybiBpZiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBub3QgYXZhaWxhYmxlXHJcbiAqL1xuaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBub3QgYXZhaWxhYmxlLiBcIiArIFwiRVM1IHNoaW0gcmVxdWlyZWQuIFwiICsgXCJodHRwczovL2dpdGh1Yi5jb20vc3BvaWtlL3JlZmx1eGpzI2VzNVwiKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zdGF0aWNKb2luQ3JlYXRvciA9IHN0YXRpY0pvaW5DcmVhdG9yO1xuZXhwb3J0cy5pbnN0YW5jZUpvaW5DcmVhdG9yID0gaW5zdGFuY2VKb2luQ3JlYXRvcjtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoXCIuL2NyZWF0ZVN0b3JlXCIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXHJcbiAqIEludGVybmFsIG1vZHVsZSB1c2VkIHRvIGNyZWF0ZSBzdGF0aWMgYW5kIGluc3RhbmNlIGpvaW4gbWV0aG9kc1xyXG4gKi9cblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLFxuICAgIHN0cmF0ZWd5TWV0aG9kTmFtZXMgPSB7XG4gICAgc3RyaWN0OiBcImpvaW5TdHJpY3RcIixcbiAgICBmaXJzdDogXCJqb2luTGVhZGluZ1wiLFxuICAgIGxhc3Q6IFwiam9pblRyYWlsaW5nXCIsXG4gICAgYWxsOiBcImpvaW5Db25jYXRcIlxufTtcblxuLyoqXHJcbiAqIFVzZWQgaW4gYGluZGV4LmpzYCB0byBjcmVhdGUgdGhlIHN0YXRpYyBqb2luIG1ldGhvZHNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmF0ZWd5IFdoaWNoIHN0cmF0ZWd5IHRvIHVzZSB3aGVuIHRyYWNraW5nIGxpc3RlbmFibGUgdHJpZ2dlciBhcmd1bWVudHNcclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0YXRpYyBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgc3RvcmUgd2l0aCBhIGpvaW4gbGlzdGVuIG9uIHRoZSBnaXZlbiBsaXN0ZW5hYmxlcyB1c2luZyB0aGUgZ2l2ZW4gc3RyYXRlZ3lcclxuICovXG5mdW5jdGlvbiBzdGF0aWNKb2luQ3JlYXRvcihzdHJhdGVneSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSAvKiBsaXN0ZW5hYmxlcy4uLiAqL3tcbiAgICAgICAgdmFyIGxpc3RlbmFibGVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gKDAsIF9jcmVhdGVTdG9yZS5jcmVhdGVTdG9yZSkoe1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3N0cmF0ZWd5TWV0aG9kTmFtZXNbc3RyYXRlZ3ldXS5hcHBseSh0aGlzLCBsaXN0ZW5hYmxlcy5jb25jYXQoXCJ0cmlnZ2VyQXN5bmNcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG4vKipcclxuICogVXNlZCBpbiBgTGlzdGVuZXJNZXRob2RzLmpzYCB0byBjcmVhdGUgdGhlIGluc3RhbmNlIGpvaW4gbWV0aG9kc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyYXRlZ3kgV2hpY2ggc3RyYXRlZ3kgdG8gdXNlIHdoZW4gdHJhY2tpbmcgbGlzdGVuYWJsZSB0cmlnZ2VyIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEFuIGluc3RhbmNlIG1ldGhvZCB3aGljaCBzZXRzIHVwIGEgam9pbiBsaXN0ZW4gb24gdGhlIGdpdmVuIGxpc3RlbmFibGVzIHVzaW5nIHRoZSBnaXZlbiBzdHJhdGVneVxyXG4gKi9cbmZ1bmN0aW9uIGluc3RhbmNlSm9pbkNyZWF0b3Ioc3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgLyogbGlzdGVuYWJsZXMuLi4sIGNhbGxiYWNrKi97XG4gICAgICAgIF8udGhyb3dJZihhcmd1bWVudHMubGVuZ3RoIDwgMiwgXCJDYW5ub3QgY3JlYXRlIGEgam9pbiB3aXRoIGxlc3MgdGhhbiAyIGxpc3RlbmFibGVzIVwiKTtcbiAgICAgICAgdmFyIGxpc3RlbmFibGVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICAgICAgY2FsbGJhY2sgPSBsaXN0ZW5hYmxlcy5wb3AoKSxcbiAgICAgICAgICAgIG51bWJlck9mTGlzdGVuYWJsZXMgPSBsaXN0ZW5hYmxlcy5sZW5ndGgsXG4gICAgICAgICAgICBqb2luID0ge1xuICAgICAgICAgICAgbnVtYmVyT2ZMaXN0ZW5hYmxlczogbnVtYmVyT2ZMaXN0ZW5hYmxlcyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzW2NhbGxiYWNrXSB8fCBjYWxsYmFjayxcbiAgICAgICAgICAgIGxpc3RlbmVyOiB0aGlzLFxuICAgICAgICAgICAgc3RyYXRlZ3k6IHN0cmF0ZWd5XG4gICAgICAgIH0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgY2FuY2VscyA9IFtdLFxuICAgICAgICAgICAgc3Vib2JqO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtYmVyT2ZMaXN0ZW5hYmxlczsgaSsrKSB7XG4gICAgICAgICAgICBfLnRocm93SWYodGhpcy52YWxpZGF0ZUxpc3RlbmluZyhsaXN0ZW5hYmxlc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1iZXJPZkxpc3RlbmFibGVzOyBpKyspIHtcbiAgICAgICAgICAgIGNhbmNlbHMucHVzaChsaXN0ZW5hYmxlc1tpXS5saXN0ZW4obmV3TGlzdGVuZXIoaSwgam9pbiksIHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXNldChqb2luKTtcbiAgICAgICAgc3Vib2JqID0geyBsaXN0ZW5hYmxlOiBsaXN0ZW5hYmxlcyB9O1xuICAgICAgICBzdWJvYmouc3RvcCA9IG1ha2VTdG9wcGVyKHN1Ym9iaiwgY2FuY2VscywgdGhpcyk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9ICh0aGlzLnN1YnNjcmlwdGlvbnMgfHwgW10pLmNvbmNhdChzdWJvYmopO1xuICAgICAgICByZXR1cm4gc3Vib2JqO1xuICAgIH07XG59XG5cbi8vIC0tLS0gaW50ZXJuYWwgam9pbiBmdW5jdGlvbnMgLS0tLVxuXG5mdW5jdGlvbiBtYWtlU3RvcHBlcihzdWJvYmosIGNhbmNlbHMsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHN1YnMgPSBjb250ZXh0LnN1YnNjcmlwdGlvbnMsXG4gICAgICAgICAgICBpbmRleCA9IHN1YnMgPyBzdWJzLmluZGV4T2Yoc3Vib2JqKSA6IC0xO1xuICAgICAgICBfLnRocm93SWYoaW5kZXggPT09IC0xLCBcIlRyaWVkIHRvIHJlbW92ZSBqb2luIGFscmVhZHkgZ29uZSBmcm9tIHN1YnNjcmlwdGlvbnMgbGlzdCFcIik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYW5jZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjYW5jZWxzW2ldKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vicy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHJlc2V0KGpvaW4pIHtcbiAgICBqb2luLmxpc3RlbmFibGVzRW1pdHRlZCA9IG5ldyBBcnJheShqb2luLm51bWJlck9mTGlzdGVuYWJsZXMpO1xuICAgIGpvaW4uYXJncyA9IG5ldyBBcnJheShqb2luLm51bWJlck9mTGlzdGVuYWJsZXMpO1xufVxuXG5mdW5jdGlvbiBuZXdMaXN0ZW5lcihpLCBqb2luKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbGxhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBpZiAoam9pbi5saXN0ZW5hYmxlc0VtaXR0ZWRbaV0pIHtcbiAgICAgICAgICAgIHN3aXRjaCAoam9pbi5zdHJhdGVneSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RyaWN0IGpvaW4gZmFpbGVkIGJlY2F1c2UgbGlzdGVuZXIgdHJpZ2dlcmVkIHR3aWNlLlwiKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibGFzdFwiOlxuICAgICAgICAgICAgICAgICAgICBqb2luLmFyZ3NbaV0gPSBjYWxsYXJnczticmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsXCI6XG4gICAgICAgICAgICAgICAgICAgIGpvaW4uYXJnc1tpXS5wdXNoKGNhbGxhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpvaW4ubGlzdGVuYWJsZXNFbWl0dGVkW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIGpvaW4uYXJnc1tpXSA9IGpvaW4uc3RyYXRlZ3kgPT09IFwiYWxsXCIgPyBbY2FsbGFyZ3NdIDogY2FsbGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgZW1pdElmQWxsTGlzdGVuYWJsZXNFbWl0dGVkKGpvaW4pO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGVtaXRJZkFsbExpc3RlbmFibGVzRW1pdHRlZChqb2luKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqb2luLm51bWJlck9mTGlzdGVuYWJsZXM7IGkrKykge1xuICAgICAgICBpZiAoIWpvaW4ubGlzdGVuYWJsZXNFbWl0dGVkW2ldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgam9pbi5jYWxsYmFjay5hcHBseShqb2luLmxpc3RlbmVyLCBqb2luLmFyZ3MpO1xuICAgIHJlc2V0KGpvaW4pO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1peCA9IG1peDtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgXyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIG1peChkZWYpIHtcbiAgICB2YXIgY29tcG9zZWQgPSB7XG4gICAgICAgIGluaXQ6IFtdLFxuICAgICAgICBwcmVFbWl0OiBbXSxcbiAgICAgICAgc2hvdWxkRW1pdDogW11cbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZWQgPSBmdW5jdGlvbiBtaXhEZWYobWl4aW4pIHtcbiAgICAgICAgdmFyIG1peGVkID0ge307XG4gICAgICAgIGlmIChtaXhpbi5taXhpbnMpIHtcbiAgICAgICAgICAgIG1peGluLm1peGlucy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJNaXhpbikge1xuICAgICAgICAgICAgICAgIF8uZXh0ZW5kKG1peGVkLCBtaXhEZWYoc3ViTWl4aW4pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF8uZXh0ZW5kKG1peGVkLCBtaXhpbik7XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbXBvc2VkKS5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb3NhYmxlKSB7XG4gICAgICAgICAgICBpZiAobWl4aW4uaGFzT3duUHJvcGVydHkoY29tcG9zYWJsZSkpIHtcbiAgICAgICAgICAgICAgICBjb21wb3NlZFtjb21wb3NhYmxlXS5wdXNoKG1peGluW2NvbXBvc2FibGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtaXhlZDtcbiAgICB9KGRlZik7XG5cbiAgICBpZiAoY29tcG9zZWQuaW5pdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHVwZGF0ZWQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgY29tcG9zZWQuaW5pdC5mb3JFYWNoKGZ1bmN0aW9uIChpbml0KSB7XG4gICAgICAgICAgICAgICAgaW5pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoY29tcG9zZWQucHJlRW1pdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHVwZGF0ZWQucHJlRW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb3NlZC5wcmVFbWl0LnJlZHVjZShmdW5jdGlvbiAoYXJncywgcHJlRW1pdCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHByZUVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBhcmdzIDogW25ld1ZhbHVlXTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2VkLnNob3VsZEVtaXQubGVuZ3RoID4gMSkge1xuICAgICAgICB1cGRhdGVkLnNob3VsZEVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHJldHVybiAhY29tcG9zZWQuc2hvdWxkRW1pdC5zb21lKGZ1bmN0aW9uIChzaG91bGRFbWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzaG91bGRFbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGNvbXBvc2VkKS5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb3NhYmxlKSB7XG4gICAgICAgIGlmIChjb21wb3NlZFtjb21wb3NhYmxlXS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRbY29tcG9zYWJsZV0gPSBjb21wb3NlZFtjb21wb3NhYmxlXVswXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLmNhcGl0YWxpemUgPSBjYXBpdGFsaXplO1xuZXhwb3J0cy5jYWxsYmFja05hbWUgPSBjYWxsYmFja05hbWU7XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5leHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5leHBvcnRzLm5leHRUaWNrID0gbmV4dFRpY2s7XG5leHBvcnRzLm9iamVjdCA9IG9iamVjdDtcbmV4cG9ydHMuaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbmV4cG9ydHMudGhyb3dJZiA9IHRocm93SWY7XG5mdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNrTmFtZShzdHJpbmcsIHByZWZpeCkge1xuICAgIHByZWZpeCA9IHByZWZpeCB8fCBcIm9uXCI7XG4gICAgcmV0dXJuIHByZWZpeCArIGV4cG9ydHMuY2FwaXRhbGl6ZShzdHJpbmcpO1xufVxuXG4vKlxyXG4gKiBpc09iamVjdCwgZXh0ZW5kLCBpc0Z1bmN0aW9uLCBpc0FyZ3VtZW50cyBhcmUgdGFrZW4gZnJvbSB1bmRlcnNjb3JlL2xvZGFzaCBpblxyXG4gKiBvcmRlciB0byByZW1vdmUgdGhlIGRlcGVuZGVuY3lcclxuICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuICAgIHJldHVybiB0eXBlID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZSA9PT0gXCJvYmplY3RcIiAmJiAhIW9iajtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9iaikge1xuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICB2YXIgc291cmNlLCBrZXlzLCBwcm9wO1xuICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBwcm9wID0ga2V5c1tqXTtcbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgcHJvcGVydHlEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG5cbmZ1bmN0aW9uIG5leHRUaWNrKGNhbGxiYWNrKSB7XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG59XG5cbmZ1bmN0aW9uIG9iamVjdChrZXlzLCB2YWxzKSB7XG4gICAgdmFyIG8gPSB7fSxcbiAgICAgICAgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG9ba2V5c1tpXV0gPSB2YWxzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgPT09IFwib2JqZWN0XCIgJiYgXCJjYWxsZWVcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSBcIm51bWJlclwiO1xufVxuXG5mdW5jdGlvbiB0aHJvd0lmKHZhbCwgbXNnKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgICB0aHJvdyBFcnJvcihtc2cgfHwgdmFsKTtcbiAgICB9XG59IiwidmFyIF8gPSByZXF1aXJlKCdyZWZsdXgtY29yZS9saWIvdXRpbHMnKSxcclxuICAgIExpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi9MaXN0ZW5lck1ldGhvZHMnKTtcclxuXHJcbi8qKlxyXG4gKiBBIG1vZHVsZSBtZWFudCB0byBiZSBjb25zdW1lZCBhcyBhIG1peGluIGJ5IGEgUmVhY3QgY29tcG9uZW50LiBTdXBwbGllcyB0aGUgbWV0aG9kcyBmcm9tXHJcbiAqIGBMaXN0ZW5lck1ldGhvZHNgIG1peGluIGFuZCB0YWtlcyBjYXJlIG9mIHRlYXJkb3duIG9mIHN1YnNjcmlwdGlvbnMuXHJcbiAqIE5vdGUgdGhhdCBpZiB5b3UncmUgdXNpbmcgdGhlIGBjb25uZWN0YCBtaXhpbiB5b3UgZG9uJ3QgbmVlZCB0aGlzIG1peGluLCBhcyBjb25uZWN0IHdpbGxcclxuICogaW1wb3J0IGV2ZXJ5dGhpbmcgdGhpcyBtaXhpbiBjb250YWlucyFcclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gXy5leHRlbmQoe1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYW5zIHVwIGFsbCBsaXN0ZW5lciBwcmV2aW91c2x5IHJlZ2lzdGVyZWQuXHJcbiAgICAgKi9cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBMaXN0ZW5lck1ldGhvZHMuc3RvcExpc3RlbmluZ1RvQWxsXHJcblxyXG59LCBMaXN0ZW5lck1ldGhvZHMpO1xyXG4iLCJcclxuLyogZ2xvYmFscyBSZWFjdDogZmFsc2UgKi9cclxuXHJcbnZhciBSZWZsdXggPSByZXF1aXJlKCdyZWZsdXgtY29yZScpO1xyXG5SZWZsdXguZGVmaW5lUmVhY3QgPSByZXF1aXJlKCcuL2RlZmluZVJlYWN0Jyk7XHJcblxyXG4vLyB1c2VmdWwgdXRpbGl0eSBmb3IgRVM2IHdvcmssIG1pbWljcyB0aGUgYWJpbGl0eSB0byBleHRlbmRcclxuUmVmbHV4LnV0aWxzLmluaGVyaXRzID0gZnVuY3Rpb24oc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcclxuXHRpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XHJcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcclxuXHR9XHJcblx0c3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XHJcblx0XHRjb25zdHJ1Y3Rvcjoge1xyXG5cdFx0XHR2YWx1ZTogc3ViQ2xhc3MsXHJcblx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxyXG5cdFx0XHR3cml0YWJsZTogdHJ1ZSxcclxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0XHR9XHJcblx0fSk7XHJcblx0aWYgKHN1cGVyQ2xhc3MpIHtcclxuXHRcdGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcclxuXHRcdFx0T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8qIGpzaGludCBwcm90bzogdHJ1ZSAqL1xyXG5cdFx0XHRzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIGZpcnN0IHRyeSB0byBzZWUgaWYgdGhlcmUncyBhIGdsb2JhbCBSZWFjdCB2YXIgYW5kIHVzZSBpdFxyXG5pZiAodHlwZW9mIFJlYWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWFjdCkge1xyXG5cdFJlZmx1eC5kZWZpbmVSZWFjdChSZWFjdCk7XHJcbi8vIG90aGVyd2lzZSB3ZSdyZSBnb25uYSByZXNvcnQgdG8gJ3RyeScgc3R1ZmYgaW4gY2FzZSBvZiBvdGhlciBlbnZpcm9ubWVudHNcclxufSBlbHNlIHtcclxuXHR0cnkge1xyXG5cdFx0dmFyIFIgPSByZXF1aXJlKFwicmVhY3RcIik7IC8vIHdlIGlnbm9yZSB0aGlzIGluIGJyb3dzZXJpZnkgbWFudWFsbHkgKHNlZSBncnVudCBmaWxlKSwgc28gaXQncyBtb3JlIG9mIGEgZG91YmxlY2hlY2sgZm9yIGluIG5vZGVcclxuXHRcdFJlZmx1eC5kZWZpbmVSZWFjdChSKTtcclxuXHR9IGNhdGNoIChlKSB7fVxyXG59XHJcbiIsInZhciBMaXN0ZW5lck1ldGhvZHMgPSByZXF1aXJlKCdyZWZsdXgtY29yZS9saWIvTGlzdGVuZXJNZXRob2RzJyksXHJcbiAgICBMaXN0ZW5lck1peGluID0gcmVxdWlyZSgnLi9MaXN0ZW5lck1peGluJyksXHJcbiAgICBfID0gcmVxdWlyZSgncmVmbHV4LWNvcmUvbGliL3V0aWxzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3RlbmFibGUsIGtleSkge1xyXG5cclxuICAgIF8udGhyb3dJZih0eXBlb2Yoa2V5KSA9PT0gJ3VuZGVmaW5lZCcsICdSZWZsdXguY29ubmVjdCgpIHJlcXVpcmVzIGEga2V5LicpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFfLmlzRnVuY3Rpb24obGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBfLm9iamVjdChba2V5XSxbbGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUoKV0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgXy5leHRlbmQobWUsIExpc3RlbmVyTWV0aG9kcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKGxpc3RlbmFibGUsIGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgICAgIG1lLnNldFN0YXRlKF8ub2JqZWN0KFtrZXldLFt2XSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBMaXN0ZW5lck1peGluLmNvbXBvbmVudFdpbGxVbm1vdW50XHJcbiAgICB9O1xyXG59O1xyXG4iLCJ2YXIgTGlzdGVuZXJNZXRob2RzID0gcmVxdWlyZSgncmVmbHV4LWNvcmUvbGliL0xpc3RlbmVyTWV0aG9kcycpLFxyXG4gICAgTGlzdGVuZXJNaXhpbiA9IHJlcXVpcmUoJy4vTGlzdGVuZXJNaXhpbicpLFxyXG4gICAgXyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi91dGlscycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0ZW5hYmxlLCBrZXksIGZpbHRlckZ1bmMpIHtcclxuXHJcbiAgICBfLnRocm93SWYoXy5pc0Z1bmN0aW9uKGtleSksICdSZWZsdXguY29ubmVjdEZpbHRlcigpIHJlcXVpcmVzIGEga2V5LicpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFfLmlzRnVuY3Rpb24obGlzdGVuYWJsZS5nZXRJbml0aWFsU3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZpbHRlciBpbml0aWFsIHBheWxvYWQgZnJvbSBzdG9yZS5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZpbHRlckZ1bmMuY2FsbCh0aGlzLCBsaXN0ZW5hYmxlLmdldEluaXRpYWxTdGF0ZSgpKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZihyZXN1bHQpICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8ub2JqZWN0KFtrZXldLCBbcmVzdWx0XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIF8uZXh0ZW5kKHRoaXMsIExpc3RlbmVyTWV0aG9kcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKGxpc3RlbmFibGUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZmlsdGVyRnVuYy5jYWxsKG1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBtZS5zZXRTdGF0ZShfLm9iamVjdChba2V5XSwgW3Jlc3VsdF0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wb25lbnRXaWxsVW5tb3VudDogTGlzdGVuZXJNaXhpbi5jb21wb25lbnRXaWxsVW5tb3VudFxyXG4gICAgfTtcclxufTtcclxuIiwiLyogZ2xvYmFscyBSZWFjdDogZmFsc2UgKi9cclxuXHJcbnZhciBSZWZsdXggPSByZXF1aXJlKCdyZWZsdXgtY29yZScpO1xyXG5cclxuLyoqXHJcbiAqIFJlZmx1eC5kZWZpbmVSZWFjdCBmdW5jdGlvbiB3aGVyZSB5b3UgY2FuIG1hbnVhbGx5IHN1cHBseVxyXG4gKiB0aGUgUmVhY3Qgb2JqZWN0IGluIG9yZGVyIHRvIGNyZWF0ZSBpbiBjYXNlIFJlZmx1eCBuZWVkcyB0byBsb2FkIGJlZm9yZVxyXG4gKiBSZWFjdCBvciB0aGVyZSBpcyBhIG1vZHVsYXIgZW52aXJvbm1lbnQgd2hlcmUgdGhlcmUgd29uJ3QgYmUgYSBnbG9iYWxcclxuICogUmVhY3QgdmFyaWFibGUuXHJcbiAqIEBub3RlIFRoZSB0aGlyZCBwYXJhbSBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seS5cclxuICovXHJcbnZhciBfcmVhY3QsIF9kZWZpbmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGRlZmluZVJlYWN0KHJlYWN0LCBub0xvbmdlclVzZWQsIGV4dGVuZClcclxue1xyXG5cdHZhciBwcm90bywgX2V4dGVuZDtcclxuXHRcclxuXHQvLyBpZiBubyBSZWZsdXggb2JqZWN0IGlzIHlldCBhdmFpbGFibGUgdGhlbiByZXR1cm4gYW5kIGp1c3Qgd2FpdCB1bnRpbCBkZWZpbmVSZWFjdCBpcyBjYWxsZWQgbWFudWFsbHkgd2l0aCBpdFxyXG5cdHRyeSB7XHJcblx0XHRfcmVhY3QgID0gcmVhY3QgIHx8IF9yZWFjdCAgfHwgUmVhY3Q7XHJcblx0XHRfZXh0ZW5kID0gZXh0ZW5kIHx8IF9yZWFjdC5Db21wb25lbnQ7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHRcclxuXHQvLyBpZiBSZWZsdXggYW5kIFJlYWN0IGFyZW4ndCBwcmVzZW50IHRoZW4gaWdub3JlLCB3YWl0IHVudGlsIHRoZXkgYXJlIHByb3Blcmx5IHByZXNlbnRcclxuXHQvLyBhbHNvIGlnbm9yZSBpZiBpdCdzIGJlZW4gY2FsbGVkIGJlZm9yZSBVTkxFU1MgdGhlcmUncyBtYW51YWwgZXh0ZW5kaW5nIGhhcHBlbmluZ1xyXG5cdGlmICghX3JlYWN0IHx8ICFfZXh0ZW5kIHx8IChfZGVmaW5lZCAmJiAhZXh0ZW5kKSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHRcclxuXHQvLyAtLS0tLS0tLS0tLSBCRUdJTiBSZWZsdXguQ29tcG9uZW50IC0tLS0tLS0tLS0tLVxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5Db21wb25lbnQ6XHJcblx0ICogQW4gaW1wbGVtZW50YXRpb24gZm9yIGlkaW9tYXRpYyBSZWFjdC5qcyBjbGFzc2VzIHRoYXQgbWl4IHdpdGhcclxuXHQgKiBSZWZsdXggc3RvcmVzLiBUbyB1dGlsaXplIGV4dGVuZCBSZWZsdXguQ29tcG9uZW50IGluc3RlYWQgb2ZcclxuXHQgKiBSZWFjdC5Db21wb25lbnQuIFRoZW4geW91IG1heSBob29rIGFueSBSZWZsdXggc3RvcmUgdGhhdCBoYXMgYVxyXG5cdCAqIGB0aGlzLnN0YXRlYCBwcm9wZXJ0eSBjb250YWluaW5nIGl0cyBzdGF0ZSB2YWx1ZXMgdG8gdGhlIGNvbXBvbmVudFxyXG5cdCAqIHZpYSBgdGhpcy5zdG9yZWAgb3IgYW4gQXJyYXkgb2YgUmVmbHV4IHN0b3JlcyB2aWEgYHRoaXMuc3RvcmVzYCBpblxyXG5cdCAqIHRoZSBjb21wb25lbnQncyBjb25zdHJ1Y3RvciAoc2ltaWxhciB0byBob3cgeW91IGFzc2lnbiBpbml0aWFsIHN0YXRlXHJcblx0ICogaW4gdGhlIGNvbnN0cnVjdG9yIGluIEVTNiBzdHlsZSBSZWFjdCkuIFRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGVcclxuXHQgKiBzdG9yZXMgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZmxlY3QgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlLCBhbmQgYW55XHJcblx0ICogZnVydGhlciBgdHJpZ2dlcmAgY2FsbHMgZnJvbSB0aGF0IHN0b3JlIHdpbGwgdXBkYXRlIHByb3BlcnRpZXMgcGFzc2VkXHJcblx0ICogaW4gdGhlIHRyaWdnZXIgaW50byB0aGUgY29tcG9uZW50IGF1dG9tYXRpY2FsbHkuXHJcblx0ICovXHJcblx0dmFyIFJlZmx1eENvbXBvbmVudCA9IGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XHJcblx0XHRfZXh0ZW5kLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXF1aXZhbGVudCBvZiBgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnRgIG9yIG90aGVyIGNsYXNzIGlmIHByb3ZpZGVkIHZpYSBgZXh0ZW5kYCBwYXJhbVxyXG5cdFJlZmx1eC51dGlscy5pbmhlcml0cyhSZWZsdXhDb21wb25lbnQsIF9leHRlbmQpO1xyXG5cdFxyXG5cdHByb3RvID0gUmVmbHV4Q29tcG9uZW50LnByb3RvdHlwZTtcclxuXHRcclxuXHQvKipcclxuXHQgKiB0aGlzLnN0b3JlS2V5c1xyXG5cdCAqIFdoZW4gdGhpcyBpcyBhIGZhbHNleSB2YWx1ZSAobnVsbCBieSBkZWZhdWx0KSB0aGUgY29tcG9uZW50IG1peGVzIGluXHJcblx0ICogYWxsIHByb3BlcnRpZXMgZnJvbSB0aGUgc3RvcmVzIGF0dGFjaGVkIHRvIGl0IGFuZCB1cGRhdGVzIG9uIGNoYW5nZXNcclxuXHQgKiBmcm9tIGFsbCBvZiB0aGVtLiBXaGVuIHNldCB0byBhbiBhcnJheSBvZiBzdHJpbmcga2V5cyBpdCB3aWxsIG9ubHlcclxuXHQgKiB1dGlsaXplZCBzdGF0ZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aG9zZSBrZXlzIGluIGFueSBzdG9yZSBhdHRhY2hlZC4gVGhpc1xyXG5cdCAqIGxldHMgeW91IGNob29zZSB3aGljaCBwYXJ0cyBvZiBzdG9yZXMgdXBkYXRlIHRoZSBjb21wb25lbnQgb24gYSBjb21wb25lbnQtXHJcblx0ICogYnktY29tcG9uZW50IGJhc2lzLiBJZiB1c2luZyB0aGlzIGl0IGlzIGJlc3Qgc2V0IGluIHRoZSBjb25zdHJ1Y3Rvci5cclxuXHQgKi9cclxuXHRwcm90by5zdG9yZUtleXMgPSBudWxsO1xyXG5cdFxyXG5cdC8vIG9uIHRoZSBtb3VudGluZyBvZiB0aGUgY29tcG9uZW50IHRoYXQgaXMgd2hlcmUgdGhlIHN0b3JlL3N0b3JlcyBhcmUgYXR0YWNoZWQgYW5kIGluaXRpYWxpemVkIGlmIG5lZWRlZFxyXG5cdHByb3RvLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIGlmIHRoZXJlIGlzIGEgdGhpcy5zdG9yZSB0aGVuIHNpbXBseSBwdXNoIGl0IG9udG8gdGhlIHRoaXMuc3RvcmVzIGFycmF5IG9yIG1ha2Ugb25lIGlmIG5lZWRlZFxyXG5cdFx0aWYgKHRoaXMuc3RvcmUpIHtcclxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodGhpcy5zdG9yZXMpKSB7XHJcblx0XHRcdFx0dGhpcy5zdG9yZXMudW5zaGlmdCh0aGlzLnN0b3JlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnN0b3JlcyA9IFt0aGlzLnN0b3JlXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAodGhpcy5zdG9yZXMpIHtcclxuXHRcdFx0dGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18gPSB0aGlzLl9fc3RvcmV1bnN1YnNjcmliZXNfXyB8fCBbXTtcclxuXHRcdFx0dmFyIHNTID0gdGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpO1xyXG5cdFx0XHQvLyB0aGlzIGhhbmRsZXMgdGhlIHRyaWdnZXJpbmcgb2YgYSBzdG9yZSwgY2hlY2tpbmcgd2hhdCdzIHVwZGF0ZWQgaWYgcHJvdG8uc3RvcmVLZXlzIGlzIHV0aWxpemVkXHJcblx0XHRcdHZhciBvblN0b3JlVHJpZ2dlciA9IGZ1bmN0aW9uKG9iail7XHJcblx0XHRcdFx0dmFyIHVwZGF0ZU9iaiA9IGZpbHRlckJ5U3RvcmVLZXlzKHRoaXMuc3RvcmVLZXlzLCBvYmopO1xyXG5cdFx0XHRcdGlmICh1cGRhdGVPYmopIHtcclxuXHRcdFx0XHRcdHNTKHVwZGF0ZU9iaik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LmJpbmQodGhpcyk7XHJcblx0XHRcdC8vIGZvciBlYWNoIHN0b3JlIGluIHRoaXMuc3RvcmVzLi4uXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMuc3RvcmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgc3RyID0gdGhpcy5zdG9yZXNbaV07XHJcblx0XHRcdFx0Ly8gaWYncyBhIGZ1bmN0aW9uIHRoZW4gd2Uga25vdyBpdCdzIGEgY2xhc3MgZ2V0dGluZyBwYXNzZWQsIG5vdCBhbiBpbnN0YW5jZVxyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc3RyID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHR2YXIgc3RvcmVJZCA9IHN0ci5pZDtcclxuXHRcdFx0XHRcdC8vIGlmIHRoZXJlIGlzIE5PVCBhIC5zaW5nbGV0b24gcHJvcGVydHkgb24gdGhlIHN0b3JlIHRoZW4gdGhpcyBzdG9yZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0LCBzbyBkbyBzb1xyXG5cdFx0XHRcdFx0aWYgKCFzdHIuc2luZ2xldG9uKSB7XHJcblx0XHRcdFx0XHRcdHN0ci5zaW5nbGV0b24gPSBuZXcgc3RyKCk7XHJcblx0XHRcdFx0XHRcdGlmIChzdG9yZUlkKSB7XHJcblx0XHRcdFx0XHRcdFx0UmVmbHV4LnN0b3Jlc1tzdG9yZUlkXSA9IHN0ci5zaW5nbGV0b247XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGJlZm9yZSB3ZSB3ZXJlbid0IHN1cmUgaWYgd2Ugd2VyZSB3b3JraW5nIHdpdGggYW4gaW5zdGFuY2Ugb3IgY2xhc3MsIHNvIG5vdyB3ZSBrbm93IGFuIGluc3RhbmNlIGlzIGNyZWF0ZWQgc2V0IGl0XHJcblx0XHRcdFx0XHQvLyB0byB0aGUgdmFyaWFibGVzIHdlIHdlcmUgdXNpbmcgc28gdGhhdCB3ZSBjYW4ganVzdCBjb250aW51ZSBvbiBrbm93aW5nIGl0J3MgdGhlIGluc3RhbmNlIHdlJ3JlIHdvcmtpbmcgd2l0aFxyXG5cdFx0XHRcdFx0dGhpcy5zdG9yZXNbaV0gPSBzdHIgPSBzdHIuc2luZ2xldG9uO1xyXG5cdFx0XHRcdFx0Ly8gdGhlIGluc3RhbmNlIHNob3VsZCBoYXZlIGFuIC5pZCBwcm9wZXJ0eSBhcyB3ZWxsIGlmIHRoZSBjbGFzcyBkb2VzLCBzbyBzZXQgdGhhdCBoZXJlXHJcblx0XHRcdFx0XHRzdHIuaWQgPSBzdG9yZUlkO1xyXG5cdFx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgYW4gaWQgYW5kIHRoZXJlIGlzIGEgZ2xvYmFsIHN0YXRlIHByb3BlcnR5IGZvciB0aGlzIHN0b3JlIHRoZW4gbWVyZ2VcclxuXHRcdFx0XHRcdC8vIHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhhdCBnbG9iYWwgc3RhdGUgaW50byB0aGUgZGVmYXVsdCBzdGF0ZSBvZiB0aGUgc3RvcmUgQU5EIHRoZW5cclxuXHRcdFx0XHRcdC8vIHNldCB0aGUgZ2xvYmFsIHN0YXRlIHRvIHRoYXQgbmV3IHN0YXRlIChzaW5jZSBpdCBtYXkgaGF2ZSBwcmV2aW91c2x5IGJlZW4gcGFydGlhbClcclxuXHRcdFx0XHRcdGlmIChzdG9yZUlkICYmIFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gUmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSWRdKSB7XHJcblx0XHRcdFx0XHRcdFx0c3RyLnN0YXRlW2tleV0gPSBSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF1ba2V5XTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0gPSBzdHIuc3RhdGU7XHJcblx0XHRcdFx0XHQvLyBvdGhlcndpc2UgKGlmIGl0IGhhcyBhbiBpZCkgc2V0IHRoZSBnbG9iYWwgc3RhdGUgdG8gdGhlIGRlZmF1bHQgc3RhdGUgb2YgdGhlIHN0b3JlXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHN0b3JlSWQpIHtcclxuXHRcdFx0XHRcdFx0UmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSWRdID0gc3RyLnN0YXRlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gaWYgbm8gaWQsIHRoZW4gbm8gbWVzc2luZyB3aXRoIGdsb2JhbCBzdGF0ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBsaXN0ZW4vc3Vic2NyaWJlIGZvciB0aGUgXCIudHJpZ2dlcigpXCIgaW4gdGhlIHN0b3JlLCBhbmQgdHJhY2sgdGhlIHVuc3Vic2NyaWJlcyBzbyB0aGF0IHdlIGNhbiB1bnN1YnNjcmliZSBvbiB1bm1vdW50XHJcblx0XHRcdFx0aWYgKCFSZWZsdXguc2VydmVyTW9kZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18ucHVzaChzdHIubGlzdGVuKG9uU3RvcmVUcmlnZ2VyKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHJ1biBzZXQgc3RhdGUgc28gdGhhdCBpdCBtaXhlcyBpbiB0aGUgcHJvcHMgZnJvbSB0aGUgc3RvcmUgd2l0aCB0aGUgY29tcG9uZW50XHJcblx0XHRcdFx0dmFyIHVwZGF0ZU9iaiA9IGZpbHRlckJ5U3RvcmVLZXlzKHRoaXMuc3RvcmVLZXlzLCBzdHIuc3RhdGUpO1xyXG5cdFx0XHRcdGlmICh1cGRhdGVPYmopIHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUodXBkYXRlT2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gbWFwU3RvcmVUb1N0YXRlIG5lZWRzIHRvIGtub3cgaWYgaXMgcmVhZHkgdG8gbWFwIG9yIG11c3Qgd2FpdFxyXG5cdFx0dGhpcy5fX3JlYWR5dG9tYXBfXyA9IHRydWU7XHJcblx0XHQvLyBpZiB0aGVyZSBhcmUgbWFwcGluZ3MgdGhhdCB3ZXJlIGRlbGF5ZWQsIGRvIHRoZW0gbm93XHJcblx0XHR2YXIgZG1hcHMgPSB0aGlzLl9fZGVsYXllZG1hcHNfXztcclxuXHRcdGlmIChkbWFwcykge1xyXG5cdFx0XHRmb3IgKHZhciBqPTAsamo9ZG1hcHMubGVuZ3RoOyBqPGpqOyBqKyspIHtcclxuXHRcdFx0XHRkbWFwc1tqXS5mdW5jKCBkbWFwc1tqXS5zdGF0ZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLl9fZGVsYXllZG1hcHNfXyA9IG51bGw7XHJcblx0fTtcclxuXHRcclxuXHQvLyBvbiB0aGUgdW5tb3VudCBwaGFzZSBvZiB0aGUgY29tcG9uZW50IHVuc3Vic2NyaWJlIHRoYXQgd2hpY2ggd2Ugc3Vic2NyaWJlZCBlYXJsaWVyIHRvIGtlZXAgb3VyIGdhcmJhZ2UgdHJhaWwgY2xlYW5cclxuXHRwcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9fc3RvcmV1bnN1YnNjcmliZXNfXykge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLl9fc3RvcmV1bnN1YnNjcmliZXNfXy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX19baV0oKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5fX3JlYWR5dG9tYXBfXyA9IGZhbHNlO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogdGhpcy5tYXBTdG9yZVRvU3RhdGVcclxuXHQgKiBUaGlzIGZ1bmN0aW9uIGFsbG93IHlvdSB0byBzdXBwbHkgbWFwIHRoZSBzdGF0ZSBvZiBhIHN0b3JlIHRvIHRoZVxyXG5cdCAqIHN0YXRlIG9mIHRoaXMgY29tcG9uZW50IG1hbnVhbGx5IHZpYSB5b3VyIG93biBsb2dpYy4gVGhpcyBtZXRob2RcclxuXHQgKiBpcyBjb21wbGV0ZWx5IHNlcGFyYXRlIGZyb20gdGhpcy5zdG9yZS90aGlzLnN0b3JlcyBhbmQvb3IgdGhpcy5zdG9yZUtleXMuXHJcblx0ICogQ2FsbCB0aGlzIGZ1bmN0aW9uIHdpdGggYW4gRVM2IHN0b3JlIChjbGFzcyBvciBzaW5nbGV0b24gaW5zdGFuY2UpIGFzIHRoZVxyXG5cdCAqIGZpcnN0IGFyZ3VtZW50IGFuZCB5b3VyIGZpbHRlciBmdW5jdGlvbiBhcyB0aGUgc2Vjb25kLiBZb3VyIGZpbHRlciBmdW5jdGlvblxyXG5cdCAqIHdpbGwgcmVjZWl2ZSBhbiBvYmplY3Qgb2YgdGhlIHBhcnRzIG9mIHRoZSBFUzYgc3RvcmUgYmVpbmcgdXBkYXRlZCBldmVyeVxyXG5cdCAqIHRpbWUgaXRzIHNldFN0YXRlIGlzIGNhbGxlZC4gWW91ciBmaWx0ZXIgZnVuY3Rpb24gdGhlbiByZXR1cm5zIGFuIG9iamVjdFxyXG5cdCAqIHdoaWNoIHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlIGNvbXBvbmVudCBzdGF0ZSAoSUYgaXQgaGFzIGFueSBwcm9wZXJ0aWVzIGF0IGFsbCxcclxuXHQgKiBzaG91bGQgeW91IHJldHVybiBhIGJsYW5rIG9iamVjdCB0aGUgY29tcG9uZW50IHdpbGwgbm90IHJlcmVuZGVyKS5cclxuXHQgKi9cclxuXHRwcm90by5tYXBTdG9yZVRvU3RhdGUgPSBmdW5jdGlvbihzdG9yZSwgZmlsdGVyRnVuYylcclxuXHR7XHJcblx0XHQvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciBzaW5nbGV0b24gaW5zdGFuY2UgdG8gd29yayB3aXRoXHJcblx0XHRpZiAodHlwZW9mIHN0b3JlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdGlmIChzdG9yZS5zaW5nbGV0b24pIHtcclxuXHRcdFx0XHRzdG9yZSA9IHN0b3JlLnNpbmdsZXRvbjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdG9yZSA9IFJlZmx1eC5pbml0U3RvcmUoc3RvcmUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIHdlIG5lZWQgYSBjbG9zdXJlIHNvIHRoYXQgdGhlIGNhbGxlZCBmdW5jdGlvbiBjYW4gcmVtZW1iZXIgdGhlIHByb3BlciBmaWx0ZXIgZnVuY3Rpb24gdG8gdXNlLCBzbyBmdW5jdGlvbiBnZXRzIGRlZmluZWQgaGVyZVxyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0ZnVuY3Rpb24gb25NYXBTdG9yZVRyaWdnZXIob2JqKSB7XHJcblx0XHRcdC8vIGdldCBhbiBvYmplY3QgXHJcblx0XHRcdHZhciB1cGRhdGUgPSBmaWx0ZXJGdW5jLmNhbGwoc2VsZiwgb2JqKTtcclxuXHRcdFx0Ly8gaWYgbm8gb2JqZWN0IHJldHVybmVkIGZyb20gZmlsdGVyIGZ1bmN0aW9ucyBkbyBub3RoaW5nXHJcblx0XHRcdGlmICghdXBkYXRlKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZSB1cGRhdGUgYWN0dWFsbHkgaGFzIGFueSBtYXBwZWQgcHJvcHNcclxuXHRcdFx0Lypqc2hpbnQgdW51c2VkOiBmYWxzZSAqL1xyXG5cdFx0XHR2YXIgaGFzUHJvcHMgPSBmYWxzZTtcclxuXHRcdFx0Zm9yICh2YXIgY2hlY2sgaW4gdXBkYXRlKSB7XHJcblx0XHRcdFx0aGFzUHJvcHMgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIHRoZXJlIHdlcmUgcHJvcHMgbWFwcGVkLCB0aGVuIHVwZGF0ZSB2aWEgc2V0U3RhdGVcclxuXHRcdFx0aWYgKGhhc1Byb3BzKSB7XHJcblx0XHRcdFx0c2VsZi5zZXRTdGF0ZSh1cGRhdGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIGFkZCB0aGUgbGlzdGVuZXIgdG8ga25vdyB3aGVuIHRoZSBzdG9yZSBpcyB0cmlnZ2VyZWRcclxuXHRcdHRoaXMuX19zdG9yZXVuc3Vic2NyaWJlc19fID0gdGhpcy5fX3N0b3JldW5zdWJzY3JpYmVzX18gfHwgW107XHJcblx0XHR0aGlzLl9fc3RvcmV1bnN1YnNjcmliZXNfXy5wdXNoKHN0b3JlLmxpc3Rlbihvbk1hcFN0b3JlVHJpZ2dlcikpO1xyXG5cdFx0XHJcblx0XHQvLyBub3cgYWN0dWFsbHkgcnVuIG9uTWFwU3RvcmVUcmlnZ2VyIHdpdGggdGhlIGZ1bGwgc3RvcmUgc3RhdGUgc28gdGhhdCB3ZSBpbW1lZGlhdGVseSBoYXZlIGFsbCBzdG9yZSBzdGF0ZSBtYXBwZWQgdG8gY29tcG9uZW50IHN0YXRlXHJcblx0XHRpZiAodGhpcy5fX3JlYWR5dG9tYXBfXykge1xyXG5cdFx0XHRvbk1hcFN0b3JlVHJpZ2dlcihzdG9yZS5zdGF0ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9fZGVsYXllZG1hcHNfXyA9IHRoaXMuX19kZWxheWVkbWFwc19fIHx8IFtdO1xyXG5cdFx0XHR0aGlzLl9fZGVsYXllZG1hcHNfXy5wdXNoKHtmdW5jOm9uTWFwU3RvcmVUcmlnZ2VyLCBzdGF0ZTpzdG9yZS5zdGF0ZX0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmVmbHV4LkNvbXBvbmVudC5leHRlbmQoT3RoZXJDbGFzcylcclxuXHQgKiBUaGlzIGFsbG93cyB5b3UgdG8gZ2V0IGNsYXNzZXMgdGhhdCBleHRlbmQgb2ZmIG9mIGFub3RoZXIgUmVhY3QuQ29tcG9uZW50XHJcblx0ICogaW5oZXJpdGluZyBjbGFzcy4gRm9yIGV4YW1wbGUgaWYgeW91J3JlIHVzaW5nIGEgdGhpcmQgcGFydHkgdGhhdCB1c2VzXHJcblx0ICogY29tcG9uZW50cyB0aGF0IGFsbG93IGBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIExpYkNvbXBvbmVudGAgKHdoZXJlIExpYkNvbXBvbmVudFxyXG5cdCAqIGl0c2VsZiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCkgYW5kIHlvdSB3YW50IHRvIHVzZSB0aGF0IGNvbXBvbmVudCB3aXRoIEVTNiB0aGVuXHJcblx0ICogeW91IGNhbiBtYWtlIGEgY2xhc3MgYHZhciBNeUR1YWxDb21wb25lbnQgPSBSZWZsdXguQ29tcG9uZW50LmV4dGVuZChMaWJDb21wb25lbnQpO2BcclxuXHQgKiB0aGVuIHlvdSBjYW4gdXNlIGBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIE15RHVhbENvbXBvbmVudGAgdG8gZ2V0IHRoZSBiZW5lZml0c1xyXG5cdCAqIG9mIGJvdGggbGlicmFyaWVzLlxyXG5cdCAqL1xyXG5cdFJlZmx1eENvbXBvbmVudC5leHRlbmQgPSBmdW5jdGlvbihjbHNzKSB7XHJcblx0XHRyZXR1cm4gZGVmaW5lUmVhY3QobnVsbCwgbnVsbCwgY2xzcyk7XHJcblx0fTtcclxuXHRcclxuXHQvLyBpZiBpcyBiZWluZyBtYW51YWxseSBjYWxsZWQgd2l0aCBhbiBgZXh0ZW5kYCBhcmd1bWVudCBwcmVzZW50IHRoZW4ganVzdCByZXR1cm4gdGhlIGNyZWF0ZWQgY2xhc3NcclxuXHRpZiAoZXh0ZW5kKSB7XHJcblx0XHRyZXR1cm4gUmVmbHV4Q29tcG9uZW50O1xyXG5cdH1cclxuXHRcclxuXHQvLyBvdGhlcndpc2Ugc2V0IGFzIFJlZmx1eC5Db21wb25lbnQgYW5kIGNvbnRpbnVlIHdpdGggb3RoZXIgbm9ybWFsIGRlZmluaXRpb25zXHJcblx0UmVmbHV4LkNvbXBvbmVudCA9IFJlZmx1eENvbXBvbmVudDtcclxuXHRcclxuXHQvLyBhbHNvIHNldCBSZWZsdXguUHVyZUNvbXBvbmVudCAoaWYgaXQgZXhpc3RzKSB1c2luZyB0aGUgLmV4dGVuZCBmZWF0dXJlXHJcblx0aWYgKF9yZWFjdC5QdXJlQ29tcG9uZW50KSB7XHJcblx0XHRSZWZsdXguUHVyZUNvbXBvbmVudCA9IFJlZmx1eENvbXBvbmVudC5leHRlbmQoX3JlYWN0LlB1cmVDb21wb25lbnQpO1xyXG5cdH1cclxuXHRcclxuXHQvLyAtLS0tLS0tLS0tLS0gRU5EIFJlZmx1eC5Db21wb25lbnQgLS0tLS0tLS0tLS0tXHJcblx0XHJcblx0Ly8gLS0tLS0tLS0tIEJFR0lOIFJlZmx1eC5TdG9yZSAtLS0tLS0tLS0tLS1cclxuXHQvKipcclxuXHQgKiBSZWZsdXguU3RvcmU6XHJcblx0ICogQWxzbyBpbXBsZW1lbnRzIG9wdGlvbmFsIFJlZmx1eC5TdG9yZSBjbGFzcyB0aGF0IGlzIGlkaW9tYXRpYyB3aXRoXHJcblx0ICogdGhlIFJlYWN0IEVTNiBzdHlsZS4gWW91IGV4dGVuZCBSZWZsdXguU3RvcmUgYW5kIHRoZW4gdGhlIHJlc3Qgd29ya3NcclxuXHQgKiB0aGUgc2FtZSBhcyBjcmVhdGVTdG9yZSwgZXhjZXB0IHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIGluaXQsIGFuZFxyXG5cdCAqIGl0IGhvbGRzIHN0YXRlIGluIGEgc3RhdGUgcHJvcGVydHksIGFuZCBhIC5zZXRTdGF0ZSBtZXRob2QgaXMgYXZhaWxhYmxlXHJcblx0ICogd2hpY2ggYXV0b21hdGljYWxseSB1cGRhdGVzIHN0YXRlIGFuZCBkb2VzIGEgdHJpZ2dlci4gVGhlbiB3aGVuIHVzaW5nXHJcblx0ICogd2l0aCB0aGlzLnN0b3JlIG9yIHRoaXMuc3RvcmVzIGluIGFuIEVTNiBjb21wb25lbnQganVzdCBwbGFzcyB0aGUgY2xhc3MsXHJcblx0ICogaXQgd2lsbCBkZWFsIHdpdGggYSBzaW5nbGV0b24gaW5zdGFudGlhdGlvbiBvZiB0aGUgY2xhc3MgYXV0b21hdGljYWxseS5cclxuXHQgKi9cclxuXHR2YXIgUmVmbHV4U3RvcmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGV4dGVuZGluZyBkb2Vzbid0IHJlYWxseSB3b3JrIHdlbGwgaGVyZSwgc28gaW5zdGVhZCB3ZSBjcmVhdGUgYW4gaW50ZXJuYWwgaW5zdGFuY2VcclxuXHRcdC8vIGFuZCBqdXN0IGxvb3AgdGhyb3VnaCBpdHMgcHJvcGVydGllcy9tZXRob2RzIGFuZCBtYWtlIGEgZ2V0dGVyL3NldHRlciBmb3IgZWFjaFxyXG5cdFx0Ly8gdGhhdCB3aWxsIGFjdHVhbGx5IGJlIGdldHRpbmcgYW5kIHNldHRpbmcgb24gdGhhdCBpbnRlcm5hbCBpbnN0YW5jZS5cclxuXHRcdHRoaXMuX19zdG9yZV9fID0gUmVmbHV4LmNyZWF0ZVN0b3JlKCk7XHJcblx0XHR0aGlzLnN0YXRlID0ge307XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fX3N0b3JlX18pIHtcclxuXHRcdFx0Lypqc2hpbnQgbG9vcGZ1bmM6IHRydWUgKi9cclxuXHRcdFx0KGZ1bmN0aW9uIChwcm9wKSB7XHJcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIHByb3AsIHtcclxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZi5fX3N0b3JlX19bcHJvcF07IH0sXHJcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2KSB7IHNlbGYuX19zdG9yZV9fW3Byb3BdID0gdjsgfVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KShrZXkpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0cHJvdG8gPSBSZWZsdXhTdG9yZS5wcm90b3R5cGU7XHJcblx0XHJcblx0Ly8gdGhpcyBkZWZpbmVzIHRoZSBsaXN0ZW5hYmxlcyBwcm9wZXJ0eSwgbW9zdGx5IGludGVuZGVkIHRvIGJlIHNldCBhcyBgdGhpcy5saXN0ZW5hYmxlc2AgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBzdG9yZVxyXG5cdC8vIGl0IGlzIGVzc2VudGlhbGx5IGEgc2hvcnRjdXQgdG8gdGhlIGBsaXN0ZW5Ub01hbnlgIG1ldGhvZFxyXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgXCJsaXN0ZW5hYmxlc1wiLCB7XHJcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX19saXN0ZW5hYmxlc19fO1xyXG5cdFx0fSxcclxuXHRcdHNldDogZnVuY3Rpb24gKHYpIHtcclxuXHRcdFx0dmFyIENvbWJpbmVkID0ge307XHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHYpKXtcclxuXHRcdFx0XHR2LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcblx0XHRcdFx0XHRcdENvbWJpbmVkW2tleV0gPSBvYmpba2V5XTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRDb21iaW5lZCA9IHY7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fX2xpc3RlbmFibGVzX18gPSBDb21iaW5lZDtcclxuXHRcdFx0dGhpcy5saXN0ZW5Ub01hbnkoQ29tYmluZWQpO1xyXG5cdFx0fSxcclxuXHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRjb25maWd1cmFibGU6IHRydWVcclxuXHR9KTtcclxuXHRcclxuXHQvLyBhbGxvd3Mgc2ltcGxlIHVzYWdlIG9mIGB0aGlzLnNldFN0YXRlKG9iailgIHdpdGhpbiB0aGUgc3RvcmUgdG8gYm90aCB1cGRhdGUgdGhlIHN0YXRlIGFuZCB0cmlnZ2VyIHRoZSBzdG9yZSB0byB1cGRhdGVcclxuXHQvLyBjb21wb25lbnRzIHRoYXQgaXQgaXMgYXR0YWNoZWQgdG8gaW4gYSBzaW1wbGUgd2F5IHRoYXQgaXMgaWRpb21hdGljIHdpdGggUmVhY3RcclxuXHRwcm90by5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdC8vIE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSwgb2JqKTsgLy8gbGF0ZXIgdHVybiB0aGlzIHRvIE9iamVjdC5hc3NpZ24gYW5kIHJlbW92ZSBsb29wIG9uY2Ugc3VwcG9ydCBpcyBnb29kIGVub3VnaFxyXG5cdFx0Zm9yICh2YXIga2V5IGluIG9iaikge1xyXG5cdFx0XHR0aGlzLnN0YXRlW2tleV0gPSBvYmpba2V5XTtcclxuXHRcdH1cclxuXHRcdC8vIGlmIHRoZXJlJ3MgYW4gaWQgKGkuZS4gaXQncyBiZWluZyB0cmFja2VkIGJ5IHRoZSBnbG9iYWwgc3RhdGUpIHRoZW4gbWFrZSBzdXJlIHRvIHVwZGF0ZSB0aGUgZ2xvYmFsIHN0YXRlXHJcblx0XHRpZiAodGhpcy5pZCkge1xyXG5cdFx0XHRSZWZsdXguR2xvYmFsU3RhdGVbdGhpcy5pZF0gPSB0aGlzLnN0YXRlO1xyXG5cdFx0fVxyXG5cdFx0Ly8gdHJpZ2dlciwgYmVjYXVzZSBhbnkgY29tcG9uZW50IGl0J3MgYXR0YWNoZWQgdG8gaXMgbGlzdGVuaW5nIGFuZCB3aWxsIG1lcmdlIHRoZSBzdG9yZSBzdGF0ZSBpbnRvIGl0cyBvd24gb24gYSBzdG9yZSB0cmlnZ2VyXHJcblx0XHR0aGlzLnRyaWdnZXIob2JqKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIHRoaXMgaXMgYSBzdGF0aWMgcHJvcGVydHkgc28gdGhhdCBvdGhlciBjb2RlIGNhbiBpZGVudGlmeSB0aGF0IHRoaXMgaXMgYSBSZWZsdXguU3RvcmUgY2xhc3NcclxuXHQvLyBoYXMgaXNzdWVzIHNwZWNpZmljYWxseSB3aGVuIHVzaW5nIGJhYmVsIHRvIHRyYW5zcGlsZSB5b3VyIEVTNiBzdG9yZXMgZm9yIElFMTAgYW5kIGJlbG93LCBub3QgZG9jdW1lbnRlZCBhbmQgc2hvdWxkbid0IHVzZSB5ZXRcclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmbHV4U3RvcmUsIFwiaXNFUzZTdG9yZVwiLCB7XHJcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vIGFsbG93cyBhIHNob3J0Y3V0IGZvciBhY2Nlc3NpbmcgTXlTdG9yZS5zaW5nbGV0b24uc3RhdGUgYXMgTXlTdG9yZS5zdGF0ZSAoc2luY2UgY29tbW9uIHVzYWdlIG1ha2VzIGEgc2luZ2xldG9uKVxyXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWZsdXhTdG9yZSwgXCJzdGF0ZVwiLCB7XHJcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKCF0aGlzLnNpbmdsZXRvbikge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignUmVmbHV4LlN0b3JlLnN0YXRlIGlzIGluYWNjZXNzaWJsZSBiZWZvcmUgdGhlIHN0b3JlIGhhcyBiZWVuIGluaXRpYWxpemVkLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzLnNpbmdsZXRvbi5zdGF0ZTtcclxuXHRcdH0sXHJcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0fSk7XHJcblx0XHJcblx0LyogTk9URTpcclxuXHRJZiBhIFJlZmx1eC5TdG9yZSBkZWZpbml0aW9uIGlzIGdpdmVuIGEgc3RhdGljIGlkIHByb3BlcnR5IGFuZCB1c2VkXHJcblx0cHJvcGVybHkgd2l0aGluIGEgUmVmbHV4LkNvbXBvbmVudCBvciB3aXRoIFJlZmx1eC5pbml0U3RvcmUgdGhlblxyXG5cdGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIFJlZmx1eC5HbG9iYWxTdGF0ZSBvYmplY3Qgd2hpY2ggYXV0b21hdGljYWxseSB0cmFja3MgdGhlXHJcblx0Y3VycmVudCBzdGF0ZSBvZiBhbGwgc3VjaCBkZWZpbmVkIHN0b3JlcyBpbiB0aGUgcHJvZ3JhbS4gKi9cclxuXHRcclxuXHRSZWZsdXguU3RvcmUgPSBSZWZsdXhTdG9yZTtcclxuXHQvLyAtLS0tLS0tLS0tLSBFTkQgUmVmbHV4LlN0b3JlIC0tLS0tLS0tLS0tLS1cclxuXHRcclxuXHQvLyAtLS0tLS0tLS0gQkVHSU4gUmVmbHV4IFN0YXRpYyBQcm9wcy9NZXRob2RzIC0tLS0tLS0tLS0tLVxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5HbG9iYWxTdGF0ZSBpcyB3aGVyZSBkYXRhIGlzIHN0b3JlZCBmb3IgYW55IFJlZmx1eC5TdG9yZSB0aGF0IGhhcyBhIHN0YXRpYyBpZCBwcm9wZXJ0eS4gRWFjaCBzdG9yZSdzXHJcblx0ICogc3RhdGUgd2lsbCBiZSBvbiB0aGUgUmVmbHV4Lkdsb2JhbFN0YXRlIG9iamVjdCB3aXRoIHRoZSBpZCBhcyB0aGUga2V5LiBTbyBhIHN0b3JlIHdpdGggdGhlIGlkIFwiTXlTdG9yZVwiIGFuZFxyXG5cdCAqIGEgc3RhdGUge1wiY29sb3JcIjpcInJlZFwifSB3aWxsIGVuZCB1cCB3aXRoIGEgUmVmbHV4Lkdsb2JhbFN0YXRlIG9mIHtcIk15U3RvcmVcIjp7XCJjb2xvclwiOlwicmVkXCJ9fVxyXG5cdCAqIFJlZmx1eC5HbG9iYWxTdGF0ZSBpcyBhbiBhY2Nlc3NpYmxlIHBhcnQgb2YgdGhlIEFQSS4gSG93ZXZlciwga2VlcCBpbiBtaW5kIHRoYXQgbm9uLXByaW1pdGl2ZSBwcm9wZXJ0aWVzIHlvdVxyXG5cdCAqIHJlYWQgb2ZmIG9mIGl0IHdpbGwgY29udGludWUgdG8gbXV0YXRlIGFuZCB5b3UgY2FuIG9ubHkgbWFudWFsbHkgbXV0YXRlIFJlZmx1eC5HbG9iYWxTdGF0ZSBCRUZPUkUgYW55IGNvbXBvbmVudFxyXG5cdCAqIG1vdW50aW5nIG9mIGNvbXBvbmVudHMgd2l0aCBFUzYgc3RvcmVzLiBGb3IgbW9yZSBmdW5jdGlvbmFsaXR5IGxvb2sgdG8gUmVmbHV4LnNldEdsb2JhbFN0YXRlIHRvIGNoYW5nZSB0aGUgZ2xvYmFsXHJcblx0ICogc3RhdGUgYXQgYW55IHBvaW50LCBhbmQgUmVmbHV4LmdldEdsb2JhbFN0YXRlIHRvIHJldHVybiBhIGRlZXAgY2xvbmUgb2YgdGhlIFJlZmx1eC5HbG9iYWxTdGF0ZSBvYmplY3Qgd2hpY2ggd2lsbFxyXG5cdCAqIG5vdCBjb250aW51ZSB0byBtdXRhdGUgYXMgUmVmbHV4Lkdsb2JhbFN0YXRlIGNvbnRpbnVlcyB0byBtdXRhdGUuXHJcblx0ICovXHJcblx0UmVmbHV4Lkdsb2JhbFN0YXRlID0gUmVmbHV4Lkdsb2JhbFN0YXRlIHx8IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5zdG9yZXNcclxuXHQgKiBBbGwgaW5pdGlhbGl6ZWQgc3RvcmVzIHRoYXQgaGF2ZSBhbiBpZCB3aWxsIGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlaXIgc2luZ2xldG9uIHN0b3JlZCBoZXJlIHdpdGggdGhlIGtleSBiZWluZyB0aGUgaWQuXHJcblx0ICovXHJcblx0UmVmbHV4LnN0b3JlcyA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFJlZmx1eC5nZXRHbG9iYWxTdGF0ZSB0YWtlcyBubyBhcmd1bWVudHMsIGFuZCByZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBSZWZsdXguR2xvYmFsU3RhdGUgXHJcblx0ICogd2hpY2ggd2lsbCBub3QgY29udGludWUgdG8gbXV0YXRlIGFzIFJlZmx1eC5HbG9iYWxTdGF0ZSBkb2VzLiBJdCBjYW4gZXNzZW50aWFsbHkgc3RvcmVcclxuXHQgKiBzbmFwc2hvdHMgb2YgdGhlIGdsb2JhbCBzdGF0ZSBhcyB0aGUgcHJvZ3JhbSBnb2VzIGZvciBzYXZpbmcgb3IgZm9yIGluLWFwcCB0aW1lIHRyYXZlbC5cclxuXHQgKi9cclxuXHRSZWZsdXguZ2V0R2xvYmFsU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBjbG9uZShSZWZsdXguR2xvYmFsU3RhdGUpO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmVmbHV4LnNldEdsb2JhbFN0YXRlIHRha2VzIG9uZSBhcmd1bWVudCB0aGF0IGlzIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIGEgcG9zc2libGVcclxuXHQgKiBnbG9iYWwgc3RhdGUuIEl0IHVwZGF0ZXMgYWxsIHN0b3JlcyBpbiB0aGUgcHJvZ3JhbSB0byByZXByZXNlbnQgZGF0YSBpbiB0aGF0IGdpdmVuIHN0YXRlLlxyXG5cdCAqIFRoaXMgaW5jbHVkZXMgdHJpZ2dlcmluZyB0aG9zZSBzdG9yZXMgc28gdGhhdCB0aGF0IHN0YXRlIGlzIHJlcHJlc2VudGVkIGluIGFueSBSZWZsdXguQ29tcG9uZW50XHJcblx0ICogaW5zdGFuY2VzIHRoZXkgYXJlIGF0dGFjaGVkIHRvLiBQYXJ0aWFsIHN0YXRlcyBtYXkgYmUgZ2l2ZW4gdG8gaXQsIGFuZCBvbmx5IHRoZSByZXByZXNlbnRlZFxyXG5cdCAqIHN0b3Jlcy9zdGF0ZSB2YWx1ZXMgd2lsbCBiZSB1cGRhdGVkLlxyXG5cdCAqL1xyXG5cdFJlZmx1eC5zZXRHbG9iYWxTdGF0ZSA9IGZ1bmN0aW9uKG9iaikge1xyXG5cdFx0Zm9yICh2YXIgc3RvcmVJRCBpbiBvYmopIHtcclxuXHRcdFx0aWYgKFJlZmx1eC5zdG9yZXNbc3RvcmVJRF0pIHtcclxuXHRcdFx0XHRSZWZsdXguc3RvcmVzW3N0b3JlSURdLnNldFN0YXRlKG9ialtzdG9yZUlEXSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0UmVmbHV4Lkdsb2JhbFN0YXRlW3N0b3JlSURdID0gb2JqW3N0b3JlSURdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBSZWZsdXguaW5pdFN0b3JlIHRha2VzIG9uZSBhcmd1bWVudCAoYSBjbGFzcyB0aGF0IGV4dGVuZHMgUmVmbHV4LlN0b3JlKSBhbmQgcmV0dXJucyBhIHNpbmdsZXRvblxyXG5cdCAqIGludGFuY2Ugb2YgdGhhdCBjbGFzcy4gSXRzIG1haW4gZnVuY3Rpb25hbGl0eSBpcyB0byBiZSBhYmxlIHRvIG1pbWljIHdoYXQgaGFwcGVucyB0byBzdG9yZXMgYXR0YWNoZWQgdG9cclxuXHQgKiB0aGlzLnN0b3JlIG9yIHRoaXMuc3RvcmVzIGR1cmluZyB0aGUgbW91bnRpbmcgcGhhc2Ugb2YgYSBjb21wb25lbnQgd2l0aG91dCBoYXZpbmcgdG8gYWN0dWFsbHkgYXR0YWNoIHRoZVxyXG5cdCAqIHN0b3JlIHRvIGEgY29tcG9uZW50IGluIG9yZGVyIHRvIHdvcmsgcHJvcGVybHkgd2l0aCB0aGUgZ2xvYmFsIHN0YXRlLlxyXG5cdCAqL1xyXG5cdC8vIFJlZmx1eC5pbml0aWFsaXplR2xvYmFsU3RvcmUgaXMga2VwdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGJ1dCBkZXByZWNhdGVkIHNpbmNlIHRoZSBmdW5jdGlvbiBpc1xyXG5cdC8vIG5vdyBmb3IgbW9yZSBicm9hZCBpbnN0YW50aWF0aW9uIG9mIGdsb2JhbGx5IHN0b3JlZCBBTkQgbm9uLWdsb2JhbGx5IHN0b3JlZCBjbGFzc2VzXHJcblx0UmVmbHV4LmluaXRpYWxpemVHbG9iYWxTdG9yZSA9IFJlZmx1eC5pbml0U3RvcmUgPSBmdW5jdGlvbihzdHIpIHtcclxuXHRcdHZhciBzdG9yZUlkID0gc3RyLmlkO1xyXG5cdFx0Ly8gaWYgdGhleSdyZSBpbml0aWFsaXppbmcgc29tZXRoaW5nIHR3aWNlIHRoZW4gd2UncmUgZG9uZSBhbHJlYWR5LCByZXR1cm4gaXRcclxuXHRcdGlmIChzdHIuc2luZ2xldG9uKSB7XHJcblx0XHRcdHJldHVybiBzdHIuc2luZ2xldG9uO1xyXG5cdFx0fVxyXG5cdFx0Ly8gaWYgbm8gaWQgdGhlbiBpdCdzIGVhc3k6IGp1c3QgbWFrZSBuZXcgaW5zdGFuY2UgYW5kIHNldCB0byBzaW5nbGV0b25cclxuXHRcdGlmICghc3RvcmVJZCkge1xyXG5cdFx0XHRzdHIuc2luZ2xldG9uID0gbmV3IHN0cigpO1xyXG5cdFx0XHRyZXR1cm4gc3RyLnNpbmdsZXRvbjtcclxuXHRcdH1cclxuXHRcdC8vIGNyZWF0ZSB0aGUgc2luZ2xldG9uIGFuZCBhc3NpZ24gaXQgdG8gdGhlIGNsYXNzJ3Mgc2luZ2xldG9uIHN0YXRpYyBwcm9wZXJ0eVxyXG5cdFx0dmFyIGluc3QgPSBzdHIuc2luZ2xldG9uID0gbmV3IHN0cigpO1xyXG5cdFx0Ly8gc3RvcmUgaXQgb24gdGhlIFJlZmx1eC5zdG9yZXMgYXJyYXkgdG8gYmUgYWNjZXNzaWJsZSBsYXRlclxyXG5cdFx0UmVmbHV4LnN0b3Jlc1tzdG9yZUlkXSA9IGluc3Q7XHJcblx0XHQvLyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIGl0c2VsZiBzaG91bGQgYWxzbyBoYXZlIHRoZSBpZCBwcm9wZXJ0eSBvZiB0aGUgY2xhc3NcclxuXHRcdGluc3QuaWQgPSBzdG9yZUlkO1xyXG5cdFx0Ly8gaWYgdGhlIGdsb2JhbCBzdGF0ZSBoYXMgc29tZXRoaW5nIHNldCBmb3IgdGhpcyBpZCwgY29weSBpdCB0byB0aGUgc3RhdGUgYW5kIHRoZW5cclxuXHRcdC8vIG1ha2Ugc3VyZSB0byBzZXQgdGhlIGdsb2JhbCBzdGF0ZSB0byB0aGUgZW5kIHJlc3VsdCwgc2luY2UgaXQgbWF5IGhhdmUgb25seSBiZWVuIHBhcnRpYWxcclxuXHRcdGlmIChSZWZsdXguR2xvYmFsU3RhdGVbc3RvcmVJZF0pIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSkge1xyXG5cdFx0XHRcdGluc3Quc3RhdGVba2V5XSA9IFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXVtrZXldO1xyXG5cdFx0XHR9XHJcblx0XHRcdFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSA9IGluc3Quc3RhdGU7XHJcblx0XHQvLyBvdGhlcndpc2UganVzdCBzZXQgdGhlIGdsb2JhbCBzdGF0ZSB0byB0aGUgZGVmYXVsdCBzdGF0ZSBvZiB0aGUgY2xhc3NcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdFJlZmx1eC5HbG9iYWxTdGF0ZVtzdG9yZUlkXSA9IGluc3Quc3RhdGU7XHJcblx0XHR9XHJcblx0XHQvLyByZXR1cm5zIHRoZSBzaW5nbGV0b24gaXRzZWxmLCB0aG91Z2ggaXQgd2lsbCBhbHNvIGJlIGFjY2Vzc2libGUgYXMgYXMgYE15Q2xhc3Muc2luZ2xldG9uYFxyXG5cdFx0cmV0dXJuIGluc3Q7XHJcblx0fTtcclxuXHQvLyAtLS0tLS0tLS0gRU5EIFJlZmx1eCBTdGF0aWMgUHJvcHMvTWV0aG9kcyAtLS0tLS0tLS0tLS1cclxuXHRcclxuXHQvLyBzbyBpdCBrbm93cyBub3QgdG8gcmVkZWZpbmUgUmVmbHV4IHN0YXRpYyBzdHVmZiBhbmQgc3RvcmVzIGlmIGNhbGxlZCBhZ2FpblxyXG5cdF9kZWZpbmVkID0gdHJ1ZTtcclxufVxyXG5cclxuLy8gZmlsdGVycyBhIHN0YXRlIG9iamVjdCBieSBzdG9yZUtleXMgYXJyYXkgKGlmIGl0IGV4aXN0cylcclxuLy8gaWYgZmlsdGVyaW5nIGFuZCBvYmogY29udGFpbnMgbm8gcHJvcGVydGllcyB0byB1c2UsIHJldHVybnMgZmFsc2UgdG8gbGV0IHRoZSBjb21wb25lbnQga25vdyBub3QgdG8gdXBkYXRlXHJcbmZ1bmN0aW9uIGZpbHRlckJ5U3RvcmVLZXlzKHN0b3JlS2V5cywgb2JqKVxyXG57XHJcblx0Ly8gaWYgdGhlcmUgYXJlIG5vdCBzdG9yZUtleXMgZGVmaW5lZCB0aGVuIHNpbXBseSByZXR1cm4gdGhlIHdob2xlIG9yaWdpbmFsIG9iamVjdFxyXG5cdGlmICghc3RvcmVLZXlzKSB7XHJcblx0XHRyZXR1cm4gb2JqO1xyXG5cdH1cclxuXHQvLyBvdGhlcndpc2UgZ28gdGhyb3VnaCBhbmQgb25seSB1cGRhdGUgcHJvcGVydGllcyB0aGF0IGFyZSBpbiB0aGUgc3RvcmVLZXlzIGFycmF5LCBhbmQgcmV0dXJuIHN0cmFpZ2h0IGZhbHNlIGlmIHRoZXJlIGFyZSBub25lXHJcblx0dmFyIGRvVXBkYXRlID0gZmFsc2U7XHJcblx0dmFyIHVwZGF0ZU9iaiA9IHt9O1xyXG5cdGZvciAodmFyIGkgPSAwLCBpaSA9IHN0b3JlS2V5cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcblx0XHR2YXIgcHJvcCA9IHN0b3JlS2V5c1tpXTtcclxuXHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuXHRcdFx0ZG9VcGRhdGUgPSB0cnVlO1xyXG5cdFx0XHR1cGRhdGVPYmpbcHJvcF0gPSBvYmpbcHJvcF07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBkb1VwZGF0ZSA/IHVwZGF0ZU9iaiA6IGZhbHNlO1xyXG59XHJcblxyXG4vLyB0aGlzIGlzIHV0aWxpemVkIGJ5IHNvbWUgb2YgdGhlIGdsb2JhbCBzdGF0ZSBmdW5jdGlvbmFsaXR5IGluIG9yZGVyIHRvIGdldCBhIGNsb25lIHRoYXQgd2lsbFxyXG4vLyBub3QgY29udGludWUgdG8gYmUgbW9kaWZpZWQgYXMgdGhlIEdsb2JhbFN0YXRlIG11dGF0ZXNcclxuZnVuY3Rpb24gY2xvbmUoZnJtLCB0bykge1xyXG5cdGlmIChmcm0gPT09IG51bGwgfHwgdHlwZW9mIGZybSAhPT0gXCJvYmplY3RcIikge1xyXG5cdFx0cmV0dXJuIGZybTtcclxuXHR9XHJcblx0aWYgKGZybS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0ICYmIGZybS5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcclxuXHRcdHJldHVybiBmcm07XHJcblx0fVxyXG5cdGlmIChmcm0uY29uc3RydWN0b3IgPT09IERhdGUgfHwgZnJtLmNvbnN0cnVjdG9yID09PSBSZWdFeHAgfHwgZnJtLmNvbnN0cnVjdG9yID09PSBGdW5jdGlvbiB8fFxyXG5cdFx0ZnJtLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgfHwgZnJtLmNvbnN0cnVjdG9yID09PSBOdW1iZXIgfHwgZnJtLmNvbnN0cnVjdG9yID09PSBCb29sZWFuKSB7XHJcblx0XHRyZXR1cm4gbmV3IGZybS5jb25zdHJ1Y3Rvcihmcm0pO1xyXG5cdH1cclxuXHR0byA9IHRvIHx8IG5ldyBmcm0uY29uc3RydWN0b3IoKTtcclxuXHRmb3IgKHZhciBuYW1lIGluIGZybSkge1xyXG5cdFx0dG9bbmFtZV0gPSB0eXBlb2YgdG9bbmFtZV0gPT09IFwidW5kZWZpbmVkXCIgPyBjbG9uZShmcm1bbmFtZV0sIG51bGwpIDogdG9bbmFtZV07XHJcblx0fVxyXG5cdHJldHVybiB0bztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVSZWFjdDtcclxuXHJcbiIsInZhciBSZWZsdXggPSByZXF1aXJlKCdyZWZsdXgtY29yZScpO1xyXG5cclxuUmVmbHV4LnNlcnZlck1vZGUgPSB0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JztcclxuXHJcblJlZmx1eC5jb25uZWN0ID0gcmVxdWlyZSgnLi9jb25uZWN0Jyk7XHJcblxyXG5SZWZsdXguY29ubmVjdEZpbHRlciA9IHJlcXVpcmUoJy4vY29ubmVjdEZpbHRlcicpO1xyXG5cclxuUmVmbHV4Lkxpc3RlbmVyTWl4aW4gPSByZXF1aXJlKCcuL0xpc3RlbmVyTWl4aW4nKTtcclxuXHJcblJlZmx1eC5saXN0ZW5UbyA9IHJlcXVpcmUoJy4vbGlzdGVuVG8nKTtcclxuXHJcblJlZmx1eC5saXN0ZW5Ub01hbnkgPSByZXF1aXJlKCcuL2xpc3RlblRvTWFueScpO1xyXG5cclxucmVxdWlyZSgnLi9hZGRFUzYnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUmVmbHV4O1xyXG4iLCJ2YXIgTGlzdGVuZXJNZXRob2RzID0gcmVxdWlyZSgncmVmbHV4LWNvcmUvbGliL0xpc3RlbmVyTWV0aG9kcycpO1xyXG5cclxuLyoqXHJcbiAqIEEgbWl4aW4gZmFjdG9yeSBmb3IgYSBSZWFjdCBjb21wb25lbnQuIE1lYW50IGFzIGEgbW9yZSBjb252ZW5pZW50IHdheSBvZiB1c2luZyB0aGUgYExpc3RlbmVyTWl4aW5gLFxyXG4gKiB3aXRob3V0IGhhdmluZyB0byBtYW51YWxseSBzZXQgbGlzdGVuZXJzIGluIHRoZSBgY29tcG9uZW50RGlkTW91bnRgIG1ldGhvZC5cclxuICpcclxuICogQHBhcmFtIHtBY3Rpb258U3RvcmV9IGxpc3RlbmFibGUgQW4gQWN0aW9uIG9yIFN0b3JlIHRoYXQgc2hvdWxkIGJlXHJcbiAqICBsaXN0ZW5lZCB0by5cclxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byByZWdpc3RlciBhcyBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBkZWZhdWx0Q2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyIGFzIGRlZmF1bHQgaGFuZGxlclxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgdG8gYmUgdXNlZCBhcyBhIG1peGluLCB3aGljaCBzZXRzIHVwIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGdpdmVuIGxpc3RlbmFibGUuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3RlbmFibGUsY2FsbGJhY2ssaW5pdGlhbCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldCB1cCB0aGUgbWl4aW4gYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuIEltcG9ydCBtZXRob2RzIGZyb20gYExpc3RlbmVyTWV0aG9kc2BcclxuICAgICAgICAgKiBhbmQgdGhlbiBtYWtlIHRoZSBjYWxsIHRvIGBsaXN0ZW5Ub2Agd2l0aCB0aGUgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmYWN0b3J5IGZ1bmN0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IodmFyIG0gaW4gTGlzdGVuZXJNZXRob2RzKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzW21dICE9PSBMaXN0ZW5lck1ldGhvZHNbbV0pe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW21dKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJDYW4ndCBoYXZlIG90aGVyIHByb3BlcnR5ICdcIittK1wiJyB3aGVuIHVzaW5nIFJlZmx1eC5saXN0ZW5UbyFcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1ttXSA9IExpc3RlbmVyTWV0aG9kc1ttXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKGxpc3RlbmFibGUsY2FsbGJhY2ssaW5pdGlhbCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGVhbnMgdXAgYWxsIGxpc3RlbmVyIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb21wb25lbnRXaWxsVW5tb3VudDogTGlzdGVuZXJNZXRob2RzLnN0b3BMaXN0ZW5pbmdUb0FsbFxyXG4gICAgfTtcclxufTtcclxuIiwidmFyIExpc3RlbmVyTWV0aG9kcyA9IHJlcXVpcmUoJ3JlZmx1eC1jb3JlL2xpYi9MaXN0ZW5lck1ldGhvZHMnKTtcclxuXHJcbi8qKlxyXG4gKiBBIG1peGluIGZhY3RvcnkgZm9yIGEgUmVhY3QgY29tcG9uZW50LiBNZWFudCBhcyBhIG1vcmUgY29udmVuaWVudCB3YXkgb2YgdXNpbmcgdGhlIGBsaXN0ZW5lck1peGluYCxcclxuICogd2l0aG91dCBoYXZpbmcgdG8gbWFudWFsbHkgc2V0IGxpc3RlbmVycyBpbiB0aGUgYGNvbXBvbmVudERpZE1vdW50YCBtZXRob2QuIFRoaXMgdmVyc2lvbiBpcyB1c2VkXHJcbiAqIHRvIGF1dG9tYXRpY2FsbHkgc2V0IHVwIGEgYGxpc3RlblRvTWFueWAgY2FsbC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGxpc3RlbmFibGVzIEFuIG9iamVjdCBvZiBsaXN0ZW5hYmxlc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgdG8gYmUgdXNlZCBhcyBhIG1peGluLCB3aGljaCBzZXRzIHVwIHRoZSBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBsaXN0ZW5hYmxlcy5cclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdGVuYWJsZXMpe1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXQgdXAgdGhlIG1peGluIGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLiBJbXBvcnQgbWV0aG9kcyBmcm9tIGBMaXN0ZW5lck1ldGhvZHNgXHJcbiAgICAgICAgICogYW5kIHRoZW4gbWFrZSB0aGUgY2FsbCB0byBgbGlzdGVuVG9gIHdpdGggdGhlIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZmFjdG9yeSBmdW5jdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBtIGluIExpc3RlbmVyTWV0aG9kcyl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1ttXSAhPT0gTGlzdGVuZXJNZXRob2RzW21dKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1ttXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiQ2FuJ3QgaGF2ZSBvdGhlciBwcm9wZXJ0eSAnXCIrbStcIicgd2hlbiB1c2luZyBSZWZsdXgubGlzdGVuVG9NYW55IVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzW21dID0gTGlzdGVuZXJNZXRob2RzW21dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG9NYW55KGxpc3RlbmFibGVzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENsZWFucyB1cCBhbGwgbGlzdGVuZXIgcHJldmlvdXNseSByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBMaXN0ZW5lck1ldGhvZHMuc3RvcExpc3RlbmluZ1RvQWxsXHJcbiAgICB9O1xyXG59O1xyXG4iXX0=
